var cF=Object.create;var Bp=Object.defineProperty;var uF=Object.getOwnPropertyDescriptor;var dF=Object.getOwnPropertyNames;var hF=Object.getPrototypeOf,fF=Object.prototype.hasOwnProperty;var mF=(t,e,n)=>e in t?Bp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var j=(t,e)=>()=>(t&&(e=t(t=0)),e);var mi=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),io=(t,e)=>{for(var n in e)Bp(t,n,{get:e[n],enumerable:!0})},pF=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of dF(e))!fF.call(t,s)&&s!==n&&Bp(t,s,{get:()=>e[s],enumerable:!(r=uF(e,s))||r.enumerable});return t};var L=(t,e,n)=>(n=t!=null?cF(hF(t)):{},pF(e||!t||!t.__esModule?Bp(n,"default",{value:t,enumerable:!0}):n,t));var sn=(t,e,n)=>mF(t,typeof e!="symbol"?e+"":e,n);var wN=mi(st=>{"use strict";var Iv=Symbol.for("react.transitional.element"),gF=Symbol.for("react.portal"),yF=Symbol.for("react.fragment"),bF=Symbol.for("react.strict_mode"),vF=Symbol.for("react.profiler"),wF=Symbol.for("react.consumer"),xF=Symbol.for("react.context"),TF=Symbol.for("react.forward_ref"),IF=Symbol.for("react.suspense"),_F=Symbol.for("react.memo"),mN=Symbol.for("react.lazy"),cN=Symbol.iterator;function EF(t){return t===null||typeof t!="object"?null:(t=cN&&t[cN]||t["@@iterator"],typeof t=="function"?t:null)}var pN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gN=Object.assign,yN={};function Au(t,e,n){this.props=t,this.context=e,this.refs=yN,this.updater=n||pN}Au.prototype.isReactComponent={};Au.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Au.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bN(){}bN.prototype=Au.prototype;function _v(t,e,n){this.props=t,this.context=e,this.refs=yN,this.updater=n||pN}var Ev=_v.prototype=new bN;Ev.constructor=_v;gN(Ev,Au.prototype);Ev.isPureReactComponent=!0;var uN=Array.isArray,In={H:null,A:null,T:null,S:null,V:null},vN=Object.prototype.hasOwnProperty;function Sv(t,e,n,r,s,i){return n=i.ref,{$$typeof:Iv,type:t,key:e,ref:n!==void 0?n:null,props:i}}function SF(t,e){return Sv(t.type,e,void 0,void 0,void 0,t.props)}function Nv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Iv}function NF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dN=/\/+/g;function Tv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NF(""+t.key):e.toString(36)}function hN(){}function kF(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(hN,hN):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function ku(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Iv:case gF:o=!0;break;case mN:return o=t._init,ku(o(t._payload),e,n,r,s)}}if(o)return s=s(t),o=r===""?"."+Tv(t,0):r,uN(s)?(n="",o!=null&&(n=o.replace(dN,"$&/")+"/"),ku(s,e,n,"",function(u){return u})):s!=null&&(Nv(s)&&(s=SF(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(dN,"$&/")+"/")+o)),e.push(s)),1;o=0;var a=r===""?".":r+":";if(uN(t))for(var l=0;l<t.length;l++)r=t[l],i=a+Tv(r,l),o+=ku(r,e,n,i,s);else if(l=EF(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,i=a+Tv(r,l++),o+=ku(r,e,n,i,s);else if(i==="object"){if(typeof t.then=="function")return ku(kF(t),e,n,r,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return o}function zp(t,e,n){if(t==null)return t;var r=[],s=0;return ku(t,r,"","",function(i){return e.call(n,i,s++)}),r}function AF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fN=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function DF(){}st.Children={map:zp,forEach:function(t,e,n){zp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zp(t,function(){e++}),e},toArray:function(t){return zp(t,function(e){return e})||[]},only:function(t){if(!Nv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};st.Component=Au;st.Fragment=yF;st.Profiler=vF;st.PureComponent=_v;st.StrictMode=bF;st.Suspense=IF;st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=In;st.__COMPILER_RUNTIME={__proto__:null,c:function(t){return In.H.useMemoCache(t)}};st.cache=function(t){return function(){return t.apply(null,arguments)}};st.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=gN({},t.props),s=t.key,i=void 0;if(e!=null)for(o in e.ref!==void 0&&(i=void 0),e.key!==void 0&&(s=""+e.key),e)!vN.call(e,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&e.ref===void 0||(r[o]=e[o]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];r.children=a}return Sv(t.type,s,void 0,void 0,i,r)};st.createContext=function(t){return t={$$typeof:xF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:wF,_context:t},t};st.createElement=function(t,e,n){var r,s={},i=null;if(e!=null)for(r in e.key!==void 0&&(i=""+e.key),e)vN.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];s.children=a}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return Sv(t,i,void 0,void 0,null,s)};st.createRef=function(){return{current:null}};st.forwardRef=function(t){return{$$typeof:TF,render:t}};st.isValidElement=Nv;st.lazy=function(t){return{$$typeof:mN,_payload:{_status:-1,_result:t},_init:AF}};st.memo=function(t,e){return{$$typeof:_F,type:t,compare:e===void 0?null:e}};st.startTransition=function(t){var e=In.T,n={};In.T=n;try{var r=t(),s=In.S;s!==null&&s(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(DF,fN)}catch(i){fN(i)}finally{In.T=e}};st.unstable_useCacheRefresh=function(){return In.H.useCacheRefresh()};st.use=function(t){return In.H.use(t)};st.useActionState=function(t,e,n){return In.H.useActionState(t,e,n)};st.useCallback=function(t,e){return In.H.useCallback(t,e)};st.useContext=function(t){return In.H.useContext(t)};st.useDebugValue=function(){};st.useDeferredValue=function(t,e){return In.H.useDeferredValue(t,e)};st.useEffect=function(t,e,n){var r=In.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};st.useId=function(){return In.H.useId()};st.useImperativeHandle=function(t,e,n){return In.H.useImperativeHandle(t,e,n)};st.useInsertionEffect=function(t,e){return In.H.useInsertionEffect(t,e)};st.useLayoutEffect=function(t,e){return In.H.useLayoutEffect(t,e)};st.useMemo=function(t,e){return In.H.useMemo(t,e)};st.useOptimistic=function(t,e){return In.H.useOptimistic(t,e)};st.useReducer=function(t,e,n){return In.H.useReducer(t,e,n)};st.useRef=function(t){return In.H.useRef(t)};st.useState=function(t){return In.H.useState(t)};st.useSyncExternalStore=function(t,e,n){return In.H.useSyncExternalStore(t,e,n)};st.useTransition=function(){return In.H.useTransition()};st.version="19.1.1"});var me=mi((fW,xN)=>{"use strict";xN.exports=wN()});var CN=mi(_n=>{"use strict";function Cv(t,e){var n=t.length;t.push(e);e:for(;0<n;){var r=n-1>>>1,s=t[r];if(0<qp(s,e))t[r]=e,t[n]=s,n=r;else break e}}function oo(t){return t.length===0?null:t[0]}function jp(t){if(t.length===0)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;e:for(var r=0,s=t.length,i=s>>>1;r<i;){var o=2*(r+1)-1,a=t[o],l=o+1,u=t[l];if(0>qp(a,n))l<s&&0>qp(u,a)?(t[r]=u,t[l]=n,r=l):(t[r]=a,t[o]=n,r=o);else if(l<s&&0>qp(u,n))t[r]=u,t[l]=n,r=l;else break e}}return e}function qp(t,e){var n=t.sortIndex-e.sortIndex;return n!==0?n:t.id-e.id}_n.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(TN=performance,_n.unstable_now=function(){return TN.now()}):(kv=Date,IN=kv.now(),_n.unstable_now=function(){return kv.now()-IN});var TN,kv,IN,ea=[],Qa=[],CF=1,pi=null,Xr=3,Rv=!1,qh=!1,Gh=!1,Lv=!1,SN=typeof setTimeout=="function"?setTimeout:null,NN=typeof clearTimeout=="function"?clearTimeout:null,_N=typeof setImmediate<"u"?setImmediate:null;function Gp(t){for(var e=oo(Qa);e!==null;){if(e.callback===null)jp(Qa);else if(e.startTime<=t)jp(Qa),e.sortIndex=e.expirationTime,Cv(ea,e);else break;e=oo(Qa)}}function Pv(t){if(Gh=!1,Gp(t),!qh)if(oo(ea)!==null)qh=!0,Cu||(Cu=!0,Du());else{var e=oo(Qa);e!==null&&Ov(Pv,e.startTime-t)}}var Cu=!1,jh=-1,kN=5,AN=-1;function DN(){return Lv?!0:!(_n.unstable_now()-AN<kN)}function Av(){if(Lv=!1,Cu){var t=_n.unstable_now();AN=t;var e=!0;try{e:{qh=!1,Gh&&(Gh=!1,NN(jh),jh=-1),Rv=!0;var n=Xr;try{t:{for(Gp(t),pi=oo(ea);pi!==null&&!(pi.expirationTime>t&&DN());){var r=pi.callback;if(typeof r=="function"){pi.callback=null,Xr=pi.priorityLevel;var s=r(pi.expirationTime<=t);if(t=_n.unstable_now(),typeof s=="function"){pi.callback=s,Gp(t),e=!0;break t}pi===oo(ea)&&jp(ea),Gp(t)}else jp(ea);pi=oo(ea)}if(pi!==null)e=!0;else{var i=oo(Qa);i!==null&&Ov(Pv,i.startTime-t),e=!1}}break e}finally{pi=null,Xr=n,Rv=!1}e=void 0}}finally{e?Du():Cu=!1}}}var Du;typeof _N=="function"?Du=function(){_N(Av)}:typeof MessageChannel<"u"?(Dv=new MessageChannel,EN=Dv.port2,Dv.port1.onmessage=Av,Du=function(){EN.postMessage(null)}):Du=function(){SN(Av,0)};var Dv,EN;function Ov(t,e){jh=SN(function(){t(_n.unstable_now())},e)}_n.unstable_IdlePriority=5;_n.unstable_ImmediatePriority=1;_n.unstable_LowPriority=4;_n.unstable_NormalPriority=3;_n.unstable_Profiling=null;_n.unstable_UserBlockingPriority=2;_n.unstable_cancelCallback=function(t){t.callback=null};_n.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):kN=0<t?Math.floor(1e3/t):5};_n.unstable_getCurrentPriorityLevel=function(){return Xr};_n.unstable_next=function(t){switch(Xr){case 1:case 2:case 3:var e=3;break;default:e=Xr}var n=Xr;Xr=e;try{return t()}finally{Xr=n}};_n.unstable_requestPaint=function(){Lv=!0};_n.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=Xr;Xr=t;try{return e()}finally{Xr=n}};_n.unstable_scheduleCallback=function(t,e,n){var r=_n.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?r+n:r):n=r,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=n+s,t={id:CF++,callback:e,priorityLevel:t,startTime:n,expirationTime:s,sortIndex:-1},n>r?(t.sortIndex=n,Cv(Qa,t),oo(ea)===null&&t===oo(Qa)&&(Gh?(NN(jh),jh=-1):Gh=!0,Ov(Pv,n-r))):(t.sortIndex=s,Cv(ea,t),qh||Rv||(qh=!0,Cu||(Cu=!0,Du()))),t};_n.unstable_shouldYield=DN;_n.unstable_wrapCallback=function(t){var e=Xr;return function(){var n=Xr;Xr=e;try{return t.apply(this,arguments)}finally{Xr=n}}}});var LN=mi((pW,RN)=>{"use strict";RN.exports=CN()});var ON=mi(bs=>{"use strict";var RF=me();function PN(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Xa(){}var ys={d:{f:Xa,r:function(){throw Error(PN(522))},D:Xa,C:Xa,L:Xa,m:Xa,X:Xa,S:Xa,M:Xa},p:0,findDOMNode:null},LF=Symbol.for("react.portal");function PF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:LF,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var $h=RF.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function $p(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}bs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ys;bs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(PN(299));return PF(t,e,null,n)};bs.flushSync=function(t){var e=$h.T,n=ys.p;try{if($h.T=null,ys.p=2,t)return t()}finally{$h.T=e,ys.p=n,ys.d.f()}};bs.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,ys.d.C(t,e))};bs.prefetchDNS=function(t){typeof t=="string"&&ys.d.D(t)};bs.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=$p(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?ys.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:s,fetchPriority:i}):n==="script"&&ys.d.X(t,{crossOrigin:r,integrity:s,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};bs.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=$p(e.as,e.crossOrigin);ys.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&ys.d.M(t)};bs.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=$p(n,e.crossOrigin);ys.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};bs.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=$p(e.as,e.crossOrigin);ys.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else ys.d.m(t)};bs.requestFormReset=function(t){ys.d.r(t)};bs.unstable_batchedUpdates=function(t,e){return t(e)};bs.useFormState=function(t,e,n){return $h.H.useFormState(t,e,n)};bs.useFormStatus=function(){return $h.H.useHostTransitionStatus()};bs.version="19.1.1"});var Mv=mi((yW,FN)=>{"use strict";function MN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MN)}catch(t){console.error(t)}}MN(),FN.exports=ON()});var VC=mi(my=>{"use strict";var Ir=LN(),iA=me(),OF=Mv();function X(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function oA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pf(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function aA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function UN(t){if(Pf(t)!==t)throw Error(X(188))}function MF(t){var e=t.alternate;if(!e){if(e=Pf(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return UN(s),t;if(i===r)return UN(s),e;i=i.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function lA(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=lA(t),e!==null)return e;t=t.sibling}return null}var bn=Object.assign,FF=Symbol.for("react.element"),Kp=Symbol.for("react.transitional.element"),tf=Symbol.for("react.portal"),Uu=Symbol.for("react.fragment"),cA=Symbol.for("react.strict_mode"),mw=Symbol.for("react.profiler"),UF=Symbol.for("react.provider"),uA=Symbol.for("react.consumer"),ia=Symbol.for("react.context"),cx=Symbol.for("react.forward_ref"),pw=Symbol.for("react.suspense"),gw=Symbol.for("react.suspense_list"),ux=Symbol.for("react.memo"),el=Symbol.for("react.lazy");Symbol.for("react.scope");var yw=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var VF=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var VN=Symbol.iterator;function Kh(t){return t===null||typeof t!="object"?null:(t=VN&&t[VN]||t["@@iterator"],typeof t=="function"?t:null)}var HF=Symbol.for("react.client.reference");function bw(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===HF?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Uu:return"Fragment";case mw:return"Profiler";case cA:return"StrictMode";case pw:return"Suspense";case gw:return"SuspenseList";case yw:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case tf:return"Portal";case ia:return(t.displayName||"Context")+".Provider";case uA:return(t._context.displayName||"Context")+".Consumer";case cx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ux:return e=t.displayName||null,e!==null?e:bw(t.type)||"Memo";case el:e=t._payload,t=t._init;try{return bw(t(e))}catch{}}return null}var nf=Array.isArray,$e=iA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Vt=OF.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,uc={pending:!1,data:null,method:null,action:null},vw=[],Vu=-1;function mo(t){return{current:t}}function Lr(t){0>Vu||(t.current=vw[Vu],vw[Vu]=null,Vu--)}function Sn(t,e){Vu++,vw[Vu]=t.current,t.current=e}var uo=mo(null),wf=mo(null),ul=mo(null),Ig=mo(null);function _g(t,e){switch(Sn(ul,e),Sn(wf,t),Sn(uo,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?jk(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=jk(e),t=NC(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Lr(uo),Sn(uo,t)}function sd(){Lr(uo),Lr(wf),Lr(ul)}function ww(t){t.memoizedState!==null&&Sn(Ig,t);var e=uo.current,n=NC(e,t.type);e!==n&&(Sn(wf,t),Sn(uo,n))}function Eg(t){wf.current===t&&(Lr(uo),Lr(wf)),Ig.current===t&&(Lr(Ig),Df._currentValue=uc)}var xw=Object.prototype.hasOwnProperty,dx=Ir.unstable_scheduleCallback,Fv=Ir.unstable_cancelCallback,BF=Ir.unstable_shouldYield,zF=Ir.unstable_requestPaint,ho=Ir.unstable_now,qF=Ir.unstable_getCurrentPriorityLevel,dA=Ir.unstable_ImmediatePriority,hA=Ir.unstable_UserBlockingPriority,Sg=Ir.unstable_NormalPriority,GF=Ir.unstable_LowPriority,fA=Ir.unstable_IdlePriority,jF=Ir.log,$F=Ir.unstable_setDisableYieldValue,Of=null,Qs=null;function ol(t){if(typeof jF=="function"&&$F(t),Qs&&typeof Qs.setStrictMode=="function")try{Qs.setStrictMode(Of,t)}catch{}}var Xs=Math.clz32?Math.clz32:YF,KF=Math.log,WF=Math.LN2;function YF(t){return t>>>=0,t===0?32:31-(KF(t)/WF|0)|0}var Wp=256,Yp=4194304;function ac(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zg(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var s=0,i=t.suspendedLanes,o=t.pingedLanes;t=t.warmLanes;var a=r&134217727;return a!==0?(r=a&~i,r!==0?s=ac(r):(o&=a,o!==0?s=ac(o):n||(n=a&~t,n!==0&&(s=ac(n))))):(a=r&~i,a!==0?s=ac(a):o!==0?s=ac(o):n||(n=r&~t,n!==0&&(s=ac(n)))),s===0?0:e!==0&&e!==s&&!(e&i)&&(i=s&-s,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:s}function Mf(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function QF(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mA(){var t=Wp;return Wp<<=1,!(Wp&4194048)&&(Wp=256),t}function pA(){var t=Yp;return Yp<<=1,!(Yp&62914560)&&(Yp=4194304),t}function Uv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ff(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function XF(t,e,n,r,s,i){var o=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var a=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=o&~n;0<n;){var d=31-Xs(n),f=1<<d;a[d]=0,l[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var p=h[d];p!==null&&(p.lane&=-536870913)}n&=~f}r!==0&&gA(t,r,0),i!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=i&~(o&~e))}function gA(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Xs(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function yA(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}function hx(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function fx(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function bA(){var t=Vt.p;return t!==0?t:(t=window.event,t===void 0?32:FC(t.type))}function JF(t,e){var n=Vt.p;try{return Vt.p=t,e()}finally{Vt.p=n}}var xl=Math.random().toString(36).slice(2),Jr="__reactFiber$"+xl,As="__reactProps$"+xl,pd="__reactContainer$"+xl,Tw="__reactEvents$"+xl,ZF="__reactListeners$"+xl,e6="__reactHandles$"+xl,HN="__reactResources$"+xl,Uf="__reactMarker$"+xl;function mx(t){delete t[Jr],delete t[As],delete t[Tw],delete t[ZF],delete t[e6]}function Hu(t){var e=t[Jr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pd]||n[Jr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wk(t);t!==null;){if(n=t[Jr])return n;t=Wk(t)}return e}t=n,n=t.parentNode}return null}function gd(t){if(t=t[Jr]||t[pd]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function rf(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(X(33))}function Qu(t){var e=t[HN];return e||(e=t[HN]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Cr(t){t[Uf]=!0}var vA=new Set,wA={};function xc(t,e){id(t,e),id(t+"Capture",e)}function id(t,e){for(wA[t]=e,t=0;t<e.length;t++)vA.add(e[t])}var t6=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),BN={},zN={};function n6(t){return xw.call(zN,t)?!0:xw.call(BN,t)?!1:t6.test(t)?zN[t]=!0:(BN[t]=!0,!1)}function ug(t,e,n){if(n6(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Qp(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function ta(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var Vv,qN;function Ou(t){if(Vv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Vv=e&&e[1]||"",qN=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vv+t+qN}var Hv=!1;function Bv(t,e){if(!t||Hv)return"";Hv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var h=p}Reflect.construct(t,[],f)}else{try{f.call()}catch(p){h=p}t.call(f.prototype)}}else{try{throw Error()}catch(p){h=p}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&h&&typeof p.stack=="string")return[p.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),o=i[0],a=i[1];if(o&&a){var l=o.split(`
`),u=a.split(`
`);for(s=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;if(r===l.length||s===u.length)for(r=l.length-1,s=u.length-1;1<=r&&0<=s&&l[r]!==u[s];)s--;for(;1<=r&&0<=s;r--,s--)if(l[r]!==u[s]){if(r!==1||s!==1)do if(r--,s--,0>s||l[r]!==u[s]){var d=`
`+l[r].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=r&&0<=s);break}}}finally{Hv=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ou(n):""}function r6(t){switch(t.tag){case 26:case 27:case 5:return Ou(t.type);case 16:return Ou("Lazy");case 13:return Ou("Suspense");case 19:return Ou("SuspenseList");case 0:case 15:return Bv(t.type,!1);case 11:return Bv(t.type.render,!1);case 1:return Bv(t.type,!0);case 31:return Ou("Activity");default:return""}}function GN(t){try{var e="";do e+=r6(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function yi(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function s6(t){var e=xA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ng(t){t._valueTracker||(t._valueTracker=s6(t))}function TA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function kg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var i6=/[\n"\\]/g;function wi(t){return t.replace(i6,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Iw(t,e,n,r,s,i,o,a){t.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.type=o:t.removeAttribute("type"),e!=null?o==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+yi(e)):t.value!==""+yi(e)&&(t.value=""+yi(e)):o!=="submit"&&o!=="reset"||t.removeAttribute("value"),e!=null?_w(t,o,yi(e)):n!=null?_w(t,o,yi(n)):r!=null&&t.removeAttribute("value"),s==null&&i!=null&&(t.defaultChecked=!!i),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.name=""+yi(a):t.removeAttribute("name")}function IA(t,e,n,r,s,i,o,a){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null))return;n=n!=null?""+yi(n):"",e=e!=null?""+yi(e):n,a||e===t.value||(t.value=e),t.defaultValue=e}r=r??s,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=a?t.checked:!!r,t.defaultChecked=!!r,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.name=o)}function _w(t,e,n){e==="number"&&kg(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Xu(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function _A(t,e,n){if(e!=null&&(e=""+yi(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+yi(n):""}function EA(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(X(92));if(nf(r)){if(1<r.length)throw Error(X(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=yi(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function od(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var o6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jN(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||o6.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function SA(t,e,n){if(e!=null&&typeof e!="object")throw Error(X(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var s in e)r=e[s],e.hasOwnProperty(s)&&n[s]!==r&&jN(t,s,r)}else for(var i in e)e.hasOwnProperty(i)&&jN(t,i,e[i])}function px(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a6=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),l6=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dg(t){return l6.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ew=null;function gx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bu=null,Ju=null;function $N(t){var e=gd(t);if(e&&(t=e.stateNode)){var n=t[As]||null;e:switch(t=e.stateNode,e.type){case"input":if(Iw(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+wi(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=r[As]||null;if(!s)throw Error(X(90));Iw(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&TA(r)}break e;case"textarea":_A(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Xu(t,!!n.multiple,e,!1)}}}var zv=!1;function NA(t,e,n){if(zv)return t(e,n);zv=!0;try{var r=t(e);return r}finally{if(zv=!1,(Bu!==null||Ju!==null)&&(cy(),Bu&&(e=Bu,t=Ju,Ju=Bu=null,$N(e),t)))for(e=0;e<t.length;e++)$N(t[e])}}function xf(t,e){var n=t.stateNode;if(n===null)return null;var r=n[As]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var ha=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sw=!1;if(ha)try{Ru={},Object.defineProperty(Ru,"passive",{get:function(){Sw=!0}}),window.addEventListener("test",Ru,Ru),window.removeEventListener("test",Ru,Ru)}catch{Sw=!1}var Ru,al=null,yx=null,hg=null;function kA(){if(hg)return hg;var t,e=yx,n=e.length,r,s="value"in al?al.value:al.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return hg=s.slice(t,1<r?1-r:void 0)}function fg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xp(){return!0}function KN(){return!1}function Ds(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xp:KN,this.isPropagationStopped=KN,this}return bn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xp)},persist:function(){},isPersistent:Xp}),e}var Tc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ey=Ds(Tc),Vf=bn({},Tc,{view:0,detail:0}),c6=Ds(Vf),qv,Gv,Wh,ty=bn({},Vf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wh&&(Wh&&t.type==="mousemove"?(qv=t.screenX-Wh.screenX,Gv=t.screenY-Wh.screenY):Gv=qv=0,Wh=t),qv)},movementY:function(t){return"movementY"in t?t.movementY:Gv}}),WN=Ds(ty),u6=bn({},ty,{dataTransfer:0}),d6=Ds(u6),h6=bn({},Vf,{relatedTarget:0}),jv=Ds(h6),f6=bn({},Tc,{animationName:0,elapsedTime:0,pseudoElement:0}),m6=Ds(f6),p6=bn({},Tc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),g6=Ds(p6),y6=bn({},Tc,{data:0}),YN=Ds(y6),b6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=w6[t])?!!e[t]:!1}function bx(){return x6}var T6=bn({},Vf,{key:function(t){if(t.key){var e=b6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?v6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bx,charCode:function(t){return t.type==="keypress"?fg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),I6=Ds(T6),_6=bn({},ty,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QN=Ds(_6),E6=bn({},Vf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bx}),S6=Ds(E6),N6=bn({},Tc,{propertyName:0,elapsedTime:0,pseudoElement:0}),k6=Ds(N6),A6=bn({},ty,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),D6=Ds(A6),C6=bn({},Tc,{newState:0,oldState:0}),R6=Ds(C6),L6=[9,13,27,32],vx=ha&&"CompositionEvent"in window,of=null;ha&&"documentMode"in document&&(of=document.documentMode);var P6=ha&&"TextEvent"in window&&!of,AA=ha&&(!vx||of&&8<of&&11>=of),XN=" ",JN=!1;function DA(t,e){switch(t){case"keyup":return L6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zu=!1;function O6(t,e){switch(t){case"compositionend":return CA(e);case"keypress":return e.which!==32?null:(JN=!0,XN);case"textInput":return t=e.data,t===XN&&JN?null:t;default:return null}}function M6(t,e){if(zu)return t==="compositionend"||!vx&&DA(t,e)?(t=kA(),hg=yx=al=null,zu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return AA&&e.locale!=="ko"?null:e.data;default:return null}}var F6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ZN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!F6[t.type]:e==="textarea"}function RA(t,e,n,r){Bu?Ju?Ju.push(r):Ju=[r]:Bu=r,e=$g(e,"onChange"),0<e.length&&(n=new ey("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var af=null,Tf=null;function U6(t){_C(t,0)}function ny(t){var e=rf(t);if(TA(e))return t}function ek(t,e){if(t==="change")return e}var LA=!1;ha&&(ha?(Zp="oninput"in document,Zp||($v=document.createElement("div"),$v.setAttribute("oninput","return;"),Zp=typeof $v.oninput=="function"),Jp=Zp):Jp=!1,LA=Jp&&(!document.documentMode||9<document.documentMode));var Jp,Zp,$v;function tk(){af&&(af.detachEvent("onpropertychange",PA),Tf=af=null)}function PA(t){if(t.propertyName==="value"&&ny(Tf)){var e=[];RA(e,Tf,t,gx(t)),NA(U6,e)}}function V6(t,e,n){t==="focusin"?(tk(),af=e,Tf=n,af.attachEvent("onpropertychange",PA)):t==="focusout"&&tk()}function H6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ny(Tf)}function B6(t,e){if(t==="click")return ny(e)}function z6(t,e){if(t==="input"||t==="change")return ny(e)}function q6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ei=typeof Object.is=="function"?Object.is:q6;function If(t,e){if(ei(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!xw.call(e,s)||!ei(t[s],e[s]))return!1}return!0}function nk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rk(t,e){var n=nk(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nk(n)}}function OA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?OA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function MA(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=kg(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=kg(t.document)}return e}function wx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var G6=ha&&"documentMode"in document&&11>=document.documentMode,qu=null,Nw=null,lf=null,kw=!1;function sk(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kw||qu==null||qu!==kg(r)||(r=qu,"selectionStart"in r&&wx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lf&&If(lf,r)||(lf=r,r=$g(Nw,"onSelect"),0<r.length&&(e=new ey("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qu)))}function oc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gu={animationend:oc("Animation","AnimationEnd"),animationiteration:oc("Animation","AnimationIteration"),animationstart:oc("Animation","AnimationStart"),transitionrun:oc("Transition","TransitionRun"),transitionstart:oc("Transition","TransitionStart"),transitioncancel:oc("Transition","TransitionCancel"),transitionend:oc("Transition","TransitionEnd")},Kv={},FA={};ha&&(FA=document.createElement("div").style,"AnimationEvent"in window||(delete Gu.animationend.animation,delete Gu.animationiteration.animation,delete Gu.animationstart.animation),"TransitionEvent"in window||delete Gu.transitionend.transition);function Ic(t){if(Kv[t])return Kv[t];if(!Gu[t])return t;var e=Gu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in FA)return Kv[t]=e[n];return t}var UA=Ic("animationend"),VA=Ic("animationiteration"),HA=Ic("animationstart"),j6=Ic("transitionrun"),$6=Ic("transitionstart"),K6=Ic("transitioncancel"),BA=Ic("transitionend"),zA=new Map,Aw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Aw.push("scrollEnd");function qi(t,e){zA.set(t,e),xc(e,[t])}var ik=new WeakMap;function xi(t,e){if(typeof t=="object"&&t!==null){var n=ik.get(t);return n!==void 0?n:(e={value:t,source:e,stack:GN(e)},ik.set(t,e),e)}return{value:t,source:e,stack:GN(e)}}var gi=[],ju=0,xx=0;function ry(){for(var t=ju,e=xx=ju=0;e<t;){var n=gi[e];gi[e++]=null;var r=gi[e];gi[e++]=null;var s=gi[e];gi[e++]=null;var i=gi[e];if(gi[e++]=null,r!==null&&s!==null){var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}i!==0&&qA(n,s,i)}}function sy(t,e,n,r){gi[ju++]=t,gi[ju++]=e,gi[ju++]=n,gi[ju++]=r,xx|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Tx(t,e,n,r){return sy(t,e,n,r),Ag(t)}function yd(t,e){return sy(t,null,null,e),Ag(t)}function qA(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var s=!1,i=t.return;i!==null;)i.childLanes|=n,r=i.alternate,r!==null&&(r.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(s=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,s&&e!==null&&(s=31-Xs(n),t=i.hiddenUpdates,r=t[s],r===null?t[s]=[e]:r.push(e),e.lane=n|536870912),i):null}function Ag(t){if(50<bf)throw bf=0,Qw=null,Error(X(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var $u={};function W6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ys(t,e,n,r){return new W6(t,e,n,r)}function Ix(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ua(t,e){var n=t.alternate;return n===null?(n=Ys(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function GA(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function mg(t,e,n,r,s,i){var o=0;if(r=t,typeof t=="function")Ix(t)&&(o=1);else if(typeof t=="string")o=WU(t,n,uo.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case yw:return t=Ys(31,n,e,s),t.elementType=yw,t.lanes=i,t;case Uu:return dc(n.children,s,i,e);case cA:o=8,s|=24;break;case mw:return t=Ys(12,n,e,s|2),t.elementType=mw,t.lanes=i,t;case pw:return t=Ys(13,n,e,s),t.elementType=pw,t.lanes=i,t;case gw:return t=Ys(19,n,e,s),t.elementType=gw,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case UF:case ia:o=10;break e;case uA:o=9;break e;case cx:o=11;break e;case ux:o=14;break e;case el:o=16,r=null;break e}o=29,n=Error(X(130,t===null?"null":typeof t,"")),r=null}return e=Ys(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function dc(t,e,n,r){return t=Ys(7,t,r,e),t.lanes=n,t}function Wv(t,e,n){return t=Ys(6,t,null,e),t.lanes=n,t}function Yv(t,e,n){return e=Ys(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Ku=[],Wu=0,Dg=null,Cg=0,bi=[],vi=0,hc=null,oa=1,aa="";function lc(t,e){Ku[Wu++]=Cg,Ku[Wu++]=Dg,Dg=t,Cg=e}function jA(t,e,n){bi[vi++]=oa,bi[vi++]=aa,bi[vi++]=hc,hc=t;var r=oa;t=aa;var s=32-Xs(r)-1;r&=~(1<<s),n+=1;var i=32-Xs(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,oa=1<<32-Xs(e)+s|n<<s|r,aa=i+t}else oa=1<<i|n<<s|r,aa=t}function _x(t){t.return!==null&&(lc(t,1),jA(t,1,0))}function Ex(t){for(;t===Dg;)Dg=Ku[--Wu],Ku[Wu]=null,Cg=Ku[--Wu],Ku[Wu]=null;for(;t===hc;)hc=bi[--vi],bi[vi]=null,aa=bi[--vi],bi[vi]=null,oa=bi[--vi],bi[vi]=null}var vs=null,Wn=null,Ut=!1,fc=null,lo=!1,Dw=Error(X(519));function yc(t){var e=Error(X(418,""));throw _f(xi(e,t)),Dw}function ok(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Jr]=t,e[As]=r,n){case"dialog":gt("cancel",e),gt("close",e);break;case"iframe":case"object":case"embed":gt("load",e);break;case"video":case"audio":for(n=0;n<Nf.length;n++)gt(Nf[n],e);break;case"source":gt("error",e);break;case"img":case"image":case"link":gt("error",e),gt("load",e);break;case"details":gt("toggle",e);break;case"input":gt("invalid",e),IA(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Ng(e);break;case"select":gt("invalid",e);break;case"textarea":gt("invalid",e),EA(e,r.value,r.defaultValue,r.children),Ng(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||SC(e.textContent,n)?(r.popover!=null&&(gt("beforetoggle",e),gt("toggle",e)),r.onScroll!=null&&gt("scroll",e),r.onScrollEnd!=null&&gt("scrollend",e),r.onClick!=null&&(e.onclick=hy),e=!0):e=!1,e||yc(t)}function ak(t){for(vs=t.return;vs;)switch(vs.tag){case 5:case 13:lo=!1;return;case 27:case 3:lo=!0;return;default:vs=vs.return}}function Yh(t){if(t!==vs)return!1;if(!Ut)return ak(t),Ut=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||nx(t.type,t.memoizedProps)),n=!n),n&&Wn&&yc(t),ak(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Wn=zi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Wn=null}}else e===27?(e=Wn,Tl(t.type)?(t=ix,ix=null,Wn=t):Wn=e):Wn=vs?zi(t.stateNode.nextSibling):null;return!0}function Hf(){Wn=vs=null,Ut=!1}function lk(){var t=fc;return t!==null&&(ks===null?ks=t:ks.push.apply(ks,t),fc=null),t}function _f(t){fc===null?fc=[t]:fc.push(t)}var Cw=mo(null),_c=null,la=null;function nl(t,e,n){Sn(Cw,e._currentValue),e._currentValue=n}function da(t){t._currentValue=Cw.current,Lr(Cw)}function Rw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Lw(t,e,n,r){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var i=s.dependencies;if(i!==null){var o=s.child;i=i.firstContext;e:for(;i!==null;){var a=i;i=s;for(var l=0;l<e.length;l++)if(a.context===e[l]){i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Rw(i.return,n,t),r||(o=null);break e}i=a.next}}else if(s.tag===18){if(o=s.return,o===null)throw Error(X(341));o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),Rw(o,n,t),o=null}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}}function Bf(t,e,n,r){t=null;for(var s=e,i=!1;s!==null;){if(!i){if(s.flags&524288)i=!0;else if(s.flags&262144)break}if(s.tag===10){var o=s.alternate;if(o===null)throw Error(X(387));if(o=o.memoizedProps,o!==null){var a=s.type;ei(s.pendingProps.value,o.value)||(t!==null?t.push(a):t=[a])}}else if(s===Ig.current){if(o=s.alternate,o===null)throw Error(X(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(Df):t=[Df])}s=s.return}t!==null&&Lw(e,t,n,r),e.flags|=262144}function Rg(t){for(t=t.firstContext;t!==null;){if(!ei(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function bc(t){_c=t,la=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zr(t){return $A(_c,t)}function eg(t,e){return _c===null&&bc(t),$A(t,e)}function $A(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},la===null){if(t===null)throw Error(X(308));la=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else la=la.next=e;return n}var Y6=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Q6=Ir.unstable_scheduleCallback,X6=Ir.unstable_NormalPriority,xr={$$typeof:ia,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sx(){return{controller:new Y6,data:new Map,refCount:0}}function zf(t){t.refCount--,t.refCount===0&&Q6(X6,function(){t.controller.abort()})}var cf=null,Pw=0,ad=0,Zu=null;function J6(t,e){if(cf===null){var n=cf=[];Pw=0,ad=Yx(),Zu={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Pw++,e.then(ck,ck),e}function ck(){if(--Pw===0&&cf!==null){Zu!==null&&(Zu.status="fulfilled");var t=cf;cf=null,ad=0,Zu=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Z6(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(r.status="rejected",r.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),r}var uk=$e.S;$e.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&J6(t,e),uk!==null&&uk(t,e)};var mc=mo(null);function Nx(){var t=mc.current;return t!==null?t:fn.pooledCache}function pg(t,e){e===null?Sn(mc,mc.current):Sn(mc,e.pool)}function KA(){var t=Nx();return t===null?null:{parent:xr._currentValue,pool:t}}var qf=Error(X(460)),WA=Error(X(474)),iy=Error(X(542)),Ow={then:function(){}};function dk(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tg(){}function YA(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(tg,tg),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,fk(t),t;default:if(typeof e.status=="string")e.then(tg,tg);else{if(t=fn,t!==null&&100<t.shellSuspendCounter)throw Error(X(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=r}},function(r){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,fk(t),t}throw uf=e,qf}}var uf=null;function hk(){if(uf===null)throw Error(X(459));var t=uf;return uf=null,t}function fk(t){if(t===qf||t===iy)throw Error(X(483))}var tl=!1;function kx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function dl(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function hl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Wt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,e=Ag(t),qA(t,null,n),e}return sy(t,r,e,n),Ag(t)}function df(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yA(t,n)}}function Qv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Fw=!1;function hf(){if(Fw){var t=Zu;if(t!==null)throw t}}function ff(t,e,n,r){Fw=!1;var s=t.updateQueue;tl=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=u=l=null,a=i;do{var h=a.lane&-536870913,p=h!==a.lane;if(p?(kt&h)===h:(r&h)===h){h!==0&&h===ad&&(Fw=!0),d!==null&&(d=d.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var b=t,I=a;h=e;var v=n;switch(I.tag){case 1:if(b=I.payload,typeof b=="function"){f=b.call(v,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=I.payload,h=typeof b=="function"?b.call(v,f,h):b,h==null)break e;f=bn({},f,h);break e;case 2:tl=!0}}h=a.callback,h!==null&&(t.flags|=64,p&&(t.flags|=8192),p=s.callbacks,p===null?s.callbacks=[h]:p.push(h))}else p={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,i===null&&(s.shared.lanes=0),wl|=o,t.lanes=o,t.memoizedState=f}}function QA(t,e){if(typeof t!="function")throw Error(X(191,t));t.call(e)}function XA(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)QA(n[t],e)}var ld=mo(null),Lg=mo(0);function mk(t,e){t=pa,Sn(Lg,t),Sn(ld,e),pa=t|e.baseLanes}function Uw(){Sn(Lg,pa),Sn(ld,ld.current)}function Ax(){pa=Lg.current,Lr(ld),Lr(Lg)}var bl=0,at=null,tn=null,ur=null,Pg=!1,ed=!1,vc=!1,Og=0,Ef=0,td=null,eU=0;function er(){throw Error(X(321))}function Dx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ei(t[n],e[n]))return!1;return!0}function Cx(t,e,n,r,s,i){return bl=i,at=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$e.H=t===null||t.memoizedState===null?kD:AD,vc=!1,i=n(r,s),vc=!1,ed&&(i=ZA(e,n,r,s)),JA(t),i}function JA(t){$e.H=Mg;var e=tn!==null&&tn.next!==null;if(bl=0,ur=tn=at=null,Pg=!1,Ef=0,td=null,e)throw Error(X(300));t===null||Rr||(t=t.dependencies,t!==null&&Rg(t)&&(Rr=!0))}function ZA(t,e,n,r){at=t;var s=0;do{if(ed&&(td=null),Ef=0,ed=!1,25<=s)throw Error(X(301));if(s+=1,ur=tn=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}$e.H=aU,i=e(n,r)}while(ed);return i}function tU(){var t=$e.H,e=t.useState()[0];return e=typeof e.then=="function"?Gf(e):e,t=t.useState()[0],(tn!==null?tn.memoizedState:null)!==t&&(at.flags|=1024),e}function Rx(){var t=Og!==0;return Og=0,t}function Lx(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Px(t){if(Pg){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Pg=!1}bl=0,ur=tn=at=null,ed=!1,Ef=Og=0,td=null}function Ss(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?at.memoizedState=ur=t:ur=ur.next=t,ur}function dr(){if(tn===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=tn.next;var e=ur===null?at.memoizedState:ur.next;if(e!==null)ur=e,tn=t;else{if(t===null)throw at.alternate===null?Error(X(467)):Error(X(310));tn=t,t={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},ur===null?at.memoizedState=ur=t:ur=ur.next=t}return ur}function Ox(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gf(t){var e=Ef;return Ef+=1,td===null&&(td=[]),t=YA(td,t,e),e=at,(ur===null?e.memoizedState:ur.next)===null&&(e=e.alternate,$e.H=e===null||e.memoizedState===null?kD:AD),t}function oy(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Gf(t);if(t.$$typeof===ia)return Zr(t)}throw Error(X(438,String(t)))}function Mx(t){var e=null,n=at.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=at.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Ox(),at.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=VF;return e.index++,n}function fa(t,e){return typeof e=="function"?e(t):e}function gg(t){var e=dr();return Fx(e,tn,t)}function Fx(t,e,n){var r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=n;var s=t.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}e.baseQueue=s=i,r.pending=null}if(i=t.baseState,s===null)t.memoizedState=i;else{e=s.next;var a=o=null,l=null,u=e,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(kt&f)===f:(bl&f)===f){var h=u.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===ad&&(d=!0);else if((bl&h)===h){u=u.next,h===ad&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(a=l=f,o=i):l=l.next=f,at.lanes|=h,wl|=h;f=u.action,vc&&n(i,f),i=u.hasEagerState?u.eagerState:n(i,f)}else h={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(a=l=h,o=i):l=l.next=h,at.lanes|=f,wl|=f;u=u.next}while(u!==null&&u!==e);if(l===null?o=i:l.next=a,!ei(i,t.memoizedState)&&(Rr=!0,d&&(n=Zu,n!==null)))throw n;t.memoizedState=i,t.baseState=o,t.baseQueue=l,r.lastRenderedState=i}return s===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Xv(t){var e=dr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ei(i,e.memoizedState)||(Rr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function eD(t,e,n){var r=at,s=dr(),i=Ut;if(i){if(n===void 0)throw Error(X(407));n=n()}else n=e();var o=!ei((tn||s).memoizedState,n);o&&(s.memoizedState=n,Rr=!0),s=s.queue;var a=rD.bind(null,r,s,t);if(jf(2048,8,a,[t]),s.getSnapshot!==e||o||ur!==null&&ur.memoizedState.tag&1){if(r.flags|=2048,cd(9,ay(),nD.bind(null,r,s,n,e),null),fn===null)throw Error(X(349));i||bl&124||tD(r,e,n)}return n}function tD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=at.updateQueue,e===null?(e=Ox(),at.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nD(t,e,n,r){e.value=n,e.getSnapshot=r,sD(e)&&iD(t)}function rD(t,e,n){return n(function(){sD(e)&&iD(t)})}function sD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ei(t,n)}catch{return!0}}function iD(t){var e=yd(t,2);e!==null&&Zs(e,t,2)}function Vw(t){var e=Ss();if(typeof t=="function"){var n=t;if(t=n(),vc){ol(!0);try{n()}finally{ol(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:t},e}function oD(t,e,n,r){return t.baseState=n,Fx(t,tn,typeof r=="function"?r:fa)}function nU(t,e,n,r,s){if(ly(t))throw Error(X(485));if(t=e.action,t!==null){var i={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};$e.T!==null?n(!0):i.isTransition=!1,r(i),n=e.pending,n===null?(i.next=e.pending=i,aD(e,i)):(i.next=n.next,e.pending=n.next=i)}}function aD(t,e){var n=e.action,r=e.payload,s=t.state;if(e.isTransition){var i=$e.T,o={};$e.T=o;try{var a=n(s,r),l=$e.S;l!==null&&l(o,a),pk(t,e,a)}catch(u){Hw(t,e,u)}finally{$e.T=i}}else try{i=n(s,r),pk(t,e,i)}catch(u){Hw(t,e,u)}}function pk(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){gk(t,e,r)},function(r){return Hw(t,e,r)}):gk(t,e,n)}function gk(t,e,n){e.status="fulfilled",e.value=n,lD(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,aD(t,n)))}function Hw(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,lD(e),e=e.next;while(e!==r)}t.action=null}function lD(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function cD(t,e){return e}function yk(t,e){if(Ut){var n=fn.formState;if(n!==null){e:{var r=at;if(Ut){if(Wn){t:{for(var s=Wn,i=lo;s.nodeType!==8;){if(!i){s=null;break t}if(s=zi(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){Wn=zi(s.nextSibling),r=s.data==="F!";break e}}yc(r)}r=!1}r&&(e=n[0])}}return n=Ss(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cD,lastRenderedState:e},n.queue=r,n=ED.bind(null,at,r),r.dispatch=n,r=Vw(!1),i=Bx.bind(null,at,!1,r.queue),r=Ss(),s={state:e,dispatch:null,action:t,pending:null},r.queue=s,n=nU.bind(null,at,s,i,n),s.dispatch=n,r.memoizedState=t,[e,n,!1]}function bk(t){var e=dr();return uD(e,tn,t)}function uD(t,e,n){if(e=Fx(t,e,cD)[0],t=gg(fa)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=Gf(e)}catch(o){throw o===qf?iy:o}else r=e;e=dr();var s=e.queue,i=s.dispatch;return n!==e.memoizedState&&(at.flags|=2048,cd(9,ay(),rU.bind(null,s,n),null)),[r,i,t]}function rU(t,e){t.action=e}function vk(t){var e=dr(),n=tn;if(n!==null)return uD(e,n,t);dr(),e=e.memoizedState,n=dr();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function cd(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=at.updateQueue,e===null&&(e=Ox(),at.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function ay(){return{destroy:void 0,resource:void 0}}function dD(){return dr().memoizedState}function yg(t,e,n,r){var s=Ss();r=r===void 0?null:r,at.flags|=t,s.memoizedState=cd(1|e,ay(),n,r)}function jf(t,e,n,r){var s=dr();r=r===void 0?null:r;var i=s.memoizedState.inst;tn!==null&&r!==null&&Dx(r,tn.memoizedState.deps)?s.memoizedState=cd(e,i,n,r):(at.flags|=t,s.memoizedState=cd(1|e,i,n,r))}function wk(t,e){yg(8390656,8,t,e)}function hD(t,e){jf(2048,8,t,e)}function fD(t,e){return jf(4,2,t,e)}function mD(t,e){return jf(4,4,t,e)}function pD(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gD(t,e,n){n=n!=null?n.concat([t]):null,jf(4,4,pD.bind(null,e,t),n)}function Ux(){}function yD(t,e){var n=dr();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&Dx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function bD(t,e){var n=dr();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&Dx(e,r[1]))return r[0];if(r=t(),vc){ol(!0);try{t()}finally{ol(!1)}}return n.memoizedState=[r,e],r}function Vx(t,e,n){return n===void 0||bl&1073741824?t.memoizedState=e:(t.memoizedState=n,t=lC(),at.lanes|=t,wl|=t,n)}function vD(t,e,n,r){return ei(n,e)?n:ld.current!==null?(t=Vx(t,n,r),ei(t,e)||(Rr=!0),t):bl&42?(t=lC(),at.lanes|=t,wl|=t,e):(Rr=!0,t.memoizedState=n)}function wD(t,e,n,r,s){var i=Vt.p;Vt.p=i!==0&&8>i?i:8;var o=$e.T,a={};$e.T=a,Bx(t,!1,e,n);try{var l=s(),u=$e.S;if(u!==null&&u(a,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=Z6(l,r);mf(t,e,d,Js(t))}else mf(t,e,r,Js(t))}catch(f){mf(t,e,{then:function(){},status:"rejected",reason:f},Js())}finally{Vt.p=i,$e.T=o}}function sU(){}function Bw(t,e,n,r){if(t.tag!==5)throw Error(X(476));var s=xD(t).queue;wD(t,s,e,uc,n===null?sU:function(){return TD(t),n(r)})}function xD(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:uc,baseState:uc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:uc},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function TD(t){var e=xD(t).next.queue;mf(t,e,{},Js())}function Hx(){return Zr(Df)}function ID(){return dr().memoizedState}function _D(){return dr().memoizedState}function iU(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Js();t=dl(n);var r=hl(e,t,n);r!==null&&(Zs(r,e,n),df(r,e,n)),e={cache:Sx()},t.payload=e;return}e=e.return}}function oU(t,e,n){var r=Js();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ly(t)?SD(e,n):(n=Tx(t,e,n,r),n!==null&&(Zs(n,t,r),ND(n,e,r)))}function ED(t,e,n){var r=Js();mf(t,e,n,r)}function mf(t,e,n,r){var s={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ly(t))SD(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ei(a,o))return sy(t,e,s,0),fn===null&&ry(),!1}catch{}finally{}if(n=Tx(t,e,s,r),n!==null)return Zs(n,t,r),ND(n,e,r),!0}return!1}function Bx(t,e,n,r){if(r={lane:2,revertLane:Yx(),action:r,hasEagerState:!1,eagerState:null,next:null},ly(t)){if(e)throw Error(X(479))}else e=Tx(t,n,r,2),e!==null&&Zs(e,t,2)}function ly(t){var e=t.alternate;return t===at||e!==null&&e===at}function SD(t,e){ed=Pg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ND(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yA(t,n)}}var Mg={readContext:Zr,use:oy,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useLayoutEffect:er,useInsertionEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useSyncExternalStore:er,useId:er,useHostTransitionStatus:er,useFormState:er,useActionState:er,useOptimistic:er,useMemoCache:er,useCacheRefresh:er},kD={readContext:Zr,use:oy,useCallback:function(t,e){return Ss().memoizedState=[t,e===void 0?null:e],t},useContext:Zr,useEffect:wk,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,yg(4194308,4,pD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yg(4194308,4,t,e)},useInsertionEffect:function(t,e){yg(4,2,t,e)},useMemo:function(t,e){var n=Ss();e=e===void 0?null:e;var r=t();if(vc){ol(!0);try{t()}finally{ol(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Ss();if(n!==void 0){var s=n(e);if(vc){ol(!0);try{n(e)}finally{ol(!1)}}}else s=e;return r.memoizedState=r.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},r.queue=t,t=t.dispatch=oU.bind(null,at,t),[r.memoizedState,t]},useRef:function(t){var e=Ss();return t={current:t},e.memoizedState=t},useState:function(t){t=Vw(t);var e=t.queue,n=ED.bind(null,at,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Ux,useDeferredValue:function(t,e){var n=Ss();return Vx(n,t,e)},useTransition:function(){var t=Vw(!1);return t=wD.bind(null,at,t.queue,!0,!1),Ss().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=at,s=Ss();if(Ut){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),fn===null)throw Error(X(349));kt&124||tD(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,wk(rD.bind(null,r,i,t),[t]),r.flags|=2048,cd(9,ay(),nD.bind(null,r,i,n,e),null),n},useId:function(){var t=Ss(),e=fn.identifierPrefix;if(Ut){var n=aa,r=oa;n=(r&~(1<<32-Xs(r)-1)).toString(32)+n,e="\xAB"+e+"R"+n,n=Og++,0<n&&(e+="H"+n.toString(32)),e+="\xBB"}else n=eU++,e="\xAB"+e+"r"+n.toString(32)+"\xBB";return t.memoizedState=e},useHostTransitionStatus:Hx,useFormState:yk,useActionState:yk,useOptimistic:function(t){var e=Ss();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Bx.bind(null,at,!0,n),n.dispatch=e,[t,e]},useMemoCache:Mx,useCacheRefresh:function(){return Ss().memoizedState=iU.bind(null,at)}},AD={readContext:Zr,use:oy,useCallback:yD,useContext:Zr,useEffect:hD,useImperativeHandle:gD,useInsertionEffect:fD,useLayoutEffect:mD,useMemo:bD,useReducer:gg,useRef:dD,useState:function(){return gg(fa)},useDebugValue:Ux,useDeferredValue:function(t,e){var n=dr();return vD(n,tn.memoizedState,t,e)},useTransition:function(){var t=gg(fa)[0],e=dr().memoizedState;return[typeof t=="boolean"?t:Gf(t),e]},useSyncExternalStore:eD,useId:ID,useHostTransitionStatus:Hx,useFormState:bk,useActionState:bk,useOptimistic:function(t,e){var n=dr();return oD(n,tn,t,e)},useMemoCache:Mx,useCacheRefresh:_D},aU={readContext:Zr,use:oy,useCallback:yD,useContext:Zr,useEffect:hD,useImperativeHandle:gD,useInsertionEffect:fD,useLayoutEffect:mD,useMemo:bD,useReducer:Xv,useRef:dD,useState:function(){return Xv(fa)},useDebugValue:Ux,useDeferredValue:function(t,e){var n=dr();return tn===null?Vx(n,t,e):vD(n,tn.memoizedState,t,e)},useTransition:function(){var t=Xv(fa)[0],e=dr().memoizedState;return[typeof t=="boolean"?t:Gf(t),e]},useSyncExternalStore:eD,useId:ID,useHostTransitionStatus:Hx,useFormState:vk,useActionState:vk,useOptimistic:function(t,e){var n=dr();return tn!==null?oD(n,tn,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Mx,useCacheRefresh:_D},nd=null,Sf=0;function ng(t){var e=Sf;return Sf+=1,nd===null&&(nd=[]),YA(nd,t,e)}function Qh(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function rg(t,e){throw e.$$typeof===FF?Error(X(525)):(t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function xk(t){var e=t._init;return e(t._payload)}function DD(t){function e(g,y){if(t){var _=g.deletions;_===null?(g.deletions=[y],g.flags|=16):_.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g){for(var y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(g,y){return g=ua(g,y),g.index=0,g.sibling=null,g}function i(g,y,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<y?(g.flags|=67108866,y):_):(g.flags|=67108866,y)):(g.flags|=1048576,y)}function o(g){return t&&g.alternate===null&&(g.flags|=67108866),g}function a(g,y,_,A){return y===null||y.tag!==6?(y=Wv(_,g.mode,A),y.return=g,y):(y=s(y,_),y.return=g,y)}function l(g,y,_,A){var R=_.type;return R===Uu?d(g,y,_.props.children,A,_.key):y!==null&&(y.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===el&&xk(R)===y.type)?(y=s(y,_.props),Qh(y,_),y.return=g,y):(y=mg(_.type,_.key,_.props,null,g.mode,A),Qh(y,_),y.return=g,y)}function u(g,y,_,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Yv(_,g.mode,A),y.return=g,y):(y=s(y,_.children||[]),y.return=g,y)}function d(g,y,_,A,R){return y===null||y.tag!==7?(y=dc(_,g.mode,A,R),y.return=g,y):(y=s(y,_),y.return=g,y)}function f(g,y,_){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Wv(""+y,g.mode,_),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Kp:return _=mg(y.type,y.key,y.props,null,g.mode,_),Qh(_,y),_.return=g,_;case tf:return y=Yv(y,g.mode,_),y.return=g,y;case el:var A=y._init;return y=A(y._payload),f(g,y,_)}if(nf(y)||Kh(y))return y=dc(y,g.mode,_,null),y.return=g,y;if(typeof y.then=="function")return f(g,ng(y),_);if(y.$$typeof===ia)return f(g,eg(g,y),_);rg(g,y)}return null}function h(g,y,_,A){var R=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return R!==null?null:a(g,y,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Kp:return _.key===R?l(g,y,_,A):null;case tf:return _.key===R?u(g,y,_,A):null;case el:return R=_._init,_=R(_._payload),h(g,y,_,A)}if(nf(_)||Kh(_))return R!==null?null:d(g,y,_,A,null);if(typeof _.then=="function")return h(g,y,ng(_),A);if(_.$$typeof===ia)return h(g,y,eg(g,_),A);rg(g,_)}return null}function p(g,y,_,A,R){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return g=g.get(_)||null,a(y,g,""+A,R);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Kp:return g=g.get(A.key===null?_:A.key)||null,l(y,g,A,R);case tf:return g=g.get(A.key===null?_:A.key)||null,u(y,g,A,R);case el:var U=A._init;return A=U(A._payload),p(g,y,_,A,R)}if(nf(A)||Kh(A))return g=g.get(_)||null,d(y,g,A,R,null);if(typeof A.then=="function")return p(g,y,_,ng(A),R);if(A.$$typeof===ia)return p(g,y,_,eg(y,A),R);rg(y,A)}return null}function b(g,y,_,A){for(var R=null,U=null,S=y,E=y=0,T=null;S!==null&&E<_.length;E++){S.index>E?(T=S,S=null):T=S.sibling;var x=h(g,S,_[E],A);if(x===null){S===null&&(S=T);break}t&&S&&x.alternate===null&&e(g,S),y=i(x,y,E),U===null?R=x:U.sibling=x,U=x,S=T}if(E===_.length)return n(g,S),Ut&&lc(g,E),R;if(S===null){for(;E<_.length;E++)S=f(g,_[E],A),S!==null&&(y=i(S,y,E),U===null?R=S:U.sibling=S,U=S);return Ut&&lc(g,E),R}for(S=r(S);E<_.length;E++)T=p(S,g,E,_[E],A),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?E:T.key),y=i(T,y,E),U===null?R=T:U.sibling=T,U=T);return t&&S.forEach(function(N){return e(g,N)}),Ut&&lc(g,E),R}function I(g,y,_,A){if(_==null)throw Error(X(151));for(var R=null,U=null,S=y,E=y=0,T=null,x=_.next();S!==null&&!x.done;E++,x=_.next()){S.index>E?(T=S,S=null):T=S.sibling;var N=h(g,S,x.value,A);if(N===null){S===null&&(S=T);break}t&&S&&N.alternate===null&&e(g,S),y=i(N,y,E),U===null?R=N:U.sibling=N,U=N,S=T}if(x.done)return n(g,S),Ut&&lc(g,E),R;if(S===null){for(;!x.done;E++,x=_.next())x=f(g,x.value,A),x!==null&&(y=i(x,y,E),U===null?R=x:U.sibling=x,U=x);return Ut&&lc(g,E),R}for(S=r(S);!x.done;E++,x=_.next())x=p(S,g,E,x.value,A),x!==null&&(t&&x.alternate!==null&&S.delete(x.key===null?E:x.key),y=i(x,y,E),U===null?R=x:U.sibling=x,U=x);return t&&S.forEach(function(D){return e(g,D)}),Ut&&lc(g,E),R}function v(g,y,_,A){if(typeof _=="object"&&_!==null&&_.type===Uu&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Kp:e:{for(var R=_.key;y!==null;){if(y.key===R){if(R=_.type,R===Uu){if(y.tag===7){n(g,y.sibling),A=s(y,_.props.children),A.return=g,g=A;break e}}else if(y.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===el&&xk(R)===y.type){n(g,y.sibling),A=s(y,_.props),Qh(A,_),A.return=g,g=A;break e}n(g,y);break}else e(g,y);y=y.sibling}_.type===Uu?(A=dc(_.props.children,g.mode,A,_.key),A.return=g,g=A):(A=mg(_.type,_.key,_.props,null,g.mode,A),Qh(A,_),A.return=g,g=A)}return o(g);case tf:e:{for(R=_.key;y!==null;){if(y.key===R)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(g,y.sibling),A=s(y,_.children||[]),A.return=g,g=A;break e}else{n(g,y);break}else e(g,y);y=y.sibling}A=Yv(_,g.mode,A),A.return=g,g=A}return o(g);case el:return R=_._init,_=R(_._payload),v(g,y,_,A)}if(nf(_))return b(g,y,_,A);if(Kh(_)){if(R=Kh(_),typeof R!="function")throw Error(X(150));return _=R.call(_),I(g,y,_,A)}if(typeof _.then=="function")return v(g,y,ng(_),A);if(_.$$typeof===ia)return v(g,y,eg(g,_),A);rg(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,y!==null&&y.tag===6?(n(g,y.sibling),A=s(y,_),A.return=g,g=A):(n(g,y),A=Wv(_,g.mode,A),A.return=g,g=A),o(g)):n(g,y)}return function(g,y,_,A){try{Sf=0;var R=v(g,y,_,A);return nd=null,R}catch(S){if(S===qf||S===iy)throw S;var U=Ys(29,S,null,g.mode);return U.lanes=A,U.return=g,U}finally{}}}var ud=DD(!0),CD=DD(!1),Ii=mo(null),fo=null;function rl(t){var e=t.alternate;Sn(Tr,Tr.current&1),Sn(Ii,t),fo===null&&(e===null||ld.current!==null||e.memoizedState!==null)&&(fo=t)}function RD(t){if(t.tag===22){if(Sn(Tr,Tr.current),Sn(Ii,t),fo===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(fo=t)}}else sl(t)}function sl(){Sn(Tr,Tr.current),Sn(Ii,Ii.current)}function ca(t){Lr(Ii),fo===t&&(fo=null),Lr(Tr)}var Tr=mo(0);function Fg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||sx(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Jv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:bn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zw={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Js(),s=dl(r);s.payload=e,n!=null&&(s.callback=n),e=hl(t,s,r),e!==null&&(Zs(e,t,r),df(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Js(),s=dl(r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=hl(t,s,r),e!==null&&(Zs(e,t,r),df(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Js(),r=dl(n);r.tag=2,e!=null&&(r.callback=e),e=hl(t,r,n),e!==null&&(Zs(e,t,n),df(e,t,n))}};function Tk(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!If(n,r)||!If(s,i):!0}function Ik(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zw.enqueueReplaceState(e,e.state,null)}function wc(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=bn({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}var Ug=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function LD(t){Ug(t)}function PD(t){console.error(t)}function OD(t){Ug(t)}function Vg(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function _k(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function qw(t,e,n){return n=dl(n),n.tag=3,n.payload={element:null},n.callback=function(){Vg(t,e)},n}function MD(t){return t=dl(t),t.tag=3,t}function FD(t,e,n,r){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var i=r.value;t.payload=function(){return s(i)},t.callback=function(){_k(e,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){_k(e,n,r),typeof s!="function"&&(fl===null?fl=new Set([this]):fl.add(this));var a=r.stack;this.componentDidCatch(r.value,{componentStack:a!==null?a:""})})}function lU(t,e,n,r,s){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Bf(e,n,s,!0),n=Ii.current,n!==null){switch(n.tag){case 13:return fo===null?Xw():n.alternate===null&&Yn===0&&(Yn=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===Ow?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),cw(t,r,s)),!1;case 22:return n.flags|=65536,r===Ow?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),cw(t,r,s)),!1}throw Error(X(435,n.tag))}return cw(t,r,s),Xw(),!1}if(Ut)return e=Ii.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,r!==Dw&&(t=Error(X(422),{cause:r}),_f(xi(t,n)))):(r!==Dw&&(e=Error(X(423),{cause:r}),_f(xi(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,r=xi(r,n),s=qw(t.stateNode,r,s),Qv(t,s),Yn!==4&&(Yn=2)),!1;var i=Error(X(520),{cause:r});if(i=xi(i,n),yf===null?yf=[i]:yf.push(i),Yn!==4&&(Yn=2),e===null)return!0;r=xi(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=qw(n.stateNode,r,t),Qv(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(fl===null||!fl.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,s=MD(s),FD(s,t,n,r),Qv(n,s),!1}n=n.return}while(n!==null);return!1}var UD=Error(X(461)),Rr=!1;function qr(t,e,n,r){e.child=t===null?CD(e,null,n,r):ud(e,t.child,n,r)}function Ek(t,e,n,r,s){n=n.render;var i=e.ref;if("ref"in r){var o={};for(var a in r)a!=="ref"&&(o[a]=r[a])}else o=r;return bc(e),r=Cx(t,e,n,o,i,s),a=Rx(),t!==null&&!Rr?(Lx(t,e,s),ma(t,e,s)):(Ut&&a&&_x(e),e.flags|=1,qr(t,e,r,s),e.child)}function Sk(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Ix(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,VD(t,e,i,r,s)):(t=mg(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!zx(t,s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:If,n(o,r)&&t.ref===e.ref)return ma(t,e,s)}return e.flags|=1,t=ua(i,r),t.ref=e.ref,t.return=e,e.child=t}function VD(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(If(i,r)&&t.ref===e.ref)if(Rr=!1,e.pendingProps=r=i,zx(t,s))t.flags&131072&&(Rr=!0);else return e.lanes=t.lanes,ma(t,e,s)}return Gw(t,e,n,r,s)}function HD(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if(e.flags&128){if(r=i!==null?i.baseLanes|n:n,t!==null){for(s=e.child=t.child,i=0;s!==null;)i=i|s.lanes|s.childLanes,s=s.sibling;e.childLanes=i&~r}else e.childLanes=0,e.child=null;return Nk(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&pg(e,i!==null?i.cachePool:null),i!==null?mk(e,i):Uw(),RD(e);else return e.lanes=e.childLanes=536870912,Nk(t,e,i!==null?i.baseLanes|n:n,n)}else i!==null?(pg(e,i.cachePool),mk(e,i),sl(e),e.memoizedState=null):(t!==null&&pg(e,null),Uw(),sl(e));return qr(t,e,s,n),e.child}function Nk(t,e,n,r){var s=Nx();return s=s===null?null:{parent:xr._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&pg(e,null),Uw(),RD(e),t!==null&&Bf(t,e,r,!0),null}function bg(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(X(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Gw(t,e,n,r,s){return bc(e),n=Cx(t,e,n,r,void 0,s),r=Rx(),t!==null&&!Rr?(Lx(t,e,s),ma(t,e,s)):(Ut&&r&&_x(e),e.flags|=1,qr(t,e,n,s),e.child)}function kk(t,e,n,r,s,i){return bc(e),e.updateQueue=null,n=ZA(e,r,n,s),JA(t),r=Rx(),t!==null&&!Rr?(Lx(t,e,i),ma(t,e,i)):(Ut&&r&&_x(e),e.flags|=1,qr(t,e,n,i),e.child)}function Ak(t,e,n,r,s){if(bc(e),e.stateNode===null){var i=$u,o=n.contextType;typeof o=="object"&&o!==null&&(i=Zr(o)),i=new n(r,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=zw,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=r,i.state=e.memoizedState,i.refs={},kx(e),o=n.contextType,i.context=typeof o=="object"&&o!==null?Zr(o):$u,i.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(Jv(e,n,o,r),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&zw.enqueueReplaceState(i,i.state,null),ff(e,r,i,s),hf(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){i=e.stateNode;var a=e.memoizedProps,l=wc(n,a);i.props=l;var u=i.context,d=n.contextType;o=$u,typeof d=="object"&&d!==null&&(o=Zr(d));var f=n.getDerivedStateFromProps;d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",a=e.pendingProps!==a,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a||u!==o)&&Ik(e,i,r,o),tl=!1;var h=e.memoizedState;i.state=h,ff(e,r,i,s),hf(),u=e.memoizedState,a||h!==u||tl?(typeof f=="function"&&(Jv(e,n,f,r),u=e.memoizedState),(l=tl||Tk(e,n,l,r,h,u,o))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),i.props=r,i.state=u,i.context=o,r=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,Mw(t,e),o=e.memoizedProps,d=wc(n,o),i.props=d,f=e.pendingProps,h=i.context,u=n.contextType,l=$u,typeof u=="object"&&u!==null&&(l=Zr(u)),a=n.getDerivedStateFromProps,(u=typeof a=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||h!==l)&&Ik(e,i,r,l),tl=!1,h=e.memoizedState,i.state=h,ff(e,r,i,s),hf();var p=e.memoizedState;o!==f||h!==p||tl||t!==null&&t.dependencies!==null&&Rg(t.dependencies)?(typeof a=="function"&&(Jv(e,n,a,r),p=e.memoizedState),(d=tl||Tk(e,n,d,r,h,p,l)||t!==null&&t.dependencies!==null&&Rg(t.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,p,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,p,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),i.props=r,i.state=p,i.context=l,r=d):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return i=r,bg(t,e),r=(e.flags&128)!==0,i||r?(i=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&r?(e.child=ud(e,t.child,null,s),e.child=ud(e,null,n,s)):qr(t,e,n,s),e.memoizedState=i.state,t=e.child):t=ma(t,e,s),t}function Dk(t,e,n,r){return Hf(),e.flags|=256,qr(t,e,n,r),e.child}var Zv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ew(t){return{baseLanes:t,cachePool:KA()}}function tw(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Ti),t}function BD(t,e,n){var r=e.pendingProps,s=!1,i=(e.flags&128)!==0,o;if((o=i)||(o=t!==null&&t.memoizedState===null?!1:(Tr.current&2)!==0),o&&(s=!0,e.flags&=-129),o=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ut){if(s?rl(e):sl(e),Ut){var a=Wn,l;if(l=a){e:{for(l=a,a=lo;l.nodeType!==8;){if(!a){a=null;break e}if(l=zi(l.nextSibling),l===null){a=null;break e}}a=l}a!==null?(e.memoizedState={dehydrated:a,treeContext:hc!==null?{id:oa,overflow:aa}:null,retryLane:536870912,hydrationErrors:null},l=Ys(18,null,null,0),l.stateNode=a,l.return=e,e.child=l,vs=e,Wn=null,l=!0):l=!1}l||yc(e)}if(a=e.memoizedState,a!==null&&(a=a.dehydrated,a!==null))return sx(a)?e.lanes=32:e.lanes=536870912,null;ca(e)}return a=r.children,r=r.fallback,s?(sl(e),s=e.mode,a=Hg({mode:"hidden",children:a},s),r=dc(r,s,n,null),a.return=e,r.return=e,a.sibling=r,e.child=a,s=e.child,s.memoizedState=ew(n),s.childLanes=tw(t,o,n),e.memoizedState=Zv,r):(rl(e),jw(e,a))}if(l=t.memoizedState,l!==null&&(a=l.dehydrated,a!==null)){if(i)e.flags&256?(rl(e),e.flags&=-257,e=nw(t,e,n)):e.memoizedState!==null?(sl(e),e.child=t.child,e.flags|=128,e=null):(sl(e),s=r.fallback,a=e.mode,r=Hg({mode:"visible",children:r.children},a),s=dc(s,a,n,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,ud(e,t.child,null,n),r=e.child,r.memoizedState=ew(n),r.childLanes=tw(t,o,n),e.memoizedState=Zv,e=s);else if(rl(e),sx(a)){if(o=a.nextSibling&&a.nextSibling.dataset,o)var u=o.dgst;o=u,r=Error(X(419)),r.stack="",r.digest=o,_f({value:r,source:null,stack:null}),e=nw(t,e,n)}else if(Rr||Bf(t,e,n,!1),o=(n&t.childLanes)!==0,Rr||o){if(o=fn,o!==null&&(r=n&-n,r=r&42?1:hx(r),r=r&(o.suspendedLanes|n)?0:r,r!==0&&r!==l.retryLane))throw l.retryLane=r,yd(t,r),Zs(o,t,r),UD;a.data==="$?"||Xw(),e=nw(t,e,n)}else a.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,Wn=zi(a.nextSibling),vs=e,Ut=!0,fc=null,lo=!1,t!==null&&(bi[vi++]=oa,bi[vi++]=aa,bi[vi++]=hc,oa=t.id,aa=t.overflow,hc=e),e=jw(e,r.children),e.flags|=4096);return e}return s?(sl(e),s=r.fallback,a=e.mode,l=t.child,u=l.sibling,r=ua(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?s=ua(u,s):(s=dc(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a===null?a=ew(n):(l=a.cachePool,l!==null?(u=xr._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=KA(),a={baseLanes:a.baseLanes|n,cachePool:l}),s.memoizedState=a,s.childLanes=tw(t,o,n),e.memoizedState=Zv,r):(rl(e),n=t.child,t=n.sibling,n=ua(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=n,e.memoizedState=null,n)}function jw(t,e){return e=Hg({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Hg(t,e){return t=Ys(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function nw(t,e,n){return ud(e,t.child,null,n),t=jw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ck(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Rw(t.return,e,n)}function rw(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function zD(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(qr(t,e,r.children,n),r=Tr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ck(t,n,e);else if(t.tag===19)Ck(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(Sn(Tr,r),s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Fg(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),rw(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Fg(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}rw(e,!0,n,null,i);break;case"together":rw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ma(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wl|=e.lanes,!(n&e.childLanes))if(t!==null){if(Bf(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=ua(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ua(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zx(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Rg(t)))}function cU(t,e,n){switch(e.tag){case 3:_g(e,e.stateNode.containerInfo),nl(e,xr,t.memoizedState.cache),Hf();break;case 27:case 5:ww(e);break;case 4:_g(e,e.stateNode.containerInfo);break;case 10:nl(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(rl(e),e.flags|=128,null):n&e.child.childLanes?BD(t,e,n):(rl(e),t=ma(t,e,n),t!==null?t.sibling:null);rl(e);break;case 19:var s=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Bf(t,e,n,!1),r=(n&e.childLanes)!==0),s){if(r)return zD(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Sn(Tr,Tr.current),r)break;return null;case 22:case 23:return e.lanes=0,HD(t,e,n);case 24:nl(e,xr,t.memoizedState.cache)}return ma(t,e,n)}function qD(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Rr=!0;else{if(!zx(t,n)&&!(e.flags&128))return Rr=!1,cU(t,e,n);Rr=!!(t.flags&131072)}else Rr=!1,Ut&&e.flags&1048576&&jA(e,Cg,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,s=r._init;if(r=s(r._payload),e.type=r,typeof r=="function")Ix(r)?(t=wc(r,t),e.tag=1,e=Ak(null,e,r,t,n)):(e.tag=0,e=Gw(null,e,r,t,n));else{if(r!=null){if(s=r.$$typeof,s===cx){e.tag=11,e=Ek(null,e,r,t,n);break e}else if(s===ux){e.tag=14,e=Sk(null,e,r,t,n);break e}}throw e=bw(r)||r,Error(X(306,e,""))}}return e;case 0:return Gw(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,s=wc(r,e.pendingProps),Ak(t,e,r,s,n);case 3:e:{if(_g(e,e.stateNode.containerInfo),t===null)throw Error(X(387));r=e.pendingProps;var i=e.memoizedState;s=i.element,Mw(t,e),ff(e,r,null,n);var o=e.memoizedState;if(r=o.cache,nl(e,xr,r),r!==i.cache&&Lw(e,[xr],n,!0),hf(),r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=Dk(t,e,r,n);break e}else if(r!==s){s=xi(Error(X(424)),e),_f(s),e=Dk(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Wn=zi(t.firstChild),vs=e,Ut=!0,fc=null,lo=!0,n=CD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Hf(),r===s){e=ma(t,e,n);break e}qr(t,e,r,n)}e=e.child}return e;case 26:return bg(t,e),t===null?(n=Qk(e.type,null,e.pendingProps,null))?e.memoizedState=n:Ut||(n=e.type,t=e.pendingProps,r=Kg(ul.current).createElement(n),r[Jr]=e,r[As]=t,jr(r,n,t),Cr(r),e.stateNode=r):e.memoizedState=Qk(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return ww(e),t===null&&Ut&&(r=e.stateNode=AC(e.type,e.pendingProps,ul.current),vs=e,lo=!0,s=Wn,Tl(e.type)?(ix=s,Wn=zi(r.firstChild)):Wn=s),qr(t,e,e.pendingProps.children,n),bg(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Ut&&((s=r=Wn)&&(r=OU(r,e.type,e.pendingProps,lo),r!==null?(e.stateNode=r,vs=e,Wn=zi(r.firstChild),lo=!1,s=!0):s=!1),s||yc(e)),ww(e),s=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,r=i.children,nx(s,i)?r=null:o!==null&&nx(s,o)&&(e.flags|=32),e.memoizedState!==null&&(s=Cx(t,e,tU,null,null,n),Df._currentValue=s),bg(t,e),qr(t,e,r,n),e.child;case 6:return t===null&&Ut&&((t=n=Wn)&&(n=MU(n,e.pendingProps,lo),n!==null?(e.stateNode=n,vs=e,Wn=null,t=!0):t=!1),t||yc(e)),null;case 13:return BD(t,e,n);case 4:return _g(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ud(e,null,r,n):qr(t,e,r,n),e.child;case 11:return Ek(t,e,e.type,e.pendingProps,n);case 7:return qr(t,e,e.pendingProps,n),e.child;case 8:return qr(t,e,e.pendingProps.children,n),e.child;case 12:return qr(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,nl(e,e.type,r.value),qr(t,e,r.children,n),e.child;case 9:return s=e.type._context,r=e.pendingProps.children,bc(e),s=Zr(s),r=r(s),e.flags|=1,qr(t,e,r,n),e.child;case 14:return Sk(t,e,e.type,e.pendingProps,n);case 15:return VD(t,e,e.type,e.pendingProps,n);case 19:return zD(t,e,n);case 31:return r=e.pendingProps,n=e.mode,r={mode:r.mode,children:r.children},t===null?(n=Hg(r,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=ua(t.child,r),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return HD(t,e,n);case 24:return bc(e),r=Zr(xr),t===null?(s=Nx(),s===null&&(s=fn,i=Sx(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=n),s=i),e.memoizedState={parent:r,cache:s},kx(e),nl(e,xr,s)):(t.lanes&n&&(Mw(t,e),ff(e,null,null,n),hf()),s=t.memoizedState,i=e.memoizedState,s.parent!==r?(s={parent:r,cache:r},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),nl(e,xr,r)):(r=i.cache,nl(e,xr,r),r!==s.cache&&Lw(e,[xr],n,!0))),qr(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(X(156,e.tag))}function na(t){t.flags|=4}function Rk(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!RC(e)){if(e=Ii.current,e!==null&&((kt&4194048)===kt?fo!==null:(kt&62914560)!==kt&&!(kt&536870912)||e!==fo))throw uf=Ow,WA;t.flags|=8192}}function sg(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?pA():536870912,t.lanes|=e,dd|=e)}function Xh(t,e){if(!Ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Hn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&65011712,r|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function uU(t,e,n){var r=e.pendingProps;switch(Ex(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(e),null;case 1:return Hn(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),da(xr),sd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Yh(e)?na(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lk())),Hn(e),null;case 26:return n=e.memoizedState,t===null?(na(e),n!==null?(Hn(e),Rk(e,n)):(Hn(e),e.flags&=-16777217)):n?n!==t.memoizedState?(na(e),Hn(e),Rk(e,n)):(Hn(e),e.flags&=-16777217):(t.memoizedProps!==r&&na(e),Hn(e),e.flags&=-16777217),null;case 27:Eg(e),n=ul.current;var s=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&na(e);else{if(!r){if(e.stateNode===null)throw Error(X(166));return Hn(e),null}t=uo.current,Yh(e)?ok(e,t):(t=AC(s,r,n),e.stateNode=t,na(e))}return Hn(e),null;case 5:if(Eg(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&na(e);else{if(!r){if(e.stateNode===null)throw Error(X(166));return Hn(e),null}if(t=uo.current,Yh(e))ok(e,t);else{switch(s=Kg(ul.current),t){case 1:t=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?s.createElement(n,{is:r.is}):s.createElement(n)}}t[Jr]=e,t[As]=r;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=t;e:switch(jr(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&na(e)}}return Hn(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&na(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(t=ul.current,Yh(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,s=vs,s!==null)switch(s.tag){case 27:case 5:r=s.memoizedProps}t[Jr]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||SC(t.nodeValue,n)),t||yc(e)}else t=Kg(t).createTextNode(r),t[Jr]=e,e.stateNode=t}return Hn(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=Yh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(X(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[Jr]=e}else Hf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Hn(e),s=!1}else s=lk(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(ca(e),e):(ca(e),null)}if(ca(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,s=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(s=r.alternate.memoizedState.cachePool.pool);var i=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==s&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),sg(e,e.updateQueue),Hn(e),null;case 4:return sd(),t===null&&Qx(e.stateNode.containerInfo),Hn(e),null;case 10:return da(e.type),Hn(e),null;case 19:if(Lr(Tr),s=e.memoizedState,s===null)return Hn(e),null;if(r=(e.flags&128)!==0,i=s.rendering,i===null)if(r)Xh(s,!1);else{if(Yn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Fg(t),i!==null){for(e.flags|=128,Xh(s,!1),t=i.updateQueue,e.updateQueue=t,sg(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)GA(n,t),n=n.sibling;return Sn(Tr,Tr.current&1|2),e.child}t=t.sibling}s.tail!==null&&ho()>zg&&(e.flags|=128,r=!0,Xh(s,!1),e.lanes=4194304)}else{if(!r)if(t=Fg(i),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,sg(e,t),Xh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Ut)return Hn(e),null}else 2*ho()-s.renderingStartTime>zg&&n!==536870912&&(e.flags|=128,r=!0,Xh(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(t=s.last,t!==null?t.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ho(),e.sibling=null,t=Tr.current,Sn(Tr,r?t&1|2:t&1),e):(Hn(e),null);case 22:case 23:return ca(e),Ax(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(Hn(e),e.subtreeFlags&6&&(e.flags|=8192)):Hn(e),n=e.updateQueue,n!==null&&sg(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&Lr(mc),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),da(xr),Hn(e),null;case 25:return null;case 30:return null}throw Error(X(156,e.tag))}function dU(t,e){switch(Ex(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return da(xr),sd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Eg(e),null;case 13:if(ca(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Hf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Lr(Tr),null;case 4:return sd(),null;case 10:return da(e.type),null;case 22:case 23:return ca(e),Ax(),t!==null&&Lr(mc),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return da(xr),null;case 25:return null;default:return null}}function GD(t,e){switch(Ex(e),e.tag){case 3:da(xr),sd();break;case 26:case 27:case 5:Eg(e);break;case 4:sd();break;case 13:ca(e);break;case 19:Lr(Tr);break;case 10:da(e.type);break;case 22:case 23:ca(e),Ax(),t!==null&&Lr(mc);break;case 24:da(xr)}}function $f(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var s=r.next;n=s;do{if((n.tag&t)===t){r=void 0;var i=n.create,o=n.inst;r=i(),o.destroy=r}n=n.next}while(n!==s)}}catch(a){on(e,e.return,a)}}function vl(t,e,n){try{var r=e.updateQueue,s=r!==null?r.lastEffect:null;if(s!==null){var i=s.next;r=i;do{if((r.tag&t)===t){var o=r.inst,a=o.destroy;if(a!==void 0){o.destroy=void 0,s=e;var l=n,u=a;try{u()}catch(d){on(s,l,d)}}}r=r.next}while(r!==i)}}catch(d){on(e,e.return,d)}}function jD(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{XA(e,n)}catch(r){on(t,t.return,r)}}}function $D(t,e,n){n.props=wc(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){on(t,e,r)}}function pf(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(s){on(t,e,s)}}function co(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(s){on(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){on(t,e,s)}else n.current=null}function KD(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){on(t,t.return,s)}}function sw(t,e,n){try{var r=t.stateNode;DU(r,t.type,n,e),r[As]=e}catch(s){on(t,t.return,s)}}function WD(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Tl(t.type)||t.tag===4}function iw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||WD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Tl(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $w(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hy));else if(r!==4&&(r===27&&Tl(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for($w(t,e,n),t=t.sibling;t!==null;)$w(t,e,n),t=t.sibling}function Bg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Tl(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Bg(t,e,n),t=t.sibling;t!==null;)Bg(t,e,n),t=t.sibling}function YD(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);jr(e,r,n),e[Jr]=t,e[As]=n}catch(i){on(t,t.return,i)}}var sa=!1,tr=!1,ow=!1,Lk=typeof WeakSet=="function"?WeakSet:Set,Dr=null;function hU(t,e){if(t=t.containerInfo,ex=Xg,t=MA(t),wx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===s&&(a=o),h===i&&++d===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(tx={focusedElem:t,selectionRange:n},Xg=!1,Dr=e;Dr!==null;)if(e=Dr,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Dr=t;else for(;Dr!==null;){switch(e=Dr,i=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,n=e,s=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var b=wc(n.type,s,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(b,i),r.__reactInternalSnapshotBeforeUpdate=t}catch(I){on(n,n.return,I)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)rx(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":rx(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(X(163))}if(t=e.sibling,t!==null){t.return=e.return,Dr=t;break}Dr=e.return}}function QD(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ja(t,n),r&4&&$f(5,n);break;case 1:if(Ja(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(o){on(n,n.return,o)}else{var s=wc(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){on(n,n.return,o)}}r&64&&jD(n),r&512&&pf(n,n.return);break;case 3:if(Ja(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{XA(t,e)}catch(o){on(n,n.return,o)}}break;case 27:e===null&&r&4&&YD(n);case 26:case 5:Ja(t,n),e===null&&r&4&&KD(n),r&512&&pf(n,n.return);break;case 12:Ja(t,n);break;case 13:Ja(t,n),r&4&&ZD(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=xU.bind(null,n),FU(t,n))));break;case 22:if(r=n.memoizedState!==null||sa,!r){e=e!==null&&e.memoizedState!==null||tr,s=sa;var i=tr;sa=r,(tr=e)&&!i?Za(t,n,(n.subtreeFlags&8772)!==0):Ja(t,n),sa=s,tr=i}break;case 30:break;default:Ja(t,n)}}function XD(t){var e=t.alternate;e!==null&&(t.alternate=null,XD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&mx(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var En=null,Ns=!1;function ra(t,e,n){for(n=n.child;n!==null;)JD(t,e,n),n=n.sibling}function JD(t,e,n){if(Qs&&typeof Qs.onCommitFiberUnmount=="function")try{Qs.onCommitFiberUnmount(Of,n)}catch{}switch(n.tag){case 26:tr||co(n,e),ra(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:tr||co(n,e);var r=En,s=Ns;Tl(n.type)&&(En=n.stateNode,Ns=!1),ra(t,e,n),vf(n.stateNode),En=r,Ns=s;break;case 5:tr||co(n,e);case 6:if(r=En,s=Ns,En=null,ra(t,e,n),En=r,Ns=s,En!==null)if(Ns)try{(En.nodeType===9?En.body:En.nodeName==="HTML"?En.ownerDocument.body:En).removeChild(n.stateNode)}catch(i){on(n,e,i)}else try{En.removeChild(n.stateNode)}catch(i){on(n,e,i)}break;case 18:En!==null&&(Ns?(t=En,Kk(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Lf(t)):Kk(En,n.stateNode));break;case 4:r=En,s=Ns,En=n.stateNode.containerInfo,Ns=!0,ra(t,e,n),En=r,Ns=s;break;case 0:case 11:case 14:case 15:tr||vl(2,n,e),tr||vl(4,n,e),ra(t,e,n);break;case 1:tr||(co(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&$D(n,e,r)),ra(t,e,n);break;case 21:ra(t,e,n);break;case 22:tr=(r=tr)||n.memoizedState!==null,ra(t,e,n),tr=r;break;default:ra(t,e,n)}}function ZD(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Lf(t)}catch(n){on(e,e.return,n)}}function fU(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Lk),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Lk),e;default:throw Error(X(435,t.tag))}}function aw(t,e){var n=fU(t);e.forEach(function(r){var s=TU.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}function $s(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r],i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 27:if(Tl(a.type)){En=a.stateNode,Ns=!1;break e}break;case 5:En=a.stateNode,Ns=!1;break e;case 3:case 4:En=a.stateNode.containerInfo,Ns=!0;break e}a=a.return}if(En===null)throw Error(X(160));JD(i,o,s),En=null,Ns=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)eC(e,t),e=e.sibling}var Bi=null;function eC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:$s(e,t),Ks(t),r&4&&(vl(3,t,t.return),$f(3,t),vl(5,t,t.return));break;case 1:$s(e,t),Ks(t),r&512&&(tr||n===null||co(n,n.return)),r&64&&sa&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var s=Bi;if($s(e,t),Ks(t),r&512&&(tr||n===null||co(n,n.return)),r&4){var i=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":i=s.getElementsByTagName("title")[0],(!i||i[Uf]||i[Jr]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(r),s.head.insertBefore(i,s.querySelector("head > title"))),jr(i,r,n),i[Jr]=t,Cr(i),r=i;break e;case"link":var o=Jk("link","href",s).get(r+(n.href||""));if(o){for(var a=0;a<o.length;a++)if(i=o[a],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(a,1);break t}}i=s.createElement(r),jr(i,r,n),s.head.appendChild(i);break;case"meta":if(o=Jk("meta","content",s).get(r+(n.content||""))){for(a=0;a<o.length;a++)if(i=o[a],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(a,1);break t}}i=s.createElement(r),jr(i,r,n),s.head.appendChild(i);break;default:throw Error(X(468,r))}i[Jr]=t,Cr(i),r=i}t.stateNode=r}else Zk(s,t.type,t.stateNode);else t.stateNode=Xk(s,r,t.memoizedProps);else i!==r?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,r===null?Zk(s,t.type,t.stateNode):Xk(s,r,t.memoizedProps)):r===null&&t.stateNode!==null&&sw(t,t.memoizedProps,n.memoizedProps)}break;case 27:$s(e,t),Ks(t),r&512&&(tr||n===null||co(n,n.return)),n!==null&&r&4&&sw(t,t.memoizedProps,n.memoizedProps);break;case 5:if($s(e,t),Ks(t),r&512&&(tr||n===null||co(n,n.return)),t.flags&32){s=t.stateNode;try{od(s,"")}catch(p){on(t,t.return,p)}}r&4&&t.stateNode!=null&&(s=t.memoizedProps,sw(t,s,n!==null?n.memoizedProps:s)),r&1024&&(ow=!0);break;case 6:if($s(e,t),Ks(t),r&4){if(t.stateNode===null)throw Error(X(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(p){on(t,t.return,p)}}break;case 3:if(xg=null,s=Bi,Bi=Wg(e.containerInfo),$s(e,t),Bi=s,Ks(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lf(e.containerInfo)}catch(p){on(t,t.return,p)}ow&&(ow=!1,tC(t));break;case 4:r=Bi,Bi=Wg(t.stateNode.containerInfo),$s(e,t),Ks(t),Bi=r;break;case 12:$s(e,t),Ks(t);break;case 13:$s(e,t),Ks(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Kx=ho()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,aw(t,r)));break;case 22:s=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=sa,d=tr;if(sa=u||s,tr=d||l,$s(e,t),tr=d,sa=u,Ks(t),r&8192)e:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||l||sa||tr||cc(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(i=l.stateNode,s)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{a=l.stateNode;var f=l.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;a.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(p){on(l,l.return,p)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=s?"":l.memoizedProps}catch(p){on(l,l.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,aw(t,n))));break;case 19:$s(e,t),Ks(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,aw(t,r)));break;case 30:break;case 21:break;default:$s(e,t),Ks(t)}}function Ks(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(WD(r)){n=r;break}r=r.return}if(n==null)throw Error(X(160));switch(n.tag){case 27:var s=n.stateNode,i=iw(t);Bg(t,i,s);break;case 5:var o=n.stateNode;n.flags&32&&(od(o,""),n.flags&=-33);var a=iw(t);Bg(t,a,o);break;case 3:case 4:var l=n.stateNode.containerInfo,u=iw(t);$w(t,u,l);break;default:throw Error(X(161))}}catch(d){on(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tC(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;tC(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ja(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)QD(t,e.alternate,e),e=e.sibling}function cc(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:vl(4,e,e.return),cc(e);break;case 1:co(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&$D(e,e.return,n),cc(e);break;case 27:vf(e.stateNode);case 26:case 5:co(e,e.return),cc(e);break;case 22:e.memoizedState===null&&cc(e);break;case 30:cc(e);break;default:cc(e)}t=t.sibling}}function Za(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,s=t,i=e,o=i.flags;switch(i.tag){case 0:case 11:case 15:Za(s,i,n),$f(4,i);break;case 1:if(Za(s,i,n),r=i,s=r.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(u){on(r,r.return,u)}if(r=i,s=r.updateQueue,s!==null){var a=r.stateNode;try{var l=s.shared.hiddenCallbacks;if(l!==null)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)QA(l[s],a)}catch(u){on(r,r.return,u)}}n&&o&64&&jD(i),pf(i,i.return);break;case 27:YD(i);case 26:case 5:Za(s,i,n),n&&r===null&&o&4&&KD(i),pf(i,i.return);break;case 12:Za(s,i,n);break;case 13:Za(s,i,n),n&&o&4&&ZD(s,i);break;case 22:i.memoizedState===null&&Za(s,i,n),pf(i,i.return);break;case 30:break;default:Za(s,i,n)}e=e.sibling}}function qx(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&zf(n))}function Gx(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&zf(t))}function ao(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)nC(t,e,n,r),e=e.sibling}function nC(t,e,n,r){var s=e.flags;switch(e.tag){case 0:case 11:case 15:ao(t,e,n,r),s&2048&&$f(9,e);break;case 1:ao(t,e,n,r);break;case 3:ao(t,e,n,r),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&zf(t)));break;case 12:if(s&2048){ao(t,e,n,r),t=e.stateNode;try{var i=e.memoizedProps,o=i.id,a=i.onPostCommit;typeof a=="function"&&a(o,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){on(e,e.return,l)}}else ao(t,e,n,r);break;case 13:ao(t,e,n,r);break;case 23:break;case 22:i=e.stateNode,o=e.alternate,e.memoizedState!==null?i._visibility&2?ao(t,e,n,r):gf(t,e):i._visibility&2?ao(t,e,n,r):(i._visibility|=2,Mu(t,e,n,r,(e.subtreeFlags&10256)!==0)),s&2048&&qx(o,e);break;case 24:ao(t,e,n,r),s&2048&&Gx(e.alternate,e);break;default:ao(t,e,n,r)}}function Mu(t,e,n,r,s){for(s=s&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var i=t,o=e,a=n,l=r,u=o.flags;switch(o.tag){case 0:case 11:case 15:Mu(i,o,a,l,s),$f(8,o);break;case 23:break;case 22:var d=o.stateNode;o.memoizedState!==null?d._visibility&2?Mu(i,o,a,l,s):gf(i,o):(d._visibility|=2,Mu(i,o,a,l,s)),s&&u&2048&&qx(o.alternate,o);break;case 24:Mu(i,o,a,l,s),s&&u&2048&&Gx(o.alternate,o);break;default:Mu(i,o,a,l,s)}e=e.sibling}}function gf(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,s=r.flags;switch(r.tag){case 22:gf(n,r),s&2048&&qx(r.alternate,r);break;case 24:gf(n,r),s&2048&&Gx(r.alternate,r);break;default:gf(n,r)}e=e.sibling}}var sf=8192;function Lu(t){if(t.subtreeFlags&sf)for(t=t.child;t!==null;)rC(t),t=t.sibling}function rC(t){switch(t.tag){case 26:Lu(t),t.flags&sf&&t.memoizedState!==null&&QU(Bi,t.memoizedState,t.memoizedProps);break;case 5:Lu(t);break;case 3:case 4:var e=Bi;Bi=Wg(t.stateNode.containerInfo),Lu(t),Bi=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=sf,sf=16777216,Lu(t),sf=e):Lu(t));break;default:Lu(t)}}function sC(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Jh(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Dr=r,oC(r,t)}sC(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)iC(t),t=t.sibling}function iC(t){switch(t.tag){case 0:case 11:case 15:Jh(t),t.flags&2048&&vl(9,t,t.return);break;case 3:Jh(t);break;case 12:Jh(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,vg(t)):Jh(t);break;default:Jh(t)}}function vg(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Dr=r,oC(r,t)}sC(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:vl(8,e,e.return),vg(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,vg(e));break;default:vg(e)}t=t.sibling}}function oC(t,e){for(;Dr!==null;){var n=Dr;switch(n.tag){case 0:case 11:case 15:vl(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:zf(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Dr=r;else e:for(n=t;Dr!==null;){r=Dr;var s=r.sibling,i=r.return;if(XD(r),r===n){Dr=null;break e}if(s!==null){s.return=i,Dr=s;break e}Dr=i}}}var mU={getCacheForType:function(t){var e=Zr(xr),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},pU=typeof WeakMap=="function"?WeakMap:Map,Wt=0,fn=null,yt=null,kt=0,Kt=0,Ws=null,ll=!1,bd=!1,jx=!1,pa=0,Yn=0,wl=0,pc=0,$x=0,Ti=0,dd=0,yf=null,ks=null,Kw=!1,Kx=0,zg=1/0,qg=null,fl=null,Gr=0,ml=null,hd=null,rd=0,Ww=0,Yw=null,aC=null,bf=0,Qw=null;function Js(){if(Wt&2&&kt!==0)return kt&-kt;if($e.T!==null){var t=ad;return t!==0?t:Yx()}return bA()}function lC(){Ti===0&&(Ti=!(kt&536870912)||Ut?mA():536870912);var t=Ii.current;return t!==null&&(t.flags|=32),Ti}function Zs(t,e,n){(t===fn&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)&&(fd(t,0),cl(t,kt,Ti,!1)),Ff(t,n),(!(Wt&2)||t!==fn)&&(t===fn&&(!(Wt&2)&&(pc|=n),Yn===4&&cl(t,kt,Ti,!1)),po(t))}function cC(t,e,n){if(Wt&6)throw Error(X(327));var r=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Mf(t,e),s=r?bU(t,e):lw(t,e,!0),i=r;do{if(s===0){bd&&!r&&cl(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!gU(n)){s=lw(t,e,!1),i=!1;continue}if(s===2){if(i=e,t.errorRecoveryDisabledLanes&i)var o=0;else o=t.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){e=o;e:{var a=t;s=yf;var l=a.current.memoizedState.isDehydrated;if(l&&(fd(a,o).flags|=256),o=lw(a,o,!1),o!==2){if(jx&&!l){a.errorRecoveryDisabledLanes|=i,pc|=i,s=4;break e}i=ks,ks=s,i!==null&&(ks===null?ks=i:ks.push.apply(ks,i))}s=o}if(i=!1,s!==2)continue}}if(s===1){fd(t,0),cl(t,e,0,!0);break}e:{switch(r=t,i=s,i){case 0:case 1:throw Error(X(345));case 4:if((e&4194048)!==e)break;case 6:cl(r,e,Ti,!ll);break e;case 2:ks=null;break;case 3:case 5:break;default:throw Error(X(329))}if((e&62914560)===e&&(s=Kx+300-ho(),10<s)){if(cl(r,e,Ti,!ll),Zg(r,0,!0)!==0)break e;r.timeoutHandle=kC(Pk.bind(null,r,n,ks,qg,Kw,e,Ti,pc,dd,ll,i,2,-0,0),s);break e}Pk(r,n,ks,qg,Kw,e,Ti,pc,dd,ll,i,0,-0,0)}}break}while(!0);po(t)}function Pk(t,e,n,r,s,i,o,a,l,u,d,f,h,p){if(t.timeoutHandle=-1,f=e.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Af={stylesheets:null,count:0,unsuspend:YU},rC(e),f=XU(),f!==null)){t.cancelPendingCommit=f(Mk.bind(null,t,e,i,n,r,s,o,a,l,d,1,h,p)),cl(t,i,o,!u);return}Mk(t,e,i,n,r,s,o,a,l)}function gU(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ei(i(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cl(t,e,n,r){e&=~$x,e&=~pc,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var s=e;0<s;){var i=31-Xs(s),o=1<<i;r[i]=-1,s&=~o}n!==0&&gA(t,n,e)}function cy(){return Wt&6?!0:(Kf(0,!1),!1)}function Wx(){if(yt!==null){if(Kt===0)var t=yt.return;else t=yt,la=_c=null,Px(t),nd=null,Sf=0,t=yt;for(;t!==null;)GD(t.alternate,t),t=t.return;yt=null}}function fd(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,RU(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Wx(),fn=t,yt=n=ua(t.current,null),kt=e,Kt=0,Ws=null,ll=!1,bd=Mf(t,e),jx=!1,dd=Ti=$x=pc=wl=Yn=0,ks=yf=null,Kw=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var s=31-Xs(r),i=1<<s;e|=t[s],r&=~i}return pa=e,ry(),n}function uC(t,e){at=null,$e.H=Mg,e===qf||e===iy?(e=hk(),Kt=3):e===WA?(e=hk(),Kt=4):Kt=e===UD?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ws=e,yt===null&&(Yn=1,Vg(t,xi(e,t.current)))}function dC(){var t=$e.H;return $e.H=Mg,t===null?Mg:t}function hC(){var t=$e.A;return $e.A=mU,t}function Xw(){Yn=4,ll||(kt&4194048)!==kt&&Ii.current!==null||(bd=!0),!(wl&134217727)&&!(pc&134217727)||fn===null||cl(fn,kt,Ti,!1)}function lw(t,e,n){var r=Wt;Wt|=2;var s=dC(),i=hC();(fn!==t||kt!==e)&&(qg=null,fd(t,e)),e=!1;var o=Yn;e:do try{if(Kt!==0&&yt!==null){var a=yt,l=Ws;switch(Kt){case 8:Wx(),o=6;break e;case 3:case 2:case 9:case 6:Ii.current===null&&(e=!0);var u=Kt;if(Kt=0,Ws=null,Yu(t,a,l,u),n&&bd){o=0;break e}break;default:u=Kt,Kt=0,Ws=null,Yu(t,a,l,u)}}yU(),o=Yn;break}catch(d){uC(t,d)}while(!0);return e&&t.shellSuspendCounter++,la=_c=null,Wt=r,$e.H=s,$e.A=i,yt===null&&(fn=null,kt=0,ry()),o}function yU(){for(;yt!==null;)fC(yt)}function bU(t,e){var n=Wt;Wt|=2;var r=dC(),s=hC();fn!==t||kt!==e?(qg=null,zg=ho()+500,fd(t,e)):bd=Mf(t,e);e:do try{if(Kt!==0&&yt!==null){e=yt;var i=Ws;t:switch(Kt){case 1:Kt=0,Ws=null,Yu(t,e,i,1);break;case 2:case 9:if(dk(i)){Kt=0,Ws=null,Ok(e);break}e=function(){Kt!==2&&Kt!==9||fn!==t||(Kt=7),po(t)},i.then(e,e);break e;case 3:Kt=7;break e;case 4:Kt=5;break e;case 7:dk(i)?(Kt=0,Ws=null,Ok(e)):(Kt=0,Ws=null,Yu(t,e,i,7));break;case 5:var o=null;switch(yt.tag){case 26:o=yt.memoizedState;case 5:case 27:var a=yt;if(!o||RC(o)){Kt=0,Ws=null;var l=a.sibling;if(l!==null)yt=l;else{var u=a.return;u!==null?(yt=u,uy(u)):yt=null}break t}}Kt=0,Ws=null,Yu(t,e,i,5);break;case 6:Kt=0,Ws=null,Yu(t,e,i,6);break;case 8:Wx(),Yn=6;break e;default:throw Error(X(462))}}vU();break}catch(d){uC(t,d)}while(!0);return la=_c=null,$e.H=r,$e.A=s,Wt=n,yt!==null?0:(fn=null,kt=0,ry(),Yn)}function vU(){for(;yt!==null&&!BF();)fC(yt)}function fC(t){var e=qD(t.alternate,t,pa);t.memoizedProps=t.pendingProps,e===null?uy(t):yt=e}function Ok(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=kk(n,e,e.pendingProps,e.type,void 0,kt);break;case 11:e=kk(n,e,e.pendingProps,e.type.render,e.ref,kt);break;case 5:Px(e);default:GD(n,e),e=yt=GA(e,pa),e=qD(n,e,pa)}t.memoizedProps=t.pendingProps,e===null?uy(t):yt=e}function Yu(t,e,n,r){la=_c=null,Px(e),nd=null,Sf=0;var s=e.return;try{if(lU(t,s,e,n,kt)){Yn=1,Vg(t,xi(n,t.current)),yt=null;return}}catch(i){if(s!==null)throw yt=s,i;Yn=1,Vg(t,xi(n,t.current)),yt=null;return}e.flags&32768?(Ut||r===1?t=!0:bd||kt&536870912?t=!1:(ll=t=!0,(r===2||r===9||r===3||r===6)&&(r=Ii.current,r!==null&&r.tag===13&&(r.flags|=16384))),mC(e,t)):uy(e)}function uy(t){var e=t;do{if(e.flags&32768){mC(e,ll);return}t=e.return;var n=uU(e.alternate,e,pa);if(n!==null){yt=n;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=t}while(e!==null);Yn===0&&(Yn=5)}function mC(t,e){do{var n=dU(t.alternate,t);if(n!==null){n.flags&=32767,yt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){yt=t;return}yt=t=n}while(t!==null);Yn=6,yt=null}function Mk(t,e,n,r,s,i,o,a,l){t.cancelPendingCommit=null;do dy();while(Gr!==0);if(Wt&6)throw Error(X(327));if(e!==null){if(e===t.current)throw Error(X(177));if(i=e.lanes|e.childLanes,i|=xx,XF(t,n,i,o,a,l),t===fn&&(yt=fn=null,kt=0),hd=e,ml=t,rd=n,Ww=i,Yw=s,aC=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,IU(Sg,function(){return vC(!0),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=$e.T,$e.T=null,s=Vt.p,Vt.p=2,o=Wt,Wt|=4;try{hU(t,e,n)}finally{Wt=o,Vt.p=s,$e.T=r}}Gr=1,pC(),gC(),yC()}}function pC(){if(Gr===1){Gr=0;var t=ml,e=hd,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=$e.T,$e.T=null;var r=Vt.p;Vt.p=2;var s=Wt;Wt|=4;try{eC(e,t);var i=tx,o=MA(t.containerInfo),a=i.focusedElem,l=i.selectionRange;if(o!==a&&a&&a.ownerDocument&&OA(a.ownerDocument.documentElement,a)){if(l!==null&&wx(a)){var u=l.start,d=l.end;if(d===void 0&&(d=u),"selectionStart"in a)a.selectionStart=u,a.selectionEnd=Math.min(d,a.value.length);else{var f=a.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var p=h.getSelection(),b=a.textContent.length,I=Math.min(l.start,b),v=l.end===void 0?I:Math.min(l.end,b);!p.extend&&I>v&&(o=v,v=I,I=o);var g=rk(a,I),y=rk(a,v);if(g&&y&&(p.rangeCount!==1||p.anchorNode!==g.node||p.anchorOffset!==g.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var _=f.createRange();_.setStart(g.node,g.offset),p.removeAllRanges(),I>v?(p.addRange(_),p.extend(y.node,y.offset)):(_.setEnd(y.node,y.offset),p.addRange(_))}}}}for(f=[],p=a;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<f.length;a++){var A=f[a];A.element.scrollLeft=A.left,A.element.scrollTop=A.top}}Xg=!!ex,tx=ex=null}finally{Wt=s,Vt.p=r,$e.T=n}}t.current=e,Gr=2}}function gC(){if(Gr===2){Gr=0;var t=ml,e=hd,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=$e.T,$e.T=null;var r=Vt.p;Vt.p=2;var s=Wt;Wt|=4;try{QD(t,e.alternate,e)}finally{Wt=s,Vt.p=r,$e.T=n}}Gr=3}}function yC(){if(Gr===4||Gr===3){Gr=0,zF();var t=ml,e=hd,n=rd,r=aC;e.subtreeFlags&10256||e.flags&10256?Gr=5:(Gr=0,hd=ml=null,bC(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(fl=null),fx(n),e=e.stateNode,Qs&&typeof Qs.onCommitFiberRoot=="function")try{Qs.onCommitFiberRoot(Of,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=$e.T,s=Vt.p,Vt.p=2,$e.T=null;try{for(var i=t.onRecoverableError,o=0;o<r.length;o++){var a=r[o];i(a.value,{componentStack:a.stack})}}finally{$e.T=e,Vt.p=s}}rd&3&&dy(),po(t),s=t.pendingLanes,n&4194090&&s&42?t===Qw?bf++:(bf=0,Qw=t):bf=0,Kf(0,!1)}}function bC(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,zf(e)))}function dy(t){return pC(),gC(),yC(),vC(t)}function vC(){if(Gr!==5)return!1;var t=ml,e=Ww;Ww=0;var n=fx(rd),r=$e.T,s=Vt.p;try{Vt.p=32>n?32:n,$e.T=null,n=Yw,Yw=null;var i=ml,o=rd;if(Gr=0,hd=ml=null,rd=0,Wt&6)throw Error(X(331));var a=Wt;if(Wt|=4,iC(i.current),nC(i,i.current,o,n),Wt=a,Kf(0,!1),Qs&&typeof Qs.onPostCommitFiberRoot=="function")try{Qs.onPostCommitFiberRoot(Of,i)}catch{}return!0}finally{Vt.p=s,$e.T=r,bC(t,e)}}function Fk(t,e,n){e=xi(n,e),e=qw(t.stateNode,e,2),t=hl(t,e,2),t!==null&&(Ff(t,2),po(t))}function on(t,e,n){if(t.tag===3)Fk(t,t,n);else for(;e!==null;){if(e.tag===3){Fk(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fl===null||!fl.has(r))){t=xi(n,t),n=MD(2),r=hl(e,n,2),r!==null&&(FD(n,r,e,t),Ff(r,2),po(r));break}}e=e.return}}function cw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new pU;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(jx=!0,s.add(n),t=wU.bind(null,t,e,n),e.then(t,t))}function wU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,fn===t&&(kt&n)===n&&(Yn===4||Yn===3&&(kt&62914560)===kt&&300>ho()-Kx?!(Wt&2)&&fd(t,0):$x|=n,dd===kt&&(dd=0)),po(t)}function wC(t,e){e===0&&(e=pA()),t=yd(t,e),t!==null&&(Ff(t,e),po(t))}function xU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wC(t,n)}function TU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(X(314))}r!==null&&r.delete(e),wC(t,n)}function IU(t,e){return dx(t,e)}var Gg=null,Fu=null,Jw=!1,jg=!1,uw=!1,gc=0;function po(t){t!==Fu&&t.next===null&&(Fu===null?Gg=Fu=t:Fu=Fu.next=t),jg=!0,Jw||(Jw=!0,EU())}function Kf(t,e){if(!uw&&jg){uw=!0;do for(var n=!1,r=Gg;r!==null;){if(!e)if(t!==0){var s=r.pendingLanes;if(s===0)var i=0;else{var o=r.suspendedLanes,a=r.pingedLanes;i=(1<<31-Xs(42|t)+1)-1,i&=s&~(o&~a),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,Uk(r,i))}else i=kt,i=Zg(r,r===fn?i:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(i&3)||Mf(r,i)||(n=!0,Uk(r,i));r=r.next}while(n);uw=!1}}function _U(){xC()}function xC(){jg=Jw=!1;var t=0;gc!==0&&(CU()&&(t=gc),gc=0);for(var e=ho(),n=null,r=Gg;r!==null;){var s=r.next,i=TC(r,e);i===0?(r.next=null,n===null?Gg=s:n.next=s,s===null&&(Fu=n)):(n=r,(t!==0||i&3)&&(jg=!0)),r=s}Kf(t,!1)}function TC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var o=31-Xs(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=QF(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}if(e=fn,n=kt,n=Zg(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Fv(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Mf(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Fv(r),fx(n)){case 2:case 8:n=hA;break;case 32:n=Sg;break;case 268435456:n=fA;break;default:n=Sg}return r=IC.bind(null,t),n=dx(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Fv(r),t.callbackPriority=2,t.callbackNode=null,2}function IC(t,e){if(Gr!==0&&Gr!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(dy(!0)&&t.callbackNode!==n)return null;var r=kt;return r=Zg(t,t===fn?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(cC(t,r,e),TC(t,ho()),t.callbackNode!=null&&t.callbackNode===n?IC.bind(null,t):null)}function Uk(t,e){if(dy())return null;cC(t,e,!0)}function EU(){LU(function(){Wt&6?dx(dA,_U):xC()})}function Yx(){return gc===0&&(gc=mA()),gc}function Vk(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:dg(""+t)}function Hk(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function SU(t,e,n,r,s){if(e==="submit"&&n&&n.stateNode===s){var i=Vk((s[As]||null).action),o=r.submitter;o&&(e=(e=o[As]||null)?Vk(e.formAction):o.getAttribute("formAction"),e!==null&&(i=e,o=null));var a=new ey("action","action",null,r,s);t.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(gc!==0){var l=o?Hk(s,o):new FormData(s);Bw(n,{pending:!0,data:l,method:s.method,action:i},null,l)}}else typeof i=="function"&&(a.preventDefault(),l=o?Hk(s,o):new FormData(s),Bw(n,{pending:!0,data:l,method:s.method,action:i},i,l))},currentTarget:s}]})}}for(ig=0;ig<Aw.length;ig++)og=Aw[ig],Bk=og.toLowerCase(),zk=og[0].toUpperCase()+og.slice(1),qi(Bk,"on"+zk);var og,Bk,zk,ig;qi(UA,"onAnimationEnd");qi(VA,"onAnimationIteration");qi(HA,"onAnimationStart");qi("dblclick","onDoubleClick");qi("focusin","onFocus");qi("focusout","onBlur");qi(j6,"onTransitionRun");qi($6,"onTransitionStart");qi(K6,"onTransitionCancel");qi(BA,"onTransitionEnd");id("onMouseEnter",["mouseout","mouseover"]);id("onMouseLeave",["mouseout","mouseover"]);id("onPointerEnter",["pointerout","pointerover"]);id("onPointerLeave",["pointerout","pointerover"]);xc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xc("onBeforeInput",["compositionend","keypress","textInput","paste"]);xc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nf));function _C(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;i=a,s.currentTarget=u;try{i(s)}catch(d){Ug(d)}s.currentTarget=null,i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;i=a,s.currentTarget=u;try{i(s)}catch(d){Ug(d)}s.currentTarget=null,i=l}}}}function gt(t,e){var n=e[Tw];n===void 0&&(n=e[Tw]=new Set);var r=t+"__bubble";n.has(r)||(EC(e,t,2,!1),n.add(r))}function dw(t,e,n){var r=0;e&&(r|=4),EC(n,t,r,e)}var ag="_reactListening"+Math.random().toString(36).slice(2);function Qx(t){if(!t[ag]){t[ag]=!0,vA.forEach(function(n){n!=="selectionchange"&&(NU.has(n)||dw(n,!1,t),dw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ag]||(e[ag]=!0,dw("selectionchange",!1,e))}}function EC(t,e,n,r){switch(FC(e)){case 2:var s=eV;break;case 8:s=tV;break;default:s=eT}n=s.bind(null,e,n,t),s=void 0,!Sw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function hw(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&o.stateNode.containerInfo===s)return;o=o.return}for(;a!==null;){if(o=Hu(a),o===null)return;if(l=o.tag,l===5||l===6||l===26||l===27){r=i=o;continue e}a=a.parentNode}}r=r.return}NA(function(){var u=i,d=gx(n),f=[];e:{var h=zA.get(t);if(h!==void 0){var p=ey,b=t;switch(t){case"keypress":if(fg(n)===0)break e;case"keydown":case"keyup":p=I6;break;case"focusin":b="focus",p=jv;break;case"focusout":b="blur",p=jv;break;case"beforeblur":case"afterblur":p=jv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=WN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=d6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=S6;break;case UA:case VA:case HA:p=m6;break;case BA:p=k6;break;case"scroll":case"scrollend":p=c6;break;case"wheel":p=D6;break;case"copy":case"cut":case"paste":p=g6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=QN;break;case"toggle":case"beforetoggle":p=R6}var I=(e&4)!==0,v=!I&&(t==="scroll"||t==="scrollend"),g=I?h!==null?h+"Capture":null:h;I=[];for(var y=u,_;y!==null;){var A=y;if(_=A.stateNode,A=A.tag,A!==5&&A!==26&&A!==27||_===null||g===null||(A=xf(y,g),A!=null&&I.push(kf(y,A,_))),v)break;y=y.return}0<I.length&&(h=new p(h,b,null,n,d),f.push({event:h,listeners:I}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Ew&&(b=n.relatedTarget||n.fromElement)&&(Hu(b)||b[pd]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(b=n.relatedTarget||n.toElement,p=u,b=b?Hu(b):null,b!==null&&(v=Pf(b),I=b.tag,b!==v||I!==5&&I!==27&&I!==6)&&(b=null)):(p=null,b=u),p!==b)){if(I=WN,A="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(I=QN,A="onPointerLeave",g="onPointerEnter",y="pointer"),v=p==null?h:rf(p),_=b==null?h:rf(b),h=new I(A,y+"leave",p,n,d),h.target=v,h.relatedTarget=_,A=null,Hu(d)===u&&(I=new I(g,y+"enter",b,n,d),I.target=_,I.relatedTarget=v,A=I),v=A,p&&b)t:{for(I=p,g=b,y=0,_=I;_;_=Pu(_))y++;for(_=0,A=g;A;A=Pu(A))_++;for(;0<y-_;)I=Pu(I),y--;for(;0<_-y;)g=Pu(g),_--;for(;y--;){if(I===g||g!==null&&I===g.alternate)break t;I=Pu(I),g=Pu(g)}I=null}else I=null;p!==null&&qk(f,h,p,I,!1),b!==null&&v!==null&&qk(f,v,b,I,!0)}}e:{if(h=u?rf(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var R=ek;else if(ZN(h))if(LA)R=z6;else{R=H6;var U=V6}else p=h.nodeName,!p||p.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&px(u.elementType)&&(R=ek):R=B6;if(R&&(R=R(t,u))){RA(f,R,n,d);break e}U&&U(t,h,u),t==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&_w(h,"number",h.value)}switch(U=u?rf(u):window,t){case"focusin":(ZN(U)||U.contentEditable==="true")&&(qu=U,Nw=u,lf=null);break;case"focusout":lf=Nw=qu=null;break;case"mousedown":kw=!0;break;case"contextmenu":case"mouseup":case"dragend":kw=!1,sk(f,n,d);break;case"selectionchange":if(G6)break;case"keydown":case"keyup":sk(f,n,d)}var S;if(vx)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else zu?DA(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(AA&&n.locale!=="ko"&&(zu||E!=="onCompositionStart"?E==="onCompositionEnd"&&zu&&(S=kA()):(al=d,yx="value"in al?al.value:al.textContent,zu=!0)),U=$g(u,E),0<U.length&&(E=new YN(E,t,null,n,d),f.push({event:E,listeners:U}),S?E.data=S:(S=CA(n),S!==null&&(E.data=S)))),(S=P6?O6(t,n):M6(t,n))&&(E=$g(u,"onBeforeInput"),0<E.length&&(U=new YN("onBeforeInput","beforeinput",null,n,d),f.push({event:U,listeners:E}),U.data=S)),SU(f,t,u,n,d)}_C(f,e)})}function kf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $g(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=xf(t,n),s!=null&&r.unshift(kf(t,s,i)),s=xf(t,e),s!=null&&r.push(kf(t,s,i))),t.tag===3)return r;t=t.return}return[]}function Pu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function qk(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(a=a.tag,l!==null&&l===r)break;a!==5&&a!==26&&a!==27||u===null||(l=u,s?(u=xf(n,i),u!=null&&o.unshift(kf(n,u,l))):s||(u=xf(n,i),u!=null&&o.push(kf(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var kU=/\r\n?/g,AU=/\u0000|\uFFFD/g;function Gk(t){return(typeof t=="string"?t:""+t).replace(kU,`
`).replace(AU,"")}function SC(t,e){return e=Gk(e),Gk(t)===e}function hy(){}function en(t,e,n,r,s,i){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||od(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&od(t,""+r);break;case"className":Qp(t,"class",r);break;case"tabIndex":Qp(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Qp(t,n,r);break;case"style":SA(t,r,i);break;case"data":if(e!=="object"){Qp(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=dg(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&en(t,e,"name",s.name,s,null),en(t,e,"formEncType",s.formEncType,s,null),en(t,e,"formMethod",s.formMethod,s,null),en(t,e,"formTarget",s.formTarget,s,null)):(en(t,e,"encType",s.encType,s,null),en(t,e,"method",s.method,s,null),en(t,e,"target",s.target,s,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=dg(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=hy);break;case"onScroll":r!=null&&gt("scroll",t);break;case"onScrollEnd":r!=null&&gt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(X(61));if(n=r.__html,n!=null){if(s.children!=null)throw Error(X(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=dg(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":gt("beforetoggle",t),gt("toggle",t),ug(t,"popover",r);break;case"xlinkActuate":ta(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ta(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ta(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ta(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ta(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ta(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ta(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ta(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ta(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ug(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=a6.get(n)||n,ug(t,n,r))}}function Zw(t,e,n,r,s,i){switch(n){case"style":SA(t,r,i);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(X(61));if(n=r.__html,n!=null){if(s.children!=null)throw Error(X(60));t.innerHTML=n}}break;case"children":typeof r=="string"?od(t,r):(typeof r=="number"||typeof r=="bigint")&&od(t,""+r);break;case"onScroll":r!=null&&gt("scroll",t);break;case"onScrollEnd":r!=null&&gt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=hy);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wA.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),i=t[As]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,s),typeof r=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,s);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):ug(t,n,r)}}}function jr(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",t),gt("load",t);var r=!1,s=!1,i;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(o!=null)switch(i){case"src":r=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(X(137,e));default:en(t,e,i,o,n,null)}}s&&en(t,e,"srcSet",n.srcSet,n,null),r&&en(t,e,"src",n.src,n,null);return;case"input":gt("invalid",t);var a=i=o=s=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"name":s=d;break;case"type":o=d;break;case"checked":l=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":a=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(X(137,e));break;default:en(t,e,r,d,n,null)}}IA(t,i,a,l,u,o,s,!1),Ng(t);return;case"select":gt("invalid",t),r=o=i=null;for(s in n)if(n.hasOwnProperty(s)&&(a=n[s],a!=null))switch(s){case"value":i=a;break;case"defaultValue":o=a;break;case"multiple":r=a;default:en(t,e,s,a,n,null)}e=i,n=o,t.multiple=!!r,e!=null?Xu(t,!!r,e,!1):n!=null&&Xu(t,!!r,n,!0);return;case"textarea":gt("invalid",t),i=s=r=null;for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"value":r=a;break;case"defaultValue":s=a;break;case"children":i=a;break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(X(91));break;default:en(t,e,o,a,n,null)}EA(t,r,s,i),Ng(t);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:en(t,e,l,r,n,null)}return;case"dialog":gt("beforetoggle",t),gt("toggle",t),gt("cancel",t),gt("close",t);break;case"iframe":case"object":gt("load",t);break;case"video":case"audio":for(r=0;r<Nf.length;r++)gt(Nf[r],t);break;case"image":gt("error",t),gt("load",t);break;case"details":gt("toggle",t);break;case"embed":case"source":case"link":gt("error",t),gt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(X(137,e));default:en(t,e,u,r,n,null)}return;default:if(px(e)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Zw(t,e,d,r,n,void 0));return}}for(a in n)n.hasOwnProperty(a)&&(r=n[a],r!=null&&en(t,e,a,r,n,null))}function DU(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,o=null,a=null,l=null,u=null,d=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(p)||en(t,e,p,null,r,f)}}for(var h in r){var p=r[h];if(f=n[h],r.hasOwnProperty(h)&&(p!=null||f!=null))switch(h){case"type":i=p;break;case"name":s=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":a=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(X(137,e));break;default:p!==f&&en(t,e,h,p,r,f)}}Iw(t,o,a,l,u,d,i,s);return;case"select":p=o=a=h=null;for(i in n)if(l=n[i],n.hasOwnProperty(i)&&l!=null)switch(i){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(i)||en(t,e,i,null,r,l)}for(s in r)if(i=r[s],l=n[s],r.hasOwnProperty(s)&&(i!=null||l!=null))switch(s){case"value":h=i;break;case"defaultValue":a=i;break;case"multiple":o=i;default:i!==l&&en(t,e,s,i,r,l)}e=a,n=o,r=p,h!=null?Xu(t,!!n,h,!1):!!r!=!!n&&(e!=null?Xu(t,!!n,e,!0):Xu(t,!!n,n?[]:"",!1));return;case"textarea":p=h=null;for(a in n)if(s=n[a],n.hasOwnProperty(a)&&s!=null&&!r.hasOwnProperty(a))switch(a){case"value":break;case"children":break;default:en(t,e,a,null,r,s)}for(o in r)if(s=r[o],i=n[o],r.hasOwnProperty(o)&&(s!=null||i!=null))switch(o){case"value":h=s;break;case"defaultValue":p=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(X(91));break;default:s!==i&&en(t,e,o,s,r,i)}_A(t,h,p);return;case"option":for(var b in n)if(h=n[b],n.hasOwnProperty(b)&&h!=null&&!r.hasOwnProperty(b))switch(b){case"selected":t.selected=!1;break;default:en(t,e,b,null,r,h)}for(l in r)if(h=r[l],p=n[l],r.hasOwnProperty(l)&&h!==p&&(h!=null||p!=null))switch(l){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:en(t,e,l,h,r,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var I in n)h=n[I],n.hasOwnProperty(I)&&h!=null&&!r.hasOwnProperty(I)&&en(t,e,I,null,r,h);for(u in r)if(h=r[u],p=n[u],r.hasOwnProperty(u)&&h!==p&&(h!=null||p!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(X(137,e));break;default:en(t,e,u,h,r,p)}return;default:if(px(e)){for(var v in n)h=n[v],n.hasOwnProperty(v)&&h!==void 0&&!r.hasOwnProperty(v)&&Zw(t,e,v,void 0,r,h);for(d in r)h=r[d],p=n[d],!r.hasOwnProperty(d)||h===p||h===void 0&&p===void 0||Zw(t,e,d,h,r,p);return}}for(var g in n)h=n[g],n.hasOwnProperty(g)&&h!=null&&!r.hasOwnProperty(g)&&en(t,e,g,null,r,h);for(f in r)h=r[f],p=n[f],!r.hasOwnProperty(f)||h===p||h==null&&p==null||en(t,e,f,h,r,p)}var ex=null,tx=null;function Kg(t){return t.nodeType===9?t:t.ownerDocument}function jk(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function NC(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function nx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fw=null;function CU(){var t=window.event;return t&&t.type==="popstate"?t===fw?!1:(fw=t,!0):(fw=null,!1)}var kC=typeof setTimeout=="function"?setTimeout:void 0,RU=typeof clearTimeout=="function"?clearTimeout:void 0,$k=typeof Promise=="function"?Promise:void 0,LU=typeof queueMicrotask=="function"?queueMicrotask:typeof $k<"u"?function(t){return $k.resolve(null).then(t).catch(PU)}:kC;function PU(t){setTimeout(function(){throw t})}function Tl(t){return t==="head"}function Kk(t,e){var n=e,r=0,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(0<r&&8>r){n=r;var o=t.ownerDocument;if(n&1&&vf(o.documentElement),n&2&&vf(o.body),n&4)for(n=o.head,vf(n),o=n.firstChild;o;){var a=o.nextSibling,l=o.nodeName;o[Uf]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=a}}if(s===0){t.removeChild(i),Lf(e);return}s--}else n==="$"||n==="$?"||n==="$!"?s++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Lf(e)}function rx(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":rx(n),mx(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function OU(t,e,n,r){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Uf])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=zi(t.nextSibling),t===null)break}return null}function MU(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=zi(t.nextSibling),t===null))return null;return t}function sx(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function FU(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function zi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var ix=null;function Wk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function AC(t,e,n){switch(e=Kg(n),t){case"html":if(t=e.documentElement,!t)throw Error(X(452));return t;case"head":if(t=e.head,!t)throw Error(X(453));return t;case"body":if(t=e.body,!t)throw Error(X(454));return t;default:throw Error(X(451))}}function vf(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);mx(t)}var _i=new Map,Yk=new Set;function Wg(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ga=Vt.d;Vt.d={f:UU,r:VU,D:HU,C:BU,L:zU,m:qU,X:jU,S:GU,M:$U};function UU(){var t=ga.f(),e=cy();return t||e}function VU(t){var e=gd(t);e!==null&&e.tag===5&&e.type==="form"?TD(e):ga.r(t)}var vd=typeof document>"u"?null:document;function DC(t,e,n){var r=vd;if(r&&typeof e=="string"&&e){var s=wi(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Yk.has(s)||(Yk.add(s),t={rel:t,crossOrigin:n,href:e},r.querySelector(s)===null&&(e=r.createElement("link"),jr(e,"link",t),Cr(e),r.head.appendChild(e)))}}function HU(t){ga.D(t),DC("dns-prefetch",t,null)}function BU(t,e){ga.C(t,e),DC("preconnect",t,e)}function zU(t,e,n){ga.L(t,e,n);var r=vd;if(r&&t&&e){var s='link[rel="preload"][as="'+wi(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+wi(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+wi(n.imageSizes)+'"]')):s+='[href="'+wi(t)+'"]';var i=s;switch(e){case"style":i=md(t);break;case"script":i=wd(t)}_i.has(i)||(t=bn({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),_i.set(i,t),r.querySelector(s)!==null||e==="style"&&r.querySelector(Wf(i))||e==="script"&&r.querySelector(Yf(i))||(e=r.createElement("link"),jr(e,"link",t),Cr(e),r.head.appendChild(e)))}}function qU(t,e){ga.m(t,e);var n=vd;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+wi(r)+'"][href="'+wi(t)+'"]',i=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=wd(t)}if(!_i.has(i)&&(t=bn({rel:"modulepreload",href:t},e),_i.set(i,t),n.querySelector(s)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Yf(i)))return}r=n.createElement("link"),jr(r,"link",t),Cr(r),n.head.appendChild(r)}}}function GU(t,e,n){ga.S(t,e,n);var r=vd;if(r&&t){var s=Qu(r).hoistableStyles,i=md(t);e=e||"default";var o=s.get(i);if(!o){var a={loading:0,preload:null};if(o=r.querySelector(Wf(i)))a.loading=5;else{t=bn({rel:"stylesheet",href:t,"data-precedence":e},n),(n=_i.get(i))&&Xx(t,n);var l=o=r.createElement("link");Cr(l),jr(l,"link",t),l._p=new Promise(function(u,d){l.onload=u,l.onerror=d}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,wg(o,e,r)}o={type:"stylesheet",instance:o,count:1,state:a},s.set(i,o)}}}function jU(t,e){ga.X(t,e);var n=vd;if(n&&t){var r=Qu(n).hoistableScripts,s=wd(t),i=r.get(s);i||(i=n.querySelector(Yf(s)),i||(t=bn({src:t,async:!0},e),(e=_i.get(s))&&Jx(t,e),i=n.createElement("script"),Cr(i),jr(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}}function $U(t,e){ga.M(t,e);var n=vd;if(n&&t){var r=Qu(n).hoistableScripts,s=wd(t),i=r.get(s);i||(i=n.querySelector(Yf(s)),i||(t=bn({src:t,async:!0,type:"module"},e),(e=_i.get(s))&&Jx(t,e),i=n.createElement("script"),Cr(i),jr(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}}function Qk(t,e,n,r){var s=(s=ul.current)?Wg(s):null;if(!s)throw Error(X(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=md(n.href),n=Qu(s).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=md(n.href);var i=Qu(s).hoistableStyles,o=i.get(t);if(o||(s=s.ownerDocument||s,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,o),(i=s.querySelector(Wf(t)))&&!i._p&&(o.instance=i,o.state.loading=5),_i.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},_i.set(t,n),i||KU(s,t,n,o.state))),e&&r===null)throw Error(X(528,""));return o}if(e&&r!==null)throw Error(X(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=wd(n),n=Qu(s).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(X(444,t))}}function md(t){return'href="'+wi(t)+'"'}function Wf(t){return'link[rel="stylesheet"]['+t+"]"}function CC(t){return bn({},t,{"data-precedence":t.precedence,precedence:null})}function KU(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),jr(e,"link",n),Cr(e),t.head.appendChild(e))}function wd(t){return'[src="'+wi(t)+'"]'}function Yf(t){return"script[async]"+t}function Xk(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+wi(n.href)+'"]');if(r)return e.instance=r,Cr(r),r;var s=bn({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Cr(r),jr(r,"style",s),wg(r,n.precedence,t),e.instance=r;case"stylesheet":s=md(n.href);var i=t.querySelector(Wf(s));if(i)return e.state.loading|=4,e.instance=i,Cr(i),i;r=CC(n),(s=_i.get(s))&&Xx(r,s),i=(t.ownerDocument||t).createElement("link"),Cr(i);var o=i;return o._p=new Promise(function(a,l){o.onload=a,o.onerror=l}),jr(i,"link",r),e.state.loading|=4,wg(i,n.precedence,t),e.instance=i;case"script":return i=wd(n.src),(s=t.querySelector(Yf(i)))?(e.instance=s,Cr(s),s):(r=n,(s=_i.get(i))&&(r=bn({},n),Jx(r,s)),t=t.ownerDocument||t,s=t.createElement("script"),Cr(s),jr(s,"link",r),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(X(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,wg(r,n.precedence,t));return e.instance}function wg(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,i=s,o=0;o<r.length;o++){var a=r[o];if(a.dataset.precedence===e)i=a;else if(i!==s)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Xx(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Jx(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var xg=null;function Jk(t,e,n){if(xg===null){var r=new Map,s=xg=new Map;s.set(n,r)}else s=xg,r=s.get(n),r||(r=new Map,s.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var i=n[s];if(!(i[Uf]||i[Jr]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(e)||"";o=t+o;var a=r.get(o);a?a.push(i):r.set(o,[i])}}return r}function Zk(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function WU(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function RC(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Af=null;function YU(){}function QU(t,e,n){if(Af===null)throw Error(X(475));var r=Af;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var s=md(n.href),i=t.querySelector(Wf(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Yg.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=i,Cr(i);return}i=t.ownerDocument||t,n=CC(n),(s=_i.get(s))&&Xx(n,s),i=i.createElement("link"),Cr(i);var o=i;o._p=new Promise(function(a,l){o.onload=a,o.onerror=l}),jr(i,"link",n),e.instance=i}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=Yg.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function XU(){if(Af===null)throw Error(X(475));var t=Af;return t.stylesheets&&t.count===0&&ox(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&ox(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Yg(){if(this.count--,this.count===0){if(this.stylesheets)ox(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Qg=null;function ox(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Qg=new Map,e.forEach(JU,t),Qg=null,Yg.call(t))}function JU(t,e){if(!(e.state.loading&4)){var n=Qg.get(t);if(n)var r=n.get(null);else{n=new Map,Qg.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var o=s[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}s=e.instance,o=s.getAttribute("data-precedence"),i=n.get(o)||r,i===r&&n.set(null,s),n.set(o,s),this.count++,r=Yg.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),i?i.parentNode.insertBefore(s,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var Df={$$typeof:ia,Provider:null,Consumer:null,_currentValue:uc,_currentValue2:uc,_threadCount:0};function ZU(t,e,n,r,s,i,o,a){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Uv(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uv(0),this.hiddenUpdates=Uv(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function LC(t,e,n,r,s,i,o,a,l,u,d,f){return t=new ZU(t,e,n,o,a,l,u,f),e=1,i===!0&&(e|=24),i=Ys(3,null,null,e),t.current=i,i.stateNode=t,e=Sx(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:e},kx(i),t}function PC(t){return t?(t=$u,t):$u}function OC(t,e,n,r,s,i){s=PC(s),r.context===null?r.context=s:r.pendingContext=s,r=dl(e),r.payload={element:n},i=i===void 0?null:i,i!==null&&(r.callback=i),n=hl(t,r,e),n!==null&&(Zs(n,t,e),df(n,t,e))}function eA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zx(t,e){eA(t,e),(t=t.alternate)&&eA(t,e)}function MC(t){if(t.tag===13){var e=yd(t,67108864);e!==null&&Zs(e,t,67108864),Zx(t,67108864)}}var Xg=!0;function eV(t,e,n,r){var s=$e.T;$e.T=null;var i=Vt.p;try{Vt.p=2,eT(t,e,n,r)}finally{Vt.p=i,$e.T=s}}function tV(t,e,n,r){var s=$e.T;$e.T=null;var i=Vt.p;try{Vt.p=8,eT(t,e,n,r)}finally{Vt.p=i,$e.T=s}}function eT(t,e,n,r){if(Xg){var s=ax(r);if(s===null)hw(t,e,r,Jg,n),tA(t,r);else if(rV(s,t,e,n,r))r.stopPropagation();else if(tA(t,r),e&4&&-1<nV.indexOf(t)){for(;s!==null;){var i=gd(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=ac(i.pendingLanes);if(o!==0){var a=i;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var l=1<<31-Xs(o);a.entanglements[1]|=l,o&=~l}po(i),!(Wt&6)&&(zg=ho()+500,Kf(0,!1))}}break;case 13:a=yd(i,2),a!==null&&Zs(a,i,2),cy(),Zx(i,2)}if(i=ax(r),i===null&&hw(t,e,r,Jg,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else hw(t,e,r,null,n)}}function ax(t){return t=gx(t),tT(t)}var Jg=null;function tT(t){if(Jg=null,t=Hu(t),t!==null){var e=Pf(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=aA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Jg=t,null}function FC(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qF()){case dA:return 2;case hA:return 8;case Sg:case GF:return 32;case fA:return 268435456;default:return 32}default:return 32}}var lx=!1,pl=null,gl=null,yl=null,Cf=new Map,Rf=new Map,il=[],nV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tA(t,e){switch(t){case"focusin":case"focusout":pl=null;break;case"dragenter":case"dragleave":gl=null;break;case"mouseover":case"mouseout":yl=null;break;case"pointerover":case"pointerout":Cf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rf.delete(e.pointerId)}}function Zh(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=gd(e),e!==null&&MC(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function rV(t,e,n,r,s){switch(e){case"focusin":return pl=Zh(pl,t,e,n,r,s),!0;case"dragenter":return gl=Zh(gl,t,e,n,r,s),!0;case"mouseover":return yl=Zh(yl,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Cf.set(i,Zh(Cf.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Rf.set(i,Zh(Rf.get(i)||null,t,e,n,r,s)),!0}return!1}function UC(t){var e=Hu(t.target);if(e!==null){var n=Pf(e);if(n!==null){if(e=n.tag,e===13){if(e=aA(n),e!==null){t.blockedOn=e,JF(t.priority,function(){if(n.tag===13){var r=Js();r=hx(r);var s=yd(n,r);s!==null&&Zs(s,n,r),Zx(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ax(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ew=r,n.target.dispatchEvent(r),Ew=null}else return e=gd(n),e!==null&&MC(e),t.blockedOn=n,!1;e.shift()}return!0}function nA(t,e,n){Tg(t)&&n.delete(e)}function sV(){lx=!1,pl!==null&&Tg(pl)&&(pl=null),gl!==null&&Tg(gl)&&(gl=null),yl!==null&&Tg(yl)&&(yl=null),Cf.forEach(nA),Rf.forEach(nA)}function lg(t,e){t.blockedOn===e&&(t.blockedOn=null,lx||(lx=!0,Ir.unstable_scheduleCallback(Ir.unstable_NormalPriority,sV)))}var cg=null;function rA(t){cg!==t&&(cg=t,Ir.unstable_scheduleCallback(Ir.unstable_NormalPriority,function(){cg===t&&(cg=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],s=t[e+2];if(typeof r!="function"){if(tT(r||n)===null)continue;break}var i=gd(n);i!==null&&(t.splice(e,3),e-=3,Bw(i,{pending:!0,data:s,method:n.method,action:r},r,s))}}))}function Lf(t){function e(l){return lg(l,t)}pl!==null&&lg(pl,t),gl!==null&&lg(gl,t),yl!==null&&lg(yl,t),Cf.forEach(e),Rf.forEach(e);for(var n=0;n<il.length;n++){var r=il[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<il.length&&(n=il[0],n.blockedOn===null);)UC(n),n.blockedOn===null&&il.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var s=n[r],i=n[r+1],o=s[As]||null;if(typeof i=="function")o||rA(n);else if(o){var a=null;if(i&&i.hasAttribute("formAction")){if(s=i,o=i[As]||null)a=o.formAction;else if(tT(s)!==null)continue}else a=o.action;typeof a=="function"?n[r+1]=a:(n.splice(r,3),r-=3),rA(n)}}}function nT(t){this._internalRoot=t}fy.prototype.render=nT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));var n=e.current,r=Js();OC(n,r,t,e,null,null)};fy.prototype.unmount=nT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;OC(t.current,2,null,t,null,null),cy(),e[pd]=null}};function fy(t){this._internalRoot=t}fy.prototype.unstable_scheduleHydration=function(t){if(t){var e=bA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<il.length&&e!==0&&e<il[n].priority;n++);il.splice(n,0,t),n===0&&UC(t)}};var sA=iA.version;if(sA!=="19.1.1")throw Error(X(527,sA,"19.1.1"));Vt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=MF(e),t=t!==null?lA(t):null,t=t===null?null:t.stateNode,t};var iV={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$e,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(ef=__REACT_DEVTOOLS_GLOBAL_HOOK__,!ef.isDisabled&&ef.supportsFiber))try{Of=ef.inject(iV),Qs=ef}catch{}var ef;my.createRoot=function(t,e){if(!oA(t))throw Error(X(299));var n=!1,r="",s=LD,i=PD,o=OD,a=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(a=e.unstable_transitionCallbacks)),e=LC(t,1,!1,null,null,n,r,s,i,o,a,null),t[pd]=e.current,Qx(t),new nT(e)};my.hydrateRoot=function(t,e,n){if(!oA(t))throw Error(X(299));var r=!1,s="",i=LD,o=PD,a=OD,l=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(a=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),e=LC(t,1,!0,e,n??null,r,s,i,o,a,l,u),e.context=PC(null),n=e.current,r=Js(),r=hx(r),s=dl(r),s.callback=null,hl(n,s,r),n=r,e.current.lanes=n,Ff(e,n),po(e),t[pd]=e.current,Qx(t),new fy(e)};my.version="19.1.1"});var zC=mi((vW,BC)=>{"use strict";function HC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HC)}catch(t){console.error(t)}}HC(),BC.exports=VC()});var GC=mi(py=>{"use strict";var oV=Symbol.for("react.transitional.element"),aV=Symbol.for("react.fragment");function qC(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:oV,type:t,key:r,ref:e!==void 0?e:null,props:n}}py.Fragment=aV;py.jsx=qC;py.jsxs=qC});var H=mi((xW,jC)=>{"use strict";jC.exports=GC()});var J={};io(J,{ActivityIcon:()=>Jf,AlertCircleIcon:()=>nm,ArrowLeftIcon:()=>xs,AwardIcon:()=>Zf,BarChart2Icon:()=>em,BellIcon:()=>Gi,BookOpenIcon:()=>vn,BuildingIcon:()=>lV,CalendarIcon:()=>lt,CheckCircleIcon:()=>kc,CheckIcon:()=>ya,CheckSquareIcon:()=>It,ChevronDownIcon:()=>es,ChevronLeftIcon:()=>ti,ChevronRightIcon:()=>Bn,CircleIcon:()=>Ts,ClockIcon:()=>ni,CopyIcon:()=>rT,Edit3Icon:()=>nn,EditIcon:()=>sT,ExternalLinkIcon:()=>fT,FileTextIcon:()=>yV,FilterIcon:()=>hT,FlagIcon:()=>Pr,FolderIcon:()=>gy,GripVerticalIcon:()=>pV,HeartIcon:()=>Qf,HomeIcon:()=>cV,InboxIcon:()=>uV,InfoIcon:()=>uT,ListIcon:()=>Nn,LogOutIcon:()=>aT,MagicWandIcon:()=>Sc,MenuIcon:()=>Ec,MoreHorizontalIcon:()=>nr,Next7DaysIcon:()=>dV,PlusIcon:()=>At,QuestionIcon:()=>lT,RepeatIcon:()=>xd,SearchIcon:()=>yy,SmileIcon:()=>hV,SortIcon:()=>iT,StarIcon:()=>rr,SummaryIcon:()=>Xf,SunriseIcon:()=>fV,TagIcon:()=>ji,TargetIcon:()=>je,TodayIcon:()=>oT,TomorrowIcon:()=>mV,Trash2Icon:()=>ws,TrendingUpIcon:()=>Nc,TrophyIcon:()=>cT,UndoIcon:()=>dT,UserIcon:()=>tm,XIcon:()=>Cs,ZapIcon:()=>gV});var M,Gi,vn,lV,lt,It,es,ti,Bn,ni,rT,nn,sT,Pr,gy,Ec,Qf,cV,uV,Nn,Sc,nr,dV,At,xd,hV,iT,rr,Xf,fV,ji,je,oT,Nc,mV,ws,Jf,Zf,kc,em,aT,xs,tm,lT,Ts,cT,Cs,nm,ya,uT,pV,dT,gV,yV,hT,yy,fT,Pe=j(()=>{"use strict";M=L(H(),1),Gi=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),(0,M.jsx)("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),vn=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),(0,M.jsx)("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),lV=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),(0,M.jsx)("path",{d:"M9 22v-4h6v4"}),(0,M.jsx)("path",{d:"M8 6h.01"}),(0,M.jsx)("path",{d:"M16 6h.01"}),(0,M.jsx)("path",{d:"M12 6h.01"}),(0,M.jsx)("path",{d:"M12 10h.01"}),(0,M.jsx)("path",{d:"M12 14h.01"}),(0,M.jsx)("path",{d:"M16 10h.01"}),(0,M.jsx)("path",{d:"M16 14h.01"}),(0,M.jsx)("path",{d:"M8 10h.01"}),(0,M.jsx)("path",{d:"M8 14h.01"})]}),lt=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),(0,M.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),(0,M.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),(0,M.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),It=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M9 11l3 3L22 4"}),(0,M.jsx)("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),es=({className:t})=>(0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,M.jsx)("polyline",{points:"6 9 12 15 18 9"})}),ti=({className:t})=>(0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,M.jsx)("polyline",{points:"15 18 9 12 15 6"})}),Bn=({className:t})=>(0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,M.jsx)("polyline",{points:"9 18 15 12 9 6"})}),ni=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,M.jsx)("polyline",{points:"12 6 12 12 16 14"})]}),rT=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,M.jsx)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),nn=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M12 20h9"}),(0,M.jsx)("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]}),sT=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,M.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),Pr=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),(0,M.jsx)("line",{x1:"4",y1:"22",x2:"4",y2:"15"})]}),gy=({className:t})=>(0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,M.jsx)("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),Ec=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),(0,M.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,M.jsx)("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),Qf=({className:t})=>(0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,M.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),cV=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),(0,M.jsx)("polyline",{points:"9 22 9 12 15 12 15 22"})]}),uV=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M22 12h-6l-2 3h-4l-2-3H2"}),(0,M.jsx)("path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"})]}),Nn=({className:t})=>(0,M.jsx)("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,M.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),Sc=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M15 4V2"}),(0,M.jsx)("path",{d:"M15 16v-2"}),(0,M.jsx)("path",{d:"M12.07 9.5L10 2"}),(0,M.jsx)("path",{d:"M14.5 12.07L22 10"}),(0,M.jsx)("path",{d:"M9.5 12.07L2 14.5"}),(0,M.jsx)("path",{d:"M12.07 14.5L10 22"}),(0,M.jsx)("path",{d:"M17 9.5l2.12-2.12"}),(0,M.jsx)("path",{d:"m4.88 19.12 2.12-2.12"}),(0,M.jsx)("path",{d:"m19.12 19.12-2.12-2.12"}),(0,M.jsx)("path",{d:"m7 4.88-2.12 2.12"})]}),nr=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,M.jsx)("circle",{cx:"19",cy:"12",r:"1"}),(0,M.jsx)("circle",{cx:"5",cy:"12",r:"1"})]}),dV=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M8 2v4"}),(0,M.jsx)("path",{d:"M16 2v4"}),(0,M.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),(0,M.jsx)("path",{d:"M3 10h18"}),(0,M.jsx)("path",{d:"M14 14h-4"}),(0,M.jsx)("path",{d:"M12 14v4"}),(0,M.jsx)("path",{d:"M10 14v4"})]}),At=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,M.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),xd=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M17 1l4 4-4 4"}),(0,M.jsx)("path",{d:"M3 11V9a4 4 0 0 1 4-4h14"}),(0,M.jsx)("path",{d:"M7 23l-4-4 4-4"}),(0,M.jsx)("path",{d:"M21 13v2a4 4 0 0 1-4 4H3"})]}),hV=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,M.jsx)("path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}),(0,M.jsx)("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),(0,M.jsx)("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"})]}),iT=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"m3 16 4 4 4-4"}),(0,M.jsx)("path",{d:"M7 20V4"}),(0,M.jsx)("path",{d:"m21 8-4-4-4 4"}),(0,M.jsx)("path",{d:"M17 4v16"})]}),rr=({className:t})=>(0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,M.jsx)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),Xf=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),(0,M.jsx)("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),(0,M.jsx)("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),(0,M.jsx)("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),(0,M.jsx)("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),(0,M.jsx)("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]}),fV=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M12 2v8"}),(0,M.jsx)("path",{d:"M5.25 10.75L4 12"}),(0,M.jsx)("path",{d:"M20 12h-1.25"}),(0,M.jsx)("path",{d:"M17 4l-1.75 1.75"}),(0,M.jsx)("path",{d:"M8.75 5.75L7 4"}),(0,M.jsx)("path",{d:"M2 18h20"}),(0,M.jsx)("path",{d:"M4 22h16"}),(0,M.jsx)("path",{d:"M12 18a4 4 0 00-4-4h8a4 4 0 00-4 4z"})]}),ji=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M12 2H2v10l10 10 10-10L12 2z"}),(0,M.jsx)("path",{d:"M7 7h.01"})]}),je=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,M.jsx)("circle",{cx:"12",cy:"12",r:"6"}),(0,M.jsx)("circle",{cx:"12",cy:"12",r:"2"})]}),oT=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),(0,M.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),(0,M.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),(0,M.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),(0,M.jsx)("path",{d:"M8 14h.01"}),(0,M.jsx)("path",{d:"M12 14h.01"}),(0,M.jsx)("path",{d:"M16 14h.01"}),(0,M.jsx)("path",{d:"M8 18h.01"}),(0,M.jsx)("path",{d:"M12 18h.01"}),(0,M.jsx)("path",{d:"M16 18h.01"})]}),Nc=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),(0,M.jsx)("polyline",{points:"16 7 22 7 22 13"})]}),mV=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),(0,M.jsx)("path",{d:"m16 8-4 4-4-4"}),(0,M.jsx)("path",{d:"M12 12v8"})]}),ws=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,M.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),(0,M.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,M.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),Jf=({className:t})=>(0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,M.jsx)("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})}),Zf=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("circle",{cx:"12",cy:"8",r:"7"}),(0,M.jsx)("polyline",{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.89"})]}),kc=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,M.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]}),em=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),(0,M.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),(0,M.jsx)("line",{x1:"6",y1:"20",x2:"6",y2:"14"}),(0,M.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"20"})]}),aT=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,M.jsx)("polyline",{points:"16 17 21 12 16 7"}),(0,M.jsx)("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),xs=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),(0,M.jsx)("polyline",{points:"12 19 5 12 12 5"})]}),tm=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,M.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),lT=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,M.jsx)("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),(0,M.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),Ts=({className:t})=>(0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,M.jsx)("circle",{cx:"12",cy:"12",r:"10"})}),cT=({className:t})=>(0,M.jsx)("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,M.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),Cs=({className:t})=>(0,M.jsx)("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,M.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),nm=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,M.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),(0,M.jsx)("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),ya=({className:t})=>(0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,M.jsx)("polyline",{points:"20 6 9 17 4 12"})}),uT=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,M.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),(0,M.jsx)("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),pV=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("circle",{cx:"9",cy:"5",r:"1"}),(0,M.jsx)("circle",{cx:"9",cy:"12",r:"1"}),(0,M.jsx)("circle",{cx:"9",cy:"19",r:"1"}),(0,M.jsx)("circle",{cx:"15",cy:"5",r:"1"}),(0,M.jsx)("circle",{cx:"15",cy:"12",r:"1"}),(0,M.jsx)("circle",{cx:"15",cy:"19",r:"1"})]}),dT=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M3 7v6h6"}),(0,M.jsx)("path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"})]}),gV=({className:t})=>(0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,M.jsx)("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),yV=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,M.jsx)("polyline",{points:"14,2 14,8 20,8"}),(0,M.jsx)("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),(0,M.jsx)("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),(0,M.jsx)("polyline",{points:"10,9 9,9 8,9"})]}),hT=({className:t})=>(0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,M.jsx)("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),yy=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,M.jsx)("path",{d:"m21 21-4.35-4.35"})]}),fT=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),(0,M.jsx)("polyline",{points:"15 3 21 3 21 9"}),(0,M.jsx)("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})});var by,go,bV,kn,ri=j(()=>{"use strict";by=L(me(),1),go=L(H(),1),bV=({title:t,onClose:e,children:n})=>{let r=(0,by.useRef)(null);return(0,by.useEffect)(()=>{let s=o=>{o.key==="Escape"&&e()},i=o=>{r.current&&!r.current.contains(o.target)&&e()};return document.addEventListener("keydown",s),document.addEventListener("mousedown",i),()=>{document.removeEventListener("keydown",s),document.removeEventListener("mousedown",i)}},[e]),(0,go.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:(0,go.jsxs)("div",{ref:r,className:"bg-white rounded-lg shadow-xl w-full max-w-3xl m-4 flex flex-col max-h-[90vh]",children:[(0,go.jsxs)("div",{className:"flex items-center justify-between p-4 pl-6 border-b flex-shrink-0",children:[(0,go.jsx)("h2",{id:"modal-title",className:"text-xl font-bold text-gray-800",children:t}),(0,go.jsx)("button",{onClick:e,className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors","aria-label":"Close modal",children:(0,go.jsx)("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,go.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,go.jsx)("div",{className:"p-4 md:p-6 flex-1 overflow-y-auto",children:n})]})})},kn=bV});var vy,yo,wV,Il,rm=j(()=>{"use strict";vy=L(me(),1),yo=L(H(),1),wV=({title:t,onClose:e,children:n})=>{let r=(0,vy.useRef)(null);return(0,vy.useEffect)(()=>{let s=o=>{o.key==="Escape"&&e()},i=o=>{r.current&&!r.current.contains(o.target)&&e()};return document.addEventListener("keydown",s),document.addEventListener("mousedown",i),()=>{document.removeEventListener("keydown",s),document.removeEventListener("mousedown",i)}},[e]),(0,yo.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:(0,yo.jsxs)("div",{ref:r,className:"bg-white rounded-lg shadow-xl w-full max-w-3xl m-4 flex flex-col max-h-[90vh]",children:[(0,yo.jsxs)("div",{className:"flex items-center justify-between p-4 pl-6 border-b flex-shrink-0",children:[(0,yo.jsx)("h2",{id:"modal-title",className:"text-xl font-bold text-gray-800",children:t}),(0,yo.jsx)("button",{onClick:e,className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors","aria-label":"Close modal",children:(0,yo.jsx)("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,yo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,yo.jsx)("div",{className:"p-6 flex-1 overflow-y-auto",children:n})]})})},Il=wV});var YC,QC=j(()=>{YC=()=>{}});function t2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}function bo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Td(t){return(await fetch(t,{credentials:"include"})).ok}function _y(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[im(JSON.stringify(n)),im(JSON.stringify(o)),""].join(".")}function NV(){let t={prod:[],emulator:[]};for(let e of Object.keys(sm))sm[e]?t.emulator.push(e):t.prod.push(e);return t}function kV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}function Id(t,e){if(typeof window>"u"||typeof document>"u"||!bo(window.location.host)||sm[t]===e||sm[t]||XC)return;sm[t]=e;function n(h){return`__firebase__banner__${h}`}let r="__firebase__banner",i=NV().prod.length>0;function o(){let h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){let h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{XC=!0,o()},h}function d(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){let h=kV(r),p=n("text"),b=document.getElementById(p)||document.createElement("span"),I=n("learnmore"),v=document.getElementById(I)||document.createElement("a"),g=n("preprendIcon"),y=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){let _=h.element;a(_),d(v,I);let A=u();l(y,g),_.append(y,b,v,A),document.body.appendChild(_)}i?(b.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function Or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function n2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Or())}function AV(){let t=Ty()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function r2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function s2(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function i2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o2(){let t=Or();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function a2(){return!AV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wT(){try{return typeof indexedDB=="object"}catch{return!1}}function l2(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}function CV(t,e){return t.replace(RV,(n,r)=>{let s=e[r];return s!=null?String(s):`<${r}?>`})}function c2(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let s of n){if(!r.includes(s))return!1;let i=t[s],o=e[s];if(JC(i)&&JC(o)){if(!vo(i,o))return!1}else if(i!==o)return!1}for(let s of r)if(!n.includes(s))return!1;return!0}function JC(t){return t!==null&&typeof t=="object"}function _d(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ed(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Sd(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function u2(t,e){let n=new gT(t,e);return n.subscribe.bind(n)}function LV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mT(){}function An(t){return t&&t._delegate?t._delegate:t}var ZC,TV,e2,pT,IV,im,xy,_V,EV,SV,Ty,yT,Iy,bT,vT,wy,sm,XC,DV,Is,ba,RV,gT,PW,_l=j(()=>{QC();ZC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},TV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){let i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){let i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},e2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){let i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4,h=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),r.push(n[d],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ZC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){let i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;let u=s<t.length?n[t.charAt(s)]:64;++s;let f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new pT;let h=i<<2|a>>4;if(r.push(h),u!==64){let p=a<<4&240|u>>2;if(r.push(p),f!==64){let b=u<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},pT=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},IV=function(t){let e=ZC(t);return e2.encodeByteArray(e,!0)},im=function(t){return IV(t).replace(/\./g,"")},xy=function(t){try{return e2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};_V=()=>t2().__FIREBASE_DEFAULTS__,EV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},SV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&xy(t[1]);return e&&JSON.parse(e)},Ty=()=>{try{return YC()||_V()||EV()||SV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yT=t=>Ty()?.emulatorHosts?.[t],Iy=t=>{let e=yT(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bT=()=>Ty()?.config,vT=t=>Ty()?.[`_${t}`];wy=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};sm={};XC=!1;DV="FirebaseError",Is=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=DV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ba.prototype.create)}},ba=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?CV(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Is(s,a,r)}};RV=/\{\$([^}]+)}/g;gT=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LV(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=mT),s.error===void 0&&(s.error=mT),s.complete===void 0&&(s.complete=mT);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};PW=4*60*60*1e3;});function PV(t){return t===Ac?void 0:t}function OV(t){return t.instantiationMode==="EAGER"}var Rs,Ac,xT,Ey,Nd=j(()=>{_l();Rs=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};Ac="[DEFAULT]";xT=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new wy;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){let n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OV(e))try{this.getOrInitializeService({instanceIdentifier:Ac})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let s=this.normalizeInstanceIdentifier(n);try{let i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ac){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ac){return this.instances.has(e)}getOptions(e=Ac){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[i,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){let r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);let i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ac){return this.component?this.component.multipleInstances?e:Ac:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};Ey=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new xT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}});var MV,ft,FV,UV,VV,HV,El,om=j(()=>{MV=[];(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ft||(ft={}));FV={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},UV=ft.INFO,VV={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},HV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),s=VV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},El=class{constructor(e){this.name=e,this._logLevel=UV,this._logHandler=HV,this._userLogHandler=null,MV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}});function zV(){return d2||(d2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qV(){return h2||(h2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}function GV(t){let e=new Promise((n,r)=>{let s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(wo(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&f2.set(n,t)}).catch(()=>{}),ET.set(e,t),e}function jV(t){if(IT.has(t))return;let e=new Promise((n,r)=>{let s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});IT.set(t,e)}function p2(t){_T=t(_T)}function $V(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Sy(this),e,...n);return m2.set(r,e.sort?e.sort():[e]),wo(r)}:qV().includes(t)?function(...e){return t.apply(Sy(this),e),wo(f2.get(this))}:function(...e){return wo(t.apply(Sy(this),e))}}function KV(t){return typeof t=="function"?$V(t):(t instanceof IDBTransaction&&jV(t),BV(t,zV())?new Proxy(t,_T):t)}function wo(t){if(t instanceof IDBRequest)return GV(t);if(TT.has(t))return TT.get(t);let e=KV(t);return e!==t&&(TT.set(t,e),ET.set(e,t)),e}var BV,d2,h2,f2,IT,m2,TT,ET,_T,Sy,ST=j(()=>{BV=(t,e)=>e.some(n=>t instanceof n);f2=new WeakMap,IT=new WeakMap,m2=new WeakMap,TT=new WeakMap,ET=new WeakMap;_T={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return IT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||m2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};Sy=t=>ET.get(t)});function y2(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){let o=indexedDB.open(t,e),a=wo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(wo(o.result),l.oldVersion,l.newVersion,wo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}function g2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(NT.get(e))return NT.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,s=YV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||WV.includes(n)))return;let i=async function(o,...a){let l=this.transaction(o,s?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return NT.set(e,i),i}var WV,YV,NT,b2=j(()=>{ST();ST();WV=["get","getKey","getAll","getAllKeys","count"],YV=["put","add","delete","clear"],NT=new Map;p2(t=>({...t,get:(e,n,r)=>g2(e,n)||t.get(e,n,r),has:(e,n)=>!!g2(e,n)||t.has(e,n)}))});function QV(t){return t.getComponent()?.type==="VERSION"}function w2(t,e){try{t.container.addComponent(e)}catch(n){va.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xo(t){let e=t.name;if(RT.has(e))return va.debug(`There were multiple attempts to register component ${e}.`),!1;RT.set(e,t);for(let n of Ny.values())w2(n,t);for(let n of EH.values())w2(n,t);return!0}function Dc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ns(t){return t==null?!1:t.settings!==void 0}function lm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r={name:CT,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Sl.create("bad-app-name",{appName:String(s)});if(n||(n=bT()),!n)throw Sl.create("no-options");let i=Ny.get(s);if(i){if(vo(n,i.options)&&vo(r,i.config))return i;throw Sl.create("duplicate-app",{appName:s})}let o=new Ey(s);for(let l of RT.values())o.addComponent(l);let a=new LT(n,r,o);return Ny.set(s,a),a}function kd(t=CT){let e=Ny.get(t);if(!e&&t===CT&&bT())return lm();if(!e)throw Sl.create("no-app",{appName:t});return e}function Ls(t,e,n){let r=_H[t]??t;n&&(r+=`-${n}`);let s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){let o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),va.warn(o.join(" "));return}xo(new Rs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function _2(){return kT||(kT=y2(NH,kH,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(am)}catch(n){console.warn(n)}}}}).catch(t=>{throw Sl.create("idb-open",{originalErrorMessage:t.message})})),kT}async function AH(t){try{let n=(await _2()).transaction(am),r=await n.objectStore(am).get(E2(t));return await n.done,r}catch(e){if(e instanceof Is)va.warn(e.message);else{let n=Sl.create("idb-get",{originalErrorMessage:e?.message});va.warn(n.message)}}}async function x2(t,e){try{let r=(await _2()).transaction(am,"readwrite");await r.objectStore(am).put(e,E2(t)),await r.done}catch(n){if(n instanceof Is)va.warn(n.message);else{let r=Sl.create("idb-set",{originalErrorMessage:n?.message});va.warn(r.message)}}}function E2(t){return`${t.name}!${t.options.appId}`}function T2(){return new Date().toISOString().substring(0,10)}function RH(t,e=DH){let n=[],r=t.slice();for(let s of t){let i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),I2(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),I2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}function I2(t){return im(JSON.stringify({version:2,heartbeats:t})).length}function LH(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function PH(t){xo(new Rs("platform-logger",e=>new AT(e),"PRIVATE")),xo(new Rs("heartbeat",e=>new PT(e),"PRIVATE")),Ls(DT,v2,t),Ls(DT,v2,"esm2020"),Ls("fire-js","")}var AT,DT,v2,va,XV,JV,ZV,eH,tH,nH,rH,sH,iH,oH,aH,lH,cH,uH,dH,hH,fH,mH,pH,gH,yH,bH,vH,wH,xH,TH,IH,CT,_H,Ny,EH,RT,SH,Sl,LT,To,NH,kH,am,kT,DH,CH,PT,OT,Cc=j(()=>{Nd();om();_l();_l();b2();AT=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};DT="@firebase/app",v2="0.14.1";va=new El("@firebase/app"),XV="@firebase/app-compat",JV="@firebase/analytics-compat",ZV="@firebase/analytics",eH="@firebase/app-check-compat",tH="@firebase/app-check",nH="@firebase/auth",rH="@firebase/auth-compat",sH="@firebase/database",iH="@firebase/data-connect",oH="@firebase/database-compat",aH="@firebase/functions",lH="@firebase/functions-compat",cH="@firebase/installations",uH="@firebase/installations-compat",dH="@firebase/messaging",hH="@firebase/messaging-compat",fH="@firebase/performance",mH="@firebase/performance-compat",pH="@firebase/remote-config",gH="@firebase/remote-config-compat",yH="@firebase/storage",bH="@firebase/storage-compat",vH="@firebase/firestore",wH="@firebase/ai",xH="@firebase/firestore-compat",TH="firebase",IH="12.1.0";CT="[DEFAULT]",_H={[DT]:"fire-core",[XV]:"fire-core-compat",[ZV]:"fire-analytics",[JV]:"fire-analytics-compat",[tH]:"fire-app-check",[eH]:"fire-app-check-compat",[nH]:"fire-auth",[rH]:"fire-auth-compat",[sH]:"fire-rtdb",[iH]:"fire-data-connect",[oH]:"fire-rtdb-compat",[aH]:"fire-fn",[lH]:"fire-fn-compat",[cH]:"fire-iid",[uH]:"fire-iid-compat",[dH]:"fire-fcm",[hH]:"fire-fcm-compat",[fH]:"fire-perf",[mH]:"fire-perf-compat",[pH]:"fire-rc",[gH]:"fire-rc-compat",[yH]:"fire-gcs",[bH]:"fire-gcs-compat",[vH]:"fire-fst",[xH]:"fire-fst-compat",[wH]:"fire-vertex","fire-js":"fire-js",[TH]:"fire-js-all"};Ny=new Map,EH=new Map,RT=new Map;SH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sl=new ba("app","Firebase",SH);LT=class{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sl.create("app-deleted",{appName:this._name})}};To=IH;NH="firebase-heartbeat-database",kH=1,am="firebase-heartbeat-store",kT=null;DH=1024,CH=30,PT=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new OT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=T2();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>CH){let s=LH(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){va.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=T2(),{heartbeatsToSend:n,unsentEntries:r}=RH(this._heartbeatsCache.heartbeats),s=im(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return va.warn(e),""}}};OT=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wT()?l2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await AH(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return x2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return x2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};PH("")});function G2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}function OH(t,...e){Py.logLevel<=ft.WARN&&Py.warn(`Auth (${To}): ${t}`,...e)}function Ay(t,...e){Py.logLevel<=ft.ERROR&&Py.error(`Auth (${To}): ${t}`,...e)}function $i(t,...e){throw oI(t,...e)}function _o(t,...e){return oI(t,...e)}function K2(t,e,n){let r={...j2(),[e]:n};return new ba("auth","Firebase",r).create(e,{appName:t.name})}function xa(t){return K2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oI(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $2.create(t,...e)}function Ce(t,e,...n){if(!t)throw oI(e,...n)}function Io(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ay(e),new Error(e)}function Ta(t,e){t||Io(e)}function BT(){return typeof self<"u"&&self.location?.href||""}function MH(){return S2()==="http:"||S2()==="https:"}function S2(){return typeof self<"u"&&self.location?.protocol||null}function FH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MH()||s2()||"connection"in navigator)?navigator.onLine:!0}function UH(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}function aI(t,e){Ta(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}function _r(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function rs(t,e,n,r,s={}){return W2(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});let a=_d({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);let u={method:e,headers:l,...i};return r2()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&bo(t.emulatorConfig.host)&&(u.credentials="include"),Oy.fetch()(await Y2(t,t.config.apiHost,n,a),u)})}async function W2(t,e,n){t._canInitEmulator=!1;let r={...VH,...e};try{let s=new zT(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();let o=await i.json();if("needConfirmation"in o)throw um(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{let a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw um(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw um(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw um(t,"user-disabled",o);let d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw K2(t,d,u);$i(t,d)}}catch(s){if(s instanceof Is)throw s;$i(t,"network-request-failed",{message:String(s)})}}async function Al(t,e,n,r,s={}){let i=await rs(t,e,n,r,s);return"mfaPendingCredential"in i&&$i(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Y2(t,e,n,r){let s=`${e}${n}?${r}`,i=t,o=i.config.emulator?aI(t.config,s):`${t.config.apiScheme}://${s}`;return HH.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function zH(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}function um(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let s=_o(t,e,r);return s.customData._tokenResponse=n,s}function N2(t){return t!==void 0&&t.enterprise!==void 0}async function Q2(t,e){return rs(t,"GET","/v2/recaptchaConfig",_r(t,e))}async function qH(t,e){return rs(t,"POST","/v1/accounts:delete",e)}async function Fy(t,e){return rs(t,"POST","/v1/accounts:lookup",e)}function dm(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function X2(t,e=!1){let n=An(t),r=await n.getIdToken(e),s=lI(r);Ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");let i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:dm(MT(s.auth_time)),issuedAtTime:dm(MT(s.iat)),expirationTime:dm(MT(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function MT(t){return Number(t)*1e3}function lI(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ay("JWT malformed, contained fewer than 3 sections"),null;try{let s=xy(n);return s?JSON.parse(s):(Ay("Failed to decode base64 JWT payload"),null)}catch(s){return Ay("Caught error parsing JWT payload as JSON",s?.toString()),null}}function k2(t){let e=lI(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function mm(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Is&&GH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function GH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}async function Uy(t){let e=t.auth,n=await t.getIdToken(),r=await mm(t,Fy(e,{idToken:n}));Ce(r?.users.length,e,"internal-error");let s=r.users[0];t._notifyReloadListener(s);let i=s.providerUserInfo?.length?Z2(s.providerUserInfo):[],o=jH(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!o?.length,u=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new pm(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function J2(t){let e=An(t);await Uy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jH(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Z2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function $H(t,e){let n=await W2(t,{},async()=>{let r=_d({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await Y2(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:a,body:r};return t.emulatorConfig&&bo(t.emulatorConfig.host)&&(l.credentials="include"),Oy.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KH(t,e){return rs(t,"POST","/v2/accounts:revokeToken",_r(t,e))}function Nl(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}function wa(t){Ta(t instanceof Function,"Expected a class definition");let e=A2.get(t);return e?(Ta(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,A2.set(t,e),e)}function Dy(t,e,n){return`firebase:${t}:${e}:${n}`}function D2(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iR(e))return"Blackberry";if(oR(e))return"Webos";if(tR(e))return"Safari";if((e.includes("chrome/")||nR(e))&&!e.includes("edge/"))return"Chrome";if(sR(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function eR(t=Or()){return/firefox\//i.test(t)}function tR(t=Or()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nR(t=Or()){return/crios\//i.test(t)}function rR(t=Or()){return/iemobile/i.test(t)}function sR(t=Or()){return/android/i.test(t)}function iR(t=Or()){return/blackberry/i.test(t)}function oR(t=Or()){return/webos/i.test(t)}function cI(t=Or()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WH(t=Or()){return cI(t)&&!!window.navigator?.standalone}function YH(){return o2()&&document.documentMode===10}function aR(t=Or()){return cI(t)||sR(t)||oR(t)||iR(t)||/windows phone/i.test(t)||rR(t)}function lR(t,e=[]){let n;switch(t){case"Browser":n=D2(Or());break;case"Worker":n=`${D2(Or())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${r}`}async function QH(t,e={}){return rs(t,"GET","/v2/passwordPolicy",_r(t,e))}function Ia(t){return An(t)}function JH(t){i0=t}function cR(t){return i0.loadJS(t)}function ZH(){return i0.recaptchaEnterpriseScript}function e9(){return i0.gapiScript}function uR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}async function cm(t,e,n,r=!1,s=!1){let i=new zy(t),o;if(s)o=fm;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}let a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ad(t,e,n,r,s){if(s==="EMAIL_PASSWORD_PROVIDER")if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let i=await cm(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=await cm(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)});else if(s==="PHONE_PROVIDER")if(t._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let i=await cm(t,e,n);return r(t,i).catch(async o=>{if(t._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(o.code==="auth/missing-recaptcha-token"||o.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let a=await cm(t,e,n,!1,!0);return r(t,a)}return Promise.reject(o)})}else{let i=await cm(t,e,n,!1,!0);return r(t,i)}else return Promise.reject(s+" provider is not supported.")}async function n9(t){let e=Ia(t),n=await Q2(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new My(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new zy(e).verify()}function dR(t,e){let n=Dc(t,"auth");if(n.isInitialized()){let s=n.getImmediate(),i=n.getOptions();if(vo(i,e??{}))return s;$i(s,"already-initialized")}return n.initialize({options:e})}function r9(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(wa);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function hR(t,e,n){let r=Ia(t);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let s=!!n?.disableWarnings,i=fR(e),{host:o,port:a}=s9(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(vo(u,r.config.emulator)&&vo(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,bo(o)?(Td(`${i}//${o}${l}`),Id("Auth",!0)):s||i9()}function fR(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function s9(t){let e=fR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){let i=s[1];return{host:i,port:C2(r.substr(i.length+1))}}else{let[i,o]=r.split(":");return{host:i,port:C2(o)}}}function C2(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function i9(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}async function o9(t,e){return rs(t,"POST","/v1/accounts:signUp",e)}async function a9(t,e){return Al(t,"POST","/v1/accounts:signInWithPassword",_r(t,e))}async function l9(t,e){return Al(t,"POST","/v1/accounts:signInWithEmailLink",_r(t,e))}async function c9(t,e){return Al(t,"POST","/v1/accounts:signInWithEmailLink",_r(t,e))}async function Dd(t,e){return Al(t,"POST","/v1/accounts:signInWithIdp",_r(t,e))}async function R2(t,e){return rs(t,"POST","/v1/accounts:sendVerificationCode",_r(t,e))}async function d9(t,e){return Al(t,"POST","/v1/accounts:signInWithPhoneNumber",_r(t,e))}async function h9(t,e){let n=await Al(t,"POST","/v1/accounts:signInWithPhoneNumber",_r(t,e));if(n.temporaryProof)throw um(t,"account-exists-with-different-credential",n);return n}async function m9(t,e){let n={...e,operation:"REAUTH"};return Al(t,"POST","/v1/accounts:signInWithPhoneNumber",_r(t,n),f9)}function p9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g9(t){let e=Ed(Sd(t)).link,n=e?Ed(Sd(e)).deep_link_id:null,r=Ed(Sd(t)).deep_link_id;return(r?Ed(Sd(r)).link:null)||r||n||e||t}async function y9(t,e){return Al(t,"POST","/v1/accounts:signUp",_r(t,e))}function L2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}function mR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?QT._fromErrorAndOperation(t,i,e,r):i})}async function b9(t,e,n=!1){let r=await mm(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Cd._forOperation(t,"link",r)}async function v9(t,e,n=!1){let{auth:r}=t;if(ns(r.app))return Promise.reject(xa(r));let s="reauthenticate";try{let i=await mm(t,mR(r,s,e,t),n);Ce(i.idToken,r,"internal-error");let o=lI(i.idToken);Ce(o,r,"internal-error");let{sub:a}=o;return Ce(t.uid===a,r,"user-mismatch"),Cd._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&$i(r,"user-mismatch"),i}}async function pR(t,e,n=!1){if(ns(t.app))return Promise.reject(xa(t));let r="signIn",s=await mR(t,r,e),i=await Cd._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function gR(t,e){return pR(Ia(t),e)}async function yR(t){let e=Ia(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function o0(t,e,n){if(ns(t.app))return Promise.reject(xa(t));let r=Ia(t),o=await Ad(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",y9,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&yR(t),l}),a=await Cd._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function a0(t,e,n){return ns(t.app)?Promise.reject(xa(t)):gR(An(t),Oc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&yR(t),r})}function bR(t,e,n,r){return An(t).onIdTokenChanged(e,n,r)}function vR(t,e,n){return An(t).beforeAuthStateChanged(e,n)}function l0(t,e,n,r){return An(t).onAuthStateChanged(e,n,r)}function c0(t){return An(t).signOut()}function P2(t,e){return rs(t,"POST","/v2/accounts/mfaEnrollment:start",_r(t,e))}function w9(t,e){return rs(t,"POST","/v2/accounts/mfaEnrollment:finalize",_r(t,e))}function x9(t,e){return rs(t,"POST","/v2/accounts/mfaEnrollment:start",_r(t,e))}function T9(t,e){return rs(t,"POST","/v2/accounts/mfaEnrollment:finalize",_r(t,e))}function FT(t){let e=t.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),n=RegExp(`${e}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function UT(t){return`${window.location.protocol==="http:"?"__dev_":"__HOST-"}FIREBASE_${t.split(":")[3]}`}function S9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}function dI(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}function Eo(){return window}function N9(t){Eo().location.href=t}function xR(){return typeof Eo().WorkerGlobalScope<"u"&&typeof Eo().importScripts=="function"}async function k9(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function A9(){return navigator?.serviceWorker?.controller||null}function D9(){return xR()?self:null}function u0(t,e){return t.transaction([Qy],e?"readwrite":"readonly").objectStore(Qy)}function R9(){let t=indexedDB.deleteDatabase(TR);return new Fc(t).toPromise()}function ZT(){let t=indexedDB.open(TR,C9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Qy,{keyPath:IR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{let r=t.result;r.objectStoreNames.contains(Qy)?e(r):(r.close(),await R9(),e(await ZT()))})})}async function O2(t,e,n){let r=u0(t,!0).put({[IR]:e,value:n});return new Fc(r).toPromise()}async function L9(t,e){let n=u0(t,!1).get(e),r=await new Fc(n).toPromise();return r===void 0?null:r.value}function M2(t,e){let n=u0(t,!0).delete(e);return new Fc(n).toPromise()}function F2(t,e){return rs(t,"POST","/v2/accounts/mfaSignIn:start",_r(t,e))}function M9(t,e){return rs(t,"POST","/v2/accounts/mfaSignIn:finalize",_r(t,e))}function F9(t,e){return rs(t,"POST","/v2/accounts/mfaSignIn:finalize",_r(t,e))}async function U9(t,e,n){if(!t._getRecaptchaConfig())try{await n9(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){let s=r.session;if("phoneNumber"in r){Ce(s.type==="enroll",t,"internal-error");let i={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Ad(t,i,"mfaSmsEnrollment",async(u,d)=>{if(d.phoneEnrollmentInfo.captchaResponse===fm){Ce(n?.type===Cy,u,"argument-error");let f=await VT(u,d,n);return P2(u,f)}return P2(u,d)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).phoneSessionInfo.sessionInfo}else{Ce(s.type==="signin",t,"internal-error");let i=r.multiFactorHint?.uid||r.multiFactorUid;Ce(i,t,"missing-multi-factor-info");let o={mfaPendingCredential:s.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Ad(t,o,"mfaSmsSignIn",async(d,f)=>{if(f.phoneSignInInfo.captchaResponse===fm){Ce(n?.type===Cy,d,"argument-error");let h=await VT(d,f,n);return F2(d,h)}return F2(d,f)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).phoneResponseInfo.sessionInfo}}else{let s={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Ad(t,s,"sendVerificationCode",async(l,u)=>{if(u.captchaResponse===fm){Ce(n?.type===Cy,l,"argument-error");let d=await VT(l,u,n);return R2(l,d)}return R2(l,u)},"PHONE_PROVIDER").catch(l=>Promise.reject(l))).sessionInfo}}finally{n?._reset()}}async function VT(t,e,n){Ce(n.type===Cy,t,"argument-error");let r=await n.verify();Ce(typeof r=="string",t,"argument-error");let s={...e};if("phoneEnrollmentInfo"in s){let i=s.phoneEnrollmentInfo.phoneNumber,o=s.phoneEnrollmentInfo.captchaResponse,a=s.phoneEnrollmentInfo.clientType,l=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:i,recaptchaToken:r,captchaResponse:o,clientType:a,recaptchaVersion:l}}),s}else if("phoneSignInInfo"in s){let i=s.phoneSignInInfo.captchaResponse,o=s.phoneSignInInfo.clientType,a=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:i,clientType:o,recaptchaVersion:a}}),s}else return Object.assign(s,{recaptchaToken:r}),s}function V9(t,e){return e?wa(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}function H9(t){return pR(t.auth,new Im(t),t.bypassAuthState)}function B9(t){let{auth:e,user:n}=t;return Ce(n,e,"internal-error"),v9(n,new Im(t),t.bypassAuthState)}async function z9(t){let{auth:e,user:n}=t;return Ce(n,e,"internal-error"),b9(n,new Im(t),t.bypassAuthState)}async function j9(t,e){let n=W9(e),r=K9(t);if(!await r._isAvailable())return!1;let s=await r._get(n)==="true";return await r._remove(n),s}function $9(t,e){Ry.set(t._key(),e)}function K9(t){return wa(t._redirectPersistence)}function W9(t){return Dy(G9,t.config.apiKey,t.name)}async function Y9(t,e,n=!1){if(ns(t.app))return Promise.reject(xa(t));let r=Ia(t),s=V9(r,e),o=await new tI(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}function U2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ER({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function X9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ER(t);default:return!1}}async function J9(t,e={}){return rs(t,"GET","/v1/projects",e)}async function tB(t){if(t.config.emulator)return;let{authorizedDomains:e}=await J9(t);for(let n of e)try{if(nB(n))return}catch{}$i(t,"unauthorized-domain")}function nB(t){let e=BT(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!eB.test(n))return!1;if(Z9.test(t))return r===t;let s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}function V2(){let t=Eo().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function sB(t){return new Promise((e,n)=>{function r(){V2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{V2(),n(_o(t,"network-request-failed"))},timeout:rB.get()})}if(Eo().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Eo().gapi?.load)r();else{let s=uR("iframefcb");return Eo()[s]=()=>{gapi.load?r():n(_o(t,"network-request-failed"))},cR(`${e9()}?onload=${s}`).catch(i=>n(i))}}).catch(e=>{throw Ly=null,e})}function iB(t){return Ly=Ly||sB(t),Ly}function dB(t){let e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?aI(e,lB):`https://${t.config.authDomain}/${aB}`,r={apiKey:e.apiKey,appName:t.name,v:To},s=uB.get(t.config.apiHost);s&&(r.eid=s);let i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${_d(r).slice(1)}`}async function hB(t){let e=await iB(t),n=Eo().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:dB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cB,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});let o=_o(t,"network-request-failed"),a=Eo().setTimeout(()=>{i(o)},oB.get());function l(){Eo().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}function bB(t,e,n,r=mB,s=pB){let i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l={...fB,width:r.toString(),height:s.toString(),top:i,left:o},u=Or().toLowerCase();n&&(a=nR(u)?gB:n),eR(u)&&(e=e||yB,l.scrollbars="yes");let d=Object.entries(l).reduce((h,[p,b])=>`${h}${p}=${b},`,"");if(WH(u)&&a!=="_self")return vB(e||"",a),new Zy(null);let f=window.open(e||"",a,d);Ce(f,t,"popup-blocked");try{f.focus()}catch{}return new Zy(f)}function vB(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}async function H2(t,e,n,r,s,i){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:To,eventId:s};if(e instanceof Gy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",c2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(i||{}))o[d]=f}if(e instanceof Mc){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let l=await t._getAppCheckToken(),u=l?`#${TB}=${encodeURIComponent(l)}`:"";return`${IB(t)}?${_d(a).slice(1)}${u}`}function IB({config:t}){return t.emulator?aI(t,xB):`https://${t.authDomain}/${wB}`}function ky(t){return typeof t>"u"||t?.length===0}function _B(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EB(t){xo(new Rs("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lR(t)},u=new KT(r,s,i,l);return r9(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xo(new Rs("auth-internal",e=>{let n=Ia(e.getProvider("auth").getImmediate());return(r=>new iI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ls(B2,z2,_B(t)),Ls(B2,z2,"esm2020")}function _m(t=kd()){let e=Dc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=dR(t,{popupRedirectResolver:SR,persistence:[_R,wR,uI]}),r=vT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let i=new URL(r,location.origin);if(location.origin===i.origin){let o=kB(i.toString());vR(n,o,()=>o(n.currentUser)),bR(n,a=>o(a))}}let s=yT("auth");return s&&hR(n,`http://${s}`),n}function AB(){return document.getElementsByTagName("head")?.[0]??document}var j2,$2,Py,Rc,Oy,VH,HH,BH,zT,My,qT,pm,hm,kl,A2,Vy,GT,Hy,jT,XH,$T,KT,By,i0,WT,YT,t9,fm,zy,Lc,gm,u9,Pc,f9,ym,qy,Oc,Gy,Mc,bm,vm,wm,xm,Cd,QT,jy,$y,I9,_9,Ky,wR,E9,XT,Wy,uI,Yy,JT,TR,C9,Qy,IR,Fc,P9,O9,Xy,_R,rY,sY,Cy,Tm,Im,Jy,q9,eI,G9,Ry,tI,Q9,nI,Z9,eB,rB,Ly,oB,aB,lB,cB,uB,fB,mB,pB,gB,yB,Zy,wB,xB,TB,HT,rI,SR,e0,sI,t0,n0,r0,s0,B2,z2,iI,SB,NB,q2,kB,NR=j(()=>{Cc();_l();om();Nd();j2=G2,$2=new ba("auth","Firebase",G2());Py=new El("@firebase/auth");Rc=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ta(n>e,"Short delay should be less than long delay!"),this.isMobile=n2()||i2()}get(){return FH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};Oy=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Io("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Io("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Io("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};VH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};HH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BH=new Rc(3e4,6e4);zT=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_o(this.auth,"network-request-failed")),BH.get())})}};My=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zH(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};qT=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};pm=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dm(this.lastLoginAt),this.creationTime=dm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};hm=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):k2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");let n=k2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:s,expiresIn:i}=await $H(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new t;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Ce(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Ce(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Io("not implemented")}};kl=class t{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new qT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new pm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){let n=await mm(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return X2(this,e)}reload(){return J2(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Uy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ns(this.auth.app))return Promise.reject(xa(this.auth));let e=await this.getIdToken();return await mm(this,qH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){let r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:b,stsTokenManager:I}=n;Ce(f&&I,e,"internal-error");let v=hm.fromJSON(this.name,I);Ce(typeof f=="string",e,"internal-error"),Nl(r,e.name),Nl(s,e.name),Ce(typeof h=="boolean",e,"internal-error"),Ce(typeof p=="boolean",e,"internal-error"),Nl(i,e.name),Nl(o,e.name),Nl(a,e.name),Nl(l,e.name),Nl(u,e.name),Nl(d,e.name);let g=new t({uid:f,auth:e,email:s,emailVerified:h,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:v,createdAt:u,lastLoginAt:d});return b&&Array.isArray(b)&&(g.providerData=b.map(y=>({...y}))),l&&(g._redirectEventId=l),g}static async _fromIdTokenResponse(e,n,r=!1){let s=new hm;s.updateFromServerResponse(n);let i=new t({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Uy(i),i}static async _fromGetAccountInfoResponse(e,n,r){let s=n.users[0];Ce(s.localId!==void 0,"internal-error");let i=s.providerUserInfo!==void 0?Z2(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,a=new hm;a.updateFromIdToken(r);let l=new t({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new pm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(l,u),l}};A2=new Map;Vy=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){let n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}};Vy.type="NONE";GT=Vy;Hy=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:s,name:i}=this.auth;this.fullUserKey=Dy(this.userKey,s.apiKey,i),this.fullPersistenceKey=Dy("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await Fy(this.auth,{idToken:e}).catch(()=>{});return n?kl._fromGetAccountInfoResponse(this.auth,n,e):null}return kl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(wa(GT),e,r);let s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u),i=s[0]||wa(GT),o=Dy(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let d=await u._get(o);if(d){let f;if(typeof d=="string"){let h=await Fy(e,{idToken:d}).catch(()=>{});if(!h)break;f=await kl._fromGetAccountInfoResponse(e,h,d)}else f=kl._fromJSON(e,d);u!==i&&(a=f),i=u;break}}catch{}let l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new t(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new t(i,e,r))}};jT=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=i=>new Promise((o,a)=>{try{let l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);let s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};XH=6,$T=class{constructor(e){let n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??XH,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}};KT=class{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new By(this),this.idTokenSubscription=new By(this),this.beforeStateQueue=new jT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wa(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Hy.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await Fy(this,{idToken:e}),r=await kl._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ns(this.app)){let i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}let n=await this.assertedPersistence.getCurrentUser(),r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let i=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!i||i===o)&&a?.user&&(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uy(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ns(this.app))return Promise.reject(xa(this));let n=e?An(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ns(this.app)?Promise.reject(xa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ns(this.app)?Promise.reject(xa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await QH(this),n=new $T(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ba("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await KH(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&wa(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await Hy.create(this,[wa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};let i=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{let l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ns(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&OH(`Error while retrieving App Check token: ${e.error}`),e?.token}};By=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=u2(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};i0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};WT=class{constructor(){this.enterprise=new YT}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},YT=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},t9="recaptcha-enterprise",fm="NO_RECAPTCHA",zy=class{constructor(e){this.type=t9,this.auth=Ia(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{Q2(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new My(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){let l=window.grecaptcha;N2(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(fm)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WT().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&N2(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=ZH();l.length!==0&&(l+=a),cR(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}};Lc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Io("not implemented")}_getIdTokenResponse(e){return Io("not implemented")}_linkToIdToken(e,n){return Io("not implemented")}_getReauthenticationResolver(e){return Io("not implemented")}};gm=class t extends Lc{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ad(e,n,"signInWithPassword",a9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return l9(e,{email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ad(e,r,"signUpPassword",o9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return c9(e,{idToken:n,email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};u9="http://localhost",Pc=class t extends Lc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;let o=new t(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return Dd(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Dd(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Dd(e,n)}buildRequest(){let e={requestUri:u9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_d(n)}return e}};f9={USER_NOT_FOUND:"user-not-found"};ym=class t extends Lc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new t({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new t({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return d9(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return h9(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return m9(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:s}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i}=e;return!r&&!n&&!s&&!i?null:new t({verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i})}};qy=class t{constructor(e){let n=Ed(Sd(e)),r=n.apiKey??null,s=n.oobCode??null,i=p9(n.mode??null);Ce(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){let n=g9(e);try{return new t(n)}catch{return null}}};Oc=class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(e,n){return gm._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){let r=qy.parseLink(n);return Ce(r,"argument-error"),gm._fromEmailAndCode(e,r.code,r.tenantId)}};Oc.PROVIDER_ID="password";Oc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";Gy=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};Mc=class extends Gy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};bm=class t extends Mc{constructor(){super("facebook.com")}static credential(e){return Pc._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return t.credential(e.oauthAccessToken)}catch{return null}}};bm.FACEBOOK_SIGN_IN_METHOD="facebook.com";bm.PROVIDER_ID="facebook.com";vm=class t extends Mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pc._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return t.credential(n,r)}catch{return null}}};vm.GOOGLE_SIGN_IN_METHOD="google.com";vm.PROVIDER_ID="google.com";wm=class t extends Mc{constructor(){super("github.com")}static credential(e){return Pc._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return t.credential(e.oauthAccessToken)}catch{return null}}};wm.GITHUB_SIGN_IN_METHOD="github.com";wm.PROVIDER_ID="github.com";xm=class t extends Mc{constructor(){super("twitter.com")}static credential(e,n){return Pc._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return t.credential(n,r)}catch{return null}}};xm.TWITTER_SIGN_IN_METHOD="twitter.com";xm.PROVIDER_ID="twitter.com";Cd=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){let i=await kl._fromIdTokenResponse(e,r,s),o=L2(r);return new t({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);let s=L2(r);return new t({user:e,providerId:s,_tokenResponse:r,operationType:n})}};QT=class t extends Is{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new t(e,n,r,s)}};jy="__sak";$y=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jy,"1"),this.storage.removeItem(jy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};I9=1e3,_9=10,Ky=class extends $y{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let n of Object.keys(this.listeners)){let r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}let r=e.key;n?this.detachListener():this.stopPolling();let s=()=>{let o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);YH()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,_9):s()}notifyListeners(e,n){this.localCache[e]=n;let r=this.listeners[e];if(r)for(let s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},I9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){let n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}};Ky.type="LOCAL";wR=Ky;E9=1e3;XT=class{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(typeof window===void 0)return e;let n=new URL(`${window.location.origin}/__cookies__`);return n.searchParams.set("finalTarget",e),n}async _isAvailable(){return typeof isSecureContext=="boolean"&&!isSecureContext||typeof navigator>"u"||typeof document>"u"?!1:navigator.cookieEnabled??!0}async _set(e,n){}async _get(e){if(!this._isAvailable())return null;let n=UT(e);return window.cookieStore?(await window.cookieStore.get(n))?.value:FT(n)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;let r=UT(e);document.cookie=`${r}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,n){if(!this._isAvailable())return;let r=UT(e);if(window.cookieStore){let a=u=>{let d=u.changed.find(h=>h.name===r);d&&n(d.value),u.deleted.find(h=>h.name===r)&&n(null)},l=()=>window.cookieStore.removeEventListener("change",a);return this.listenerUnsubscribes.set(n,l),window.cookieStore.addEventListener("change",a)}let s=FT(r),i=setInterval(()=>{let a=FT(r);a!==s&&(n(a),s=a)},E9),o=()=>clearInterval(i);this.listenerUnsubscribes.set(n,o)}_removeListener(e,n){let r=this.listenerUnsubscribes.get(n);r&&(r(),this.listenerUnsubscribes.delete(n))}};XT.type="COOKIE";Wy=class extends $y{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}};Wy.type="SESSION";uI=Wy;Yy=class t{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;let r=new t(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let a=Array.from(o).map(async u=>u(n.origin,i)),l=await S9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};Yy.receivers=[];JT=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){let s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{let u=dI("",20);s.port1.start();let d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){let h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};TR="firebaseLocalStorageDb",C9=1,Qy="firebaseLocalStorage",IR="fbase_key",Fc=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};P9=800,O9=3,Xy=class{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ZT(),this.db)}async _withRetries(e){let n=0;for(;;)try{let r=await this._openDb();return await e(r)}catch(r){if(n++>O9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yy._getInstance(D9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await k9(),!this.activeServiceWorker)return;this.sender=new JT(this.activeServiceWorker);let e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||A9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await ZT();return await O2(e,jy,"1"),await M2(e,jy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>O2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){let n=await this._withRetries(r=>L9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>M2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(s=>{let i=u0(s,!1).getAll();return new Fc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let n=[],r=new Set;if(e.length!==0)for(let{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;let r=this.listeners[e];if(r)for(let s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),P9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};Xy.type="LOCAL";_R=Xy;rY=uR("rcb"),sY=new Rc(3e4,6e4);Cy="recaptcha";Tm=class t{constructor(e){this.providerId=t.PROVIDER_ID,this.auth=Ia(e)}verifyPhoneNumber(e,n){return U9(this.auth,e,An(n))}static credential(e,n){return ym._fromVerification(e,n)}static credentialFromResult(e){let n=e;return t.credentialFromTaggedObject(n)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:n,temporaryProof:r}=e;return n&&r?ym._fromTokenResponse(n,r):null}};Tm.PROVIDER_ID="phone";Tm.PHONE_SIGN_IN_METHOD="phone";Im=class extends Lc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Dd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Dd(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};Jy=class{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H9;case"linkViaPopup":case"linkViaRedirect":return z9;case"reauthViaPopup":case"reauthViaRedirect":return B9;default:$i(this.auth,"internal-error")}}resolve(e){Ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};q9=new Rc(2e3,1e4),eI=class t extends Jy{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Ta(this.filter.length===1,"Popup operations only handle one event");let e=dI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_o(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_o(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_o(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,q9.get())};e()}};eI.currentPopupAction=null;G9="pendingRedirect",Ry=new Map,tI=class extends Jy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ry.get(this.auth._key());if(!e){try{let r=await j9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ry.set(this.auth._key(),e)}return this.bypassAuthState||Ry.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};Q9=10*60*1e3,nI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!X9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ER(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(_o(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q9&&this.cachedEventUids.clear(),this.cachedEventUids.has(U2(e))}saveEventToCache(e){this.cachedEventUids.add(U2(e)),this.lastProcessedEventTime=Date.now()}};Z9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eB=/^https?/;rB=new Rc(3e4,6e4);Ly=null;oB=new Rc(5e3,15e3),aB="__/auth/iframe",lB="emulator/auth/iframe",cB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);fB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mB=500,pB=600,gB="_blank",yB="http://localhost",Zy=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};wB="__/auth/handler",xB="emulator/auth/handler",TB=encodeURIComponent("fac");HT="webStorageSupport",rI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uI,this._completeRedirectFn=Y9,this._overrideRedirectResult=$9}async _openPopup(e,n,r,s){Ta(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let i=await H2(e,n,r,BT(),s);return bB(e,i,dI())}async _openRedirect(e,n,r,s){await this._originValidation(e);let i=await H2(e,n,r,BT(),s);return N9(i),new Promise(()=>{})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ta(i,"If manager is not set, promise should be"),i)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){let n=await hB(e),r=new nI(e);return n.register("authEvent",s=>(Ce(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(HT,{type:HT},s=>{let i=s?.[0]?.[HT];i!==void 0&&n(!!i),$i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aR()||tR()||cI()}},SR=rI,e0=class{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Io("unexpected MultiFactorSessionType")}}},sI=class t extends e0{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new t(e)}_finalizeEnroll(e,n,r){return w9(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return M9(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},t0=class{constructor(){}static assertion(e){return sI._fromCredential(e)}};t0.FACTOR_ID="phone";n0=class{static assertionForEnrollment(e,n){return r0._fromSecret(e,n)}static assertionForSignIn(e,n){return r0._fromEnrollmentId(e,n)}static async generateSecret(e){let n=e;Ce(typeof n.user?.auth<"u","internal-error");let r=await x9(n.user.auth,{idToken:n.credential,totpEnrollmentInfo:{}});return s0._fromStartTotpMfaEnrollmentResponse(r,n.user.auth)}};n0.FACTOR_ID="totp";r0=class t extends e0{constructor(e,n,r){super("totp"),this.otp=e,this.enrollmentId=n,this.secret=r}static _fromSecret(e,n){return new t(n,void 0,e)}static _fromEnrollmentId(e,n){return new t(n,e)}async _finalizeEnroll(e,n,r){return Ce(typeof this.secret<"u",e,"argument-error"),T9(e,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,n){Ce(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");let r={verificationCode:this.otp};return F9(e,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r})}},s0=class t{constructor(e,n,r,s,i,o,a){this.sessionInfo=o,this.auth=a,this.secretKey=e,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=s,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,n){return new t(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,n)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,n){let r=!1;return(ky(e)||ky(n))&&(r=!0),r&&(ky(e)&&(e=this.auth.currentUser?.email||"unknownuser"),ky(n)&&(n=this.auth.name)),`otpauth://totp/${n}:${e}?secret=${this.secretKey}&issuer=${n}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}};B2="@firebase/auth",z2="1.11.0";iI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};SB=5*60,NB=vT("authIdTokenMaxAge")||SB,q2=null,kB=t=>async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>NB)return;let s=n?.token;q2!==s&&(q2=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};JH({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{let i=_o("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",AB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EB("Browser")});var AR=j(()=>{NR();Cc();_l();om();Nd()});var Em=j(()=>{AR()});var DR,CR,_a,hI,RR=j(()=>{DR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},CR={};(function(){var t;function e(S,E){function T(){}T.prototype=E.prototype,S.D=E.prototype,S.prototype=new T,S.prototype.constructor=S,S.C=function(x,N,D){for(var k=Array(arguments.length-2),V=2;V<arguments.length;V++)k[V-2]=arguments[V];return E.prototype[N].apply(x,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,E,T){T||(T=0);var x=Array(16);if(typeof E=="string")for(var N=0;16>N;++N)x[N]=E.charCodeAt(T++)|E.charCodeAt(T++)<<8|E.charCodeAt(T++)<<16|E.charCodeAt(T++)<<24;else for(N=0;16>N;++N)x[N]=E[T++]|E[T++]<<8|E[T++]<<16|E[T++]<<24;E=S.g[0],T=S.g[1],N=S.g[2];var D=S.g[3],k=E+(D^T&(N^D))+x[0]+3614090360&4294967295;E=T+(k<<7&4294967295|k>>>25),k=D+(N^E&(T^N))+x[1]+3905402710&4294967295,D=E+(k<<12&4294967295|k>>>20),k=N+(T^D&(E^T))+x[2]+606105819&4294967295,N=D+(k<<17&4294967295|k>>>15),k=T+(E^N&(D^E))+x[3]+3250441966&4294967295,T=N+(k<<22&4294967295|k>>>10),k=E+(D^T&(N^D))+x[4]+4118548399&4294967295,E=T+(k<<7&4294967295|k>>>25),k=D+(N^E&(T^N))+x[5]+1200080426&4294967295,D=E+(k<<12&4294967295|k>>>20),k=N+(T^D&(E^T))+x[6]+2821735955&4294967295,N=D+(k<<17&4294967295|k>>>15),k=T+(E^N&(D^E))+x[7]+4249261313&4294967295,T=N+(k<<22&4294967295|k>>>10),k=E+(D^T&(N^D))+x[8]+1770035416&4294967295,E=T+(k<<7&4294967295|k>>>25),k=D+(N^E&(T^N))+x[9]+2336552879&4294967295,D=E+(k<<12&4294967295|k>>>20),k=N+(T^D&(E^T))+x[10]+4294925233&4294967295,N=D+(k<<17&4294967295|k>>>15),k=T+(E^N&(D^E))+x[11]+2304563134&4294967295,T=N+(k<<22&4294967295|k>>>10),k=E+(D^T&(N^D))+x[12]+1804603682&4294967295,E=T+(k<<7&4294967295|k>>>25),k=D+(N^E&(T^N))+x[13]+4254626195&4294967295,D=E+(k<<12&4294967295|k>>>20),k=N+(T^D&(E^T))+x[14]+2792965006&4294967295,N=D+(k<<17&4294967295|k>>>15),k=T+(E^N&(D^E))+x[15]+1236535329&4294967295,T=N+(k<<22&4294967295|k>>>10),k=E+(N^D&(T^N))+x[1]+4129170786&4294967295,E=T+(k<<5&4294967295|k>>>27),k=D+(T^N&(E^T))+x[6]+3225465664&4294967295,D=E+(k<<9&4294967295|k>>>23),k=N+(E^T&(D^E))+x[11]+643717713&4294967295,N=D+(k<<14&4294967295|k>>>18),k=T+(D^E&(N^D))+x[0]+3921069994&4294967295,T=N+(k<<20&4294967295|k>>>12),k=E+(N^D&(T^N))+x[5]+3593408605&4294967295,E=T+(k<<5&4294967295|k>>>27),k=D+(T^N&(E^T))+x[10]+38016083&4294967295,D=E+(k<<9&4294967295|k>>>23),k=N+(E^T&(D^E))+x[15]+3634488961&4294967295,N=D+(k<<14&4294967295|k>>>18),k=T+(D^E&(N^D))+x[4]+3889429448&4294967295,T=N+(k<<20&4294967295|k>>>12),k=E+(N^D&(T^N))+x[9]+568446438&4294967295,E=T+(k<<5&4294967295|k>>>27),k=D+(T^N&(E^T))+x[14]+3275163606&4294967295,D=E+(k<<9&4294967295|k>>>23),k=N+(E^T&(D^E))+x[3]+4107603335&4294967295,N=D+(k<<14&4294967295|k>>>18),k=T+(D^E&(N^D))+x[8]+1163531501&4294967295,T=N+(k<<20&4294967295|k>>>12),k=E+(N^D&(T^N))+x[13]+2850285829&4294967295,E=T+(k<<5&4294967295|k>>>27),k=D+(T^N&(E^T))+x[2]+4243563512&4294967295,D=E+(k<<9&4294967295|k>>>23),k=N+(E^T&(D^E))+x[7]+1735328473&4294967295,N=D+(k<<14&4294967295|k>>>18),k=T+(D^E&(N^D))+x[12]+2368359562&4294967295,T=N+(k<<20&4294967295|k>>>12),k=E+(T^N^D)+x[5]+4294588738&4294967295,E=T+(k<<4&4294967295|k>>>28),k=D+(E^T^N)+x[8]+2272392833&4294967295,D=E+(k<<11&4294967295|k>>>21),k=N+(D^E^T)+x[11]+1839030562&4294967295,N=D+(k<<16&4294967295|k>>>16),k=T+(N^D^E)+x[14]+4259657740&4294967295,T=N+(k<<23&4294967295|k>>>9),k=E+(T^N^D)+x[1]+2763975236&4294967295,E=T+(k<<4&4294967295|k>>>28),k=D+(E^T^N)+x[4]+1272893353&4294967295,D=E+(k<<11&4294967295|k>>>21),k=N+(D^E^T)+x[7]+4139469664&4294967295,N=D+(k<<16&4294967295|k>>>16),k=T+(N^D^E)+x[10]+3200236656&4294967295,T=N+(k<<23&4294967295|k>>>9),k=E+(T^N^D)+x[13]+681279174&4294967295,E=T+(k<<4&4294967295|k>>>28),k=D+(E^T^N)+x[0]+3936430074&4294967295,D=E+(k<<11&4294967295|k>>>21),k=N+(D^E^T)+x[3]+3572445317&4294967295,N=D+(k<<16&4294967295|k>>>16),k=T+(N^D^E)+x[6]+76029189&4294967295,T=N+(k<<23&4294967295|k>>>9),k=E+(T^N^D)+x[9]+3654602809&4294967295,E=T+(k<<4&4294967295|k>>>28),k=D+(E^T^N)+x[12]+3873151461&4294967295,D=E+(k<<11&4294967295|k>>>21),k=N+(D^E^T)+x[15]+530742520&4294967295,N=D+(k<<16&4294967295|k>>>16),k=T+(N^D^E)+x[2]+3299628645&4294967295,T=N+(k<<23&4294967295|k>>>9),k=E+(N^(T|~D))+x[0]+4096336452&4294967295,E=T+(k<<6&4294967295|k>>>26),k=D+(T^(E|~N))+x[7]+1126891415&4294967295,D=E+(k<<10&4294967295|k>>>22),k=N+(E^(D|~T))+x[14]+2878612391&4294967295,N=D+(k<<15&4294967295|k>>>17),k=T+(D^(N|~E))+x[5]+4237533241&4294967295,T=N+(k<<21&4294967295|k>>>11),k=E+(N^(T|~D))+x[12]+1700485571&4294967295,E=T+(k<<6&4294967295|k>>>26),k=D+(T^(E|~N))+x[3]+2399980690&4294967295,D=E+(k<<10&4294967295|k>>>22),k=N+(E^(D|~T))+x[10]+4293915773&4294967295,N=D+(k<<15&4294967295|k>>>17),k=T+(D^(N|~E))+x[1]+2240044497&4294967295,T=N+(k<<21&4294967295|k>>>11),k=E+(N^(T|~D))+x[8]+1873313359&4294967295,E=T+(k<<6&4294967295|k>>>26),k=D+(T^(E|~N))+x[15]+4264355552&4294967295,D=E+(k<<10&4294967295|k>>>22),k=N+(E^(D|~T))+x[6]+2734768916&4294967295,N=D+(k<<15&4294967295|k>>>17),k=T+(D^(N|~E))+x[13]+1309151649&4294967295,T=N+(k<<21&4294967295|k>>>11),k=E+(N^(T|~D))+x[4]+4149444226&4294967295,E=T+(k<<6&4294967295|k>>>26),k=D+(T^(E|~N))+x[11]+3174756917&4294967295,D=E+(k<<10&4294967295|k>>>22),k=N+(E^(D|~T))+x[2]+718787259&4294967295,N=D+(k<<15&4294967295|k>>>17),k=T+(D^(N|~E))+x[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var T=E-this.blockSize,x=this.B,N=this.h,D=0;D<E;){if(N==0)for(;D<=T;)s(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<E;)if(x[N++]=S.charCodeAt(D++),N==this.blockSize){s(this,x),N=0;break}}else for(;D<E;)if(x[N++]=S[D++],N==this.blockSize){s(this,x),N=0;break}}this.h=N,this.o+=E},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var T=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=T&255,T/=256;for(this.u(S),S=Array(16),E=T=0;4>E;++E)for(var x=0;32>x;x+=8)S[T++]=this.g[E]>>>x&255;return S};function i(S,E){var T=a;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=E(S)}function o(S,E){this.h=E;for(var T=[],x=!0,N=S.length-1;0<=N;N--){var D=S[N]|0;x&&D==E||(T[N]=D,x=!1)}this.g=T}var a={};function l(S){return-128<=S&&128>S?i(S,function(E){return new o([E|0],0>E?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return v(u(-S));for(var E=[],T=1,x=0;S>=T;x++)E[x]=S/T|0,T*=4294967296;return new o(E,0)}function d(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return v(d(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(E,8)),x=f,N=0;N<S.length;N+=8){var D=Math.min(8,S.length-N),k=parseInt(S.substring(N,N+D),E);8>D?(D=u(Math.pow(E,D)),x=x.j(D).add(u(k))):(x=x.j(T),x=x.add(u(k)))}return x}var f=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(I(this))return-v(this).m();for(var S=0,E=1,T=0;T<this.g.length;T++){var x=this.i(T);S+=(0<=x?x:4294967296+x)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(b(this))return"0";if(I(this))return"-"+v(this).toString(S);for(var E=u(Math.pow(S,6)),T=this,x="";;){var N=A(T,E).g;T=g(T,N.j(E));var D=((0<T.g.length?T.g[0]:T.h)>>>0).toString(S);if(T=N,b(T))return D+x;for(;6>D.length;)D="0"+D;x=D+x}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function b(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function I(S){return S.h==-1}t.l=function(S){return S=g(this,S),I(S)?-1:b(S)?0:1};function v(S){for(var E=S.g.length,T=[],x=0;x<E;x++)T[x]=~S.g[x];return new o(T,~S.h).add(h)}t.abs=function(){return I(this)?v(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),T=[],x=0,N=0;N<=E;N++){var D=x+(this.i(N)&65535)+(S.i(N)&65535),k=(D>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);x=k>>>16,D&=65535,k&=65535,T[N]=k<<16|D}return new o(T,T[T.length-1]&-2147483648?-1:0)};function g(S,E){return S.add(v(E))}t.j=function(S){if(b(this)||b(S))return f;if(I(this))return I(S)?v(this).j(v(S)):v(v(this).j(S));if(I(S))return v(this.j(v(S)));if(0>this.l(p)&&0>S.l(p))return u(this.m()*S.m());for(var E=this.g.length+S.g.length,T=[],x=0;x<2*E;x++)T[x]=0;for(x=0;x<this.g.length;x++)for(var N=0;N<S.g.length;N++){var D=this.i(x)>>>16,k=this.i(x)&65535,V=S.i(N)>>>16,z=S.i(N)&65535;T[2*x+2*N]+=k*z,y(T,2*x+2*N),T[2*x+2*N+1]+=D*z,y(T,2*x+2*N+1),T[2*x+2*N+1]+=k*V,y(T,2*x+2*N+1),T[2*x+2*N+2]+=D*V,y(T,2*x+2*N+2)}for(x=0;x<E;x++)T[x]=T[2*x+1]<<16|T[2*x];for(x=E;x<2*E;x++)T[x]=0;return new o(T,0)};function y(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function _(S,E){this.g=S,this.h=E}function A(S,E){if(b(E))throw Error("division by zero");if(b(S))return new _(f,f);if(I(S))return E=A(v(S),E),new _(v(E.g),v(E.h));if(I(E))return E=A(S,v(E)),new _(v(E.g),E.h);if(30<S.g.length){if(I(S)||I(E))throw Error("slowDivide_ only works with positive integers.");for(var T=h,x=E;0>=x.l(S);)T=R(T),x=R(x);var N=U(T,1),D=U(x,1);for(x=U(x,2),T=U(T,2);!b(x);){var k=D.add(x);0>=k.l(S)&&(N=N.add(T),D=k),x=U(x,1),T=U(T,1)}return E=g(S,N.j(E)),new _(N,E)}for(N=f;0<=S.l(E);){for(T=Math.max(1,Math.floor(S.m()/E.m())),x=Math.ceil(Math.log(T)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),D=u(T),k=D.j(E);I(k)||0<k.l(S);)T-=x,D=u(T),k=D.j(E);b(D)&&(D=h),N=N.add(D),S=g(S,k)}return new _(N,S)}t.A=function(S){return A(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),T=[],x=0;x<E;x++)T[x]=this.i(x)&S.i(x);return new o(T,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),T=[],x=0;x<E;x++)T[x]=this.i(x)|S.i(x);return new o(T,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),T=[],x=0;x<E;x++)T[x]=this.i(x)^S.i(x);return new o(T,this.h^S.h)};function R(S){for(var E=S.g.length+1,T=[],x=0;x<E;x++)T[x]=S.i(x)<<1|S.i(x-1)>>>31;return new o(T,S.h)}function U(S,E){var T=E>>5;E%=32;for(var x=S.g.length-T,N=[],D=0;D<x;D++)N[D]=0<E?S.i(D+T)>>>E|S.i(D+T+1)<<32-E:S.i(D+T);return new o(N,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,hI=CR.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,_a=CR.Integer=o}).apply(typeof DR<"u"?DR:typeof self<"u"?self:typeof window<"u"?window:{})});var d0,Ea,fI,DB,Rd,mI,Sm,h0,pI,gI,yI,LR=j(()=>{d0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ea={};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,w){return c==Array.prototype||c==Object.prototype||(c[m]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof d0=="object"&&d0];for(var m=0;m<c.length;++m){var w=c[m];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(c,m){if(m)e:{var w=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var B=c[C];if(!(B in w))break e;w=w[B]}c=c[c.length-1],C=w[c],m=m(C),m!=C&&m!=null&&e(w,c,{configurable:!0,writable:!0,value:m})}}function i(c,m){c instanceof String&&(c+="");var w=0,C=!1,B={next:function(){if(!C&&w<c.length){var G=w++;return{value:m(G,c[G]),done:!1}}return C=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}s("Array.prototype.values",function(c){return c||function(){return i(this,function(m,w){return w})}});var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function d(c,m,w){return c.call.apply(c.bind,arguments)}function f(c,m,w){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,C),c.apply(m,B)}}return function(){return c.apply(m,arguments)}}function h(c,m,w){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function p(c,m){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function b(c,m){function w(){}w.prototype=m.prototype,c.aa=m.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(C,B,G){for(var he=Array(arguments.length-2),rn=2;rn<arguments.length;rn++)he[rn-2]=arguments[rn];return m.prototype[B].apply(C,he)}}function I(c){let m=c.length;if(0<m){let w=Array(m);for(let C=0;C<m;C++)w[C]=c[C];return w}return[]}function v(c,m){for(let w=1;w<arguments.length;w++){let C=arguments[w];if(l(C)){let B=c.length||0,G=C.length||0;c.length=B+G;for(let he=0;he<G;he++)c[B+he]=C[he]}else c.push(C)}}class g{constructor(m,w){this.i=m,this.j=w,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function y(c){return/^[\s\xa0]*$/.test(c)}function _(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function A(c){return A[" "](c),c}A[" "]=function(){};var R=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function U(c,m,w){for(let C in c)m.call(w,c[C],C,c)}function S(c,m){for(let w in c)m.call(void 0,c[w],w,c)}function E(c){let m={};for(let w in c)m[w]=c[w];return m}let T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,m){let w,C;for(let B=1;B<arguments.length;B++){C=arguments[B];for(w in C)c[w]=C[w];for(let G=0;G<T.length;G++)w=T[G],Object.prototype.hasOwnProperty.call(C,w)&&(c[w]=C[w])}}function N(c){var m=1;c=c.split(":");let w=[];for(;0<m&&c.length;)w.push(c.shift()),m--;return c.length&&w.push(c.join(":")),w}function D(c){a.setTimeout(()=>{throw c},0)}function k(){var c=Te;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class V{constructor(){this.h=this.g=null}add(m,w){let C=z.get();C.set(m,w),this.h?this.h.next=C:this.g=C,this.h=C}}var z=new g(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(m,w){this.h=m,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let de,se=!1,Te=new V,Ae=()=>{let c=a.Promise.resolve(void 0);de=()=>{c.then(De)}};var De=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(w){D(w)}var m=z;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}se=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let w=()=>{};a.addEventListener("test",w,m),a.removeEventListener("test",w,m)}catch{}return c}();function W(c,m){if(P.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(R){e:{try{A(m.nodeName);var B=!0;break e}catch{}B=!1}B||(m=null)}}else w=="mouseover"?m=c.fromElement:w=="mouseout"&&(m=c.toElement);this.relatedTarget=m,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:F[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&W.aa.h.call(this)}}b(W,P);var F={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),be=0;function He(c,m,w,C,B){this.listener=c,this.proxy=null,this.src=m,this.type=w,this.capture=!!C,this.ha=B,this.key=++be,this.da=this.fa=!1}function Nt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function dn(c){this.src=c,this.g={},this.h=0}dn.prototype.add=function(c,m,w,C,B){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var he=ue(c,m,C,B);return-1<he?(m=c[he],w||(m.fa=!1)):(m=new He(m,this.src,G,!!C,B),m.fa=w,c.push(m)),m};function Jt(c,m){var w=m.type;if(w in c.g){var C=c.g[w],B=Array.prototype.indexOf.call(C,m,void 0),G;(G=0<=B)&&Array.prototype.splice.call(C,B,1),G&&(Nt(m),c.g[w].length==0&&(delete c.g[w],c.h--))}}function ue(c,m,w,C){for(var B=0;B<c.length;++B){var G=c[B];if(!G.da&&G.listener==m&&G.capture==!!w&&G.ha==C)return B}return-1}var ve="closure_lm_"+(1e6*Math.random()|0),$n={};function lr(c,m,w,C,B){if(C&&C.once)return Ee(c,m,w,C,B);if(Array.isArray(m)){for(var G=0;G<m.length;G++)lr(c,m[G],w,C,B);return null}return w=ge(w),c&&c[ee]?c.K(m,w,u(C)?!!C.capture:!!C,B):Wr(c,m,w,!1,C,B)}function Wr(c,m,w,C,B,G){if(!m)throw Error("Invalid event type");var he=u(B)?!!B.capture:!!B,rn=Me(c);if(rn||(c[ve]=rn=new dn(c)),w=rn.add(m,w,C,he,G),w.proxy)return w;if(C=le(),w.proxy=C,C.src=c,C.listener=w,c.addEventListener)Z||(B=he),B===void 0&&(B=!1),c.addEventListener(m.toString(),C,B);else if(c.attachEvent)c.attachEvent(zt(m.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function le(){function c(w){return m.call(c.src,c.listener,w)}let m=q;return c}function Ee(c,m,w,C,B){if(Array.isArray(m)){for(var G=0;G<m.length;G++)Ee(c,m[G],w,C,B);return null}return w=ge(w),c&&c[ee]?c.L(m,w,u(C)?!!C.capture:!!C,B):Wr(c,m,w,!0,C,B)}function ze(c,m,w,C,B){if(Array.isArray(m))for(var G=0;G<m.length;G++)ze(c,m[G],w,C,B);else C=u(C)?!!C.capture:!!C,w=ge(w),c&&c[ee]?(c=c.i,m=String(m).toString(),m in c.g&&(G=c.g[m],w=ue(G,w,C,B),-1<w&&(Nt(G[w]),Array.prototype.splice.call(G,w,1),G.length==0&&(delete c.g[m],c.h--)))):c&&(c=Me(c))&&(m=c.g[m.toString()],c=-1,m&&(c=ue(m,w,C,B)),(w=-1<c?m[c]:null)&&$t(w))}function $t(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[ee])Jt(m.i,c);else{var w=c.type,C=c.proxy;m.removeEventListener?m.removeEventListener(w,C,c.capture):m.detachEvent?m.detachEvent(zt(w),C):m.addListener&&m.removeListener&&m.removeListener(C),(w=Me(m))?(Jt(w,c),w.h==0&&(w.src=null,m[ve]=null)):Nt(c)}}}function zt(c){return c in $n?$n[c]:$n[c]="on"+c}function q(c,m){if(c.da)c=!0;else{m=new W(m,this);var w=c.listener,C=c.ha||c.src;c.fa&&$t(c),c=w.call(C,m)}return c}function Me(c){return c=c[ve],c instanceof dn?c:null}var Be="__closure_events_fn_"+(1e9*Math.random()>>>0);function ge(c){return typeof c=="function"?c:(c[Be]||(c[Be]=function(m){return c.handleEvent(m)}),c[Be])}function _e(){Q.call(this),this.i=new dn(this),this.M=this,this.F=null}b(_e,Q),_e.prototype[ee]=!0,_e.prototype.removeEventListener=function(c,m,w,C){ze(this,c,m,w,C)};function Xe(c,m){var w,C=c.F;if(C)for(w=[];C;C=C.F)w.push(C);if(c=c.M,C=m.type||m,typeof m=="string")m=new P(m,c);else if(m instanceof P)m.target=m.target||c;else{var B=m;m=new P(C,c),x(m,B)}if(B=!0,w)for(var G=w.length-1;0<=G;G--){var he=m.g=w[G];B=xn(he,C,!0,m)&&B}if(he=m.g=c,B=xn(he,C,!0,m)&&B,B=xn(he,C,!1,m)&&B,w)for(G=0;G<w.length;G++)he=m.g=w[G],B=xn(he,C,!1,m)&&B}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var w=c.g[m],C=0;C<w.length;C++)Nt(w[C]);delete c.g[m],c.h--}}this.F=null},_e.prototype.K=function(c,m,w,C){return this.i.add(String(c),m,!1,w,C)},_e.prototype.L=function(c,m,w,C){return this.i.add(String(c),m,!0,w,C)};function xn(c,m,w,C){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var B=!0,G=0;G<m.length;++G){var he=m[G];if(he&&!he.da&&he.capture==w){var rn=he.listener,zr=he.ha||he.src;he.fa&&Jt(c.i,he),B=rn.call(zr,C)!==!1&&B}}return B&&!C.defaultPrevented}function zs(c,m,w){if(typeof c=="function")w&&(c=h(c,w));else if(c&&typeof c.handleEvent=="function")c=h(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function kr(c){c.g=zs(()=>{c.g=null,c.i&&(c.i=!1,kr(c))},c.l);let m=c.h;c.h=null,c.m.apply(null,m)}class Tu extends Q{constructor(m,w){super(),this.m=m,this.l=w,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:kr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ft(c){Q.call(this),this.h=c,this.g={}}b(Ft,Q);var ps=[];function Ui(c){U(c.g,function(m,w){this.g.hasOwnProperty(w)&&$t(m)},c),c.g={}}Ft.prototype.N=function(){Ft.aa.N.call(this),Ui(this)},Ft.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ga=a.JSON.stringify,tc=a.JSON.parse,ja=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function $a(){}$a.prototype.h=null;function Iu(c){return c.h||(c.h=c.i())}function _u(){}var ie={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function re(){P.call(this,"d")}b(re,P);function Pt(){P.call(this,"c")}b(Pt,P);var hn={},Zt=null;function Ar(){return Zt=Zt||new _e}hn.La="serverreachability";function qs(c){P.call(this,hn.La,c)}b(qs,P);function hi(c){let m=Ar();Xe(m,new qs(m))}hn.STAT_EVENT="statevent";function cr(c,m){P.call(this,hn.STAT_EVENT,c),this.stat=m}b(cr,P);function Tn(c){let m=Ar();Xe(m,new cr(m,c))}hn.Ma="timingevent";function Gs(c,m){P.call(this,hn.Ma,c),this.size=m}b(Gs,P);function gs(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function Vi(){this.g=!0}Vi.prototype.xa=function(){this.g=!1};function nc(c,m,w,C,B,G){c.info(function(){if(c.g)if(G)for(var he="",rn=G.split("&"),zr=0;zr<rn.length;zr++){var Ot=rn[zr].split("=");if(1<Ot.length){var Yr=Ot[0];Ot=Ot[1];var Qr=Yr.split("_");he=2<=Qr.length&&Qr[1]=="type"?he+(Yr+"="+Ot+"&"):he+(Yr+"=redacted&")}}else he=null;else he=G;return"XMLHTTP REQ ("+C+") [attempt "+B+"]: "+m+`
`+w+`
`+he})}function so(c,m,w,C,B,G,he){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+B+"]: "+m+`
`+w+`
`+G+" "+he})}function fi(c,m,w,C){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+q5(c,w)+(C?" "+C:"")})}function Lh(c,m){c.info(function(){return"TIMEOUT: "+m})}Vi.prototype.info=function(){};function q5(c,m){if(!c.g)return m;if(!m)return null;try{var w=JSON.parse(m);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var C=w[c];if(!(2>C.length)){var B=C[1];if(Array.isArray(B)&&!(1>B.length)){var G=B[0];if(G!="noop"&&G!="stop"&&G!="close")for(var he=1;he<B.length;he++)B[he]=""}}}}return Ga(w)}catch{return m}}var kp={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},uv;function Ap(){}b(Ap,$a),Ap.prototype.g=function(){return new XMLHttpRequest},Ap.prototype.i=function(){return{}},uv=new Ap;function Ka(c,m,w,C){this.j=c,this.i=m,this.l=w,this.R=C||1,this.U=new Ft(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new E1}function E1(){this.i=null,this.g="",this.h=!1}var S1={},dv={};function hv(c,m,w){c.L=1,c.v=Lp(Jo(m)),c.m=w,c.P=!0,N1(c,null)}function N1(c,m){c.F=Date.now(),Dp(c),c.A=Jo(c.v);var w=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),B1(w.i,"t",C),c.C=0,w=c.j.J,c.h=new E1,c.g=iN(c.j,w?m:null,!c.m),0<c.O&&(c.M=new Tu(h(c.Y,c,c.g),c.O)),m=c.U,w=c.g,C=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(ps[0]=B.toString()),B=ps);for(var G=0;G<B.length;G++){var he=lr(w,B[G],C||m.handleEvent,!1,m.h||m);if(!he)break;m.g[he.key]=he}m=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),hi(),nc(c.i,c.u,c.A,c.l,c.R,c.m)}Ka.prototype.ca=function(c){c=c.target;let m=this.M;m&&Zo(c)==3?m.j():this.Y(c)},Ka.prototype.Y=function(c){try{if(c==this.g)e:{let Qr=Zo(this.g);var m=this.g.Ba();let Nu=this.g.Z();if(!(3>Qr)&&(Qr!=3||this.g&&(this.h.h||this.g.oa()||W1(this.g)))){this.J||Qr!=4||m==7||(m==8||0>=Nu?hi(3):hi(2)),fv(this);var w=this.g.Z();this.X=w;t:if(k1(this)){var C=W1(this.g);c="";var B=C.length,G=Zo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rc(this),Ph(this);var he="";break t}this.h.i=new a.TextDecoder}for(m=0;m<B;m++)this.h.h=!0,c+=this.h.i.decode(C[m],{stream:!(G&&m==B-1)});C.length=0,this.h.g+=c,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=w==200,so(this.i,this.u,this.A,this.l,this.R,Qr,w),this.o){if(this.T&&!this.K){t:{if(this.g){var rn,zr=this.g;if((rn=zr.g?zr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(rn)){var Ot=rn;break t}}Ot=null}if(w=Ot)fi(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mv(this,w);else{this.o=!1,this.s=3,Tn(12),rc(this),Ph(this);break e}}if(this.P){w=!0;let Hi;for(;!this.J&&this.C<he.length;)if(Hi=G5(this,he),Hi==dv){Qr==4&&(this.s=4,Tn(14),w=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(Hi==S1){this.s=4,Tn(15),fi(this.i,this.l,he,"[Invalid Chunk]"),w=!1;break}else fi(this.i,this.l,Hi,null),mv(this,Hi);if(k1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qr!=4||he.length!=0||this.h.h||(this.s=1,Tn(16),w=!1),this.o=this.o&&w,!w)fi(this.i,this.l,he,"[Invalid Chunked Response]"),rc(this),Ph(this);else if(0<he.length&&!this.W){this.W=!0;var Yr=this.j;Yr.g==this&&Yr.ba&&!Yr.M&&(Yr.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),wv(Yr),Yr.M=!0,Tn(11))}}else fi(this.i,this.l,he,null),mv(this,he);Qr==4&&rc(this),this.o&&!this.J&&(Qr==4?tN(this.j,this):(this.o=!1,Dp(this)))}else aF(this.g),w==400&&0<he.indexOf("Unknown SID")?(this.s=3,Tn(12)):(this.s=0,Tn(13)),rc(this),Ph(this)}}}catch{}finally{}};function k1(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function G5(c,m){var w=c.C,C=m.indexOf(`
`,w);return C==-1?dv:(w=Number(m.substring(w,C)),isNaN(w)?S1:(C+=1,C+w>m.length?dv:(m=m.slice(C,C+w),c.C=C+w,m)))}Ka.prototype.cancel=function(){this.J=!0,rc(this)};function Dp(c){c.S=Date.now()+c.I,A1(c,c.I)}function A1(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=gs(h(c.ba,c),m)}function fv(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Ka.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Lh(this.i,this.A),this.L!=2&&(hi(),Tn(17)),rc(this),this.s=2,Ph(this)):A1(this,this.S-c)};function Ph(c){c.j.G==0||c.J||tN(c.j,c)}function rc(c){fv(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,Ui(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function mv(c,m){try{var w=c.j;if(w.G!=0&&(w.g==c||pv(w.h,c))){if(!c.K&&pv(w.h,c)&&w.G==3){try{var C=w.Da.g.parse(m)}catch{C=null}if(Array.isArray(C)&&C.length==3){var B=C;if(B[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)Up(w),Mp(w);else break e;vv(w),Tn(18)}}else w.za=B[1],0<w.za-w.T&&37500>B[2]&&w.F&&w.v==0&&!w.C&&(w.C=gs(h(w.Za,w),6e3));if(1>=R1(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else ic(w,11)}else if((c.K||w.g==c)&&Up(w),!y(m))for(B=w.Da.g.parse(m),m=0;m<B.length;m++){let Ot=B[m];if(w.T=Ot[0],Ot=Ot[1],w.G==2)if(Ot[0]=="c"){w.K=Ot[1],w.ia=Ot[2];let Yr=Ot[3];Yr!=null&&(w.la=Yr,w.j.info("VER="+w.la));let Qr=Ot[4];Qr!=null&&(w.Aa=Qr,w.j.info("SVER="+w.Aa));let Nu=Ot[5];Nu!=null&&typeof Nu=="number"&&0<Nu&&(C=1.5*Nu,w.L=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;let Hi=c.g;if(Hi){let Hp=Hi.g?Hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hp){var G=C.h;G.g||Hp.indexOf("spdy")==-1&&Hp.indexOf("quic")==-1&&Hp.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(gv(G,G.h),G.h=null))}if(C.D){let xv=Hi.g?Hi.g.getResponseHeader("X-HTTP-Session-Id"):null;xv&&(C.ya=xv,yn(C.I,C.D,xv))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),C=w;var he=c;if(C.qa=sN(C,C.J?C.ia:null,C.W),he.K){L1(C.h,he);var rn=he,zr=C.L;zr&&(rn.I=zr),rn.B&&(fv(rn),Dp(rn)),C.g=he}else Z1(C);0<w.i.length&&Fp(w)}else Ot[0]!="stop"&&Ot[0]!="close"||ic(w,7);else w.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?ic(w,7):bv(w):Ot[0]!="noop"&&w.l&&w.l.ta(Ot),w.v=0)}}hi(4)}catch{}}var j5=class{constructor(c,m){this.g=c,this.map=m}};function D1(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function C1(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function R1(c){return c.h?1:c.g?c.g.size:0}function pv(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function gv(c,m){c.g?c.g.add(m):c.h=m}function L1(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}D1.prototype.cancel=function(){if(this.i=P1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function P1(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(let w of c.g.values())m=m.concat(w.D);return m}return I(c.i)}function $5(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],w=c.length,C=0;C<w;C++)m.push(c[C]);return m}m=[],w=0;for(C in c)m[w++]=c[C];return m}function K5(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var w=0;w<c;w++)m.push(w);return m}m=[],w=0;for(let C in c)m[w++]=C;return m}}}function O1(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var w=K5(c),C=$5(c),B=C.length,G=0;G<B;G++)m.call(void 0,C[G],w&&w[G],c)}var M1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function W5(c,m){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var C=c[w].indexOf("="),B=null;if(0<=C){var G=c[w].substring(0,C);B=c[w].substring(C+1)}else G=c[w];m(G,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function sc(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof sc){this.h=c.h,Cp(this,c.j),this.o=c.o,this.g=c.g,Rp(this,c.s),this.l=c.l;var m=c.i,w=new Fh;w.i=m.i,m.g&&(w.g=new Map(m.g),w.h=m.h),F1(this,w),this.m=c.m}else c&&(m=String(c).match(M1))?(this.h=!1,Cp(this,m[1]||"",!0),this.o=Oh(m[2]||""),this.g=Oh(m[3]||"",!0),Rp(this,m[4]),this.l=Oh(m[5]||"",!0),F1(this,m[6]||"",!0),this.m=Oh(m[7]||"")):(this.h=!1,this.i=new Fh(null,this.h))}sc.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Mh(m,U1,!0),":");var w=this.g;return(w||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Mh(m,U1,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(Mh(w,w.charAt(0)=="/"?X5:Q5,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",Mh(w,Z5)),c.join("")};function Jo(c){return new sc(c)}function Cp(c,m,w){c.j=w?Oh(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Rp(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function F1(c,m,w){m instanceof Fh?(c.i=m,eF(c.i,c.h)):(w||(m=Mh(m,J5)),c.i=new Fh(m,c.h))}function yn(c,m,w){c.i.set(m,w)}function Lp(c){return yn(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Oh(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Mh(c,m,w){return typeof c=="string"?(c=encodeURI(c).replace(m,Y5),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Y5(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var U1=/[#\/\?@]/g,Q5=/[#\?:]/g,X5=/[#\?]/g,J5=/[#\?@]/g,Z5=/#/g;function Fh(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Wa(c){c.g||(c.g=new Map,c.h=0,c.i&&W5(c.i,function(m,w){c.add(decodeURIComponent(m.replace(/\+/g," ")),w)}))}t=Fh.prototype,t.add=function(c,m){Wa(this),this.i=null,c=Eu(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(m),this.h+=1,this};function V1(c,m){Wa(c),m=Eu(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function H1(c,m){return Wa(c),m=Eu(c,m),c.g.has(m)}t.forEach=function(c,m){Wa(this),this.g.forEach(function(w,C){w.forEach(function(B){c.call(m,B,C,this)},this)},this)},t.na=function(){Wa(this);let c=Array.from(this.g.values()),m=Array.from(this.g.keys()),w=[];for(let C=0;C<m.length;C++){let B=c[C];for(let G=0;G<B.length;G++)w.push(m[C])}return w},t.V=function(c){Wa(this);let m=[];if(typeof c=="string")H1(this,c)&&(m=m.concat(this.g.get(Eu(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)m=m.concat(c[w])}return m},t.set=function(c,m){return Wa(this),this.i=null,c=Eu(this,c),H1(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function B1(c,m,w){V1(c,m),0<w.length&&(c.i=null,c.g.set(Eu(c,m),I(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],m=Array.from(this.g.keys());for(var w=0;w<m.length;w++){var C=m[w];let G=encodeURIComponent(String(C)),he=this.V(C);for(C=0;C<he.length;C++){var B=G;he[C]!==""&&(B+="="+encodeURIComponent(String(he[C]))),c.push(B)}}return this.i=c.join("&")};function Eu(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function eF(c,m){m&&!c.j&&(Wa(c),c.i=null,c.g.forEach(function(w,C){var B=C.toLowerCase();C!=B&&(V1(this,C),B1(this,B,w))},c)),c.j=m}function tF(c,m){let w=new Vi;if(a.Image){let C=new Image;C.onload=p(Ya,w,"TestLoadImage: loaded",!0,m,C),C.onerror=p(Ya,w,"TestLoadImage: error",!1,m,C),C.onabort=p(Ya,w,"TestLoadImage: abort",!1,m,C),C.ontimeout=p(Ya,w,"TestLoadImage: timeout",!1,m,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else m(!1)}function nF(c,m){let w=new Vi,C=new AbortController,B=setTimeout(()=>{C.abort(),Ya(w,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:C.signal}).then(G=>{clearTimeout(B),G.ok?Ya(w,"TestPingServer: ok",!0,m):Ya(w,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),Ya(w,"TestPingServer: error",!1,m)})}function Ya(c,m,w,C,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),C(w)}catch{}}function rF(){this.g=new ja}function sF(c,m,w){let C=w||"";try{O1(c,function(B,G){let he=B;u(B)&&(he=Ga(B)),m.push(C+G+"="+encodeURIComponent(he))})}catch(B){throw m.push(C+"type="+encodeURIComponent("_badmap")),B}}function Uh(c){this.l=c.Ub||null,this.j=c.eb||!1}b(Uh,$a),Uh.prototype.g=function(){return new Pp(this.l,this.j)},Uh.prototype.i=function(c){return function(){return c}}({});function Pp(c,m){_e.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Pp,_e),t=Pp.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Hh(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vh(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hh(this)),this.g&&(this.readyState=3,Hh(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;z1(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function z1(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Vh(this):Hh(this),this.readyState==3&&z1(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Vh(this))},t.Qa=function(c){this.g&&(this.response=c,Vh(this))},t.ga=function(){this.g&&Vh(this)};function Vh(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Hh(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],m=this.h.entries();for(var w=m.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=m.next();return c.join(`\r
`)};function Hh(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function q1(c){let m="";return U(c,function(w,C){m+=C,m+=":",m+=w,m+=`\r
`}),m}function yv(c,m,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=q1(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):yn(c,m,w))}function Kn(c){_e.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Kn,_e);var iF=/^https?$/i,oF=["POST","PUT"];t=Kn.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():uv.g(),this.v=this.o?Iu(this.o):Iu(uv),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(G){G1(this,G);return}if(c=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var B in C)w.set(B,C[B]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(let G of C.keys())w.set(G,C.get(G));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(G=>G.toLowerCase()=="content-type"),B=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(oF,m,void 0))||C||B||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[G,he]of w)this.g.setRequestHeader(G,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{K1(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){G1(this,G)}};function G1(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,j1(c),Op(c)}function j1(c){c.A||(c.A=!0,Xe(c,"complete"),Xe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Xe(this,"complete"),Xe(this,"abort"),Op(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Op(this,!0)),Kn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$1(this):this.bb())},t.bb=function(){$1(this)};function $1(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Zo(c)!=4||c.Z()!=2)){if(c.u&&Zo(c)==4)zs(c.Ea,0,c);else if(Xe(c,"readystatechange"),Zo(c)==4){c.h=!1;try{let he=c.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var w;if(!(w=m)){var C;if(C=he===0){var B=String(c.D).match(M1)[1]||null;!B&&a.self&&a.self.location&&(B=a.self.location.protocol.slice(0,-1)),C=!iF.test(B?B.toLowerCase():"")}w=C}if(w)Xe(c,"complete"),Xe(c,"success");else{c.m=6;try{var G=2<Zo(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",j1(c)}}finally{Op(c)}}}}function Op(c,m){if(c.g){K1(c);let w=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Xe(c,"ready");try{w.onreadystatechange=C}catch{}}}function K1(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Zo(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Zo(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),tc(m)}};function W1(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function aF(c){let m={};c=(c.g&&2<=Zo(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(y(c[C]))continue;var w=N(c[C]);let B=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();let G=m[B]||[];m[B]=G,G.push(w)}S(m,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bh(c,m,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||m}function Y1(c){this.Aa=0,this.i=[],this.j=new Vi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bh("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bh("baseRetryDelayMs",5e3,c),this.cb=Bh("retryDelaySeedMs",1e4,c),this.Wa=Bh("forwardChannelMaxRetries",2,c),this.wa=Bh("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new D1(c&&c.concurrentRequestLimit),this.Da=new rF,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Y1.prototype,t.la=8,t.G=1,t.connect=function(c,m,w,C){Tn(0),this.W=c,this.H=m||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.I=sN(this,null,this.W),Fp(this)};function bv(c){if(Q1(c),c.G==3){var m=c.U++,w=Jo(c.I);if(yn(w,"SID",c.K),yn(w,"RID",m),yn(w,"TYPE","terminate"),zh(c,w),m=new Ka(c,c.j,m),m.L=2,m.v=Lp(Jo(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!w&&a.Image&&(new Image().src=m.v,w=!0),w||(m.g=iN(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Dp(m)}rN(c)}function Mp(c){c.g&&(wv(c),c.g.cancel(),c.g=null)}function Q1(c){Mp(c),c.u&&(a.clearTimeout(c.u),c.u=null),Up(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Fp(c){if(!C1(c.h)&&!c.s){c.s=!0;var m=c.Ga;de||Ae(),se||(de(),se=!0),Te.add(m,c),c.B=0}}function lF(c,m){return R1(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=gs(h(c.Ga,c,m),nN(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let B=new Ka(this,this.j,c),G=this.o;if(this.S&&(G?(G=E(G),x(G,this.S)):G=this.S),this.m!==null||this.O||(B.H=G,G=null),this.P)e:{for(var m=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(m+=C,4096<m){m=w;break e}if(m===4096||w===this.i.length-1){m=w+1;break e}}m=1e3}else m=1e3;m=J1(this,B,m),w=Jo(this.I),yn(w,"RID",c),yn(w,"CVER",22),this.D&&yn(w,"X-HTTP-Session-Id",this.D),zh(this,w),G&&(this.O?m="headers="+encodeURIComponent(String(q1(G)))+"&"+m:this.m&&yv(w,this.m,G)),gv(this.h,B),this.Ua&&yn(w,"TYPE","init"),this.P?(yn(w,"$req",m),yn(w,"SID","null"),B.T=!0,hv(B,w,null)):hv(B,w,m),this.G=2}}else this.G==3&&(c?X1(this,c):this.i.length==0||C1(this.h)||X1(this))};function X1(c,m){var w;m?w=m.l:w=c.U++;let C=Jo(c.I);yn(C,"SID",c.K),yn(C,"RID",w),yn(C,"AID",c.T),zh(c,C),c.m&&c.o&&yv(C,c.m,c.o),w=new Ka(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),m&&(c.i=m.D.concat(c.i)),m=J1(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),gv(c.h,w),hv(w,C,m)}function zh(c,m){c.H&&U(c.H,function(w,C){yn(m,C,w)}),c.l&&O1({},function(w,C){yn(m,C,w)})}function J1(c,m,w){w=Math.min(c.i.length,w);var C=c.l?h(c.l.Na,c.l,c):null;e:{var B=c.i;let G=-1;for(;;){let he=["count="+w];G==-1?0<w?(G=B[0].g,he.push("ofs="+G)):G=0:he.push("ofs="+G);let rn=!0;for(let zr=0;zr<w;zr++){let Ot=B[zr].g,Yr=B[zr].map;if(Ot-=G,0>Ot)G=Math.max(0,B[zr].g-100),rn=!1;else try{sF(Yr,he,"req"+Ot+"_")}catch{C&&C(Yr)}}if(rn){C=he.join("&");break e}}}return c=c.i.splice(0,w),m.D=c,C}function Z1(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;de||Ae(),se||(de(),se=!0),Te.add(m,c),c.v=0}}function vv(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=gs(h(c.Fa,c),nN(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,eN(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=gs(h(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tn(10),Mp(this),eN(this))};function wv(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function eN(c){c.g=new Ka(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Jo(c.qa);yn(m,"RID","rpc"),yn(m,"SID",c.K),yn(m,"AID",c.T),yn(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&yn(m,"TO",c.ja),yn(m,"TYPE","xmlhttp"),zh(c,m),c.m&&c.o&&yv(m,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=Lp(Jo(m)),w.m=null,w.P=!0,N1(w,c)}t.Za=function(){this.C!=null&&(this.C=null,Mp(this),vv(this),Tn(19))};function Up(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function tN(c,m){var w=null;if(c.g==m){Up(c),wv(c),c.g=null;var C=2}else if(pv(c.h,m))w=m.D,L1(c.h,m),C=1;else return;if(c.G!=0){if(m.o)if(C==1){w=m.m?m.m.length:0,m=Date.now()-m.F;var B=c.B;C=Ar(),Xe(C,new Gs(C,w)),Fp(c)}else Z1(c);else if(B=m.s,B==3||B==0&&0<m.X||!(C==1&&lF(c,m)||C==2&&vv(c)))switch(w&&0<w.length&&(m=c.h,m.i=m.i.concat(w)),B){case 1:ic(c,5);break;case 4:ic(c,10);break;case 3:ic(c,6);break;default:ic(c,2)}}}function nN(c,m){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*m}function ic(c,m){if(c.j.info("Error code "+m),m==2){var w=h(c.fb,c),C=c.Xa;let B=!C;C=new sc(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Cp(C,"https"),Lp(C),B?tF(C.toString(),w):nF(C.toString(),w)}else Tn(2);c.G=0,c.l&&c.l.sa(m),rN(c),Q1(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Tn(2)):(this.j.info("Failed to ping google.com"),Tn(1))};function rN(c){if(c.G=0,c.ka=[],c.l){let m=P1(c.h);(m.length!=0||c.i.length!=0)&&(v(c.ka,m),v(c.ka,c.i),c.h.i.length=0,I(c.i),c.i.length=0),c.l.ra()}}function sN(c,m,w){var C=w instanceof sc?Jo(w):new sc(w);if(C.g!="")m&&(C.g=m+"."+C.g),Rp(C,C.s);else{var B=a.location;C=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;var G=new sc(null);C&&Cp(G,C),m&&(G.g=m),B&&Rp(G,B),w&&(G.l=w),C=G}return w=c.D,m=c.ya,w&&m&&yn(C,w,m),yn(C,"VER",c.la),zh(c,C),C}function iN(c,m,w){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Kn(new Uh({eb:w})):new Kn(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function oN(){}t=oN.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Vp(){}Vp.prototype.g=function(c,m){return new js(c,m)};function js(c,m){_e.call(this),this.g=new Y1(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!y(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!y(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Su(this)}b(js,_e),js.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},js.prototype.close=function(){bv(this.g)},js.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Ga(c),c=w);m.i.push(new j5(m.Ya++,c)),m.G==3&&Fp(m)},js.prototype.N=function(){this.g.l=null,delete this.j,bv(this.g),delete this.g,js.aa.N.call(this)};function aN(c){re.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(let w in m){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}b(aN,re);function lN(){Pt.call(this),this.status=1}b(lN,Pt);function Su(c){this.g=c}b(Su,oN),Su.prototype.ua=function(){Xe(this.g,"a")},Su.prototype.ta=function(c){Xe(this.g,new aN(c))},Su.prototype.sa=function(c){Xe(this.g,new lN)},Su.prototype.ra=function(){Xe(this.g,"b")},Vp.prototype.createWebChannel=Vp.prototype.g,js.prototype.send=js.prototype.o,js.prototype.open=js.prototype.m,js.prototype.close=js.prototype.close,yI=Ea.createWebChannelTransport=function(){return new Vp},gI=Ea.getStatEventTarget=function(){return Ar()},pI=Ea.Event=hn,h0=Ea.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kp.NO_ERROR=0,kp.TIMEOUT=8,kp.HTTP_ERROR=6,Sm=Ea.ErrorCode=kp,_1.COMPLETE="complete",mI=Ea.EventType=_1,_u.EventType=ie,ie.OPEN="a",ie.CLOSE="b",ie.ERROR="c",ie.MESSAGE="d",_e.prototype.listen=_e.prototype.K,Rd=Ea.WebChannel=_u,DB=Ea.FetchXmlHttpFactory=Uh,Kn.prototype.listenOnce=Kn.prototype.L,Kn.prototype.getLastError=Kn.prototype.Ka,Kn.prototype.getLastErrorCode=Kn.prototype.Ba,Kn.prototype.getStatus=Kn.prototype.Z,Kn.prototype.getResponseJson=Kn.prototype.Oa,Kn.prototype.getResponseText=Kn.prototype.oa,Kn.prototype.send=Kn.prototype.ea,Kn.prototype.setWithCredentials=Kn.prototype.Ha,fI=Ea.XhrIo=Kn}).apply(typeof d0<"u"?d0:typeof self<"u"?self:typeof window<"u"?window:{})});function Ld(){return qc.logLevel}function we(t,...e){if(qc.logLevel<=ft.DEBUG){let n=e.map(lE);qc.debug(`Firestore (${th}): ${t}`,...n)}}function Sa(t,...e){if(qc.logLevel<=ft.ERROR){let n=e.map(lE);qc.error(`Firestore (${th}): ${t}`,...n)}}function Hd(t,...e){if(qc.logLevel<=ft.WARN){let n=e.map(lE);qc.warn(`Firestore (${th}): ${t}`,...n)}}function lE(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function qe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,EL(t,r,n)}function EL(t,e,n){let r=`FIRESTORE (${th}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Sa(r),new Error(r)}function qt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||EL(e,s,r)}function Je(t,e){return t}function CB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function bt(t,e){return t<e?-1:t>e?1:0}function AI(t,e){let n=Math.min(t.length,e.length);for(let r=0;r<n;r++){let s=t.charAt(r),i=e.charAt(r);if(s!==i)return bI(s)===bI(i)?bt(s,i):bI(s)?1:-1}return bt(t.length,e.length)}function bI(t){let e=t.charCodeAt(0);return e>=RB&&e<=LB}function Bd(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}function SL(t,e,n){if(!n)throw new pe(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function OB(t,e,n,r){if(e===!0&&r===!0)throw new pe(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FR(t){if(!Ve.isDocumentKey(t))throw new pe(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UR(t){if(Ve.isDocumentKey(t))throw new pe(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function NL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Z0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe(12329,{type:typeof t})}function Ni(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Z0(t);throw new pe(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function pr(t,e){let n={typeString:t};return e&&(n.value=e),n}function $m(t,e){if(!NL(t))throw new pe(K.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new pe(K.INVALID_ARGUMENT,n);return!0}function MB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ze.fromTimestamp(r===1e9?new Qn(n+1,0):new Qn(n,r));return new Gc(s,Ve.empty(),e)}function FB(t){return new Gc(t.readTime,t.key,Lm)}function UB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ve.comparator(t.documentKey,e.documentKey),n!==0?n:bt(t.largestBatchId,e.largestBatchId))}async function nh(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==VB)throw t;we("LocalStore","Unexpectedly lost primary lease")}function HB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rh(t){return t.name==="IndexedDbTransactionError"}function eb(t){return t==null}function Pm(t){return t===0&&1/t==-1/0}function BB(t){return typeof t=="number"&&Number.isInteger(t)&&!Pm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function zB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=BR(e)),e=qB(t.get(n),e);return BR(e)}function qB(t,e){let n=e,r=t.length;for(let s=0;s<r;s++){let i=t.charAt(s);switch(i){case"\0":n+="";break;case kL:n+="";break;default:n+=i}}return n}function BR(t){return t+kL+""}function zR(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vl(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zL(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Na(t){if(qt(!!t,39018),typeof t=="string"){let e=0,n=ez.exec(t);if(qt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dn(t.seconds),nanos:Dn(t.nanos)}}function Dn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ka(t){return typeof t=="string"?is.fromBase64String(t):is.fromUint8Array(t)}function uE(t){return(t?.mapValue?.fields||{})[GL]?.stringValue===qL}function tb(t){let e=t.mapValue.fields[jL];return uE(e)?tb(e):e}function Om(t){let e=Na(t.mapValue.fields[$L].timestampValue);return new Qn(e.seconds,e.nanos)}function Pl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uE(t)?4:YL(t)?9007199254740991:WL(t)?10:11:qe(28295,{value:t})}function Co(t,e){if(t===e)return!0;let n=Pl(t);if(n!==Pl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Om(t).isEqual(Om(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;let o=Na(s.timestampValue),a=Na(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ka(s.bytesValue).isEqual(ka(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Dn(s.geoPointValue.latitude)===Dn(i.geoPointValue.latitude)&&Dn(s.geoPointValue.longitude)===Dn(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Dn(s.integerValue)===Dn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){let o=Dn(s.doubleValue),a=Dn(i.doubleValue);return o===a?Pm(o)===Pm(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Bd(t.arrayValue.values||[],e.arrayValue.values||[],Co);case 10:case 11:return function(s,i){let o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(zR(o)!==zR(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Co(o[l],a[l])))return!1;return!0}(t,e);default:return qe(52216,{left:t})}}function Mm(t,e){return(t.values||[]).find(n=>Co(n,e))!==void 0}function Gd(t,e){if(t===e)return 0;let n=Pl(t),r=Pl(e);if(n!==r)return bt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return bt(t.booleanValue,e.booleanValue);case 2:return function(i,o){let a=Dn(i.integerValue||i.doubleValue),l=Dn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return qR(t.timestampValue,e.timestampValue);case 4:return qR(Om(t),Om(e));case 5:return AI(t.stringValue,e.stringValue);case 6:return function(i,o){let a=ka(i),l=ka(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){let a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){let d=bt(a[u],l[u]);if(d!==0)return d}return bt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){let a=bt(Dn(i.latitude),Dn(o.latitude));return a!==0?a:bt(Dn(i.longitude),Dn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return GR(t.arrayValue,e.arrayValue);case 10:return function(i,o){let a=i.fields||{},l=o.fields||{},u=a[qd]?.arrayValue,d=l[qd]?.arrayValue,f=bt(u?.values?.length||0,d?.values?.length||0);return f!==0?f:GR(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===f0.mapValue&&o===f0.mapValue)return 0;if(i===f0.mapValue)return 1;if(o===f0.mapValue)return-1;let a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){let h=AI(l[f],d[f]);if(h!==0)return h;let p=Gd(a[l[f]],u[d[f]]);if(p!==0)return p}return bt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw qe(23264,{he:n})}}function qR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return bt(t,e);let n=Na(t),r=Na(e),s=bt(n.seconds,r.seconds);return s!==0?s:bt(n.nanos,r.nanos)}function GR(t,e){let n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){let i=Gd(n[s],r[s]);if(i)return i}return bt(n.length,r.length)}function jd(t){return LI(t)}function LI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Na(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ka(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ve.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(let i of n.values||[])s?s=!1:r+=",",r+=LI(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),s="{",i=!0;for(let o of r)i?i=!1:s+=",",s+=`${o}:${LI(n.fields[o])}`;return s+"}"}(t.mapValue):qe(61005,{value:t})}function g0(t){switch(Pl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=tb(t);return e?16+g0(e):16;case 5:return 2*t.stringValue.length;case 6:return ka(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+g0(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Vl(r.fields,(i,o)=>{s+=i.length+g0(o)}),s}(t.mapValue);default:throw qe(13486,{value:t})}}function jR(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function PI(t){return!!t&&"integerValue"in t}function fE(t){return!!t&&"arrayValue"in t}function $R(t){return!!t&&"nullValue"in t}function KR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function y0(t){return!!t&&"mapValue"in t}function WL(t){return(t?.mapValue?.fields||{})[dE]?.stringValue===hE}function km(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){let e={mapValue:{fields:{}}};return Vl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=km(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=km(t.arrayValue.values[n]);return e}return{...t}}function YL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===KL}function QL(t){let e=[];return Vl(t.fields,(n,r)=>{let s=new oi([n]);if(y0(r)){let i=QL(r.mapValue).fields;if(i.length===0)e.push(s);else for(let o of i)e.push(s.child(o))}else e.push(s)}),new Si(e)}function WR(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){let i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Ve.comparator(Ve.fromName(o.referenceValue),n.key):r=Gd(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function YR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Co(t.position[n],e.position[n]))return!1;return!0}function tz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function XL(t){return t.op==="and"}function JL(t){return nz(t)&&XL(t)}function nz(t){for(let e of t.filters)if(e instanceof Wi)return!1;return!0}function OI(t){if(t instanceof mr)return t.field.canonicalString()+t.op.toString()+jd(t.value);if(JL(t))return t.filters.map(e=>OI(e)).join(",");{let e=t.filters.map(n=>OI(n)).join(",");return`${t.op}(${e})`}}function ZL(t,e){return t instanceof mr?function(r,s){return s instanceof mr&&r.op===s.op&&r.field.isEqual(s.field)&&Co(r.value,s.value)}(t,e):t instanceof Wi?function(r,s){return s instanceof Wi&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&ZL(o,s.filters[a]),!0):!1}(t,e):void qe(19439)}function eP(t){return t instanceof mr?function(n){return`${n.field.canonicalString()} ${n.op} ${jd(n.value)}`}(t):t instanceof Wi?function(n){return n.op.toString()+" {"+n.getFilters().map(eP).join(" ,")+"}"}(t):"Filter"}function tP(t,e){return(e.arrayValue?.values||[]).map(n=>Ve.fromName(n.referenceValue))}function QR(t,e=null,n=[],r=[],s=null,i=null,o=null){return new qI(t,e,n,r,s,i,o)}function mE(t){let e=Je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>OI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),eb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jd(r)).join(",")),e.Te=n}return e.Te}function pE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!YR(t.startAt,e.startAt)&&YR(t.endAt,e.endAt)}function GI(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function rz(t,e,n,r,s,i,o,a){return new Ol(t,e,n,r,s,i,o,a)}function gE(t){return new Ol(t)}function XR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nP(t){return t.collectionGroup!==null}function Am(t){let e=Je(t);if(e.Ie===null){e.Ie=[];let n=new Set;for(let i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Fr(oi.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new jc(i,r))}),n.has(oi.keyField().canonicalString())||e.Ie.push(new jc(oi.keyField(),r))}return e.Ie}function ko(t){let e=Je(t);return e.Ee||(e.Ee=sz(e,Am(t))),e.Ee}function sz(t,e){if(t.limitType==="F")return QR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{let i=s.dir==="desc"?"asc":"desc";return new jc(s.field,i)});let n=t.endAt?new $d(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $d(t.startAt.position,t.startAt.inclusive):null;return QR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jI(t,e){let n=t.filters.concat([e]);return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $I(t,e,n){return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nb(t,e){return pE(ko(t),ko(e))&&t.limitType===e.limitType}function rP(t){return`${mE(ko(t))}|lt:${t.limitType}`}function Pd(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>eP(s)).join(", ")}]`),eb(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>jd(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>jd(s)).join(",")),`Target(${r})`}(ko(t))}; limitType=${t.limitType})`}function rb(t,e){return e.isFoundDocument()&&function(r,s){let i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ve.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(let i of Am(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(let i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){let u=WR(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Am(r),s)||r.endAt&&!function(o,a,l){let u=WR(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Am(r),s))}(t,e)}function iz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sP(t){return(e,n)=>{let r=!1;for(let s of Am(t)){let i=oz(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function oz(t,e,n){let r=t.field.isKeyField()?Ve.comparator(e.key,n.key):function(i,o,a){let l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Gd(l,u):qe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qe(19790,{direction:t.dir})}}function Da(){return az}function Nm(...t){let e=iP;for(let n of t)e=e.insert(n.key,n);return e}function oP(t){let e=iP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Uc(){return Dm()}function aP(){return Dm()}function Dm(){return new Aa(t=>t.toString(),(t,e)=>t.isEqual(e))}function vt(...t){let e=cz;for(let n of t)e=e.add(n);return e}function dz(){return uz}function yE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pm(e)?"-0":e}}function lP(t){return{integerValue:""+t}}function hz(t,e){return BB(e)?lP(e):yE(t,e)}function fz(t,e,n){return t instanceof Wd?function(s,i){let o={fields:{[GL]:{stringValue:qL},[$L]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&uE(i)&&(i=tb(i)),i&&(o.fields[jL]=i),{mapValue:o}}(n,e):t instanceof $c?uP(t,e):t instanceof Kc?dP(t,e):function(s,i){let o=cP(s,i),a=JR(o)+JR(s.Ae);return PI(o)&&PI(s.Ae)?lP(a):yE(s.serializer,a)}(t,e)}function mz(t,e,n){return t instanceof $c?uP(t,e):t instanceof Kc?dP(t,e):n}function cP(t,e){return t instanceof Yd?function(r){return PI(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}function uP(t,e){let n=hP(e);for(let r of t.elements)n.some(s=>Co(s,r))||n.push(r);return{arrayValue:{values:n}}}function dP(t,e){let n=hP(e);for(let r of t.elements)n=n.filter(s=>!Co(s,r));return{arrayValue:{values:n}}}function JR(t){return Dn(t.integerValue||t.doubleValue)}function hP(t){return fE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function pz(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof $c&&s instanceof $c||r instanceof Kc&&s instanceof Kc?Bd(r.elements,s.elements,Co):r instanceof Yd&&s instanceof Yd?Co(r.Ae,s.Ae):r instanceof Wd&&s instanceof Wd}(t.transform,e.transform)}function b0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}function fP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fm(t.key,Ao.none()):new Wc(t.key,t.data,Ao.none());{let n=t.data,r=ii.empty(),s=new Fr(oi.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ro(t.key,r,new Si(s.toArray()),Ao.none())}}function gz(t,e,n){t instanceof Wc?function(s,i,o){let a=s.value.clone(),l=eL(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ro?function(s,i,o){if(!b0(s.precondition,i))return void i.convertToUnknownDocument(o.version);let a=eL(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(mP(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Cm(t,e,n,r){return t instanceof Wc?function(i,o,a,l){if(!b0(i.precondition,o))return a;let u=i.value.clone(),d=tL(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ro?function(i,o,a,l){if(!b0(i.precondition,o))return a;let u=tL(i.fieldTransforms,l,o),d=o.data;return d.setAll(mP(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return b0(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function yz(t,e){let n=null;for(let r of t.fieldTransforms){let s=e.data.field(r.field),i=cP(r.transform,s||null);i!=null&&(n===null&&(n=ii.empty()),n.set(r.field,i))}return n||null}function ZR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Bd(r,s,(i,o)=>pz(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function mP(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function eL(t,e,n){let r=new Map;qt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){let i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,mz(o,a,n[s]))}return r}function tL(t,e,n){let r=new Map;for(let s of t){let i=s.transform,o=n.data.field(s.field);r.set(s.field,fz(i,o,e))}return r}function bz(t){switch(t){case K.OK:return qe(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return qe(15467,{code:t})}}function pP(t){if(t===void 0)return Sa("GRPC error has no .code"),K.UNKNOWN;switch(t){case hr.OK:return K.OK;case hr.CANCELLED:return K.CANCELLED;case hr.UNKNOWN:return K.UNKNOWN;case hr.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case hr.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case hr.INTERNAL:return K.INTERNAL;case hr.UNAVAILABLE:return K.UNAVAILABLE;case hr.UNAUTHENTICATED:return K.UNAUTHENTICATED;case hr.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case hr.NOT_FOUND:return K.NOT_FOUND;case hr.ALREADY_EXISTS:return K.ALREADY_EXISTS;case hr.PERMISSION_DENIED:return K.PERMISSION_DENIED;case hr.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case hr.ABORTED:return K.ABORTED;case hr.OUT_OF_RANGE:return K.OUT_OF_RANGE;case hr.UNIMPLEMENTED:return K.UNIMPLEMENTED;case hr.DATA_LOSS:return K.DATA_LOSS;default:return qe(39323,{code:t})}}function wz(){return new TextEncoder}function nL(t){let e=wz().encode(t),n=new hI;return n.update(e),new Uint8Array(n.digest())}function rL(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new _a([n,r],0),new _a([s,i],0)]}function m0(){return new Xn(Ve.comparator)}function sL(){return new Xn(Ve.comparator)}function n_(t,e){return t.useProto3Json||eb(e)?e:{value:e}}function C0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ez(t,e){return C0(t,e.toTimestamp())}function Do(t){return qt(!!t,49232),Ze.fromTimestamp(function(n){let r=Na(n);return new Qn(r.seconds,r.nanos)}(t))}function bE(t,e){return r_(t,e).canonicalString()}function r_(t,e){let n=function(s){return new Cn(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yP(t){let e=Cn.fromString(t);return qt(TP(e),10190,{key:e.toString()}),e}function s_(t,e){return bE(t.databaseId,e.path)}function vI(t,e){let n=yP(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ve(vP(n))}function bP(t,e){return bE(t.databaseId,e)}function Sz(t){let e=yP(t);return e.length===4?Cn.emptyPath():vP(e)}function i_(t){return new Cn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vP(t){return qt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function iL(t,e,n){return{name:s_(t,e),fields:n.value.mapValue.fields}}function Nz(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:qe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(qt(d===void 0||typeof d=="string",58123),is.fromBase64String(d||"")):(qt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),is.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let d=u.code===void 0?K.UNKNOWN:pP(u.code);return new pe(d,u.message||"")}(o);n=new A0(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let s=vI(t,r.document.name),i=Do(r.document.updateTime),o=r.document.createTime?Do(r.document.createTime):Ze.min(),a=new ii({mapValue:{fields:r.document.fields}}),l=Ki.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Ud(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let s=vI(t,r.document),i=r.readTime?Do(r.readTime):Ze.min(),o=Ki.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Ud([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let s=vI(t,r.document),i=r.removedTargetIds||[];n=new Ud([],i,s,null)}else{if(!("filter"in e))return qe(11601,{Rt:e});{e.filter;let r=e.filter;r.targetId;let{count:s=0,unchangedNames:i}=r,o=new JI(s,i),a=r.targetId;n=new k0(a,o)}}return n}function kz(t,e){let n;if(e instanceof Wc)n={update:iL(t,e.key,e.value)};else if(e instanceof Fm)n={delete:s_(t,e.key)};else if(e instanceof Ro)n={update:iL(t,e.key,e.data),updateMask:Fz(e.fieldMask)};else{if(!(e instanceof WI))return qe(16599,{Vt:e.type});n={verify:s_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){let a=o.transform;if(a instanceof Wd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof $c)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Kc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Yd)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw qe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Ez(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:qe(27497)}(t,e.precondition)),n}function Az(t,e){return t&&t.length>0?(qt(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Do(s.updateTime):Do(i);return o.isEqual(Ze.min())&&(o=Do(i)),new KI(o,s.transformResults||[])}(n,e))):[]}function Dz(t,e){return{documents:[bP(t,e.path)]}}function Cz(t,e){let n={structuredQuery:{}},r=e.path,s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bP(t,s);let i=function(u){if(u.length!==0)return xP(Wi.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);let o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:Od(h.field),direction:Pz(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=n_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function Rz(t){let e=Sz(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,s=null;if(r>0){qt(r===1,65062);let d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){let h=wP(f);return h instanceof Wi&&JL(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(b){return new jc(Md(b.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,eb(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){let h=!!f.before,p=f.values||[];return new $d(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){let h=!f.before,p=f.values||[];return new $d(p,h)}(n.endAt)),rz(e,s,o,i,a,"F",l,u)}function Lz(t,e){let n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Md(n.unaryFilter.field);return mr.create(r,"==",{doubleValue:NaN});case"IS_NULL":let s=Md(n.unaryFilter.field);return mr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let i=Md(n.unaryFilter.field);return mr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Md(n.unaryFilter.field);return mr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}}(t):t.fieldFilter!==void 0?function(n){return mr.create(Md(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wi.create(n.compositeFilter.filters.map(r=>wP(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return qe(1026)}}(n.compositeFilter.op))}(t):qe(30097,{filter:t})}function Pz(t){return Tz[t]}function Oz(t){return Iz[t]}function Mz(t){return _z[t]}function Od(t){return{fieldPath:t.canonicalString()}}function Md(t){return oi.fromServerFormat(t.fieldPath)}function xP(t){return t instanceof mr?function(n){if(n.op==="=="){if(KR(n.value))return{unaryFilter:{field:Od(n.field),op:"IS_NAN"}};if($R(n.value))return{unaryFilter:{field:Od(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KR(n.value))return{unaryFilter:{field:Od(n.field),op:"IS_NOT_NAN"}};if($R(n.value))return{unaryFilter:{field:Od(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Od(n.field),op:Oz(n.op),value:n.value}}}(t):t instanceof Wi?function(n){let r=n.getFilters().map(s=>xP(s));return r.length===1?r[0]:{compositeFilter:{op:Mz(n.op),filters:r}}}(t):qe(54877,{filter:t})}function Fz(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function TP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Uz(t){let e=Rz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$I(e,e.limit,"L"):e}function lL([t,e],[n,r]){let s=bt(t,n);return s===0?bt(e,r):s}function Hz(t,e){return new d_(t,e)}function zz(t,e,n,r){return new N_(t,e,n,r)}async function _P(t,e){let n=Je(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{let o=[],a=[],l=vt();for(let u of s){o.push(u.batchId);for(let d of u.mutations)l=l.add(d.key)}for(let u of i){a.push(u.batchId);for(let d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function qz(t,e){let n=Je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){let f=u.batch,h=f.keys(),p=ne.resolve();return h.forEach(b=>{p=p.next(()=>d.getEntry(l,b)).next(I=>{let v=u.docVersions.get(b);qt(v!==null,48541),I.version.compareTo(v)<0&&(f.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),d.addEntry(I)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=vt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function EP(t){let e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Gz(t,e){let n=Je(t),r=e.snapshotVersion,s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{let o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;let a=[];e.targetChanges.forEach((d,f)=>{let h=s.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,f)));let p=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(is.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(f,p),function(I,v,g){return I.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=Bz?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(h,p,d)&&a.push(n.Pi.updateTargetData(i,p))});let l=Da(),u=vt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(jz(i,o,e.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!r.isEqual(Ze.min())){let d=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return ne.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ms=s,i))}function jz(t,e,n){let r=vt(),s=vt();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Da();return n.forEach((a,l)=>{let u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Ze.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):we(vE,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:s}})}function $z(t,e){let n=Je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=cE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Kz(t,e){let n=Je(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,ne.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Vm(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{let s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function k_(t,e,n){let r=Je(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!rh(o))throw o;we(vE,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function cL(t,e,n){let r=Je(t),s=Ze.min(),i=vt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){let f=Je(l),h=f.xs.get(d);return h!==void 0?ne.resolve(f.Ms.get(h)):f.Pi.getTargetData(u,d)}(r,o,ko(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:Ze.min(),n?i:vt())).next(a=>(Wz(r,iz(e),a),{documents:a,Qs:i})))}function Wz(t,e,n){let r=t.Os.get(e)||Ze.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}function C_(){return p0===null?p0=function(){return 268435456+Math.round(2147483648*Math.random())}():p0++,"0x"+p0.toString(16)}function xI(){return typeof document<"u"?document:null}function sb(t){return new t_(t,!0)}async function ib(t){if(Qc(t))for(let e of t.da)await e(!0)}async function Km(t){for(let e of t.da)await e(!1)}function SP(t,e){let n=Je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),IE(n)?TE(n):sh(n).O_()&&xE(n,e))}function wE(t,e){let n=Je(t),r=sh(n);n.Ia.delete(e),r.O_()&&NP(n,e),n.Ia.size===0&&(r.O_()?r.L_():Qc(n)&&n.Ra.set("Unknown"))}function xE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ze.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sh(t).Y_(e)}function NP(t,e){t.Va.Ue(e),sh(t).Z_(e)}function TE(t){t.Va=new e_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),sh(t).start(),t.Ra.ua()}function IE(t){return Qc(t)&&!sh(t).x_()&&t.Ia.size>0}function Qc(t){return Je(t).Ea.size===0}function kP(t){t.Va=void 0}async function Qz(t){t.Ra.set("Online")}async function Xz(t){t.Ia.forEach((e,n)=>{xE(t,e)})}async function Jz(t,e){kP(t),IE(t)?(t.Ra.ha(e),TE(t)):t.Ra.set("Unknown")}async function Zz(t,e,n){if(t.Ra.set("Online"),e instanceof A0&&e.state===2&&e.cause)try{await async function(s,i){let o=i.cause;for(let a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){we(Yc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await V0(t,r)}else if(e instanceof Ud?t.Va.Ze(e):e instanceof k0?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ze.min()))try{let r=await EP(t.localStore);n.compareTo(r)>=0&&await function(i,o){let a=i.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{let d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(is.EMPTY_BYTE_STRING,d.snapshotVersion)),NP(i,l);let f=new Vm(d.target,l,u,d.sequenceNumber);xE(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){we(Yc,"Failed to raise snapshot:",r),await V0(t,r)}}async function V0(t,e,n){if(!rh(e))throw e;t.Ea.add(1),await Km(t),t.Ra.set("Offline"),n||(n=()=>EP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we(Yc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ib(t)})}function AP(t,e){return e().catch(n=>V0(t,n,e))}async function ob(t){let e=Je(t),n=Ml(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cE;for(;eq(e);)try{let s=await $z(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,tq(e,s)}catch(s){await V0(e,s)}DP(e)&&CP(e)}function eq(t){return Qc(t)&&t.Ta.length<10}function tq(t,e){t.Ta.push(e);let n=Ml(t);n.O_()&&n.X_&&n.ea(e.mutations)}function DP(t){return Qc(t)&&!Ml(t).x_()&&t.Ta.length>0}function CP(t){Ml(t).start()}async function nq(t){Ml(t).ra()}async function rq(t){let e=Ml(t);for(let n of t.Ta)e.ea(n.mutations)}async function sq(t,e,n){let r=t.Ta.shift(),s=QI.from(r,e,n);await AP(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ob(t)}async function iq(t,e){e&&Ml(t).X_&&await async function(r,s){if(function(o){return bz(o)&&o!==K.ABORTED}(s.code)){let i=r.Ta.shift();Ml(r).B_(),await AP(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await ob(r)}}(t,e),DP(t)&&CP(t)}async function hL(t,e){let n=Je(t);n.asyncQueue.verifyOperationInProgress(),we(Yc,"RemoteStore received new credentials");let r=Qc(n);n.Ea.add(3),await Km(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ib(n)}async function oq(t,e){let n=Je(t);e?(n.Ea.delete(2),await ib(n)):e||(n.Ea.add(2),await Km(n),n.Ra.set("Unknown"))}function sh(t){return t.ma||(t.ma=function(n,r,s){let i=Je(n);return i.sa(),new O_(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:Qz.bind(null,t),t_:Xz.bind(null,t),r_:Jz.bind(null,t),H_:Zz.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),IE(t)?TE(t):t.Ra.set("Unknown")):(await t.ma.stop(),kP(t))})),t.ma}function Ml(t){return t.fa||(t.fa=function(n,r,s){let i=Je(n);return i.sa(),new M_(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:nq.bind(null,t),r_:iq.bind(null,t),ta:rq.bind(null,t),na:sq.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ob(t)):(await t.fa.stop(),t.Ta.length>0&&(we(Yc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}function _E(t,e){if(Sa("AsyncQueue",`${e}: ${t}`),rh(t))return new pe(K.UNAVAILABLE,`${e}: ${t}`);throw t}function fL(){return new Aa(t=>rP(t),nb)}async function RP(t,e){let n=Je(t),r=3,s=e.query,i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new z_,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){let a=_E(o,`Initialization of query '${Pd(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&EE(n)}async function LP(t,e){let n=Je(t),r=e.query,s=3,i=n.queries.get(r);if(i){let o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function aq(t,e){let n=Je(t),r=!1;for(let s of e){let i=s.query,o=n.queries.get(i);if(o){for(let a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&EE(n)}function lq(t,e,n){let r=Je(t),s=r.queries.get(e);if(s)for(let i of s.Sa)i.onError(n);r.queries.delete(e)}function EE(t){t.Ca.forEach(e=>{e.next()})}async function cq(t,e,n=!0){let r=VP(t),s,i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await PP(r,e,n,!0),s}async function uq(t,e){let n=VP(t);await PP(n,e,!0,!1)}async function PP(t,e,n,r){let s=await Kz(t.localStore,ko(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n),a;return r&&(a=await dq(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&SP(t.remoteStore,s),a}async function dq(t,e,n,r,s){t.pu=(f,h,p)=>async function(I,v,g,y){let _=v.view.ru(g);_.Cs&&(_=await cL(I.localStore,v.query,!1).then(({documents:S})=>v.view.ru(S,_)));let A=y&&y.targetChanges.get(v.targetId),R=y&&y.targetMismatches.get(v.targetId)!=null,U=v.view.applyChanges(_,I.isPrimaryClient,A,R);return gL(I,v.targetId,U.au),U.snapshot}(t,f,h,p);let i=await cL(t.localStore,e,!0),o=new j_(e,i.Qs),a=o.ru(i.documents),l=Um.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);gL(t,n,u.au);let d=new $_(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function hq(t,e,n){let r=Je(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!nb(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await k_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&wE(r.remoteStore,s.targetId),Y_(r,s.targetId)}).catch(nh)):(Y_(r,s.targetId),await k_(r.localStore,s.targetId,!0))}async function fq(t,e){let n=Je(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wE(n.remoteStore,r.targetId))}async function mq(t,e,n){let r=xq(t);try{let s=await function(o,a){let l=Je(o),u=Qn.now(),d=a.reduce((p,b)=>p.add(b.key),vt()),f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let b=Da(),I=vt();return l.Ns.getEntries(p,d).next(v=>{b=v,b.forEach((g,y)=>{y.isValidDocument()||(I=I.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,b)).next(v=>{f=v;let g=[];for(let y of a){let _=yz(y,f.get(y.key).overlayedDocument);_!=null&&g.push(new Ro(y.key,_,QL(_.value.mapValue),Ao.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,g,a)}).next(v=>{h=v;let g=v.applyToLocalDocumentSet(f,I);return l.documentOverlayCache.saveOverlays(p,v.batchId,g)})}).then(()=>({batchId:h.batchId,changes:oP(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new Xn(bt)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await Wm(r,s.changes),await ob(r.remoteStore)}catch(s){let i=_E(s,"Failed to persist write");n.reject(i)}}async function OP(t,e){let n=Je(t);try{let r=await Gz(n.localStore,e);e.targetChanges.forEach((s,i)=>{let o=n.Au.get(i);o&&(qt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?qt(o.hu,14607):s.removedDocuments.size>0&&(qt(o.hu,42227),o.hu=!1))}),await Wm(n,r,e)}catch(r){await nh(r)}}function pL(t,e,n){let r=Je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let s=[];r.Tu.forEach((i,o)=>{let a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){let l=Je(o);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(let h of f.Sa)h.va(a)&&(u=!0)}),u&&EE(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pq(t,e,n){let r=Je(t);r.sharedClientState.updateQueryState(e,"rejected",n);let s=r.Au.get(e),i=s&&s.key;if(i){let o=new Xn(Ve.comparator);o=o.insert(i,Ki.newNoDocument(i,Ze.min()));let a=vt().add(i),l=new N0(Ze.min(),new Map,new Xn(bt),o,a);await OP(r,l),r.du=r.du.remove(i),r.Au.delete(e),NE(r)}else await k_(r.localStore,e,!1).then(()=>Y_(r,e,n)).catch(nh)}async function gq(t,e){let n=Je(t),r=e.batch.batchId;try{let s=await qz(n.localStore,e);FP(n,r,null),MP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wm(n,s)}catch(s){await nh(s)}}async function yq(t,e,n){let r=Je(t);try{let s=await function(o,a){let l=Je(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(qt(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);FP(r,e,n),MP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wm(r,s)}catch(s){await nh(s)}}function MP(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function FP(t,e,n){let r=Je(t),s=r.Vu[r.currentUser.toKey()];if(s){let i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Y_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||UP(t,r)})}function UP(t,e){t.Eu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(wE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),NE(t))}function gL(t,e,n){for(let r of n)r instanceof q0?(t.Ru.addReference(r.key,e),bq(t,r)):r instanceof G0?(we(SE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||UP(t,r.key)):qe(19791,{wu:r})}function bq(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(we(SE,"New document in limbo: "+n),t.Eu.add(r),NE(t))}function NE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Eu.values().next().value;t.Eu.delete(e);let n=new Ve(Cn.fromString(e)),r=t.fu.next();t.Au.set(r,new K_(n)),t.du=t.du.insert(n,r),SP(t.remoteStore,new Vm(ko(gE(n.path)),r,"TargetPurposeLimboResolution",zd.ce))}}async function Wm(t,e,n){let r=Je(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient){let d=u?!u.fromCache:n?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){s.push(u);let d=__.As(l.targetId,u);i.push(d)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,u){let d=Je(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ne.forEach(u,h=>ne.forEach(h.Es,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>ne.forEach(h.ds,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!rh(f))throw f;we(vE,"Failed to update sequence numbers: "+f)}for(let f of u){let h=f.targetId;if(!f.fromCache){let p=d.Ms.get(h),b=p.snapshotVersion,I=p.withLastLimboFreeSnapshotVersion(b);d.Ms=d.Ms.insert(h,I)}}}(r.localStore,i))}async function vq(t,e){let n=Je(t);if(!n.currentUser.isEqual(e)){we(SE,"User change. New user:",e.toKey());let r=await _P(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new pe(K.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wm(n,r.Ls)}}function wq(t,e){let n=Je(t),r=n.Au.get(e);if(r&&r.hu)return vt().add(r.key);{let s=vt(),i=n.Iu.get(e);if(!i)return s;for(let o of i){let a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function VP(t){let e=Je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pq.bind(null,e),e.Pu.H_=aq.bind(null,e.eventManager),e.Pu.yu=lq.bind(null,e.eventManager),e}function xq(t){let e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yq.bind(null,e),e}async function TI(t,e){t.asyncQueue.verifyOperationInProgress(),we(Fl,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await _P(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function yL(t,e){t.asyncQueue.verifyOperationInProgress();let n=await Tq(t);we(Fl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>hL(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>hL(e.remoteStore,s)),t._onlineComponents=e}async function Tq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(Fl,"Using user provided OfflineComponentProvider");try{await TI(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(s){return s.name==="FirebaseError"?s.code===K.FAILED_PRECONDITION||s.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Hd("Error using user provided cache. Falling back to memory cache: "+n),await TI(t,new Jd)}}else we(Fl,"Using default OfflineComponentProvider"),await TI(t,new Q_(void 0));return t._offlineComponents}async function HP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(Fl,"Using user provided OnlineComponentProvider"),await yL(t,t._uninitializedComponentsProvider._online)):(we(Fl,"Using default OnlineComponentProvider"),await yL(t,new zm))),t._onlineComponents}function Iq(t){return HP(t).then(e=>e.syncEngine)}async function J_(t){let e=await HP(t),n=e.eventManager;return n.onListen=cq.bind(null,e.syncEngine),n.onUnlisten=hq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fq.bind(null,e.syncEngine),n}function _q(t,e,n={}){let r=new So;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){let d=new j0({next:h=>{d.Nu(),o.enqueueAndForget(()=>LP(i,f)),h.fromCache&&l.source==="server"?u.reject(new pe(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new z0(a,d,{includeMetadataChanges:!0,qa:!0});return RP(i,f)}(await J_(t),t.asyncQueue,e,n,r)),r.promise}function BP(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}function Eq(t,e,n,r={}){t=Ni(t,Zd);let s=bo(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(Td(`https://${a}`),Id("Firestore",!0)),i.host!==zP&&i.host!==a&&Hd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l={...i,host:a,ssl:s,emulatorOptions:r};if(!vo(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=Mr.MOCK_USER;else{u=_y(r.mockUserToken,t._app?.options.projectId);let f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new pe(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Mr(f)}t._authCredentials=new _I(new v0(u,d))}}function ab(t,e,...n){if(t=An(t),SL("collection","path",e),t instanceof Zd){let r=Cn.fromString(e,...n);return UR(r),new Dl(t,null,r)}{if(!(t instanceof Ur||t instanceof Dl))throw new pe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Cn.fromString(e,...n));return UR(r),new Dl(t.firestore,null,r)}}function Ge(t,e,...n){if(t=An(t),arguments.length===1&&(e=Rm.newId()),SL("doc","path",e),t instanceof Zd){let r=Cn.fromString(e,...n);return FR(r),new Ur(t,null,new Ve(r))}{if(!(t instanceof Ur||t instanceof Dl))throw new pe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Cn.fromString(e,...n));return FR(r),new Ur(t.firestore,t instanceof Dl?t.converter:null,new Ve(r))}}function xL(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function TL(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let s=n;for(let i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}function lb(t,e){let n=typeof t=="object"?t:kd(),r=typeof t=="string"?t:e||_0,s=Dc(n,"firestore").getImmediate({identifier:r});if(!s._initialized){let i=Iy("firestore");i&&Eq(s,...i)}return s}function kE(t){if(t._terminated)throw new pe(K.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Sq(t),t._firestoreClient}function Sq(t){let e=t._freezeSettings(),n=function(s,i,o,a){return new RI(s,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,BP(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new X_(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(s){let i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}}(t._componentsProvider))}function qP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{Ac:t})}}function cb(t){let e=t._freezeSettings(),n=sb(t._databaseId);return new tE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function GP(t,e,n,r,s,i={}){let o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);AE("Data must be an object, but it was:",o,r);let a=jP(r,o),l,u;if(i.merge)l=new Si(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){let d=[];for(let f of i.mergeFields){let h=nE(e,f,n);if(!o.contains(h))throw new pe(K.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);KP(d,h)||d.push(h)}l=new Si(d),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new Z_(new ii(a),l,u)}function kq(t,e,n,r){let s=t.Cc(1,e,n);AE("Data must be an object, but it was:",s,r);let i=[],o=ii.empty();Vl(r,(l,u)=>{let d=DE(e,l,n);u=An(u);let f=s.yc(d);if(u instanceof Y0)i.push(d);else{let h=Ym(u,f);h!=null&&(i.push(d),o.set(d,h))}});let a=new Si(i);return new W0(o,a,s.fieldTransforms)}function Aq(t,e,n,r,s,i){let o=t.Cc(1,e,n),a=[nE(e,r,n)],l=[s];if(i.length%2!=0)throw new pe(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(nE(e,i[h])),l.push(i[h+1]);let u=[],d=ii.empty();for(let h=a.length-1;h>=0;--h)if(!KP(u,a[h])){let p=a[h],b=l[h];b=An(b);let I=o.yc(p);if(b instanceof Y0)u.push(p);else{let v=Ym(b,I);v!=null&&(u.push(p),d.set(p,v))}}let f=new Si(u);return new W0(d,f,o.fieldTransforms)}function Dq(t,e,n,r=!1){return Ym(n,t.Cc(r?4:3,e))}function Ym(t,e){if($P(t=An(t)))return AE("Unsupported field value:",e,t),jP(t,e);if(t instanceof qm)return function(r,s){if(!qP(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);let i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){let i=[],o=0;for(let a of r){let l=Ym(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=An(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hz(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let i=Qn.fromDate(r);return{timestampValue:C0(s.serializer,i)}}if(r instanceof Qn){let i=new Qn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:C0(s.serializer,i)}}if(r instanceof Rl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cl)return{bytesValue:gP(s.serializer,r._byteString)};if(r instanceof Ur){let i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:bE(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ll)return function(o,a){return{mapValue:{fields:{[dE]:{stringValue:hE},[qd]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return yE(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Z0(r)}`)}(t,e)}function jP(t,e){let n={};return zL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vl(t,(r,s)=>{let i=Ym(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function $P(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qn||t instanceof Rl||t instanceof Cl||t instanceof Ur||t instanceof qm||t instanceof Ll)}function AE(t,e,n){if(!$P(n)||!NL(n)){let r=Z0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function nE(t,e,n){if((e=An(e))instanceof eh)return e._internalPath;if(typeof e=="string")return DE(t,e);throw Q0("Field path arguments must be of type string or ",t,!1,void 0,n)}function DE(t,e,n){if(e.search(Cq)>=0)throw Q0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new eh(...e.split("."))._internalPath}catch{throw Q0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Q0(t,e,n,r,s){let i=r&&!r.isEmpty(),o=s!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new pe(K.INVALID_ARGUMENT,a+t+l)}function KP(t,e){return t.some(n=>n.isEqual(e))}function CE(t,e){return typeof e=="string"?DE(t,e):e instanceof eh?e._internalPath:e._delegate._internalPath}function WP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function ct(t,e,...n){let r=[];e instanceof Gm&&r.push(e),r=r.concat(n),function(i){let o=i.filter(l=>l instanceof iE).length,a=i.filter(l=>l instanceof sE).length;if(o>1||o>0&&a>0)throw new pe(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let s of r)t=s._apply(t);return t}function Mt(t,e="asc"){let n=e,r=CE("orderBy",t);return oE._create(r,n)}function IL(t,e,n){if(typeof(n=An(n))=="string"){if(n==="")throw new pe(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nP(e)&&n.indexOf("/")!==-1)throw new pe(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Cn.fromString(n));if(!Ve.isDocumentKey(r))throw new pe(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jR(t,new Ve(r))}if(n instanceof Ur)return jR(t,n._key);throw new pe(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Z0(n)}.`)}function _L(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YP(t,e){let n=function(s,i){for(let o of s)for(let a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function QP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function Rq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:t})}}function Rn(t){t=Ni(t,Ul);let e=Ni(t.firestore,Lo),n=kE(e),r=new jm(e);return WP(t._query),_q(n,t._query).then(s=>new zc(e,r,t,s))}function RE(t,e,n){t=Ni(t,Ur);let r=Ni(t.firestore,Lo),s=QP(t.converter,e,n);return ub(r,[GP(cb(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ao.none())])}function Ln(t,e,n,...r){t=Ni(t,Ur);let s=Ni(t.firestore,Lo),i=cb(s),o;return o=typeof(e=An(e))=="string"||e instanceof eh?Aq(i,"updateDoc",t._key,e,n,r):kq(i,"updateDoc",t._key,e),ub(s,[o.toMutation(t._key,Ao.exists(!0))])}function Pn(t){return ub(Ni(t.firestore,Lo),[new Fm(t._key,Ao.none())])}function On(t,e){let n=Ni(t.firestore,Lo),r=Ge(t),s=QP(t.converter,e);return ub(n,[GP(cb(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ao.exists(!1))]).then(()=>r)}function Mn(t,...e){t=An(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||TL(e[r])||(n=e[r++]);let s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(TL(e[r])){let l=e[r];e[r]=l.next?.bind(l),e[r+1]=l.error?.bind(l),e[r+2]=l.complete?.bind(l)}let i,o,a;if(t instanceof Ur)o=Ni(t.firestore,Lo),a=gE(t._key.path),i={next:l=>{e[r]&&e[r](Lq(o,t,l))},error:e[r+1],complete:e[r+2]};else{let l=Ni(t,Ul);o=Ni(l.firestore,Lo),a=l._query;let u=new jm(o);i={next:d=>{e[r]&&e[r](new zc(o,u,l,d))},error:e[r+1],complete:e[r+2]},WP(t._query)}return function(u,d,f,h){let p=new j0(h),b=new z0(d,p,f);return u.asyncQueue.enqueueAndForget(async()=>RP(await J_(u),b)),()=>{p.Nu(),u.asyncQueue.enqueueAndForget(async()=>LP(await J_(u),b))}}(kE(o),a,s,i)}function ub(t,e){return function(r,s){let i=new So;return r.asyncQueue.enqueueAndForget(async()=>mq(await Iq(r),s,i)),i.promise}(kE(t),e)}function Lq(t,e,n){let r=n.docs.get(e._key),s=new jm(t);return new Bc(t,s,e._key,r,new Hc(n.hasPendingWrites,n.fromCache),e.converter)}var PR,OR,Mr,th,qc,K,pe,So,v0,II,_I,EI,SI,NI,w0,kI,Rm,RB,LB,MR,x0,Cn,PB,oi,Ve,VR,HR,Qn,Ze,Lm,DI,Gc,VB,CI,ne,zd,cE,kL,GB,AL,DL,CL,RL,jB,LL,PL,OL,ML,FL,UL,VL,HL,$B,KB,WB,BL,YB,QB,_Q,XB,JB,ZB,EQ,Xn,Fd,No,Fr,T0,Si,I0,is,ez,qL,GL,jL,$L,RI,_0,E0,dE,KL,f0,hE,qd,NQ,ii,Ki,$d,jc,S0,mr,Wi,MI,FI,UI,VI,HI,BI,zI,qI,Ol,Aa,az,iP,lz,cz,uz,Kd,Wd,$c,Kc,Yd,KI,Ao,Qd,Wc,Ro,Fm,WI,YI,QI,XI,JI,hr,Dt,vz,xz,ZI,Vc,N0,Um,Ud,k0,A0,D0,e_,Tz,Iz,_z,t_,Vm,o_,R0,a_,l_,kQ,oL,IP,Ei,Hm,aL,Vz,c_,u_,d_,h_,f_,m_,p_,g_,y_,Bm,fr,b_,v_,w_,x_,L0,T_,I_,P0,__,E_,S_,vE,Bz,N_,O0,A_,D_,uL,M0,p0,wI,Yz,R_,L_,ss,P_,F0,dL,U0,O_,M_,F_,U_,V_,Yc,H_,B_,H0,B0,Xd,z_,q_,G_,mL,z0,q0,G0,j_,SE,$_,K_,W_,Jd,Q_,zm,j0,Fl,X_,bL,zP,vL,$0,Zd,Ul,Ur,Dl,wL,K0,Lo,Cl,eh,qm,Rl,Ll,Nq,Z_,W0,eE,tE,Y0,Cq,X0,rE,Gm,J0,sE,iE,oE,aE,Hc,Bc,Vd,zc,jm,XP=j(()=>{Cc();Nd();om();_l();RR();LR();PR="@firebase/firestore",OR="4.9.0";Mr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Mr.UNAUTHENTICATED=new Mr(null),Mr.GOOGLE_CREDENTIALS=new Mr("google-credentials-uid"),Mr.FIRST_PARTY=new Mr("first-party-uid"),Mr.MOCK_USER=new Mr("mock-user");th="12.0.0";qc=new El("@firebase/firestore");K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},pe=class extends Is{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};So=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};v0=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},II=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mr.UNAUTHENTICATED))}shutdown(){}},_I=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},EI=class{constructor(e){this.t=e,this.currentUser=Mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qt(this.o===void 0,42304);let r=this.i,s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve(),i=new So;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new So,e.enqueueRetryable(()=>s(this.currentUser))};let o=()=>{let l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new So)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt(typeof r.accessToken=="string",31837,{l:r}),new v0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Mr(e)}},SI=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Mr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},NI=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new SI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}},w0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},kI=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ns(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qt(this.o===void 0,3512);let r=i=>{i.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);let o=i.token!==this.m;return this.m=i.token,we("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};let s=i=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){let i=this.V.getImmediate({optional:!0});i?s(i):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new w0(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new w0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};Rm=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let s=CB(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}};RB=55296,LB=57343;MR="__name__",x0=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&qe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&qe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let s=0;s<r;s++){let i=t.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return bt(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),s=t.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?t.extractNumericId(e).compare(t.extractNumericId(n)):AI(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _a.fromString(e.substring(4,e.length-2))}},Cn=class t extends x0{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new pe(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new t(n)}static emptyPath(){return new t([])}},PB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,oi=class t extends x0{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return PB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===MR}static keyField(){return new t([MR])}static fromServerFormat(e){let n=[],r="",s=0,i=()=>{if(r.length===0)throw new pe(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;s<e.length;){let a=e[s];if(a==="\\"){if(s+1===e.length)throw new pe(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new pe(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new pe(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};Ve=class t{constructor(e){this.path=e}static fromPath(e){return new t(Cn.fromString(e))}static fromName(e){return new t(Cn.fromString(e).popFirst(5))}static empty(){return new t(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Cn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Cn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Cn(e.slice()))}};VR=-62135596800,HR=1e6,Qn=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*HR);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<VR)throw new pe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HR}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($m(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-VR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Qn._jsonSchemaVersion="firestore/timestamp/1.0",Qn._jsonSchema={type:pr("string",Qn._jsonSchemaVersion),seconds:pr("number"),nanoseconds:pr("number")};Ze=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Qn(0,0))}static max(){return new t(new Qn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};Lm=-1,DI=class{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}};DI.UNKNOWN_ID=-1;Gc=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Ze.min(),Ve.empty(),Lm)}static max(){return new t(Ze.max(),Ve.empty(),Lm)}};VB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",CI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};ne=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(s=>s?t.resolve(s):r());return n}static forEach(e,n){let r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new t((r,s)=>{let i=e.length,o=new Array(i),a=0;for(let l=0;l<i;l++){let u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new t((r,s)=>{let i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}};zd=class{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}};zd.ce=-1;cE=-1;kL="";GB="remoteDocuments",AL="owner",DL="mutationQueues",CL="mutations";RL="documentMutations",jB="remoteDocumentsV14",LL="remoteDocumentGlobal",PL="targets",OL="targetDocuments",ML="targetGlobal",FL="collectionParents",UL="clientMetadata",VL="bundles",HL="namedQueries",$B="indexConfiguration",KB="indexState",WB="indexEntries",BL="documentOverlays",YB="globals",QB=[DL,CL,RL,GB,PL,AL,ML,OL,UL,LL,FL,VL,HL],_Q=[...QB,BL],XB=[DL,CL,RL,jB,PL,AL,ML,OL,UL,LL,FL,VL,HL,BL],JB=XB,ZB=[...JB,$B,KB,WB],EQ=[...ZB,YB];Xn=class t{constructor(e,n){this.comparator=e,this.root=n||No.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,No.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,No.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fd(this.root,e,this.comparator,!0)}},Fd=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},No=class t{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??t.RED,this.left=s??t.EMPTY,this.right=i??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new t(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this,i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}};No.EMPTY=null,No.RED=!0,No.BLACK=!1;No.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new No(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};Fr=class t{constructor(e){this.comparator=e,this.data=new Xn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new T0(this.data.getIterator())}getIteratorFrom(e){return new T0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},T0=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};Si=class t{constructor(e){this.fields=e,e.sort(oi.comparator)}static empty(){return new t([])}unionWith(e){let n=new Fr(oi.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bd(this.fields,e.fields,(n,r)=>n.isEqual(r))}};I0=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};is=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new I0("Invalid base64 string: "+i):i}}(e);return new t(n)}static fromUint8Array(e){let n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};is.EMPTY_BYTE_STRING=new is("");ez=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);qL="server_timestamp",GL="__type__",jL="__previous_value__",$L="__local_write_time__";RI=class{constructor(e,n,r,s,i,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}},_0="(default)",E0=class t{constructor(e,n){this.projectId=e,this.database=n||_0}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===_0}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};dE="__type__",KL="__max__",f0={mapValue:{fields:{__type__:{stringValue:KL}}}},hE="__vector__",qd="value";NQ={mapValue:{fields:{[dE]:{stringValue:hE},[qd]:{arrayValue:{}}}}};ii=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!y0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=km(n)}setAll(e){let n=oi.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=km(o):s.push(a.lastSegment())});let i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){let n=this.field(e.popLast());y0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Co(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];y0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Vl(n,(s,i)=>e[s]=i);for(let s of r)delete e[s]}clone(){return new t(km(this.value))}};Ki=class t{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Ze.min(),Ze.min(),Ze.min(),ii.empty(),0)}static newFoundDocument(e,n,r,s){return new t(e,1,n,Ze.min(),r,s,0)}static newNoDocument(e,n){return new t(e,2,n,Ze.min(),Ze.min(),ii.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Ze.min(),Ze.min(),ii.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};$d=class{constructor(e,n){this.position=e,this.inclusive=n}};jc=class{constructor(e,n="asc"){this.field=e,this.dir=n}};S0=class{},mr=class t extends S0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new MI(e,n,r):n==="array-contains"?new VI(e,r):n==="in"?new HI(e,r):n==="not-in"?new BI(e,r):n==="array-contains-any"?new zI(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new FI(e,r):new UI(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Gd(n,this.value)):n!==null&&Pl(this.value)===Pl(n)&&this.matchesComparison(Gd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Wi=class t extends S0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new t(e,n)}matches(e){return XL(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};MI=class extends mr{constructor(e,n,r){super(e,n,r),this.key=Ve.fromName(r.referenceValue)}matches(e){let n=Ve.comparator(e.key,this.key);return this.matchesComparison(n)}},FI=class extends mr{constructor(e,n){super(e,"in",n),this.keys=tP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},UI=class extends mr{constructor(e,n){super(e,"not-in",n),this.keys=tP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};VI=class extends mr{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return fE(n)&&Mm(n.arrayValue,this.value)}},HI=class extends mr{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Mm(this.value.arrayValue,n)}},BI=class extends mr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mm(this.value.arrayValue,n)}},zI=class extends mr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!fE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Mm(this.value.arrayValue,r))}};qI=class{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}};Ol=class{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};Aa=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Vl(this.inner,(n,r)=>{for(let[s,i]of r)e(s,i)})}isEmpty(){return zL(this.inner)}size(){return this.innerSize}};az=new Xn(Ve.comparator);iP=new Xn(Ve.comparator);lz=new Xn(Ve.comparator),cz=new Fr(Ve.comparator);uz=new Fr(bt);Kd=class{constructor(){this._=void 0}};Wd=class extends Kd{},$c=class extends Kd{constructor(e){super(),this.elements=e}};Kc=class extends Kd{constructor(e){super(),this.elements=e}};Yd=class extends Kd{constructor(e,n){super(),this.serializer=e,this.Ae=n}};KI=class{constructor(e,n){this.version=e,this.transformResults=n}},Ao=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};Qd=class{};Wc=class extends Qd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}},Ro=class extends Qd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}};Fm=class extends Qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},WI=class extends Qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};YI=class{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){let i=this.mutations[s];i.key.isEqual(e.key)&&gz(i,e,r[s])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cm(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Cm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=aP();return this.mutations.forEach(s=>{let i=e.get(s.key),o=i.overlayedDocument,a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;let l=fP(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ze.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),vt())}isEqual(e){return this.batchId===e.batchId&&Bd(this.mutations,e.mutations,(n,r)=>ZR(n,r))&&Bd(this.baseMutations,e.baseMutations,(n,r)=>ZR(n,r))}},QI=class t{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){qt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return lz}(),i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new t(e,n,r,s)}};XI=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};JI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};(Dt=hr||(hr={}))[Dt.OK=0]="OK",Dt[Dt.CANCELLED=1]="CANCELLED",Dt[Dt.UNKNOWN=2]="UNKNOWN",Dt[Dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dt[Dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dt[Dt.NOT_FOUND=5]="NOT_FOUND",Dt[Dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dt[Dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dt[Dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dt[Dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dt[Dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dt[Dt.ABORTED=10]="ABORTED",Dt[Dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dt[Dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dt[Dt.INTERNAL=13]="INTERNAL",Dt[Dt.UNAVAILABLE=14]="UNAVAILABLE",Dt[Dt.DATA_LOSS=15]="DATA_LOSS";vz=null;xz=new _a([4294967295,4294967295],0);ZI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vc(`Invalid padding: ${n}`);if(r<0)throw new Vc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=_a.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(_a.fromNumber(r)));return s.compare(xz)===1&&(s=new _a([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let n=nL(e),[r,s]=rL(n);for(let i=0;i<this.hashCount;i++){let o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){let s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new t(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;let n=nL(e),[r,s]=rL(n);for(let i=0;i<this.hashCount;i++){let o=this.ye(r,s,i);this.Se(o)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Vc=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};N0=class t{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let s=new Map;return s.set(e,Um.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(Ze.min(),s,new Xn(bt),Da(),vt())}},Um=class t{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,vt(),vt(),vt())}};Ud=class{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}},k0=class{constructor(e,n){this.targetId=e,this.Ce=n}},A0=class{constructor(e,n,r=is.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}},D0=class{constructor(){this.ve=0,this.Fe=sL(),this.Me=is.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=vt(),n=vt(),r=vt();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:qe(38017,{changeType:i})}}),new Um(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=sL()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},e_=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Da(),this.Je=m0(),this.He=m0(),this.Ye=new Xn(bt)}Ze(e){for(let n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(let n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{let r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:qe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){let n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){let i=s.target;if(GI(i))if(r===0){let o=new Ve(i.path);this.et(n,o,Ki.newNoDocument(o,Ze.min()))}else qt(r===1,20013,{expectedCount:r});else{let o=this._t(n);if(o!==r){let a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}vz?.lt(function(d,f,h,p,b){let I={localCacheCount:d,existenceFilterCount:f.count,databaseId:h.database,projectId:h.projectId},v=f.unchangedNames;return v&&(I.bloomFilter={applied:b===0,hashCount:v?.hashCount??0,bitmapLength:v?.bits?.bitmap?.length??0,padding:v?.bits?.padding??0,mightContain:g=>p?.mightContain(g)??!1}),I}(o,e.Ce,this.Ge.ht(),a,l))}}}}ut(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n,o,a;try{o=ka(r).toUint8Array()}catch(l){if(l instanceof I0)return Hd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ZI(o,s,i)}catch(l){return Hd(l instanceof Vc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){let r=this.Ge.getRemoteKeysForTarget(n),s=0;return r.forEach(i=>{let o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){let n=new Map;this.ze.forEach((i,o)=>{let a=this.ot(o);if(a){if(i.current&&GI(a.target)){let l=new Ve(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Ki.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=vt();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{let u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));let s=new N0(e,n,this.Ye,this.je,r);return this.je=Da(),this.Je=m0(),this.He=m0(),this.Ye=new Xn(bt),s}Xe(e,n){if(!this.rt(e))return;let r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;let s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){let n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new D0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Fr(bt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Fr(bt),this.Je=this.Je.insert(e,n)),n}rt(e){let n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){let n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new D0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}};Tz={asc:"ASCENDING",desc:"DESCENDING"},Iz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_z={and:"AND",or:"OR"},t_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};Vm=class t{constructor(e,n,r,s,i=Ze.min(),o=Ze.min(),a=is.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};o_=class{constructor(e){this.yt=e}};R0=class{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Dn(e.integerValue));else if("doubleValue"in e){let r=Dn(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Pm(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Na(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(ka(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?YL(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):WL(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):qe(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){let r=e.fields||{};this.Ft(n,55);for(let s of Object.keys(r))this.Ot(s,n),this.Ct(r[s],n)}kt(e,n){let r=e.fields||{};this.Ft(n,53);let s=qd,i=r[s].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(Dn(i)),this.Ot(s,n),this.Ct(r[s],n)}Qt(e,n){let r=e.values||[];this.Ft(n,50);for(let s of r)this.Ct(s,n)}Lt(e,n){this.Ft(n,37),Ve.fromName(e).path.forEach(r=>{this.Ft(n,60),this.Ut(r,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}};R0.Kt=new R0;a_=class{constructor(){this.Cn=new l_}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Gc.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Gc.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}},l_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Fr(Cn.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){let n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Fr(Cn.comparator)).toArray()}};kQ=new Uint8Array(0);oL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IP=41943040,Ei=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Ei.DEFAULT_COLLECTION_PERCENTILE=10,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ei.DEFAULT=new Ei(IP,Ei.DEFAULT_COLLECTION_PERCENTILE,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ei.DISABLED=new Ei(-1,0,0);Hm=class t{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new t(0)}static cr(){return new t(-1)}};aL="LruGarbageCollector",Vz=1048576;c_=class{constructor(e){this.Ir=e,this.buffer=new Fr(lL),this.Er=0}dr(){return++this.Er}Ar(e){let n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();lL(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},u_=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){we(aL,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){rh(n)?we(aL,"Ignoring IndexedDB error during garbage collection: ",n):await nh(n)}await this.Vr(3e5)})}},d_=class{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(zd.ce);let r=new c_(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(oL)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oL):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Ld()<=ft.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}};h_=class{constructor(){this.changes=new Aa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ki.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};f_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};m_=class{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Cm(r.mutation,s,Si.empty(),Qn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,vt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=vt()){let s=Uc();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Nm();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Uc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,vt()))}populateOverlays(e,n,r){let s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Da(),o=Dm(),a=function(){return Dm()}();return n.forEach((l,u)=>{let d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Ro)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Cm(d.mutation,u,d.mutation.getFieldMask(),Qn.now())):o.set(u.key,Si.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new f_(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){let r=Dm(),s=new Xn((o,a)=>o-a),i=vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(l=>{let u=n.get(l);if(u===null)return;let d=r.get(l)||Si.empty();d=a.applyToLocalView(u,d),r.set(l,d);let f=(s.get(a.batchId)||vt()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{let o=[],a=s.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,d=l.value,f=aP();d.forEach(h=>{if(!i.has(h)){let p=fP(n.get(h),r.get(h));p!==null&&f.set(h,p),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ne.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Ve.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{let o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):ne.resolve(Uc()),a=Lm,l=i;return o.next(u=>ne.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?ne.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,vt())).next(d=>({batchId:a,changes:oP(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ve(n)).next(r=>{let s=Nm();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){let i=n.collectionGroup,o=Nm();return this.indexManager.getCollectionParents(e,i).next(a=>ne.forEach(a,l=>{let u=function(f,h){return new Ol(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{let d=u.getKey();o.get(d)===null&&(o=o.insert(d,Ki.newInvalidDocument(d)))});let a=Nm();return o.forEach((l,u)=>{let d=i.get(l);d!==void 0&&Cm(d.mutation,u,Si.empty(),Qn.now()),rb(n,u)&&(a=a.insert(l,u))}),a})}};p_=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Do(s.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:Uz(s.bundledQuery),readTime:Do(s.readTime)}}(n)),ne.resolve()}};g_=class{constructor(){this.overlays=new Xn(Ve.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Uc();return ne.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),ne.resolve()}removeOverlaysForBatchId(e,n,r){let s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){let s=Uc(),i=n.length+1,o=new Ve(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return ne.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Xn((u,d)=>u-d),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Uc(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=Uc(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return ne.resolve(a)}St(e,n,r){let s=this.overlays.get(r.key);if(s!==null){let o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new XI(n,r));let i=this.qr.get(n);i===void 0&&(i=vt(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}};y_=class{constructor(){this.sessionToken=is.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}};Bm=class{constructor(){this.Qr=new Fr(fr.$r),this.Ur=new Fr(fr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){let r=new fr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new fr(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){let n=new Ve(new Cn([])),r=new fr(n,e),s=new fr(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let n=new Ve(new Cn([])),r=new fr(n,e),s=new fr(n,e+1),i=vt();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){let n=new fr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},fr=class{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ve.comparator(e.key,n.key)||bt(e.Yr,n.Yr)}static Kr(e,n){return bt(e.Yr,n.Yr)||Ve.comparator(e.key,n.key)}};b_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Fr(fr.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){let i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new YI(i,n,r,s);this.mutationQueue.push(o);for(let a of s)this.Zr=this.Zr.add(new fr(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ne.resolve(o)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,s=this.ei(r),i=s<0?0:s;return ne.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?cE:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new fr(n,0),s=new fr(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{let a=this.Xr(o.Yr);i.push(a)}),ne.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fr(bt);return n.forEach(s=>{let i=new fr(s,0),o=new fr(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,s=r.length+1,i=r;Ve.isDocumentKey(i)||(i=i.child(""));let o=new fr(new Ve(i),0),a=new Fr(bt);return this.Zr.forEachWhile(l=>{let u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Yr)),!0)},o),ne.resolve(this.ti(a))}ti(e){let n=[];return e.forEach(r=>{let s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){qt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ne.forEach(n.mutations,s=>{let i=new fr(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){let r=new fr(n,0),s=this.Zr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};v_=class{constructor(e){this.ri=e,this.docs=function(){return new Xn(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():Ki.newInvalidDocument(n))}getEntries(e,n){let r=Da();return n.forEach(s=>{let i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ki.newInvalidDocument(s))}),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Da(),o=n.path,a=new Ve(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||UB(FB(d),r)<=0||(s.has(d.key)||rb(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return ne.resolve(i)}getAllFromCollectionGroup(e,n,r,s){qe(9500)}ii(e,n){return ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new w_(this)}getSize(e){return ne.resolve(this.size)}},w_=class extends h_{constructor(e){super(),this.Nr=e}applyChanges(e){let n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}};x_=class{constructor(e){this.persistence=e,this.si=new Aa(n=>mE(n),pE),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.oi=0,this._i=new Bm,this.targetCount=0,this.ai=Hm.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ai=new Hm(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let s=0,i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),ne.waitFor(i).next(()=>s)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){let r=this.si.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);let s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),ne.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){let r=this._i.Hr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}};L0=class{constructor(e,n){this.ui={},this.overlays={},this.ci=new zd(0),this.li=!1,this.li=!0,this.hi=new y_,this.referenceDelegate=e(this),this.Pi=new x_(this),this.indexManager=new a_,this.remoteDocumentCache=function(s){return new v_(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new o_(n),this.Ii=new p_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new g_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new b_(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);let s=new T_(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return ne.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}},T_=class extends CI{constructor(e){super(),this.currentSequenceNumber=e}},I_=class t{constructor(e){this.persistence=e,this.Ri=new Bm,this.Vi=null}static mi(e){return new t(e)}get fi(){if(this.Vi)return this.Vi;throw qe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,r=>{let s=Ve.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,Ze.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}},P0=class t{constructor(e,n){this.persistence=e,this.pi=new Aa(r=>zB(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Hz(this,n)}static mi(e,n){return new t(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){let n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return ne.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?ne.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Ze.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=g0(e.data.value)),n}br(e,n,r){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let s=this.pi.get(n);return ne.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};__=class t{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=vt(),s=vt();for(let i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new t(e,n.fromCache,r,s)}};E_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};S_=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return a2()?8:HB(Or())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){let i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;let o=new E_;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Ld()<=ft.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Pd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Ld()<=ft.DEBUG&&we("QueryEngine","Query:",Pd(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ld()<=ft.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Pd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ko(n))):ne.resolve())}ys(e,n){if(XR(n))return ne.resolve(null);let r=ko(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=$I(n,null,"F"),r=ko(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{let o=vt(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,$I(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,s){return XR(n)||s.isEqual(Ze.min())?ne.resolve(null):this.ps.getDocuments(e,r).next(i=>{let o=this.Ds(n,i);return this.Cs(n,o,r,s)?ne.resolve(null):(Ld()<=ft.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Pd(n)),this.vs(e,o,n,MB(s,Lm)).next(a=>a))})}Ds(e,n){let r=new Fr(sP(e));return n.forEach((s,i)=>{rb(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Ld()<=ft.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Pd(n)),this.ps.getDocumentsMatchingQuery(e,n,Gc.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}};vE="LocalStore",Bz=3e8,N_=class{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Xn(bt),this.xs=new Aa(i=>mE(i),pE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m_(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}};O0=class{constructor(){this.activeTargetIds=dz()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},A_=class{constructor(){this.Mo=new O0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new O0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};D_=class{Oo(e){}shutdown(){}};uL="ConnectivityMonitor",M0=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){we(uL,"Network connectivity changed: AVAILABLE");for(let e of this.qo)e(0)}ko(){we(uL,"Network connectivity changed: UNAVAILABLE");for(let e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};p0=null;wI="RestConnection",Yz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},R_=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===_0?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){let o=C_(),a=this.zo(e,n.toUriEncodedString());we(wI,`Sending RPC '${e}' ${o}:`,a,r);let l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);let{host:u}=new URL(a),d=bo(u);return this.Jo(e,a,l,r,d).then(f=>(we(wI,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Hd(wI,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+th}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){let r=Yz[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}};L_=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}};ss="WebChannelConnection",P_=class extends R_{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){let o=C_();return new Promise((a,l)=>{let u=new fI;u.setWithCredentials(!0),u.listenOnce(mI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Sm.NO_ERROR:let f=u.getResponseJson();we(ss,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Sm.TIMEOUT:we(ss,`RPC '${e}' ${o} timed out`),l(new pe(K.DEADLINE_EXCEEDED,"Request time out"));break;case Sm.HTTP_ERROR:let h=u.getStatus();if(we(ss,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);let b=p?.error;if(b&&b.status&&b.message){let I=function(g){let y=g.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(y)>=0?y:K.UNKNOWN}(b.status);l(new pe(I,b.message))}else l(new pe(K.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new pe(K.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{we(ss,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(s);we(ss,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){let s=C_(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=yI(),a=gI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;let d=i.join("");we(ss,`Creating RPC '${e}' stream ${s}: ${d}`,l);let f=o.createWebChannel(d,l);this.I_(f);let h=!1,p=!1,b=new L_({Yo:v=>{p?we(ss,`Not sending because RPC '${e}' stream ${s} is closed:`,v):(h||(we(ss,`Opening RPC '${e}' stream ${s} transport.`),f.open(),h=!0),we(ss,`RPC '${e}' stream ${s} sending:`,v),f.send(v))},Zo:()=>f.close()}),I=(v,g,y)=>{v.listen(g,_=>{try{y(_)}catch(A){setTimeout(()=>{throw A},0)}})};return I(f,Rd.EventType.OPEN,()=>{p||(we(ss,`RPC '${e}' stream ${s} transport opened.`),b.o_())}),I(f,Rd.EventType.CLOSE,()=>{p||(p=!0,we(ss,`RPC '${e}' stream ${s} transport closed`),b.a_(),this.E_(f))}),I(f,Rd.EventType.ERROR,v=>{p||(p=!0,Hd(ss,`RPC '${e}' stream ${s} transport errored. Name:`,v.name,"Message:",v.message),b.a_(new pe(K.UNAVAILABLE,"The operation could not be completed")))}),I(f,Rd.EventType.MESSAGE,v=>{if(!p){let g=v.data[0];qt(!!g,16349);let y=g,_=y?.error||y[0]?.error;if(_){we(ss,`RPC '${e}' stream ${s} received error:`,_);let A=_.status,R=function(E){let T=hr[E];if(T!==void 0)return pP(T)}(A),U=_.message;R===void 0&&(R=K.INTERNAL,U="Unknown error status: "+A+" with message "+_.message),p=!0,b.a_(new pe(R,U)),f.close()}else we(ss,`RPC '${e}' stream ${s} received:`,g),b.u_(g)}}),I(a,pI.STAT_EVENT,v=>{v.stat===h0.PROXY?we(ss,`RPC '${e}' stream ${s} detected buffering proxy`):v.stat===h0.NOPROXY&&we(ss,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}};F0=class{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&we("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};dL="PersistentStream",U0=class{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new F0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(Sa(n.toString()),Sa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{let s=new pe(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){let r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return we(dL,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(we(dL,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},O_=class extends U0{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let n=Nz(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ze.min();let o=i.targetChange;return o.targetIds&&o.targetIds.length?Ze.min():o.readTime?Do(o.readTime):Ze.min()}(e);return this.listener.H_(n,r)}Y_(e){let n={};n.database=i_(this.serializer),n.addTarget=function(i,o){let a,l=o.target;if(a=GI(l)?{documents:Dz(i,l)}:{query:Cz(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=gP(i,o.resumeToken);let u=n_(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ze.min())>0){a.readTime=C0(i,o.snapshotVersion.toTimestamp());let u=n_(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=Lz(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){let n={};n.database=i_(this.serializer),n.removeTarget=e,this.q_(n)}},M_=class extends U0{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let n=Az(e.writeResults,e.commitTime),r=Do(e.commitTime);return this.listener.na(r,n)}ra(){let e={};e.database=i_(this.serializer),this.q_(e)}ea(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>kz(this.serializer,r))};this.q_(n)}};F_=class{},U_=class extends F_{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new pe(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,r_(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new pe(K.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,r_(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(K.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}},V_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Sa(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};Yc="RemoteStore",H_=class{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Qc(this)&&(we(Yc,"Restarting streams for network reachability change."),await async function(l){let u=Je(l);u.Ea.add(4),await Km(u),u.Ra.set("Unknown"),u.Ea.delete(4),await ib(u)}(this))})}),this.Ra=new V_(r,s)}};B_=class t{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new So,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){let o=Date.now()+r,a=new t(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};H0=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ve.comparator(n.key,r.key):(n,r)=>Ve.comparator(n.key,r.key),this.keyedMap=Nm(),this.sortedSet=new Xn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};B0=class{constructor(){this.ga=new Xn(Ve.comparator)}track(e){let n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):qe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){let e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}},Xd=class t{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,H0.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}};z_=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}},q_=class{constructor(){this.queries=fL(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){let s=Je(n),i=s.queries;s.queries=fL(),i.forEach((o,a)=>{for(let l of a.Sa)l.onError(r)})})(this,new pe(K.ABORTED,"Firestore shutting down"))}};(mL=G_||(G_={})).Ma="default",mL.Cache="cache";z0=class{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let s of e.docChanges)s.type!==3&&r.push(s);e=new Xd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;let r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Xd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==G_.Cache}};q0=class{constructor(e){this.key=e}},G0=class{constructor(e){this.key=e}},j_=class{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=vt(),this.mutatedKeys=vt(),this.eu=sP(e),this.tu=new H0(this.eu)}get nu(){return this.Ya}ru(e,n){let r=n?n.iu:new B0,s=n?n.tu:this.tu,i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1,l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{let h=s.get(d),p=rb(this.query,f)?f:null,b=!!h&&this.mutatedKeys.has(h.key),I=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),v=!1;h&&p?h.data.isEqual(p.data)?b!==I&&(r.track({type:3,doc:p}),v=!0):this.su(h,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),v=!0):h&&!p&&(r.track({type:1,doc:h}),v=!0,(l||u)&&(a=!0)),v&&(p?(o=o.add(p),i=I?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){let i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let o=e.iu.ya();o.sort((d,f)=>function(p,b){let I=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Rt:v})}};return I(p)-I(b)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;let a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new Xd(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new B0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=vt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});let n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new G0(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new q0(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=vt();let n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Xd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},SE="SyncEngine",$_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},K_=class{constructor(e){this.key=e,this.hu=!1}},W_=class{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Aa(a=>rP(a),nb),this.Iu=new Map,this.Eu=new Set,this.du=new Xn(Ve.comparator),this.Au=new Map,this.Ru=new Bm,this.Vu={},this.mu=new Map,this.fu=Hm.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};Jd=class{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sb(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return zz(this.persistence,new S_,e.initialUser,this.serializer)}Cu(e){return new L0(I_.mi,this.serializer)}Du(e){return new A_}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}};Jd.provider={build:()=>new Jd};Q_=class extends Jd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qt(this.persistence.referenceDelegate instanceof P0,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new u_(r,e.asyncQueue,n)}Cu(e){let n=this.cacheSizeBytes!==void 0?Ei.withCacheSize(this.cacheSizeBytes):Ei.DEFAULT;return new L0(r=>P0.mi(r,n),this.serializer)}},zm=class{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pL(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vq.bind(null,this.syncEngine),await oq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new q_}()}createDatastore(e){let n=sb(e.databaseInfo.databaseId),r=function(i){return new P_(i)}(e.databaseInfo);return function(i,o,a,l){return new U_(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new H_(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>pL(this.syncEngine,n,0),function(){return M0.v()?new M0:new D_}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){let f=new W_(s,i,o,a,l,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){let r=Je(n);we(Yc,"RemoteStore shutting down."),r.Ea.add(5),await Km(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}};zm.provider={build:()=>new zm};j0=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Sa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}};Fl="FirestoreClient",X_=class{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Mr.UNAUTHENTICATED,this.clientId=Rm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{we(Fl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(we(Fl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new So;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=_E(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};bL=new Map;zP="firestore.googleapis.com",vL=!0,$0=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zP,this.ssl=vL}else this.host=e.host,this.ssl=e.ssl??vL;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=IP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Vz)throw new pe(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BP(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Zd=class{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new II;switch(r.type){case"firstParty":return new NI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=bL.get(n);r&&(we("ComponentProvider","Removing Datastore"),bL.delete(n),r.terminate())}(this),Promise.resolve()}};Ul=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ur=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if($m(n,t._jsonSchema))return new t(e,r||null,new Ve(Cn.fromString(n.referencePath)))}};Ur._jsonSchemaVersion="firestore/documentReference/1.0",Ur._jsonSchema={type:pr("string",Ur._jsonSchemaVersion),referencePath:pr("string")};Dl=class t extends Ul{constructor(e,n,r){super(e,n,gE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ur(this.firestore,null,new Ve(e))}withConverter(e){return new t(this.firestore,e,this._path)}};wL="AsyncQueue",K0=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new F0(this,"async_queue_retry"),this._c=()=>{let r=xI();r&&we(wL,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let n=xI();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let n=xI();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let n=new So;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!rh(e))throw e;we(wL,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Sa("INTERNAL UNHANDLED ERROR: ",xL(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);let s=B_.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&qe(47125,{Pc:xL(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){let n=this.tc.indexOf(e);this.tc.splice(n,1)}};Lo=class extends Zd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new K0,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new K0(e),this._firestoreClient=void 0,await e}}};Cl=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(is.fromBase64String(e))}catch(n){throw new pe(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(is.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($m(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Cl._jsonSchemaVersion="firestore/bytes/1.0",Cl._jsonSchema={type:pr("string",Cl._jsonSchemaVersion),bytes:pr("string")};eh=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};qm=class{constructor(e){this._methodName=e}};Rl=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if($m(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Rl._jsonSchemaVersion="firestore/geoPoint/1.0",Rl._jsonSchema={type:pr("string",Rl._jsonSchemaVersion),latitude:pr("number"),longitude:pr("number")};Ll=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($m(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new pe(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Ll._jsonSchemaVersion="firestore/vectorValue/1.0",Ll._jsonSchema={type:pr("string",Ll._jsonSchemaVersion),vectorValues:pr("object")};Nq=/^__.*__$/,Z_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ro(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wc(e,this.data,n,this.fieldTransforms)}},W0=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ro(e,this.data,this.fieldMask,n,this.fieldTransforms)}};eE=class t{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new t({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){let n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Q0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(qP(this.Ac)&&Nq.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}},tE=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sb(e)}Cc(e,n,r,s=!1){return new eE({Ac:e,methodName:n,Dc:r,path:oi.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};Y0=class t extends qm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};Cq=new RegExp("[~\\*/\\[\\]]");X0=class{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ur(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new rE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(CE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},rE=class extends X0{data(){return super.data()}};Gm=class{},J0=class extends Gm{};sE=class t extends J0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return YP(e._query,n),new Ul(e.firestore,e.converter,jI(e._query,n))}_parse(e){let n=cb(e.firestore);return function(i,o,a,l,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new pe(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){_L(f,d);let b=[];for(let I of f)b.push(IL(l,i,I));h={arrayValue:{values:b}}}else h=IL(l,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||_L(f,d),h=Dq(a,o,f,d==="in"||d==="not-in");return mr.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}},iE=class t extends Gm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Wi.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s,a=i.getFlattenedFilters();for(let l of a)YP(o,l),o=jI(o,l)}(e._query,n),new Ul(e.firestore,e.converter,jI(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}},oE=class t extends J0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(s,i,o){if(s.startAt!==null)throw new pe(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new pe(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jc(i,o)}(e._query,this._field,this._direction);return new Ul(e.firestore,e.converter,function(s,i){let o=s.explicitOrderBy.concat([i]);return new Ol(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}};aE=class{convertValue(e,n="none"){switch(Pl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ka(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Vl(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){let n=e.fields?.[qd].arrayValue?.values?.map(r=>Dn(r.doubleValue));return new Ll(n)}convertGeoPoint(e){return new Rl(Dn(e.latitude),Dn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=tb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Om(e));default:return null}}convertTimestamp(e){let n=Na(e);return new Qn(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Cn.fromString(e);qt(TP(r),9688,{name:e});let s=new E0(r.get(1),r.get(3)),i=new Ve(r.popFirst(5));return s.isEqual(n)||Sa(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}};Hc=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Bc=class t extends X0{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(CE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Bc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bc._jsonSchema={type:pr("string",Bc._jsonSchemaVersion),bundleSource:pr("string","DocumentSnapshot"),bundleName:pr("string"),bundle:pr("string")};Vd=class extends Bc{data(e={}){return super.data(e)}},zc=class t{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Hc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Vd(this._firestore,this._userDataWriter,r.key,r,new Hc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{let l=new Vd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Hc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{let l=new Vd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Hc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter),u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Rq(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};zc._jsonSchemaVersion="firestore/querySnapshot/1.0",zc._jsonSchema={type:pr("string",zc._jsonSchemaVersion),bundleSource:pr("string","QuerySnapshot"),bundleName:pr("string"),bundle:pr("string")};jm=class extends aE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cl(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ur(this.firestore,null,n)}};(function(e,n=!0){(function(s){th=s})(To),xo(new Rs("firestore",(r,{instanceIdentifier:s,options:i})=>{let o=r.getProvider("app").getImmediate(),a=new Lo(new EI(r.getProvider("auth-internal")),new kI(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new pe(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new E0(u.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ls(PR,OR,e),Ls(PR,OR,"esm2020")})()});var Xc=j(()=>{XP()});var Pq,Oq,LE=j(()=>{Cc();Cc();Pq="firebase",Oq="12.1.0";Ls(Pq,Oq,"app")});function PE(t){return"storage/"+t}function Vq(){let t="An unknown error occurred, please check the error payload for server response.";return new Po(Oo.UNKNOWN,t)}function Hq(){return new Po(Oo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Bq(){return new Po(Oo.CANCELED,"User canceled the upload/download.")}function zq(t){return new Po(Oo.INVALID_URL,"Invalid URL '"+t+"'.")}function qq(t){return new Po(Oo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function JP(t){return new Po(Oo.INVALID_ARGUMENT,t)}function sO(){return new Po(Oo.APP_DELETED,"The Firebase app was deleted.")}function Gq(t){return new Po(Oo.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jq(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...v){u||(u=!0,e.apply(null,v))}function f(v){s=setTimeout(()=>{s=null,t(p,l())},v)}function h(){i&&clearTimeout(i)}function p(v,...g){if(u){h();return}if(v){h(),d.call(null,v,...g);return}if(l()||o){h(),d.call(null,v,...g);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,f(_)}let b=!1;function I(v){b||(b=!0,h(),!u&&(s!==null?(v||(a=2),clearTimeout(s),f(0)):v||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,I(!0)},n),I}function $q(t){t(!1)}function Kq(t){return t!==void 0}function ZP(t,e,n,r){if(r<e)throw JP(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw JP(`Invalid value for '${t}'. Expected ${n} or less.`)}function Wq(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}function Yq(t,e){let n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}function Qq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Xq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Jq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Zq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function e8(t,e,n,r,s,i,o=!0,a=!1){let l=Wq(t.urlParams),u=t.url+l,d=Object.assign({},t.headers);return Jq(d,e),Qq(d,n),Xq(d,i),Zq(d,r),new ME(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}function t8(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function n8(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function eO(t,e){let n=e?.[Mq];return n==null?null:Ca.makeFromBucketSpec(n,t)}function r8(t,e,n,r={}){t.host=`${e}:${n}`;let s=bo(e);s&&(Td(`https://${t.host}/b`),Id("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:_y(i,t.app.options.projectId))}function hb(t=kd(),e){t=An(t);let r=Dc(t,iO).getImmediate({identifier:e}),s=Iy("storage");return s&&s8(r,...s),r}function s8(t,e,n,r={}){r8(t,e,n,r)}function i8(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new UE(n,r,s,e,To)}function o8(){xo(new Rs(iO,i8,"PUBLIC").setMultipleInstances(!0)),Ls(tO,nO,""),Ls(tO,nO,"esm2020")}var rO,Mq,Fq,Uq,Po,Oo,Ca,OE,db,ME,ih,UQ,FE,UE,tO,nO,iO,oO=j(()=>{Cc();_l();Nd();rO="firebasestorage.googleapis.com",Mq="storageBucket",Fq=2*60*1e3,Uq=10*60*1e3;Po=class t extends Is{constructor(e,n,r=0){super(PE(e),`Firebase Storage: ${n} (${PE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return PE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}};(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Oo||(Oo={}));Ca=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw qq(e)}static makeFromUrl(e,n){let r=null,s="([A-Za-z0-9.\\-_]+)";function i(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(A){A.path_=decodeURIComponent(A.path)}let d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${d}/b/${s}/o${h}`,"i"),b={bucket:1,path:3},I=n===rO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",g=new RegExp(`^https?://${I}/${s}/${v}`,"i"),_=[{regex:a,indices:l,postModify:i},{regex:p,indices:b,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let A=0;A<_.length;A++){let R=_[A],U=R.regex.exec(e);if(U){let S=U[R.indices.bucket],E=U[R.indices.path];E||(E=""),r=new t(S,E),R.postModify(r);break}}if(r==null)throw zq(e);return r}},OE=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(db||(db={}));ME=class{constructor(e,n,r,s,i,o,a,l,u,d,f,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,I)=>{this.resolve_=b,this.reject_=I,this.start_()})}start_(){let e=(r,s)=>{if(s){r(!1,new ih(!1,null,!0));return}let i=this.connectionFactory_();this.pendingConnection_=i;let o=a=>{let l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;let a=i.getErrorCode()===db.NO_ERROR,l=i.getStatus();if(!a||Yq(l,this.additionalRetryCodes_)&&this.retry){let d=i.getErrorCode()===db.ABORT;r(!1,new ih(!1,null,d));return}let u=this.successCodes_.indexOf(l)!==-1;r(!0,new ih(u,i))})},n=(r,s)=>{let i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());Kq(l)?i(l):i()}catch(l){o(l)}else if(a!==null){let l=Vq();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){let l=this.appDelete_?sO():Bq();o(l)}else{let l=Hq();o(l)}};this.canceled_?n(!1,new ih(!1,null,!0)):this.backoffId_=jq(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$q(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},ih=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};UQ=256*1024;FE=class t{constructor(e,n){this._service=e,n instanceof Ca?this._location=n:this._location=Ca.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Ca(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return n8(this._location.path)}get storage(){return this._service}get parent(){let e=t8(this._location.path);if(e===null)return null;let n=new Ca(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Gq(e)}};UE=class{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=rO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Fq,this._maxUploadRetryTime=Uq,this._requests=new Set,s!=null?this._bucket=Ca.makeFromBucketSpec(s,this._host):this._bucket=eO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ca.makeFromBucketSpec(this._url,e):this._bucket=eO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ZP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ZP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ns(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new FE(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new OE(sO());{let o=e8(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){let[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}},tO="@firebase/storage",nO="0.14.0";iO="storage";o8()});var VE=j(()=>{oO()});var Ps,ai,Os=j(()=>{"use strict";Ps=(r=>(r.TEXT="text",r.CHECKLIST="checklist",r.RATING="rating",r))(Ps||{}),ai={text:{name:"Text",icon:"Edit3Icon"},checklist:{name:"Checklist",icon:"CheckSquareIcon"},rating:{name:"Rating",icon:"StarIcon"}}});var KE={};io(KE,{initialFoci:()=>$E,initialLogTemplates:()=>u8,initialLogs:()=>c8});var $E,Hl,jE,l8,c8,u8,mb=j(()=>{"use strict";Os();$E=[{id:"general",name:"General",description:"For everyday thoughts, notes, and musings.",icon:"ListIcon",color:"gray-500",allowedLogTypes:["text","checklist","rating"]},{id:"kary",name:"Kary",description:"Log entries related to tasks and work progress.",icon:"CheckSquareIcon",color:"green-500",allowedLogTypes:["text","checklist","rating"]}],Hl=new Date,jE=new Date;jE.setDate(Hl.getDate()-1);l8=new Date;l8.setDate(Hl.getDate()-2);c8=[{id:"task-log-1",focusId:"kary",logType:"text",title:"Initial resume draft",description:"Began the process of tailoring my resume. This is a crucial step for the next phase of my career.",logDate:new Date(new Date(jE).setHours(14,0,0)),createdAt:new Date(new Date(jE).setHours(14,0,0)),taskId:"1"},{id:"task-log-2",focusId:"kary",logType:"checklist",title:"Resume Review Checklist",checklist:[{id:"tci-1",text:"Checked for typos",completed:!0},{id:"tci-2",text:"Added latest project",completed:!0},{id:"tci-3",text:"Sent to mentor for review",completed:!1}],logDate:new Date(new Date(Hl).setHours(10,30,0)),createdAt:new Date(new Date(Hl).setHours(10,30,0)),taskId:"1"},{id:"task-log-3",focusId:"kary",logType:"text",title:"Agent Roles Defined",description:"Completed the definitions for the Researcher, Analyst, and Writer agents.",logDate:new Date(new Date(Hl).setHours(16,0,0)),createdAt:new Date(new Date(Hl).setHours(16,0,0)),taskId:"4"},{id:"goal-log-1",focusId:"general",logType:"text",title:"Started Duolingo practice",description:"Completed the first 3 lessons in the A1 section. \xA1Hola, mundo!",logDate:new Date(new Date(Hl).setHours(18,0,0)),createdAt:new Date(new Date(Hl).setHours(18,0,0)),goalId:"goal-2"}],u8=[{id:"template-standup",name:"Daily Standup",icon:"SunriseIcon",focusId:"kary",logType:"checklist",title:"Standup - {{date}}",description:"My update for today.",checklist:[{text:"What did I do yesterday?",completed:!1},{text:"What will I do today?",completed:!1},{text:"Any blockers?",completed:!1}]},{id:"template-review",name:"Weekly Review",icon:"CalendarIcon",focusId:"general",logType:"text",title:"Weekly Review - {{date}}",description:`1. What went well this week?
2. What didn't go so well?
3. What will I focus on next week?`}]});var y8,WE,oh,Yt,SX,YE=j(()=>{"use strict";LE();Em();Xc();VE();y8={apiKey:"AIzaSyAtc3vYe6tV14w37NEJkaDfTR096fb7q1Y",authDomain:"jeevan-saathi-39bf5.firebaseapp.com",projectId:"jeevan-saathi-39bf5",storageBucket:"jeevan-saathi-39bf5.firebasestorage.app",messagingSenderId:"65030332753",appId:"1:65030332753:web:e4eb572e4a4c3ca772b370",measurementId:"G-274K2278C1"},WE=lm(y8),oh=_m(WE),Yt=lb(WE),SX=hb(WE)});var bO=j(()=>{"use strict"});var vO=j(()=>{"use strict"});var Mo,Fo,QE=j(()=>{"use strict";Mo=(s=>(s.BINARY="binary",s.COUNT="count",s.DURATION="duration",s.CHECKLIST="checklist",s))(Mo||{}),Fo=(o=>(o.DONE="done",o.PARTIAL="partial",o.NONE="none",o.COMPLETED="done",o.SKIPPED="none",o.FAILED="none",o))(Fo||{})});var wO=j(()=>{"use strict";bO();vO();QE()});var Ie,ut,Er,ki,os,Uo,Vo,Ho,Ai,Bo,Di,zo,qo,Go,Ci,Ri,Ra=j(()=>{"use strict";Xc();YE();wO();Ie=()=>oh.currentUser,ut=t=>{let e=Ie();if(!e)throw new Error("User not authenticated");return ab(Yt,"users",e.uid,t)},Er=t=>(t&&typeof t=="object"&&Object.keys(t).forEach(e=>{t[e]&&typeof t[e]=="object"&&t[e].toDate?t[e]=t[e].toDate():t[e]&&typeof t[e]=="object"&&(t[e]=Er(t[e]))}),t),ki={add:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");let n={...t,createdAt:new Date,userId:e.uid,parentId:t.parentId||null,completionDate:t.completionDate||null,dueDate:t.dueDate||null,reminder:t.reminder||!1,tags:t.tags||[],description:t.description||"",priority:t.priority||null,source:t.source||null};return(await On(ut("tasks"),n)).id},update:async(t,e)=>{let n=Ie();if(!n)throw new Error("User not authenticated");let r=Ge(Yt,"users",n.uid,"tasks",t);return Ln(r,e)},delete:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");let n=Ge(Yt,"users",e.uid,"tasks",t);return Pn(n)},getAll:async()=>{if(!Ie())throw new Error("User not authenticated");let e=ct(ut("tasks"),Mt("createdAt","desc"));return(await Rn(e)).docs.map(r=>Er({id:r.id,...r.data()}))},subscribe:t=>{if(!Ie())throw new Error("User not authenticated");let n=ct(ut("tasks"),Mt("createdAt","desc"));return Mn(n,r=>{let s=r.docs.map(i=>Er({id:i.id,...i.data()}));t(s)})}},os={add:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");let n={...t,createdAt:new Date,userId:e.uid,folderId:t.folderId||null};return(await On(ut("lists"),n)).id},update:async(t,e)=>{let n=Ie();if(!n)throw new Error("User not authenticated");let r=Ge(Yt,"users",n.uid,"lists",t);return Ln(r,e)},delete:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");let n=Ge(Yt,"users",e.uid,"lists",t);return Pn(n)},getAll:async()=>{if(!Ie())throw new Error("User not authenticated");let e=ct(ut("lists"),Mt("createdAt","desc"));return(await Rn(e)).docs.map(r=>Er({id:r.id,...r.data()}))},subscribe:t=>{if(!Ie())throw new Error("User not authenticated");let n=ct(ut("lists"),Mt("createdAt","desc"));return Mn(n,r=>{let s=r.docs.map(i=>Er({id:i.id,...i.data()}));t(s)})}},Uo={add:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");return(await On(ut("tags"),{...t,createdAt:new Date,userId:e.uid})).id},update:async(t,e)=>{let n=Ie();if(!n)throw new Error("User not authenticated");let r=Ge(Yt,"users",n.uid,"tags",t);return Ln(r,e)},delete:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");let n=Ge(Yt,"users",e.uid,"tags",t);return Pn(n)},getAll:async()=>{if(!Ie())throw new Error("User not authenticated");let e=ct(ut("tags"),Mt("createdAt","desc"));return(await Rn(e)).docs.map(r=>Er({id:r.id,...r.data()}))},subscribe:t=>{if(!Ie())throw new Error("User not authenticated");let n=ct(ut("tags"),Mt("createdAt","desc"));return Mn(n,r=>{let s=r.docs.map(i=>Er({id:i.id,...i.data()}));t(s)})}},Vo={add:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");return(await On(ut("listFolders"),{...t,userId:e.uid})).id},update:async(t,e)=>{let n=Ie();if(!n)throw new Error("User not authenticated");let r=Ge(Yt,"users",n.uid,"listFolders",t);return Ln(r,e)},delete:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");let n=Ge(Yt,"users",e.uid,"listFolders",t);return Pn(n)},getAll:async()=>{if(!Ie())throw new Error("User not authenticated");return(await Rn(ut("listFolders"))).docs.map(n=>{let r=n.data();return{id:n.id,name:r.name||"Unnamed Folder",...r}})},subscribe:t=>{if(!Ie())throw new Error("User not authenticated");let n=ct(ut("listFolders"));return Mn(n,r=>{let s=r.docs.map(i=>{let o=i.data();return{id:i.id,name:o.name||"Unnamed Folder",...o}});t(s)})}},Ho={add:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");return(await On(ut("tagFolders"),{...t,userId:e.uid})).id},update:async(t,e)=>{let n=Ie();if(!n)throw new Error("User not authenticated");let r=Ge(Yt,"users",n.uid,"tagFolders",t);return Ln(r,e)},delete:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");let n=Ge(Yt,"users",e.uid,"tagFolders",t);return Pn(n)},getAll:async()=>{if(!Ie())throw new Error("User not authenticated");return(await Rn(ut("tagFolders"))).docs.map(n=>{let r=n.data();return{id:n.id,name:r.name||"Unnamed Folder",...r}})},subscribe:t=>{if(!Ie())throw new Error("User not authenticated");let n=ct(ut("tagFolders"));return Mn(n,r=>{let s=r.docs.map(i=>{let o=i.data();return{id:i.id,name:o.name||"Unnamed Folder",...o}});t(s)})}},Ai={add:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");return(await On(ut("logs"),{...t,createdAt:new Date,userId:e.uid})).id},update:async(t,e)=>{let n=Ie();if(!n)throw new Error("User not authenticated");let r=Ge(Yt,"users",n.uid,"logs",t);return Ln(r,e)},delete:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");let n=Ge(Yt,"users",e.uid,"logs",t);return Pn(n)},getAll:async()=>{if(!Ie())throw new Error("User not authenticated");let e=ct(ut("logs"),Mt("logDate","desc"));return(await Rn(e)).docs.map(r=>Er({id:r.id,...r.data()}))},subscribe:t=>{if(!Ie())throw new Error("User not authenticated");let n=ct(ut("logs"),Mt("logDate","desc"));return Mn(n,r=>{let s=r.docs.map(i=>Er({id:i.id,...i.data()}));t(s)})}},Bo={add:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");let n={...t,userId:e.uid,checklist:t.checklist||null,rating:t.rating||null};return(await On(ut("logTemplates"),n)).id},update:async(t,e)=>{let n=Ie();if(!n)throw new Error("User not authenticated");let r=Ge(Yt,"users",n.uid,"logTemplates",t);return Ln(r,e)},delete:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");let n=Ge(Yt,"users",e.uid,"logTemplates",t);return Pn(n)},getAll:async()=>{if(!Ie())throw new Error("User not authenticated");return(await Rn(ut("logTemplates"))).docs.map(n=>({id:n.id,...n.data()}))},subscribe:t=>{if(!Ie())throw new Error("User not authenticated");let n=ct(ut("logTemplates"));return Mn(n,r=>{let s=r.docs.map(i=>({id:i.id,...i.data()}));t(s)})}},Di={add:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");return(await On(ut("foci"),{...t,userId:e.uid})).id},update:async(t,e)=>{let n=Ie();if(!n)throw new Error("User not authenticated");let r=Ge(Yt,"users",n.uid,"foci",t);return Ln(r,e)},delete:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");let n=Ge(Yt,"users",e.uid,"foci",t);return Pn(n)},getAll:async()=>{if(!Ie())throw new Error("User not authenticated");return(await Rn(ut("foci"))).docs.map(r=>({id:r.id,...r.data()}))},subscribe:t=>{if(!Ie())throw new Error("User not authenticated");let n=ct(ut("foci"));return Mn(n,r=>{let s=r.docs.map(i=>({id:i.id,...i.data()}));t(s)})}},zo={add:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");let n={...t,startDate:new Date,userId:e.uid,targetEndDate:t.targetEndDate||null};return(await On(ut("goals"),n)).id},update:async(t,e)=>{let n=Ie();if(!n)throw new Error("User not authenticated");let r=Ge(Yt,"users",n.uid,"goals",t);return Ln(r,e)},delete:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");let n=Ge(Yt,"users",e.uid,"goals",t);return Pn(n)},getAll:async()=>{if(!Ie())throw new Error("User not authenticated");let e=ct(ut("goals"),Mt("startDate","desc"));return(await Rn(e)).docs.map(r=>Er({id:r.id,...r.data()}))},subscribe:t=>{if(!Ie())throw new Error("User not authenticated");let n=ct(ut("goals"),Mt("startDate","desc"));return Mn(n,r=>{let s=r.docs.map(i=>Er({id:i.id,...i.data()}));t(s)})}},qo={add:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");let n={...t,userId:e.uid,description:t.description||"",targetEndDate:t.targetEndDate||null,focusAreaId:t.focusAreaId||null};return(await On(ut("milestones"),n)).id},update:async(t,e)=>{let n=Ie();if(!n)throw new Error("User not authenticated");let r=Ge(Yt,"users",n.uid,"milestones",t);return Ln(r,e)},delete:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");let n=Ge(Yt,"users",e.uid,"milestones",t);return Pn(n)},getAll:async()=>{if(!Ie())throw new Error("User not authenticated");let e=ct(ut("milestones"),Mt("startDate","desc"));return(await Rn(e)).docs.map(r=>Er({id:r.id,...r.data()}))},subscribe:t=>{if(!Ie())throw new Error("User not authenticated");let n=ct(ut("milestones"),Mt("startDate","desc"));return Mn(n,r=>{let s=r.docs.map(i=>Er({id:i.id,...i.data()}));t(s)})}},Go={add:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");return(await On(ut("quickWins"),{...t,createdAt:new Date,userId:e.uid})).id},update:async(t,e)=>{let n=Ie();if(!n)throw new Error("User not authenticated");let r=Ge(Yt,"users",n.uid,"quickWins",t);return Ln(r,e)},delete:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");let n=Ge(Yt,"users",e.uid,"quickWins",t);return Pn(n)},getAll:async()=>{if(!Ie())throw new Error("User not authenticated");let e=ct(ut("quickWins"),Mt("createdAt","desc"));return(await Rn(e)).docs.map(r=>Er({id:r.id,...r.data()}))},subscribe:t=>{if(!Ie())throw new Error("User not authenticated");let n=ct(ut("quickWins"),Mt("createdAt","desc"));return Mn(n,r=>{let s=r.docs.map(i=>Er({id:i.id,...i.data()}));t(s)})}},Ci={add:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");let n={...t,createdAt:new Date,userId:e.uid,dailyTarget:t.dailyTarget||null,dailyTargetComparison:t.dailyTargetComparison||null,totalTarget:t.totalTarget||null,totalTargetComparison:t.totalTargetComparison||null,checklist:t.checklist||[],milestoneId:t.milestoneId||null,goalId:t.goalId||null,focusAreaId:t.focusAreaId||null,endDate:t.endDate||null,reminders:t.reminders||[]};return(await On(ut("habits"),n)).id},update:async(t,e)=>{let n=Ie();if(!n)throw new Error("User not authenticated");let r=Ge(Yt,"users",n.uid,"habits",t),s={};for(let i in e){let o=e[i];o!==void 0&&(s[i]=o)}return Ln(r,s)},delete:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");let n=Ge(Yt,"users",e.uid,"habits",t);return Pn(n)},getAll:async()=>{if(!Ie())throw new Error("User not authenticated");let e=ct(ut("habits"),Mt("createdAt","desc"));return(await Rn(e)).docs.map(r=>Er({id:r.id,...r.data()}))},subscribe:t=>{if(!Ie())throw new Error("User not authenticated");let n=ct(ut("habits"),Mt("createdAt","desc"));return Mn(n,r=>{let s=r.docs.map(i=>Er({id:i.id,...i.data()}));t(s)})}},Ri={add:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");let n={...t,userId:e.uid,value:t.value||null,completedChecklistItems:t.completedChecklistItems||[],count:t.count||1,status:t.status||"done",notes:t.notes||null,createdAt:new Date,updatedAt:new Date};return(await On(ut("habitLogs"),n)).id},update:async(t,e)=>{let n=Ie();if(!n)throw new Error("User not authenticated");let r=Ge(Yt,"users",n.uid,"habitLogs",t),s={...e,updatedAt:new Date};return Ln(r,s)},delete:async t=>{let e=Ie();if(!e)throw new Error("User not authenticated");let n=Ge(Yt,"users",e.uid,"habitLogs",t);return Pn(n)},getAll:async()=>{if(!Ie())throw new Error("User not authenticated");let e=ct(ut("habitLogs"),Mt("date","desc"));return(await Rn(e)).docs.map(r=>Er({id:r.id,...r.data()}))},subscribe:t=>{if(!Ie())throw new Error("User not authenticated");let n=ct(ut("habitLogs"),Mt("date","desc"));return Mn(n,r=>{let s=r.docs.map(i=>Er({id:i.id,...i.data()}));t(s)})}}});var xO,TO,IO,XE=j(()=>{"use strict";Em();Xc();YE();Ra();xO=()=>c0(oh),TO=t=>l0(oh,t),IO=()=>oh.currentUser});var _O,EO,JE=j(()=>{_O=t=>{let e,n=new Set,r=(u,d)=>{let f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){let h=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(p=>p(e,h))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=e=t(r,s,a);return a},EO=t=>t?_O(t):_O});var FO=mi(it=>{"use strict";var eS=Symbol.for("react.transitional.element"),b8=Symbol.for("react.portal"),v8=Symbol.for("react.fragment"),w8=Symbol.for("react.strict_mode"),x8=Symbol.for("react.profiler"),T8=Symbol.for("react.consumer"),I8=Symbol.for("react.context"),_8=Symbol.for("react.forward_ref"),E8=Symbol.for("react.suspense"),S8=Symbol.for("react.memo"),CO=Symbol.for("react.lazy"),SO=Symbol.iterator;function N8(t){return t===null||typeof t!="object"?null:(t=SO&&t[SO]||t["@@iterator"],typeof t=="function"?t:null)}var RO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LO=Object.assign,PO={};function lh(t,e,n){this.props=t,this.context=e,this.refs=PO,this.updater=n||RO}lh.prototype.isReactComponent={};lh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};lh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function OO(){}OO.prototype=lh.prototype;function tS(t,e,n){this.props=t,this.context=e,this.refs=PO,this.updater=n||RO}var nS=tS.prototype=new OO;nS.constructor=tS;LO(nS,lh.prototype);nS.isPureReactComponent=!0;var NO=Array.isArray,Fn={H:null,A:null,T:null,S:null,V:null},MO=Object.prototype.hasOwnProperty;function rS(t,e,n,r,s,i){return n=i.ref,{$$typeof:eS,type:t,key:e,ref:n!==void 0?n:null,props:i}}function k8(t,e){return rS(t.type,e,void 0,void 0,void 0,t.props)}function sS(t){return typeof t=="object"&&t!==null&&t.$$typeof===eS}function A8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var kO=/\/+/g;function ZE(t,e){return typeof t=="object"&&t!==null&&t.key!=null?A8(""+t.key):e.toString(36)}function AO(){}function D8(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(AO,AO):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function ah(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case eS:case b8:o=!0;break;case CO:return o=t._init,ah(o(t._payload),e,n,r,s)}}if(o)return s=s(t),o=r===""?"."+ZE(t,0):r,NO(s)?(n="",o!=null&&(n=o.replace(kO,"$&/")+"/"),ah(s,e,n,"",function(u){return u})):s!=null&&(sS(s)&&(s=k8(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(kO,"$&/")+"/")+o)),e.push(s)),1;o=0;var a=r===""?".":r+":";if(NO(t))for(var l=0;l<t.length;l++)r=t[l],i=a+ZE(r,l),o+=ah(r,e,n,i,s);else if(l=N8(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,i=a+ZE(r,l++),o+=ah(r,e,n,i,s);else if(i==="object"){if(typeof t.then=="function")return ah(D8(t),e,n,r,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return o}function yb(t,e,n){if(t==null)return t;var r=[],s=0;return ah(t,r,"","",function(i){return e.call(n,i,s++)}),r}function C8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var DO=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function R8(){}it.Children={map:yb,forEach:function(t,e,n){yb(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yb(t,function(){e++}),e},toArray:function(t){return yb(t,function(e){return e})||[]},only:function(t){if(!sS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};it.Component=lh;it.Fragment=v8;it.Profiler=x8;it.PureComponent=tS;it.StrictMode=w8;it.Suspense=E8;it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Fn;it.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Fn.H.useMemoCache(t)}};it.cache=function(t){return function(){return t.apply(null,arguments)}};it.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=LO({},t.props),s=t.key,i=void 0;if(e!=null)for(o in e.ref!==void 0&&(i=void 0),e.key!==void 0&&(s=""+e.key),e)!MO.call(e,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&e.ref===void 0||(r[o]=e[o]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];r.children=a}return rS(t.type,s,void 0,void 0,i,r)};it.createContext=function(t){return t={$$typeof:I8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:T8,_context:t},t};it.createElement=function(t,e,n){var r,s={},i=null;if(e!=null)for(r in e.key!==void 0&&(i=""+e.key),e)MO.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];s.children=a}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return rS(t,i,void 0,void 0,null,s)};it.createRef=function(){return{current:null}};it.forwardRef=function(t){return{$$typeof:_8,render:t}};it.isValidElement=sS;it.lazy=function(t){return{$$typeof:CO,_payload:{_status:-1,_result:t},_init:C8}};it.memo=function(t,e){return{$$typeof:S8,type:t,compare:e===void 0?null:e}};it.startTransition=function(t){var e=Fn.T,n={};Fn.T=n;try{var r=t(),s=Fn.S;s!==null&&s(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(R8,DO)}catch(i){DO(i)}finally{Fn.T=e}};it.unstable_useCacheRefresh=function(){return Fn.H.useCacheRefresh()};it.use=function(t){return Fn.H.use(t)};it.useActionState=function(t,e,n){return Fn.H.useActionState(t,e,n)};it.useCallback=function(t,e){return Fn.H.useCallback(t,e)};it.useContext=function(t){return Fn.H.useContext(t)};it.useDebugValue=function(){};it.useDeferredValue=function(t,e){return Fn.H.useDeferredValue(t,e)};it.useEffect=function(t,e,n){var r=Fn.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};it.useId=function(){return Fn.H.useId()};it.useImperativeHandle=function(t,e,n){return Fn.H.useImperativeHandle(t,e,n)};it.useInsertionEffect=function(t,e){return Fn.H.useInsertionEffect(t,e)};it.useLayoutEffect=function(t,e){return Fn.H.useLayoutEffect(t,e)};it.useMemo=function(t,e){return Fn.H.useMemo(t,e)};it.useOptimistic=function(t,e){return Fn.H.useOptimistic(t,e)};it.useReducer=function(t,e,n){return Fn.H.useReducer(t,e,n)};it.useRef=function(t){return Fn.H.useRef(t)};it.useState=function(t){return Fn.H.useState(t)};it.useSyncExternalStore=function(t,e,n){return Fn.H.useSyncExternalStore(t,e,n)};it.useTransition=function(){return Fn.H.useTransition()};it.version="19.1.0"});var bb=mi((tJ,UO)=>{"use strict";UO.exports=FO()});function P8(t,e=L8){let n=Qm.default.useSyncExternalStore(t.subscribe,Qm.default.useCallback(()=>e(t.getState()),[t,e]),Qm.default.useCallback(()=>e(t.getInitialState()),[t,e]));return Qm.default.useDebugValue(n),n}var Qm,L8,VO,Fs,HO=j(()=>{Qm=L(bb(),1);JE();L8=t=>t;VO=t=>{let e=EO(t),n=r=>P8(e,r);return Object.assign(n,e),n},Fs=t=>t?VO(t):VO});var Bl=j(()=>{JE();HO()});var Xm,vb,O8,M8,F8,U8,Us,iS,zl=j(()=>{Xm=new Map,vb=t=>{let e=Xm.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([n,r])=>[n,r.getState()])):{}},O8=(t,e,n)=>{if(t===void 0)return{type:"untracked",connection:e.connect(n)};let r=Xm.get(n.name);if(r)return{type:"tracked",store:t,...r};let s={connection:e.connect(n),stores:{}};return Xm.set(n.name,s),{type:"tracked",store:t,...s}},M8=(t,e)=>{if(e===void 0)return;let n=Xm.get(t);n&&(delete n.stores[e],Object.keys(n.stores).length===0&&Xm.delete(t))},F8=t=>{var e,n;if(!t)return;let r=t.split(`
`),s=r.findIndex(o=>o.includes("api.setState"));if(s<0)return;let i=((e=r[s+1])==null?void 0:e.trim())||"";return(n=/.+ (.+) .+/.exec(i))==null?void 0:n[1]},U8=(t,e={})=>(n,r,s)=>{let{enabled:i,anonymousActionType:o,store:a,...l}=e,u;try{u=(i??(import.meta.env?import.meta.env.MODE:void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return t(n,r,s);let{connection:d,...f}=O8(a,u,l),h=!0;s.setState=(I,v,g)=>{let y=n(I,v);if(!h)return y;let _=g===void 0?{type:o||F8(new Error().stack)||"anonymous"}:typeof g=="string"?{type:g}:g;return a===void 0?(d?.send(_,r()),y):(d?.send({..._,type:`${a}/${_.type}`},{...vb(l.name),[a]:s.getState()}),y)},s.devtools={cleanup:()=>{d&&typeof d.unsubscribe=="function"&&d.unsubscribe(),M8(l.name,a)}};let p=(...I)=>{let v=h;h=!1,n(...I),h=v},b=t(s.setState,r,s);if(f.type==="untracked"?d?.init(b):(f.stores[f.store]=s,d?.init(Object.fromEntries(Object.entries(f.stores).map(([I,v])=>[I,I===f.store?b:v.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){let I=!1,v=s.dispatch;s.dispatch=(...g)=>{(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&g[0].type==="__setState"&&!I&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),I=!0),v(...g)}}return d.subscribe(I=>{var v;switch(I.type){case"ACTION":if(typeof I.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return iS(I.payload,g=>{if(g.type==="__setState"){if(a===void 0){p(g.state);return}Object.keys(g.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let y=g.state[a];if(y==null)return;JSON.stringify(s.getState())!==JSON.stringify(y)&&p(y);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(g)});case"DISPATCH":switch(I.payload.type){case"RESET":return p(b),a===void 0?d?.init(s.getState()):d?.init(vb(l.name));case"COMMIT":if(a===void 0){d?.init(s.getState());return}return d?.init(vb(l.name));case"ROLLBACK":return iS(I.state,g=>{if(a===void 0){p(g),d?.init(s.getState());return}p(g[a]),d?.init(vb(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return iS(I.state,g=>{if(a===void 0){p(g);return}JSON.stringify(s.getState())!==JSON.stringify(g[a])&&p(g[a])});case"IMPORT_STATE":{let{nextLiftedState:g}=I.payload,y=(v=g.computedStates.slice(-1)[0])==null?void 0:v.state;if(!y)return;p(a===void 0?y:y[a]),d?.send(null,g);return}case"PAUSE_RECORDING":return h=!h}return}}),b},Us=U8,iS=(t,e)=>{let n;try{n=JSON.parse(t)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&e(n)}});var BO={};io(BO,{useKaryStore:()=>Jm});var Jm,wb=j(()=>{"use strict";Bl();zl();Ra();Jm=Fs()(Us((t,e)=>({tasks:[],lists:[],tags:[],listFolders:[],tagFolders:[],loading:!1,error:null,searchQuery:"",filterOption:"all",sortOption:"created",sortDirection:"desc",fetchKaryData:async()=>{t({loading:!0,error:null});try{let[n,r,s,i,o]=await Promise.all([ki.getAll(),os.getAll(),Uo.getAll(),Vo.getAll(),Ho.getAll()]);t({tasks:n,lists:r,tags:s,listFolders:i,tagFolders:o,loading:!1})}catch(n){t({error:n.message,loading:!1})}},addTask:async n=>{let r={...n,id:`temp-${Date.now()}`,createdAt:new Date},s=e().tasks;t({tasks:[...s,r]});try{let i=await ki.add(n);t(o=>({tasks:o.tasks.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,tasks:s})}},updateTask:async(n,r)=>{let s=e().tasks,i=s.map(o=>o.id===n?{...o,...r}:o);t({tasks:i});try{await ki.update(n,r)}catch(o){t({error:o.message,tasks:s})}},deleteTask:async n=>{let r=e().tasks,s=r.filter(i=>i.id!==n);t({tasks:s});try{await ki.delete(n)}catch(i){t({error:i.message,tasks:r})}},addList:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().lists;if(s.find(a=>a.name.toLowerCase()===n.name.toLowerCase())){t({error:`A list with the name "${n.name}" already exists`});return}let o=[...s,r];n.isDefault&&(o=o.map(a=>({...a,isDefault:a.id===r.id}))),t({lists:o});try{let a=await os.add(n);t(l=>({lists:l.lists.map(u=>u.id===r.id?{...u,id:a}:u)}))}catch(a){t({error:a.message,lists:s})}},updateList:async(n,r)=>{let s=e().lists,i=s.map(o=>o.id===n?{...o,...r}:o);r.isDefault&&(i=i.map(o=>({...o,isDefault:o.id===n}))),t({lists:i});try{await os.update(n,r)}catch(o){t({error:o.message,lists:s})}},deleteList:async n=>{let r=e().lists,s=r.filter(i=>i.id!==n);t({lists:s});try{await os.delete(n)}catch(i){t({error:i.message,lists:r})}},addTag:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().tags;t({tags:[...s,r]});try{let i=await Uo.add(n);t(o=>({tags:o.tags.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,tags:s})}},updateTag:async(n,r)=>{let s=e().tags,i=s.map(o=>o.id===n?{...o,...r}:o);t({tags:i});try{await Uo.update(n,r)}catch(o){t({error:o.message,tags:s})}},deleteTag:async n=>{let r=e().tags,s=r.filter(i=>i.id!==n);t({tags:s});try{await Uo.delete(n)}catch(i){t({error:i.message,tags:r})}},addListFolder:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().listFolders;t({listFolders:[...s,r]});try{let i=await Vo.add(n);t(o=>({listFolders:o.listFolders.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,listFolders:s})}},updateListFolder:async(n,r)=>{let s=e().listFolders,i=s.map(o=>o.id===n?{...o,...r}:o);t({listFolders:i});try{await Vo.update(n,r)}catch(o){t({error:o.message,listFolders:s})}},deleteListFolder:async n=>{let r=e().listFolders,s=r.filter(i=>i.id!==n);t({listFolders:s});try{await Vo.delete(n)}catch(i){t({error:i.message,listFolders:r})}},addTagFolder:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().tagFolders;t({tagFolders:[...s,r]});try{let i=await Ho.add(n);t(o=>({tagFolders:o.tagFolders.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,tagFolders:s})}},updateTagFolder:async(n,r)=>{let s=e().tagFolders,i=s.map(o=>o.id===n?{...o,...r}:o);t({tagFolders:i});try{await Ho.update(n,r)}catch(o){t({error:o.message,tagFolders:s})}},deleteTagFolder:async n=>{let r=e().tagFolders,s=r.filter(i=>i.id!==n);t({tagFolders:s});try{await Ho.delete(n)}catch(i){t({error:i.message,tagFolders:r})}},getDefaultList:()=>e().lists.find(r=>r.isDefault)||null,setDefaultList:async n=>{let r=e().lists,s=r.map(i=>({...i,isDefault:i.id===n}));t({lists:s});try{let i=r.map(o=>os.update(o.id,{isDefault:o.id===n}));await Promise.all(i)}catch(i){t({error:i.message,lists:r})}},cleanupDuplicateInboxes:async()=>{let n=e().lists,r=n.filter(s=>s.id==="inbox");if(r.length>1){let[s,...i]=r;try{await Promise.all(i.map(a=>os.delete(a.id)));let o=n.filter(a=>a.id!=="inbox"||a.id===s.id);t({lists:o})}catch(o){t({error:o.message})}}},cleanupDuplicateLists:async()=>{let n=e().lists,r=new Map;n.forEach(o=>{let a=o.name.toLowerCase();r.has(a)||r.set(a,[]),r.get(a).push(o)});let s=[],i=[];for(let[o,a]of r)if(a.length>1){let[l,...u]=a;i.push(l),s.push(...u)}else i.push(a[0]);if(s.length>0)try{await Promise.all(s.map(o=>os.delete(o.id))),t({lists:i}),console.log(`Cleaned up ${s.length} duplicate lists`)}catch(o){t({error:o.message})}},setSearchQuery:n=>t({searchQuery:n}),setFilterOption:n=>t({filterOption:n}),setSortOption:n=>t({sortOption:n}),setSortDirection:n=>t({sortDirection:n}),getFilteredAndSortedTasks:(n,r,s,i,o)=>{let a=e(),l=r??a.searchQuery,u=s??a.filterOption,d=i??a.sortOption,f=o??a.sortDirection,h=n;if(l.trim()){let b=l.toLowerCase();h=n.filter(I=>I.title.toLowerCase().includes(b)||I.description?.toLowerCase().includes(b))}switch(u){case"completed":h=h.filter(v=>v.completed);break;case"uncompleted":h=h.filter(v=>!v.completed);break;case"overdue":h=h.filter(v=>v.dueDate&&new Date(v.dueDate).setHours(0,0,0,0)<new Date().setHours(0,0,0,0)&&!v.completed);break;case"dueToday":h=h.filter(v=>v.dueDate&&new Date(v.dueDate).toDateString()===new Date().toDateString());break;case"dueThisWeek":let b=new Date,I=new Date(b);I.setDate(b.getDate()+7),h=h.filter(v=>v.dueDate&&new Date(v.dueDate)>=b&&new Date(v.dueDate)<=I);break;default:break}return[...h].sort((b,I)=>{let v=0;switch(d){case"created":v=new Date(b.createdAt).getTime()-new Date(I.createdAt).getTime();break;case"dueDate":!b.dueDate&&!I.dueDate?v=0:b.dueDate?I.dueDate?v=new Date(b.dueDate).getTime()-new Date(I.dueDate).getTime():v=-1:v=1;break;case"priority":let g=b.priority||0;v=(I.priority||0)-g;break;case"title":v=b.title.localeCompare(I.title);break}return f==="asc"?v:-v})}}),{name:"kary-store"}))});var zO={};io(zO,{useDainandiniStore:()=>Zm});var Zm,xb=j(()=>{"use strict";Bl();zl();Ra();Zm=Fs()(Us((t,e)=>({logs:[],logTemplates:[],foci:[],loading:!1,error:null,fetchDainandiniData:async()=>{t({loading:!0,error:null});try{let[n,r,s]=await Promise.all([Ai.getAll(),Bo.getAll(),Di.getAll()]);t({logs:n,logTemplates:r,foci:s,loading:!1})}catch(n){t({error:n.message,loading:!1})}},addLog:async n=>{let r={...n,id:`temp-${Date.now()}`,createdAt:new Date},s=e().logs;t({logs:[...s,r]});try{let i=await Ai.add(n);t(o=>({logs:o.logs.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,logs:s})}},updateLog:async(n,r)=>{let s=e().logs,i=s.map(o=>o.id===n?{...o,...r}:o);t({logs:i});try{await Ai.update(n,r)}catch(o){t({error:o.message,logs:s})}},deleteLog:async n=>{let r=e().logs,s=r.filter(i=>i.id!==n);t({logs:s});try{await Ai.delete(n)}catch(i){t({error:i.message,logs:r})}},addLogTemplate:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().logTemplates;t({logTemplates:[...s,r]});try{let i=await Bo.add(n);t(o=>({logTemplates:o.logTemplates.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,logTemplates:s})}},updateLogTemplate:async(n,r)=>{let s=e().logTemplates,i=s.map(o=>o.id===n?{...o,...r}:o);t({logTemplates:i});try{await Bo.update(n,r)}catch(o){t({error:o.message,logTemplates:s})}},deleteLogTemplate:async n=>{let r=e().logTemplates,s=r.filter(i=>i.id!==n);t({logTemplates:s});try{await Bo.delete(n)}catch(i){t({error:i.message,logTemplates:r})}},addFocus:async n=>{let r=e().foci;if(r.find(o=>o.name===n.name)){console.warn(`Focus with name "${n.name}" already exists`);return}let i={...n,id:`temp-${Date.now()}`};t({foci:[...r,i]});try{let o=await Di.add(n);t(a=>({foci:a.foci.map(l=>l.id===i.id?{...l,id:o}:l)}))}catch(o){t({error:o.message,foci:r})}},updateFocus:async(n,r)=>{let s=e().foci,i=s.map(o=>o.id===n?{...o,...r}:o);t({foci:i});try{await Di.update(n,r)}catch(o){t({error:o.message,foci:s})}},deleteFocus:async n=>{let r=e().foci,s=r.filter(i=>i.id!==n);t({foci:s});try{await Di.delete(n)}catch(i){t({error:i.message,foci:r})}}}),{name:"dainandini-store"}))});var QO={};io(QO,{useAbhyasaStore:()=>lS});var lS,cS=j(()=>{"use strict";Bl();zl();Ra();lS=Fs()(Us((t,e)=>({habits:[],habitLogs:[],goals:[],milestones:[],quickWins:[],loading:!1,error:null,fetchAbhyasaData:async()=>{t({loading:!0,error:null});try{let[n,r,s,i,o]=await Promise.all([Ci.getAll(),Ri.getAll(),zo.getAll(),qo.getAll(),Go.getAll()]);t({habits:n,habitLogs:r,goals:s,milestones:i,quickWins:o,loading:!1})}catch(n){t({error:n.message,loading:!1})}},addHabit:async n=>{let r={...n,id:`temp-${Date.now()}`,createdAt:new Date},s=e().habits;t({habits:[...s,r]});try{let i=await Ci.add(n);t(o=>({habits:o.habits.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,habits:s})}},updateHabit:async(n,r)=>{let s=e().habits,i=s.map(o=>o.id===n?{...o,...r}:o);t({habits:i});try{await Ci.update(n,r)}catch(o){t({error:o.message,habits:s})}},deleteHabit:async n=>{let r=e().habits,s=r.filter(i=>i.id!==n);t({habits:s});try{await Ci.delete(n)}catch(i){t({error:i.message,habits:r})}},addHabitLog:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().habitLogs;t({habitLogs:[...s,r]});try{let i=await Ri.add(n);t(o=>({habitLogs:o.habitLogs.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,habitLogs:s})}},updateHabitLog:async(n,r)=>{let s=e().habitLogs,i=s.map(o=>o.id===n?{...o,...r}:o);t({habitLogs:i});try{await Ri.update(n,r)}catch(o){t({error:o.message,habitLogs:s})}},deleteHabitLog:async n=>{let r=e().habitLogs,s=r.filter(i=>i.id!==n);t({habitLogs:s});try{await Ri.delete(n)}catch(i){t({error:i.message,habitLogs:r})}},addGoal:async n=>{let r={...n,id:`temp-${Date.now()}`,startDate:new Date},s=e().goals;t({goals:[...s,r]});try{let i=await zo.add(n);t(o=>({goals:o.goals.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,goals:s})}},updateGoal:async(n,r)=>{let s=e().goals,i=s.map(o=>o.id===n?{...o,...r}:o);t({goals:i});try{await zo.update(n,r)}catch(o){t({error:o.message,goals:s})}},deleteGoal:async n=>{let r=e().goals,s=r.filter(i=>i.id!==n);t({goals:s});try{await zo.delete(n)}catch(i){t({error:i.message,goals:r})}},addMilestone:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().milestones;t({milestones:[...s,r]});try{let i=await qo.add(n);t(o=>({milestones:o.milestones.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,milestones:s})}},updateMilestone:async(n,r)=>{let s=e().milestones,i=s.map(o=>o.id===n?{...o,...r}:o);t({milestones:i});try{await qo.update(n,r)}catch(o){t({error:o.message,milestones:s})}},deleteMilestone:async n=>{let r=e().milestones,s=r.filter(i=>i.id!==n);t({milestones:s});try{await qo.delete(n)}catch(i){t({error:i.message,milestones:r})}},addQuickWin:async n=>{let r={...n,id:`temp-${Date.now()}`,createdAt:new Date},s=e().quickWins;t({quickWins:[...s,r]});try{let i=await Go.add(n);t(o=>({quickWins:o.quickWins.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,quickWins:s})}},updateQuickWin:async(n,r)=>{let s=e().quickWins,i=s.map(o=>o.id===n?{...o,...r}:o);t({quickWins:i});try{await Go.update(n,r)}catch(o){t({error:o.message,quickWins:s})}},deleteQuickWin:async n=>{let r=e().quickWins,s=r.filter(i=>i.id!==n);t({quickWins:s});try{await Go.delete(n)}catch(i){t({error:i.message,quickWins:r})}}}),{name:"abhyasa-store"}))});function N7(){let[t,e]=(0,Eb.useState)({width:void 0,height:void 0});return(0,Eb.useEffect)(()=>{function n(){e({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),t}var Eb,jl,rp=j(()=>{"use strict";Eb=L(me(),1);jl=N7});var Yi,ip=j(()=>{"use strict";Bl();zl();Ra();XE();Yi=Fs()(Us((t,e)=>({tasks:[],lists:[],tags:[],listFolders:[],tagFolders:[],loading:!1,error:null,searchQuery:"",filterOption:"all",sortOption:"created",sortDirection:"desc",fetchKaryData:async()=>{t({loading:!0,error:null});try{let n=IO();if(!n||!n.uid){console.warn("Cannot fetch kary data: user not authenticated"),t({loading:!1,error:"User not authenticated"});return}let[r,s,i,o,a]=await Promise.all([ki.getAll(),os.getAll(),Uo.getAll(),Vo.getAll(),Ho.getAll()]);t({tasks:r,lists:s,tags:i,listFolders:o,tagFolders:a,loading:!1})}catch(n){console.error("Error fetching kary data:",n);let r=n instanceof Error?n.message:"Unknown error occurred";t({error:r,loading:!1})}},addTask:async n=>{let r={...n,id:`temp-${Date.now()}`,createdAt:new Date},s=e().tasks;t({tasks:[...s,r]});try{let i=await ki.add(n);t(o=>({tasks:o.tasks.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,tasks:s})}},updateTask:async(n,r)=>{let s=e().tasks,i=s.map(o=>o.id===n?{...o,...r}:o);t({tasks:i});try{await ki.update(n,r)}catch(o){t({error:o.message,tasks:s})}},deleteTask:async n=>{let r=e().tasks,s=r.filter(i=>i.id!==n);t({tasks:s});try{await ki.delete(n)}catch(i){t({error:i.message,tasks:r})}},addList:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().lists;if(s.find(a=>a.name.toLowerCase()===n.name.toLowerCase())){t({error:`A list with the name "${n.name}" already exists`});return}let o=[...s,r];n.isDefault&&(o=o.map(a=>({...a,isDefault:a.id===r.id}))),t({lists:o});try{let a=await os.add(n);t(l=>({lists:l.lists.map(u=>u.id===r.id?{...u,id:a}:u)}))}catch(a){t({error:a.message,lists:s})}},updateList:async(n,r)=>{let s=e().lists,i=s.map(o=>o.id===n?{...o,...r}:o);r.isDefault&&(i=i.map(o=>({...o,isDefault:o.id===n}))),t({lists:i});try{await os.update(n,r)}catch(o){t({error:o.message,lists:s})}},deleteList:async n=>{let r=e().lists,s=r.filter(i=>i.id!==n);t({lists:s});try{await os.delete(n)}catch(i){t({error:i.message,lists:r})}},addTag:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().tags;t({tags:[...s,r]});try{let i=await Uo.add(n);t(o=>({tags:o.tags.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,tags:s})}},updateTag:async(n,r)=>{let s=e().tags,i=s.map(o=>o.id===n?{...o,...r}:o);t({tags:i});try{await Uo.update(n,r)}catch(o){t({error:o.message,tags:s})}},deleteTag:async n=>{let r=e().tags,s=r.filter(i=>i.id!==n);t({tags:s});try{await Uo.delete(n)}catch(i){t({error:i.message,tags:r})}},addListFolder:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().listFolders;t({listFolders:[...s,r]});try{let i=await Vo.add(n);t(o=>({listFolders:o.listFolders.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,listFolders:s})}},updateListFolder:async(n,r)=>{let s=e().listFolders,i=s.map(o=>o.id===n?{...o,...r}:o);t({listFolders:i});try{await Vo.update(n,r)}catch(o){t({error:o.message,listFolders:s})}},deleteListFolder:async n=>{let r=e().listFolders,s=r.filter(i=>i.id!==n);t({listFolders:s});try{await Vo.delete(n)}catch(i){t({error:i.message,listFolders:r})}},addTagFolder:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().tagFolders;t({tagFolders:[...s,r]});try{let i=await Ho.add(n);t(o=>({tagFolders:o.tagFolders.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,tagFolders:s})}},updateTagFolder:async(n,r)=>{let s=e().tagFolders,i=s.map(o=>o.id===n?{...o,...r}:o);t({tagFolders:i});try{await Ho.update(n,r)}catch(o){t({error:o.message,tagFolders:s})}},deleteTagFolder:async n=>{let r=e().tagFolders,s=r.filter(i=>i.id!==n);t({tagFolders:s});try{await Ho.delete(n)}catch(i){t({error:i.message,tagFolders:r})}},getDefaultList:()=>e().lists.find(r=>r.isDefault)||null,setDefaultList:async n=>{let r=e().lists,s=r.map(i=>({...i,isDefault:i.id===n}));t({lists:s});try{let i=r.map(o=>os.update(o.id,{isDefault:o.id===n}));await Promise.all(i)}catch(i){t({error:i.message,lists:r})}},cleanupDuplicateInboxes:async()=>{let n=e().lists,r=n.filter(s=>s.id==="inbox");if(r.length>1){let[s,...i]=r;try{await Promise.all(i.map(a=>os.delete(a.id)));let o=n.filter(a=>a.id!=="inbox"||a.id===s.id);t({lists:o})}catch(o){t({error:o.message})}}},cleanupDuplicateLists:async()=>{let n=e().lists,r=new Map;n.forEach(o=>{let a=o.name.toLowerCase();r.has(a)||r.set(a,[]),r.get(a).push(o)});let s=[],i=[];for(let[o,a]of r)if(a.length>1){let[l,...u]=a;i.push(l),s.push(...u)}else i.push(a[0]);if(s.length>0)try{await Promise.all(s.map(o=>os.delete(o.id))),t({lists:i}),console.log(`Cleaned up ${s.length} duplicate lists`)}catch(o){t({error:o.message})}},setSearchQuery:n=>t({searchQuery:n}),setFilterOption:n=>t({filterOption:n}),setSortOption:n=>t({sortOption:n}),setSortDirection:n=>t({sortDirection:n}),getFilteredAndSortedTasks:(n,r,s,i,o)=>{let a=e(),l=r??a.searchQuery,u=s??a.filterOption,d=i??a.sortOption,f=o??a.sortDirection,h=n;if(l.trim()){let b=l.toLowerCase();h=n.filter(I=>I.title.toLowerCase().includes(b)||I.description?.toLowerCase().includes(b))}switch(u){case"completed":h=h.filter(v=>v.completed);break;case"uncompleted":h=h.filter(v=>!v.completed);break;case"overdue":h=h.filter(v=>v.dueDate&&new Date(v.dueDate).setHours(0,0,0,0)<new Date().setHours(0,0,0,0)&&!v.completed);break;case"dueToday":h=h.filter(v=>v.dueDate&&new Date(v.dueDate).toDateString()===new Date().toDateString());break;case"dueThisWeek":let b=new Date,I=new Date(b);I.setDate(b.getDate()+7),h=h.filter(v=>v.dueDate&&new Date(v.dueDate)>=b&&new Date(v.dueDate)<=I);break;default:break}return[...h].sort((b,I)=>{let v=0;switch(d){case"created":v=new Date(b.createdAt).getTime()-new Date(I.createdAt).getTime();break;case"dueDate":!b.dueDate&&!I.dueDate?v=0:b.dueDate?I.dueDate?v=new Date(b.dueDate).getTime()-new Date(I.dueDate).getTime():v=-1:v=1;break;case"priority":let g=b.priority||0;v=(I.priority||0)-g;break;case"title":v=b.title.localeCompare(I.title);break}return f==="asc"?v:-v})}}),{name:"kary-store"}))});var eM,Qi,dh=j(()=>{"use strict";Bl();zl();Ra();eM=t=>({target:"TargetIcon",trophy:"TrophyIcon",star:"StarIcon",flag:"FlagIcon",FitnessIcon:"ActivityIcon",BookIcon:"BookOpenIcon",MindIcon:"ActivityIcon",WaterIcon:"ActivityIcon",PlanIcon:"FileTextIcon",HeartIcon:"HeartIcon",Edit3Icon:"Edit3Icon",CheckSquareIcon:"CheckSquareIcon",StarIcon:"StarIcon",leaf:"ActivityIcon",book:"BookOpenIcon",calendar:"CalendarIcon",list:"ListIcon",tag:"TagIcon",plus:"PlusIcon",home:"HomeIcon",inbox:"InboxIcon",clock:"ClockIcon",today:"TodayIcon",tomorrow:"TomorrowIcon"})[t]||"CircleIcon",Qi=Fs()(Us((t,e)=>({habits:[],habitLogs:[],goals:[],milestones:[],quickWins:[],loading:!1,error:null,fetchAbhyasaData:async()=>{t({loading:!0,error:null});try{let[n,r,s,i,o]=await Promise.all([Ci.getAll(),Ri.getAll(),zo.getAll(),qo.getAll(),Go.getAll()]),a=n.map(u=>({...u,icon:eM(u.icon)})),l=s.map(u=>({...u,icon:eM(u.icon)}));t({habits:a,habitLogs:r,goals:l,milestones:i,quickWins:o,loading:!1})}catch(n){t({error:n.message,loading:!1})}},addHabit:async n=>{let r={...n,id:`temp-${Date.now()}`,createdAt:new Date},s=e().habits;t({habits:[...s,r]});try{let i=await Ci.add(n);t(o=>({habits:o.habits.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,habits:s})}},updateHabit:async(n,r)=>{let s=e().habits,i=s.map(o=>o.id===n?{...o,...r}:o);t({habits:i});try{await Ci.update(n,r)}catch(o){t({error:o.message,habits:s})}},deleteHabit:async n=>{let r=e().habits,s=r.filter(i=>i.id!==n);t({habits:s});try{await Ci.delete(n)}catch(i){t({error:i.message,habits:r})}},addHabitLog:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().habitLogs;t({habitLogs:[...s,r]});try{let i=await Ri.add(n);t(o=>({habitLogs:o.habitLogs.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,habitLogs:s})}},updateHabitLog:async(n,r)=>{let s=e().habitLogs,i=s.map(o=>o.id===n?{...o,...r}:o);t({habitLogs:i});try{await Ri.update(n,r)}catch(o){t({error:o.message,habitLogs:s})}},deleteHabitLog:async n=>{let r=e().habitLogs,s=r.filter(i=>i.id!==n);t({habitLogs:s});try{await Ri.delete(n)}catch(i){t({error:i.message,habitLogs:r})}},addGoal:async n=>{let r={...n,id:`temp-${Date.now()}`,startDate:new Date},s=e().goals;t({goals:[...s,r]});try{let i=await zo.add(n);t(o=>({goals:o.goals.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,goals:s})}},updateGoal:async(n,r)=>{let s=e().goals,i=s.map(o=>o.id===n?{...o,...r}:o);t({goals:i});try{await zo.update(n,r)}catch(o){t({error:o.message,goals:s})}},deleteGoal:async n=>{let r=e().goals,s=r.filter(i=>i.id!==n);t({goals:s});try{await zo.delete(n)}catch(i){t({error:i.message,goals:r})}},addMilestone:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().milestones;t({milestones:[...s,r]});try{let i=await qo.add(n);t(o=>({milestones:o.milestones.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,milestones:s})}},updateMilestone:async(n,r)=>{let s=e().milestones,i=s.map(o=>o.id===n?{...o,...r}:o);t({milestones:i});try{await qo.update(n,r)}catch(o){t({error:o.message,milestones:s})}},deleteMilestone:async n=>{let r=e().milestones,s=r.filter(i=>i.id!==n);t({milestones:s});try{await qo.delete(n)}catch(i){t({error:i.message,milestones:r})}},addQuickWin:async n=>{let r={...n,id:`temp-${Date.now()}`,createdAt:new Date},s=e().quickWins;t({quickWins:[...s,r]});try{let i=await Go.add(n);t(o=>({quickWins:o.quickWins.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,quickWins:s})}},updateQuickWin:async(n,r)=>{let s=e().quickWins,i=s.map(o=>o.id===n?{...o,...r}:o);t({quickWins:i});try{await Go.update(n,r)}catch(o){t({error:o.message,quickWins:s})}},deleteQuickWin:async n=>{let r=e().quickWins,s=r.filter(i=>i.id!==n);t({quickWins:s});try{await Go.delete(n)}catch(i){t({error:i.message,quickWins:r})}}}),{name:"abhyasa-store"}))});var Sr,Oa=j(()=>{"use strict";Bl();zl();Ra();Sr=Fs()(Us((t,e)=>({logs:[],logTemplates:[],foci:[],loading:!1,error:null,fetchDainandiniData:async()=>{t({loading:!0,error:null});try{let[n,r,s]=await Promise.all([Ai.getAll(),Bo.getAll(),Di.getAll()]);if(s.length===0){let{initialFoci:i}=await Promise.resolve().then(()=>(mb(),KE)),o=s.map(l=>l.name),a=i.filter(l=>!o.includes(l.name));if(a.length>0){await Promise.all(a.map(d=>Di.add(d)));let u=(await Di.getAll()).filter((d,f,h)=>f===h.findIndex(p=>p.id===d.id));t({logs:n,logTemplates:r,foci:u,loading:!1})}else t({logs:n,logTemplates:r,foci:s,loading:!1})}else{let i=s.filter((o,a,l)=>a===l.findIndex(u=>u.id===o.id));t({logs:n,logTemplates:r,foci:i,loading:!1})}}catch(n){t({error:n.message,loading:!1})}},addLog:async n=>{let r={...n,id:`temp-${Date.now()}`,createdAt:new Date},s=e().logs;t({logs:[...s,r]});try{let i=await Ai.add(n);t(o=>({logs:o.logs.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,logs:s})}},updateLog:async(n,r)=>{let s=e().logs,i=s.map(o=>o.id===n?{...o,...r}:o);t({logs:i});try{await Ai.update(n,r)}catch(o){t({error:o.message,logs:s})}},deleteLog:async n=>{let r=e().logs,s=r.filter(i=>i.id!==n);t({logs:s});try{await Ai.delete(n)}catch(i){t({error:i.message,logs:r})}},addLogTemplate:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().logTemplates;t({logTemplates:[...s,r]});try{let i=await Bo.add(n);t(o=>({logTemplates:o.logTemplates.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,logTemplates:s})}},updateLogTemplate:async(n,r)=>{let s=e().logTemplates,i=s.map(o=>o.id===n?{...o,...r}:o);t({logTemplates:i});try{await Bo.update(n,r)}catch(o){t({error:o.message,logTemplates:s})}},deleteLogTemplate:async n=>{let r=e().logTemplates,s=r.filter(i=>i.id!==n);t({logTemplates:s});try{await Bo.delete(n)}catch(i){t({error:i.message,logTemplates:r})}},addFocus:async n=>{let r=e().foci;if(r.find(o=>o.name===n.name)){console.warn(`Focus with name "${n.name}" already exists`);return}let i={...n,id:`temp-${Date.now()}`};t({foci:[...r,i]});try{let o=await Di.add(n);t(a=>({foci:a.foci.map(l=>l.id===i.id?{...l,id:o}:l)}))}catch(o){t({error:o.message,foci:r})}},updateFocus:async(n,r)=>{let s=e().foci,i=s.map(o=>o.id===n?{...o,...r}:o);t({foci:i});try{await Di.update(n,r)}catch(o){t({error:o.message,foci:s})}},deleteFocus:async n=>{let r=e().foci,s=r.filter(i=>i.id!==n);t({foci:s});try{await Di.delete(n)}catch(i){t({error:i.message,foci:r})}}}),{name:"dainandini-store"}))});var $l=j(()=>{"use strict"});var $r=j(()=>{"use strict";QE()});var Sb,tM,C7,nM,Nb=j(()=>{"use strict";$r();$l();Sb=(t,e,n)=>{let r=n.toISOString().split("T")[0],s=e.filter(o=>o.habitId===t.id&&o.date===r),i=s.length>0?s[s.length-1]:null;if(!i)return!1;if(t.type==="binary")return!0;if(t.type==="checklist"){let o=i.completedChecklistItems||[];return(t.checklist?.length||0)===0?!1:(t.checklist?.map(d=>d.id)||[]).every(d=>o.includes(d))}else if(t.type==="count"||t.type==="duration"){let o=i.value||0,a=t.dailyTarget||0;return a>0&&o>=a}return!1},tM=(t,e,n,r,s=[],i=[])=>{let o=[];return t.forEach(a=>{if(a.dueDate){let l=s.find(u=>u.id===a.listId);o.push({id:`task-${a.id}`,type:"task",title:a.title,description:l?l.name:"Inbox",date:new Date(a.dueDate),color:"blue-500",icon:"CheckSquareIcon",completed:a.completed,originalData:a})}}),e.forEach(a=>{if(a.status!=="In Progress")return;let l=i.find(y=>y.id===a.focusAreaId),u=new Date(a.startDate),d=a.endDate?new Date(a.endDate):null,f=new Date,h,p;d?(h=new Date(u),p=new Date(d)):(h=new Date(Math.max(u.getTime(),f.getTime())),p=new Date(f),p.setFullYear(f.getFullYear()+1));let b=new Date(f);b.setHours(0,0,0,0);let I=new Date(h);if(I.setHours(0,0,0,0),I>b)return;let v=new Date(p);if(v.setHours(0,0,0,0),I>v)return;let g=new Date(h);for(;g<=p;){let y=new Date(g);if(y.setHours(0,0,0,0),y>=b)if(a.reminders&&a.reminders.length>0)a.reminders.forEach((_,A)=>{let[R,U]=_.split(":").map(Number),S=new Date(g);S.setHours(R,U,0,0);let E=Sb(a,n,g);o.push({id:`habit-${a.id}-${g.toISOString().split("T")[0]}-${A}`,type:"habit",title:a.title,description:l?l.name:a.description,date:S,color:a.color||"green-500",icon:a.icon,completed:E,originalData:a})});else{let _=new Date(g);_.setHours(9,0,0,0);let A=Sb(a,n,g);o.push({id:`habit-${a.id}-${g.toISOString().split("T")[0]}`,type:"habit",title:a.title,description:l?l.name:a.description,date:_,color:a.color||"green-500",icon:a.icon,completed:A,originalData:a})}g.setDate(g.getDate()+1)}}),r.forEach(a=>{o.push({id:`log-${a.id}`,type:"log",title:a.title,description:a.description,date:new Date(a.logDate),color:"purple-500",icon:"Edit3Icon",completed:a.completed||!1,originalData:a})}),o.sort((a,l)=>a.date.getTime()-l.date.getTime())},C7=(t,e,n)=>t.filter(r=>{let s=new Date(r.date);return s>=e&&s<=n}),nM=(t,e)=>{let n=new Date(e);n.setHours(0,0,0,0);let r=new Date(e);return r.setHours(23,59,59,999),C7(t,n,r)}});var wn,Xi=j(()=>{"use strict";Bl();zl();ip();dh();Oa();Ra();$l();Nb();wn=Fs()(Us((t,e)=>({calendarItems:[],selectedItem:null,selectedDate:new Date,loading:!1,error:null,dragHistory:[],isDragging:!1,timeSlots:[],showTimeSlots:!1,itemTypeFilters:new Set(["task","habit","log"]),realTimeSyncDisabled:!1,fetchHomeData:async()=>{t({loading:!0,error:null});try{let n=Yi.getState(),r=Qi.getState(),s=Sr.getState();await Promise.all([n.tasks.length===0?n.fetchKaryData():Promise.resolve(),r.habits.length===0?r.fetchAbhyasaData():Promise.resolve(),s.logs.length===0?s.fetchDainandiniData():Promise.resolve()]);let i=Yi.getState(),o=Qi.getState(),a=Sr.getState(),l=tM(i.tasks,o.habits,o.habitLogs,a.logs,i.lists,a.foci||[]);t({calendarItems:l,loading:!1})}catch(n){t({error:n.message,loading:!1})}},selectItem:n=>{t({selectedItem:n})},selectDate:n=>{t({selectedDate:n})},setCalendarItems:n=>{t({calendarItems:n})},refreshData:async()=>{let{loading:n,realTimeSyncDisabled:r}=e();!n&&!r&&await e().fetchHomeData()},setRealTimeSyncDisabled:n=>{t({realTimeSyncDisabled:n})},setupRealTimeSync:()=>{let n=ki.subscribe(()=>{setTimeout(()=>e().refreshData(),100)}),r=Ci.subscribe(()=>{setTimeout(()=>e().refreshData(),100)}),s=Ri.subscribe(()=>{setTimeout(()=>e().refreshData(),100)}),i=Ai.subscribe(()=>{setTimeout(()=>e().refreshData(),100)});return()=>{n(),r(),s(),i()}},startDrag:()=>{t({isDragging:!0})},endDrag:()=>{t({isDragging:!1})},moveItemToDate:async(n,r)=>{let{calendarItems:s,dragHistory:i}=e(),o=s.find(d=>d.id===n);if(!o)return;let a=o.date,l={itemId:n,originalDate:a,newDate:r,timestamp:Date.now()},u=s.map(d=>d.id===n?{...d,date:r}:d);try{switch(o.type){case"task":let d=Yi.getState(),f=o.originalData;f&&f.id&&await d.updateTask(f.id,{dueDate:r});break;case"habit":break;case"log":let h=Sr.getState(),p=o.originalData;p&&p.id&&await h.updateLog(p.id,{logDate:r});break}t({calendarItems:u,dragHistory:[...i,l].slice(-10)}),setTimeout(()=>e().fetchHomeData(),200)}catch(d){console.error("Failed to update item date:",d),t({calendarItems:s})}},undoLastDrag:async()=>{let{dragHistory:n,calendarItems:r}=e();if(n.length===0)return;let s=n[n.length-1],{itemId:i,originalDate:o}=s,a=r.map(l=>l.id===i?{...l,date:o}:l);try{let l=r.find(u=>u.id===i);if(l)switch(l.type){case"task":let u=Yi.getState(),d=l.originalData;d&&d.id&&await u.updateTask(d.id,{dueDate:o});break;case"habit":break;case"log":let f=Sr.getState(),h=l.originalData;h&&h.id&&await f.updateLog(h.id,{logDate:o});break}t({calendarItems:a,dragHistory:n.slice(0,-1)}),setTimeout(()=>e().fetchHomeData(),200)}catch(l){console.error("Failed to undo drag operation:",l)}},clearDragHistory:()=>{t({dragHistory:[]})},updateItemTime:async(n,r,s)=>{let{calendarItems:i}=e(),o=i.map(a=>a.id===n?{...a,startTime:r,endTime:s,duration:e().calculateDuration(r,s),timeSlot:{startTime:r,endTime:s,duration:e().calculateDuration(r,s)}}:a);t({calendarItems:o}),setTimeout(()=>e().fetchHomeData(),200)},toggleTimeSlots:()=>{let{showTimeSlots:n}=e();t({showTimeSlots:!n})},generateTimeSlots:(n,r,s)=>{let i=[];for(let o=n;o<r;o++)for(let a=0;a<60;a+=s){let l=`${o.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`,u=a+s,d=o+Math.floor(u/60),f=u%60,h=`${d.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`;i.push({startTime:l,endTime:h,duration:s})}t({timeSlots:i})},checkTimeConflicts:(n,r,s,i)=>{let{calendarItems:o}=e(),a=o.filter(u=>new Date(u.date).toDateString()===n.toDateString()&&u.id!==i&&u.startTime&&u.endTime),l=[];for(let u of a)if(u.startTime&&u.endTime){let d=u.startTime,f=u.endTime;(r<f&&s>d||d<s&&f>r)&&l.push(u)}return l},calculateDuration:(n,r)=>{let[s,i]=n.split(":").map(Number),[o,a]=r.split(":").map(Number),l=s*60+i,u=o*60+a;return Math.max(0,u-l)},toggleItemTypeFilter:n=>{let{itemTypeFilters:r}=e(),s=new Set(r);s.has(n)?s.delete(n):s.add(n),t({itemTypeFilters:s})}}),{name:"home-store"}))});var kb,Ji,R7,rM,sM=j(()=>{"use strict";kb=L(me(),1),Ji=L(H(),1),R7=({children:t,isMobile:e})=>e?(0,Ji.jsx)("div",{className:"flex flex-col h-full",children:(0,Ji.jsx)("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent hover:scrollbar-thumb-gray-400",children:t})}):(0,Ji.jsxs)("div",{className:"flex h-full bg-gray-50",children:[(0,Ji.jsx)("div",{className:"w-1/4 min-w-0 border-r border-gray-200 bg-white",children:(0,Ji.jsx)("div",{className:"h-full overflow-y-auto p-4 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent hover:scrollbar-thumb-gray-400",children:kb.default.Children.toArray(t)[0]})}),(0,Ji.jsx)("div",{className:"w-2/5 min-w-0 border-r border-gray-200 bg-white",children:(0,Ji.jsx)("div",{className:"h-full overflow-y-auto p-4 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent hover:scrollbar-thumb-gray-400",children:kb.default.Children.toArray(t)[1]})}),(0,Ji.jsx)("div",{className:"w-2/5 min-w-0 bg-white",children:(0,Ji.jsx)("div",{className:"h-full overflow-y-auto p-4 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent hover:scrollbar-thumb-gray-400",children:kb.default.Children.toArray(t)[2]})})]}),rM=R7});function ru(t){let e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Ab(t){return"nodeType"in t}function as(t){var e,n;return t?ru(t)?t:Ab(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Db(t){let{Document:e}=as(t);return t instanceof e}function ph(t){return ru(t)?!1:t instanceof as(t).HTMLElement}function hS(t){return t instanceof as(t).SVGElement}function su(t){return t?ru(t)?t.document:Ab(t)?Db(t)?t:ph(t)||hS(t)?t.ownerDocument:document:document:document}function ap(t){let e=(0,yr.useRef)(t);return Ma(()=>{e.current=t}),(0,yr.useCallback)(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function oM(){let t=(0,yr.useRef)(null),e=(0,yr.useCallback)((r,s)=>{t.current=setInterval(r,s)},[]),n=(0,yr.useCallback)(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function fS(t,e){e===void 0&&(e=[t]);let n=(0,yr.useRef)(t);return Ma(()=>{n.current!==t&&(n.current=t)},e),n}function gh(t,e){let n=(0,yr.useRef)();return(0,yr.useMemo)(()=>{let r=t(n.current);return n.current=r,r},[...e])}function aM(t){let e=ap(t),n=(0,yr.useRef)(null),r=(0,yr.useCallback)(s=>{s!==n.current&&e?.(s,n.current),n.current=s},[]);return[n,r]}function lp(t){let e=(0,yr.useRef)();return(0,yr.useEffect)(()=>{e.current=t},[t]),e.current}function mS(t,e){return(0,yr.useMemo)(()=>{if(e)return e;let n=dS[t]==null?0:dS[t]+1;return dS[t]=n,t+"-"+n},[t,e])}function lM(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((i,o)=>{let a=Object.entries(o);for(let[l,u]of a){let d=i[l];d!=null&&(i[l]=d+t*u)}return i},{...e})}}function L7(t){return"clientX"in t&&"clientY"in t}function Cb(t){if(!t)return!1;let{KeyboardEvent:e}=as(t.target);return e&&t instanceof e}function P7(t){if(!t)return!1;let{TouchEvent:e}=as(t.target);return e&&t instanceof e}function up(t){if(P7(t)){if(t.touches&&t.touches.length){let{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){let{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return L7(t)?{x:t.clientX,y:t.clientY}:null}function cM(t){return t.matches(iM)?t:t.querySelector(iM)}var yr,op,Ma,dS,iu,cp,mh,iM,uM=j(()=>{yr=L(bb()),op=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";Ma=op?yr.useLayoutEffect:yr.useEffect;dS={};iu=lM(1),cp=lM(-1);mh=Object.freeze({Translate:{toString(t){if(!t)return;let{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;let{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[mh.Translate.toString(t),mh.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),iM="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]"});function dM(t){let{id:e,value:n}=t;return ou.default.createElement("div",{id:e,style:O7},n)}function hM(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t,s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ou.default.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function fM(){let[t,e]=(0,ou.useState)("");return{announce:(0,ou.useCallback)(r=>{r!=null&&e(r)},[]),announcement:t}}var ou,O7,mM=j(()=>{ou=L(bb()),O7={display:"none"}});function M7(t){let e=(0,Y.useContext)(EM);(0,Y.useEffect)(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function F7(){let[t]=(0,Y.useState)(()=>new Set),e=(0,Y.useCallback)(r=>(t.add(r),()=>t.delete(r)),[t]);return[(0,Y.useCallback)(r=>{let{type:s,event:i}=r;t.forEach(o=>{var a;return(a=o[s])==null?void 0:a.call(o,i)})},[t]),e]}function H7(t){let{announcements:e=V7,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=U7}=t,{announce:i,announcement:o}=fM(),a=mS("DndLiveRegion"),[l,u]=(0,Y.useState)(!1);if((0,Y.useEffect)(()=>{u(!0)},[]),M7((0,Y.useMemo)(()=>({onDragStart(f){let{active:h}=f;i(e.onDragStart({active:h}))},onDragMove(f){let{active:h,over:p}=f;e.onDragMove&&i(e.onDragMove({active:h,over:p}))},onDragOver(f){let{active:h,over:p}=f;i(e.onDragOver({active:h,over:p}))},onDragEnd(f){let{active:h,over:p}=f;i(e.onDragEnd({active:h,over:p}))},onDragCancel(f){let{active:h,over:p}=f;i(e.onDragCancel({active:h,over:p}))}}),[i,e])),!l)return null;let d=Y.default.createElement(Y.default.Fragment,null,Y.default.createElement(dM,{id:r,value:s.draggable}),Y.default.createElement(hM,{id:a,announcement:o}));return n?(0,au.createPortal)(d,n):d}function Lb(){}function SM(t,e){return(0,Y.useMemo)(()=>({sensor:t,options:e??{}}),[t,e])}function NM(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,Y.useMemo)(()=>[...e].filter(r=>r!=null),[...e])}function B7(t,e){let n=up(t);if(!n)return"0 0";let r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function z7(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function q7(t,e){if(!t||t.length===0)return null;let[n]=t;return e?n[e]:n}function G7(t,e){let n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),o=s-r,a=i-n;if(r<s&&n<i){let l=e.width*e.height,u=t.width*t.height,d=o*a,f=d/(l+u-d);return Number(f.toFixed(4))}return 0}function $7(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function kM(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Zi}function K7(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...n})}}function AM(t){if(t.startsWith("matrix3d(")){let e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){let e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Y7(t,e,n){let r=AM(e);if(!r)return t;let{scaleX:s,scaleY:i,x:o,y:a}=r,l=t.left-o-(1-s)*parseFloat(n),u=t.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=s?t.width/s:t.width,f=i?t.height/i:t.height;return{width:d,height:f,top:u,right:l+d,bottom:u+f,left:l}}function pp(t,e){e===void 0&&(e=Q7);let n=t.getBoundingClientRect();if(e.ignoreTransform){let{transform:u,transformOrigin:d}=as(t).getComputedStyle(t);u&&(n=Y7(n,u,d))}let{top:r,left:s,width:i,height:o,bottom:a,right:l}=n;return{top:r,left:s,width:i,height:o,bottom:a,right:l}}function pM(t){return pp(t,{ignoreTransform:!0})}function X7(t){let e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function J7(t,e){return e===void 0&&(e=as(t).getComputedStyle(t)),e.position==="fixed"}function Z7(t,e){e===void 0&&(e=as(t).getComputedStyle(t));let n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{let i=e[s];return typeof i=="string"?n.test(i):!1})}function IS(t,e){let n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(Db(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!ph(s)||hS(s)||n.includes(s))return n;let i=as(t).getComputedStyle(s);return s!==t&&Z7(s,i)&&n.push(s),J7(s,i)?n:r(s.parentNode)}return t?r(t):n}function DM(t){let[e]=IS(t,1);return e??null}function pS(t){return!op||!t?null:ru(t)?t:Ab(t)?Db(t)||t===su(t).scrollingElement?window:ph(t)?t:null:null}function CM(t){return ru(t)?t.scrollX:t.scrollLeft}function RM(t){return ru(t)?t.scrollY:t.scrollTop}function bS(t){return{x:CM(t),y:RM(t)}}function LM(t){return!op||!t?!1:t===document.scrollingElement}function PM(t){let e={x:0,y:0},n=LM(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}function tG(t,e,n,r,s){let{top:i,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),s===void 0&&(s=eG);let{isTop:u,isBottom:d,isLeft:f,isRight:h}=PM(t),p={x:0,y:0},b={x:0,y:0},I={height:e.height*s.y,width:e.width*s.x};return!u&&i<=e.top+I.height?(p.y=Hr.Backward,b.y=r*Math.abs((e.top+I.height-i)/I.height)):!d&&l>=e.bottom-I.height&&(p.y=Hr.Forward,b.y=r*Math.abs((e.bottom-I.height-l)/I.height)),!h&&a>=e.right-I.width?(p.x=Hr.Forward,b.x=r*Math.abs((e.right-I.width-a)/I.width)):!f&&o<=e.left+I.width&&(p.x=Hr.Backward,b.x=r*Math.abs((e.left+I.width-o)/I.width)),{direction:p,speed:b}}function nG(t){if(t===document.scrollingElement){let{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}let{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function OM(t){return t.reduce((e,n)=>iu(e,bS(n)),Zi)}function rG(t){return t.reduce((e,n)=>e+CM(n),0)}function sG(t){return t.reduce((e,n)=>e+RM(n),0)}function MM(t,e){if(e===void 0&&(e=pp),!t)return;let{top:n,left:r,bottom:s,right:i}=e(t);DM(t)&&(s<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}function oG(t){let{EventTarget:e}=as(t);return t instanceof e?t:su(t)}function gS(t,e){let n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}function gM(t){t.preventDefault()}function aG(t){t.stopPropagation()}function yM(t){return!!(t&&"distance"in t)}function bM(t){return!!(t&&"delay"in t)}function dG(t){let{acceleration:e,activator:n=dp.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:o=5,order:a=Ob.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:h}=t,p=fG({delta:f,disabled:!i}),[b,I]=oM(),v=(0,Y.useRef)({x:0,y:0}),g=(0,Y.useRef)({x:0,y:0}),y=(0,Y.useMemo)(()=>{switch(n){case dp.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case dp.DraggableRect:return s}},[n,s,l]),_=(0,Y.useRef)(null),A=(0,Y.useCallback)(()=>{let U=_.current;if(!U)return;let S=v.current.x*g.current.x,E=v.current.y*g.current.y;U.scrollBy(S,E)},[]),R=(0,Y.useMemo)(()=>a===Ob.TreeOrder?[...u].reverse():u,[a,u]);(0,Y.useEffect)(()=>{if(!i||!u.length||!y){I();return}for(let U of R){if(r?.(U)===!1)continue;let S=u.indexOf(U),E=d[S];if(!E)continue;let{direction:T,speed:x}=tG(U,E,y,e,h);for(let N of["x","y"])p[N][T[N]]||(x[N]=0,T[N]=0);if(x.x>0||x.y>0){I(),_.current=U,b(A,o),v.current=x,g.current=T;return}}v.current={x:0,y:0},g.current={x:0,y:0},I()},[e,A,r,I,i,o,JSON.stringify(y),JSON.stringify(p),b,u,R,d,JSON.stringify(h)])}function fG(t){let{delta:e,disabled:n}=t,r=lp(e);return gh(s=>{if(n||!r||!s)return hG;let i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Hr.Backward]:s.x[Hr.Backward]||i.x===-1,[Hr.Forward]:s.x[Hr.Forward]||i.x===1},y:{[Hr.Backward]:s.y[Hr.Backward]||i.y===-1,[Hr.Forward]:s.y[Hr.Forward]||i.y===1}}},[n,e,r])}function mG(t,e){let n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return gh(s=>{var i;return e==null?null:(i=r??s)!=null?i:null},[r,e])}function pG(t,e){return(0,Y.useMemo)(()=>t.reduce((n,r)=>{let{sensor:s}=r,i=s.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...i]},[]),[t,e])}function gG(t,e){let{dragging:n,dependencies:r,config:s}=e,[i,o]=(0,Y.useState)(null),{frequency:a,measure:l,strategy:u}=s,d=(0,Y.useRef)(t),f=v(),h=fS(f),p=(0,Y.useCallback)(function(g){g===void 0&&(g=[]),!h.current&&o(y=>y===null?g:y.concat(g.filter(_=>!y.includes(_))))},[h]),b=(0,Y.useRef)(null),I=gh(g=>{if(f&&!n)return vM;if(!g||g===vM||d.current!==t||i!=null){let y=new Map;for(let _ of t){if(!_)continue;if(i&&i.length>0&&!i.includes(_.id)&&_.rect.current){y.set(_.id,_.rect.current);continue}let A=_.node.current,R=A?new hp(l(A),A):null;_.rect.current=R,R&&y.set(_.id,R)}return y}return g},[t,i,n,f,l]);return(0,Y.useEffect)(()=>{d.current=t},[t]),(0,Y.useEffect)(()=>{f||p()},[n,f]),(0,Y.useEffect)(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),(0,Y.useEffect)(()=>{f||typeof a!="number"||b.current!==null||(b.current=setTimeout(()=>{p(),b.current=null},a))},[a,f,p,...r]),{droppableRects:I,measureDroppableContainers:p,measuringScheduled:i!=null};function v(){switch(u){case mp.Always:return!1;case mp.BeforeDragging:return n;default:return!n}}}function _S(t,e){return gh(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function yG(t,e){return _S(t,e)}function bG(t){let{callback:e,disabled:n}=t,r=ap(e),s=(0,Y.useMemo)(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;let{MutationObserver:i}=window;return new i(r)},[r,n]);return(0,Y.useEffect)(()=>()=>s?.disconnect(),[s]),s}function ES(t){let{callback:e,disabled:n}=t,r=ap(e),s=(0,Y.useMemo)(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;let{ResizeObserver:i}=window;return new i(r)},[n]);return(0,Y.useEffect)(()=>()=>s?.disconnect(),[s]),s}function vG(t){return new hp(pp(t),t)}function wM(t,e,n){e===void 0&&(e=vG);let[r,s]=(0,Y.useState)(null);function i(){s(l=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=l??n)!=null?u:null}let d=e(t);return JSON.stringify(l)===JSON.stringify(d)?l:d})}let o=bG({callback(l){if(t)for(let u of l){let{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(t)){i();break}}}}),a=ES({callback:i});return Ma(()=>{i(),t?(a?.observe(t),o?.observe(document.body,{childList:!0,subtree:!0})):(a?.disconnect(),o?.disconnect())},[t]),r}function wG(t){let e=_S(t);return kM(t,e)}function xG(t){let e=(0,Y.useRef)(t),n=gh(r=>t?r&&r!==xM&&t&&e.current&&t.parentNode===e.current.parentNode?r:IS(t):xM,[t]);return(0,Y.useEffect)(()=>{e.current=t},[t]),n}function TG(t){let[e,n]=(0,Y.useState)(null),r=(0,Y.useRef)(t),s=(0,Y.useCallback)(i=>{let o=pS(i.target);o&&n(a=>a?(a.set(o,bS(o)),new Map(a)):null)},[]);return(0,Y.useEffect)(()=>{let i=r.current;if(t!==i){o(i);let a=t.map(l=>{let u=pS(l);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,bS(u)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{o(t),o(i)};function o(a){a.forEach(l=>{let u=pS(l);u?.removeEventListener("scroll",s)})}},[s,t]),(0,Y.useMemo)(()=>t.length?e?Array.from(e.values()).reduce((i,o)=>iu(i,o),Zi):OM(t):Zi,[t,e])}function TM(t,e){e===void 0&&(e=[]);let n=(0,Y.useRef)(null);return(0,Y.useEffect)(()=>{n.current=null},e),(0,Y.useEffect)(()=>{let r=t!==Zi;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?cp(t,n.current):Zi}function IG(t){(0,Y.useEffect)(()=>{if(!op)return;let e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(let n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function UM(t){return(0,Y.useMemo)(()=>t?X7(t):null,[t])}function _G(t,e){e===void 0&&(e=pp);let[n]=t,r=UM(n?as(n):null),[s,i]=(0,Y.useState)(IM);function o(){i(()=>t.length?t.map(l=>LM(l)?r:new hp(e(l),l)):IM)}let a=ES({callback:o});return Ma(()=>{a?.disconnect(),o(),t.forEach(l=>a?.observe(l))},[t]),s}function VM(t){if(!t)return null;if(t.children.length>1)return t;let e=t.children[0];return ph(e)?e:t}function EG(t){let{measure:e}=t,[n,r]=(0,Y.useState)(null),s=(0,Y.useCallback)(u=>{for(let{target:d}of u)if(ph(d)){r(f=>{let h=e(d);return f?{...f,width:h.width,height:h.height}:h});break}},[e]),i=ES({callback:s}),o=(0,Y.useCallback)(u=>{let d=VM(u);i?.disconnect(),d&&i?.observe(d),r(d?e(d):null)},[e,i]),[a,l]=aM(o);return(0,Y.useMemo)(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}function AG(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new cu}}}function DG(t,e){switch(e.type){case ls.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case ls.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case ls.DragEnd:case ls.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ls.RegisterDroppable:{let{element:n}=e,{id:r}=n,s=new cu(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case ls.SetDroppableDisabled:{let{id:n,key:r,disabled:s}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;let o=new cu(t.droppable.containers);return o.set(n,{...i,disabled:s}),{...t,droppable:{...t.droppable,containers:o}}}case ls.UnregisterDroppable:{let{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;let i=new cu(t.droppable.containers);return i.delete(n),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function CG(t){let{disabled:e}=t,{active:n,activatorEvent:r,draggableNodes:s}=(0,Y.useContext)(SS),i=lp(r),o=lp(n?.id);return(0,Y.useEffect)(()=>{if(!e&&!r&&i&&o!=null){if(!Cb(i)||document.activeElement===i.target)return;let a=s.get(o);if(!a)return;let{activatorNode:l,node:u}=a;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(let d of[l.current,u.current]){if(!d)continue;let f=cM(d);if(f){f.focus();break}}})}},[r,e,s,o,i]),null}function zM(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,i)=>i({transform:s,...r}),n):n}function RG(t){return(0,Y.useMemo)(()=>({draggable:{...Rb.draggable,...t?.draggable},droppable:{...Rb.droppable,...t?.droppable},dragOverlay:{...Rb.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function LG(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t,i=(0,Y.useRef)(!1),{x:o,y:a}=typeof s=="boolean"?{x:s,y:s}:s;Ma(()=>{if(!o&&!a||!e){i.current=!1;return}if(i.current||!r)return;let u=e?.node.current;if(!u||u.isConnected===!1)return;let d=n(u),f=kM(d,r);if(o||(f.x=0),a||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){let h=DM(u);h&&h.scrollBy({top:f.y,left:f.x})}},[e,o,a,r,n])}function PG(){return(0,Y.useContext)(BM)}function OG(t){let{animation:e,children:n}=t,[r,s]=(0,Y.useState)(null),[i,o]=(0,Y.useState)(null),a=lp(n);return!n&&!r&&a&&s(a),Ma(()=>{if(!i)return;let l=r?.key,u=r?.props.id;if(l==null||u==null){s(null);return}Promise.resolve(e(u,i)).then(()=>{s(null)})},[e,r,i]),Y.default.createElement(Y.default.Fragment,null,n,r?(0,Y.cloneElement)(r,{ref:o}):null)}function FG(t){let{children:e}=t;return Y.default.createElement(SS.Provider,{value:HM},Y.default.createElement(NS.Provider,{value:MG},e))}function GG(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:s}=t;return ap((i,o)=>{if(e===null)return;let a=n.get(i);if(!a)return;let l=a.node.current;if(!l)return;let u=VM(o);if(!u)return;let{transform:d}=as(o).getComputedStyle(o),f=AM(d);if(!f)return;let h=typeof e=="function"?e:jG(e);return MM(l,s.draggable.measure),h({active:{id:i,data:a.data,node:l,rect:s.draggable.measure(l)},draggableNodes:n,dragOverlay:{node:o,rect:s.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:s,transform:f})})}function jG(t){let{duration:e,easing:n,sideEffects:r,keyframes:s}={...qG,...t};return i=>{let{active:o,dragOverlay:a,transform:l,...u}=i;if(!e)return;let d={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},f={scaleX:l.scaleX!==1?o.rect.width*l.scaleX/a.rect.width:1,scaleY:l.scaleY!==1?o.rect.height*l.scaleY/a.rect.height:1},h={x:l.x-d.x,y:l.y-d.y,...f},p=s({...u,active:o,dragOverlay:a,transform:{initial:l,final:h}}),[b]=p,I=p[p.length-1];if(JSON.stringify(b)===JSON.stringify(I))return;let v=r?.({active:o,dragOverlay:a,...u}),g=a.node.animate(p,{duration:e,easing:n,fill:"forwards"});return new Promise(y=>{g.onfinish=()=>{v?.(),y()}})}}function $G(t){return(0,Y.useMemo)(()=>{if(t!=null)return _M++,_M},[t])}var Y,au,EM,U7,V7,ls,Zi,j7,W7,Q7,Hr,eG,iG,hp,lu,Li,ln,FM,lG,Pb,fp,cG,yh,uG,vS,wS,yS,xS,dp,Ob,hG,mp,TS,vM,xM,IM,SG,NG,Rb,cu,kG,HM,SS,BM,NS,Kl,qM,MG,UG,VG,HG,BG,zG,qG,_M,GM,jM=j(()=>{Y=L(me()),au=L(Mv());uM();mM();EM=(0,Y.createContext)(null);U7={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},V7={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(ls||(ls={}));Zi=Object.freeze({x:0,y:0});j7=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t,s=[];for(let i of r){let{id:o}=i,a=n.get(o);if(a){let l=G7(a,e);l>0&&s.push({id:o,data:{droppableContainer:i,value:l}})}}return s.sort(z7)};W7=K7(1);Q7={ignoreTransform:!1};(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Hr||(Hr={}));eG={x:.2,y:.2};iG=[["x",["left","right"],rG],["y",["top","bottom"],sG]],hp=class{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let r=IS(n),s=OM(r);this.rect={...e},this.width=e.width,this.height=e.height;for(let[i,o,a]of iG)for(let l of o)Object.defineProperty(this,l,{get:()=>{let u=a(r),d=s[i]-u;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}},lu=class{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}};(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Li||(Li={}));(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ln||(ln={}));FM={start:[ln.Space,ln.Enter],cancel:[ln.Esc],end:[ln.Space,ln.Enter,ln.Tab]},lG=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case ln.Right:return{...n,x:n.x+25};case ln.Left:return{...n,x:n.x-25};case ln.Down:return{...n,y:n.y+25};case ln.Up:return{...n,y:n.y-25}}},Pb=class{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;let{event:{target:n}}=e;this.props=e,this.listeners=new lu(su(n)),this.windowListeners=new lu(as(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Li.Resize,this.handleCancel),this.windowListeners.add(Li.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Li.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&MM(r),n(Zi)}handleKeyDown(e){if(Cb(e)){let{active:n,context:r,options:s}=this.props,{keyboardCodes:i=FM,coordinateGetter:o=lG,scrollBehavior:a="smooth"}=s,{code:l}=e;if(i.end.includes(l)){this.handleEnd(e);return}if(i.cancel.includes(l)){this.handleCancel(e);return}let{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:Zi;this.referenceCoordinates||(this.referenceCoordinates=d);let f=o(e,{active:n,context:r.current,currentCoordinates:d});if(f){let h=cp(f,d),p={x:0,y:0},{scrollableAncestors:b}=r.current;for(let I of b){let v=e.code,{isTop:g,isRight:y,isLeft:_,isBottom:A,maxScroll:R,minScroll:U}=PM(I),S=nG(I),E={x:Math.min(v===ln.Right?S.right-S.width/2:S.right,Math.max(v===ln.Right?S.left:S.left+S.width/2,f.x)),y:Math.min(v===ln.Down?S.bottom-S.height/2:S.bottom,Math.max(v===ln.Down?S.top:S.top+S.height/2,f.y))},T=v===ln.Right&&!y||v===ln.Left&&!_,x=v===ln.Down&&!A||v===ln.Up&&!g;if(T&&E.x!==f.x){let N=I.scrollLeft+h.x,D=v===ln.Right&&N<=R.x||v===ln.Left&&N>=U.x;if(D&&!h.y){I.scrollTo({left:N,behavior:a});return}D?p.x=I.scrollLeft-N:p.x=v===ln.Right?I.scrollLeft-R.x:I.scrollLeft-U.x,p.x&&I.scrollBy({left:-p.x,behavior:a});break}else if(x&&E.y!==f.y){let N=I.scrollTop+h.y,D=v===ln.Down&&N<=R.y||v===ln.Up&&N>=U.y;if(D&&!h.x){I.scrollTo({top:N,behavior:a});return}D?p.y=I.scrollTop-N:p.y=v===ln.Down?I.scrollTop-R.y:I.scrollTop-U.y,p.y&&I.scrollBy({top:-p.y,behavior:a});break}}this.handleMove(e,iu(cp(f,this.referenceCoordinates),p))}}}handleMove(e,n){let{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){let{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){let{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};Pb.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=FM,onActivation:s}=e,{active:i}=n,{code:o}=t.nativeEvent;if(r.start.includes(o)){let a=i.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),s?.({event:t.nativeEvent}),!0)}return!1}}];fp=class{constructor(e,n,r){var s;r===void 0&&(r=oG(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;let{event:i}=e,{target:o}=i;this.props=e,this.events=n,this.document=su(o),this.documentListeners=new lu(this.document),this.listeners=new lu(r),this.windowListeners=new lu(as(o)),this.initialCoordinates=(s=up(i))!=null?s:Zi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Li.Resize,this.handleCancel),this.windowListeners.add(Li.DragStart,gM),this.windowListeners.add(Li.VisibilityChange,this.handleCancel),this.windowListeners.add(Li.ContextMenu,gM),this.documentListeners.add(Li.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(bM(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(yM(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){let{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,n)}handleStart(){let{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Li.Click,aG,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Li.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;let{activated:r,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!s)return;let l=(n=up(e))!=null?n:Zi,u=cp(s,l);if(!r&&a){if(yM(a)){if(a.tolerance!=null&&gS(u,a.tolerance))return this.handleCancel();if(gS(u,a.distance))return this.handleStart()}if(bM(a)&&gS(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){let{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){let{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===ln.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}},cG={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}},yh=class extends fp{constructor(e){let{event:n}=e,r=su(n.target);super(e,cG,r)}};yh.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];uG={move:{name:"mousemove"},end:{name:"mouseup"}};(function(t){t[t.RightClick=2]="RightClick"})(vS||(vS={}));wS=class extends fp{constructor(e){super(e,uG,su(e.event.target))}};wS.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===vS.RightClick?!1:(r?.({event:n}),!0)}}];yS={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}},xS=class extends fp{constructor(e){super(e,yS)}static setup(){return window.addEventListener(yS.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(yS.move.name,e)};function e(){}}};xS.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e,{touches:s}=n;return s.length>1?!1:(r?.({event:n}),!0)}}];(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(dp||(dp={}));(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ob||(Ob={}));hG={x:{[Hr.Backward]:!1,[Hr.Forward]:!1},y:{[Hr.Backward]:!1,[Hr.Forward]:!1}};(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(mp||(mp={}));(function(t){t.Optimized="optimized"})(TS||(TS={}));vM=new Map;xM=[];IM=[];SG=[{sensor:yh,options:{}},{sensor:Pb,options:{}}],NG={current:{}},Rb={draggable:{measure:pM},droppable:{measure:pM,strategy:mp.WhileDragging,frequency:TS.Optimized},dragOverlay:{measure:pp}},cu=class extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}},kG={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new cu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Lb},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Rb,measureDroppableContainers:Lb,windowRect:null,measuringScheduled:!1},HM={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Lb,draggableNodes:new Map,over:null,measureDroppableContainers:Lb},SS=(0,Y.createContext)(HM),BM=(0,Y.createContext)(kG);NS=(0,Y.createContext)({...Zi,scaleX:1,scaleY:1});(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Kl||(Kl={}));qM=(0,Y.memo)(function(e){var n,r,s,i;let{id:o,accessibility:a,autoScroll:l=!0,children:u,sensors:d=SG,collisionDetection:f=j7,measuring:h,modifiers:p,...b}=e,I=(0,Y.useReducer)(DG,void 0,AG),[v,g]=I,[y,_]=F7(),[A,R]=(0,Y.useState)(Kl.Uninitialized),U=A===Kl.Initialized,{draggable:{active:S,nodes:E,translate:T},droppable:{containers:x}}=v,N=S!=null?E.get(S):null,D=(0,Y.useRef)({initial:null,translated:null}),k=(0,Y.useMemo)(()=>{var ie;return S!=null?{id:S,data:(ie=N?.data)!=null?ie:NG,rect:D}:null},[S,N]),V=(0,Y.useRef)(null),[z,$]=(0,Y.useState)(null),[de,se]=(0,Y.useState)(null),Te=fS(b,Object.values(b)),Ae=mS("DndDescribedBy",o),De=(0,Y.useMemo)(()=>x.getEnabled(),[x]),Q=RG(h),{droppableRects:P,measureDroppableContainers:Z,measuringScheduled:W}=gG(De,{dragging:U,dependencies:[T.x,T.y],config:Q.droppable}),F=mG(E,S),ee=(0,Y.useMemo)(()=>de?up(de):null,[de]),be=_u(),He=yG(F,Q.draggable.measure);LG({activeNode:S!=null?E.get(S):null,config:be.layoutShiftCompensation,initialRect:He,measure:Q.draggable.measure});let Nt=wM(F,Q.draggable.measure,He),dn=wM(F?F.parentElement:null),Jt=(0,Y.useRef)({activatorEvent:null,active:null,activeNode:F,collisionRect:null,collisions:null,droppableRects:P,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:x,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ue=x.getNodeFor((n=Jt.current.over)==null?void 0:n.id),ve=EG({measure:Q.dragOverlay.measure}),$n=(r=ve.nodeRef.current)!=null?r:F,lr=U?(s=ve.rect)!=null?s:Nt:null,Wr=!!(ve.nodeRef.current&&ve.rect),le=wG(Wr?null:Nt),Ee=UM($n?as($n):null),ze=xG(U?ue??F:null),$t=_G(ze),zt=zM(p,{transform:{x:T.x-le.x,y:T.y-le.y,scaleX:1,scaleY:1},activatorEvent:de,active:k,activeNodeRect:Nt,containerNodeRect:dn,draggingNodeRect:lr,over:Jt.current.over,overlayNodeRect:ve.rect,scrollableAncestors:ze,scrollableAncestorRects:$t,windowRect:Ee}),q=ee?iu(ee,T):null,Me=TG(ze),Be=TM(Me),ge=TM(Me,[Nt]),_e=iu(zt,Be),Xe=lr?W7(lr,zt):null,xn=k&&Xe?f({active:k,collisionRect:Xe,droppableRects:P,droppableContainers:De,pointerCoordinates:q}):null,zs=q7(xn,"id"),[kr,Tu]=(0,Y.useState)(null),Ft=Wr?zt:iu(zt,ge),ps=$7(Ft,(i=kr?.rect)!=null?i:null,Nt),Ui=(0,Y.useRef)(null),Ga=(0,Y.useCallback)((ie,re)=>{let{sensor:Pt,options:hn}=re;if(V.current==null)return;let Zt=E.get(V.current);if(!Zt)return;let Ar=ie.nativeEvent,qs=new Pt({active:V.current,activeNode:Zt,event:Ar,options:hn,context:Jt,onAbort(cr){if(!E.get(cr))return;let{onDragAbort:Gs}=Te.current,gs={id:cr};Gs?.(gs),y({type:"onDragAbort",event:gs})},onPending(cr,Tn,Gs,gs){if(!E.get(cr))return;let{onDragPending:nc}=Te.current,so={id:cr,constraint:Tn,initialCoordinates:Gs,offset:gs};nc?.(so),y({type:"onDragPending",event:so})},onStart(cr){let Tn=V.current;if(Tn==null)return;let Gs=E.get(Tn);if(!Gs)return;let{onDragStart:gs}=Te.current,Vi={activatorEvent:Ar,active:{id:Tn,data:Gs.data,rect:D}};(0,au.unstable_batchedUpdates)(()=>{gs?.(Vi),R(Kl.Initializing),g({type:ls.DragStart,initialCoordinates:cr,active:Tn}),y({type:"onDragStart",event:Vi}),$(Ui.current),se(Ar)})},onMove(cr){g({type:ls.DragMove,coordinates:cr})},onEnd:hi(ls.DragEnd),onCancel:hi(ls.DragCancel)});Ui.current=qs;function hi(cr){return async function(){let{active:Gs,collisions:gs,over:Vi,scrollAdjustedTranslate:nc}=Jt.current,so=null;if(Gs&&nc){let{cancelDrop:fi}=Te.current;so={activatorEvent:Ar,active:Gs,collisions:gs,delta:nc,over:Vi},cr===ls.DragEnd&&typeof fi=="function"&&await Promise.resolve(fi(so))&&(cr=ls.DragCancel)}V.current=null,(0,au.unstable_batchedUpdates)(()=>{g({type:cr}),R(Kl.Uninitialized),Tu(null),$(null),se(null),Ui.current=null;let fi=cr===ls.DragEnd?"onDragEnd":"onDragCancel";if(so){let Lh=Te.current[fi];Lh?.(so),y({type:fi,event:so})}})}}},[E]),tc=(0,Y.useCallback)((ie,re)=>(Pt,hn)=>{let Zt=Pt.nativeEvent,Ar=E.get(hn);if(V.current!==null||!Ar||Zt.dndKit||Zt.defaultPrevented)return;let qs={active:Ar};ie(Pt,re.options,qs)===!0&&(Zt.dndKit={capturedBy:re.sensor},V.current=hn,Ga(Pt,re))},[E,Ga]),ja=pG(d,tc);IG(d),Ma(()=>{Nt&&A===Kl.Initializing&&R(Kl.Initialized)},[Nt,A]),(0,Y.useEffect)(()=>{let{onDragMove:ie}=Te.current,{active:re,activatorEvent:Pt,collisions:hn,over:Zt}=Jt.current;if(!re||!Pt)return;let Ar={active:re,activatorEvent:Pt,collisions:hn,delta:{x:_e.x,y:_e.y},over:Zt};(0,au.unstable_batchedUpdates)(()=>{ie?.(Ar),y({type:"onDragMove",event:Ar})})},[_e.x,_e.y]),(0,Y.useEffect)(()=>{let{active:ie,activatorEvent:re,collisions:Pt,droppableContainers:hn,scrollAdjustedTranslate:Zt}=Jt.current;if(!ie||V.current==null||!re||!Zt)return;let{onDragOver:Ar}=Te.current,qs=hn.get(zs),hi=qs&&qs.rect.current?{id:qs.id,rect:qs.rect.current,data:qs.data,disabled:qs.disabled}:null,cr={active:ie,activatorEvent:re,collisions:Pt,delta:{x:Zt.x,y:Zt.y},over:hi};(0,au.unstable_batchedUpdates)(()=>{Tu(hi),Ar?.(cr),y({type:"onDragOver",event:cr})})},[zs]),Ma(()=>{Jt.current={activatorEvent:de,active:k,activeNode:F,collisionRect:Xe,collisions:xn,droppableRects:P,draggableNodes:E,draggingNode:$n,draggingNodeRect:lr,droppableContainers:x,over:kr,scrollableAncestors:ze,scrollAdjustedTranslate:_e},D.current={initial:lr,translated:Xe}},[k,F,xn,Xe,E,$n,lr,P,x,kr,ze,_e]),dG({...be,delta:T,draggingRect:Xe,pointerCoordinates:q,scrollableAncestors:ze,scrollableAncestorRects:$t});let $a=(0,Y.useMemo)(()=>({active:k,activeNode:F,activeNodeRect:Nt,activatorEvent:de,collisions:xn,containerNodeRect:dn,dragOverlay:ve,draggableNodes:E,droppableContainers:x,droppableRects:P,over:kr,measureDroppableContainers:Z,scrollableAncestors:ze,scrollableAncestorRects:$t,measuringConfiguration:Q,measuringScheduled:W,windowRect:Ee}),[k,F,Nt,de,xn,dn,ve,E,x,P,kr,Z,ze,$t,Q,W,Ee]),Iu=(0,Y.useMemo)(()=>({activatorEvent:de,activators:ja,active:k,activeNodeRect:Nt,ariaDescribedById:{draggable:Ae},dispatch:g,draggableNodes:E,over:kr,measureDroppableContainers:Z}),[de,ja,k,Nt,g,Ae,E,kr,Z]);return Y.default.createElement(EM.Provider,{value:_},Y.default.createElement(SS.Provider,{value:Iu},Y.default.createElement(BM.Provider,{value:$a},Y.default.createElement(NS.Provider,{value:ps},u)),Y.default.createElement(CG,{disabled:a?.restoreFocus===!1})),Y.default.createElement(H7,{...a,hiddenTextDescribedById:Ae}));function _u(){let ie=z?.autoScrollEnabled===!1,re=typeof l=="object"?l.enabled===!1:l===!1,Pt=U&&!ie&&!re;return typeof l=="object"?{...l,enabled:Pt}:{enabled:Pt}}});MG={x:0,y:0,scaleX:1,scaleY:1};UG={position:"fixed",touchAction:"none"},VG=t=>Cb(t)?"transform 250ms ease":void 0,HG=(0,Y.forwardRef)((t,e)=>{let{as:n,activatorEvent:r,adjustScale:s,children:i,className:o,rect:a,style:l,transform:u,transition:d=VG}=t;if(!a)return null;let f=s?u:{...u,scaleX:1,scaleY:1},h={...UG,width:a.width,height:a.height,top:a.top,left:a.left,transform:mh.Transform.toString(f),transformOrigin:s&&r?B7(r,a):void 0,transition:typeof d=="function"?d(r):d,...l};return Y.default.createElement(n,{className:o,style:h,ref:e},i)}),BG=t=>e=>{let{active:n,dragOverlay:r}=e,s={},{styles:i,className:o}=t;if(i!=null&&i.active)for(let[a,l]of Object.entries(i.active))l!==void 0&&(s[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,l));if(i!=null&&i.dragOverlay)for(let[a,l]of Object.entries(i.dragOverlay))l!==void 0&&r.node.style.setProperty(a,l);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(let[l,u]of Object.entries(s))n.node.style.setProperty(l,u);o!=null&&o.active&&n.node.classList.remove(o.active)}},zG=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:mh.Transform.toString(e)},{transform:mh.Transform.toString(n)}]},qG={duration:250,easing:"ease",keyframes:zG,sideEffects:BG({styles:{active:{opacity:"0"}}})};_M=0;GM=Y.default.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:s,transition:i,modifiers:o,wrapperElement:a="div",className:l,zIndex:u=999}=t,{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:p,draggableNodes:b,droppableContainers:I,dragOverlay:v,over:g,measuringConfiguration:y,scrollableAncestors:_,scrollableAncestorRects:A,windowRect:R}=PG(),U=(0,Y.useContext)(NS),S=$G(f?.id),E=zM(o,{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:p,draggingNodeRect:v.rect,over:g,overlayNodeRect:v.rect,scrollableAncestors:_,scrollableAncestorRects:A,transform:U,windowRect:R}),T=_S(h),x=GG({config:r,draggableNodes:b,droppableContainers:I,measuringConfiguration:y}),N=T?v.setRef:void 0;return Y.default.createElement(FG,null,Y.default.createElement(OG,{animation:x},f&&S?Y.default.createElement(HG,{key:S,id:f.id,ref:N,as:a,activatorEvent:d,adjustScale:e,className:l,transition:i,rect:T,style:{zIndex:u,...s},transform:E},n):null))})});var Mb,ot,KG,WG,YG,QG,kS,$M=j(()=>{"use strict";Mb=L(me(),1);Pe();$l();Nb();dh();Oa();Os();ot=L(H(),1),KG=({rating:t=0})=>(0,ot.jsx)("div",{className:"flex items-center",children:[1,2,3,4,5].map(e=>(0,ot.jsx)(rr,{className:`w-3 h-3 text-yellow-400 ${t>=e?"fill-current":"fill-transparent stroke-current"}`},e))}),WG=({items:t=[]})=>{let e=t.filter(n=>n.completed).length;return(0,ot.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[(0,ot.jsx)(It,{className:"w-3 h-3"}),(0,ot.jsxs)("span",{children:[e,"/",t.length," completed"]})]})},YG=({item:t,onClick:e,isSelected:n})=>{let r=Qi(),s=Sr(),i=Mb.default.useMemo(()=>{if(t.type==="habit"){if(t.completed!==void 0)return t.completed;let f=t.originalData,h=new Date(t.date);return h.setHours(0,0,0,0),Sb(f,r.habitLogs,h)}return t.completed},[t.type,t.originalData?.id,t.date,t.completed,r.habitLogs]),o=Mb.default.useMemo(()=>{if(t.type==="log"){let f=t.originalData;return s.foci.find(h=>h.id===f.focusId)}return null},[t.type,t.originalData,s.foci]),a=f=>{let h=J[f]||Ts;return(0,ot.jsx)(h,{className:"w-4 h-4"})},l=f=>{switch(f){case"task":return(0,ot.jsx)(It,{className:"w-4 h-4"});case"habit":return(0,ot.jsx)(je,{className:"w-4 h-4"});case"habit_log":return(0,ot.jsx)(Qf,{className:"w-4 h-4"});case"log":return(0,ot.jsx)(nn,{className:"w-4 h-4"});default:return(0,ot.jsx)(Ts,{className:"w-4 h-4"})}},u=(f,h,p)=>{if(h==="task"&&p){let b=p;if(b.dueDate){let I=new Date(b.dueDate);if(I.getHours()===0&&I.getMinutes()===0&&I.getSeconds()===0)return null}}return h==="habit"?f.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):f.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},d=()=>{if(t.type!=="log")return null;let f=t.originalData;return(0,ot.jsxs)("div",{className:"space-y-2 mt-2",children:[o&&(0,ot.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ot.jsx)(je,{className:"w-3 h-3 text-purple-500"}),(0,ot.jsx)("span",{className:`text-xs px-2 py-1 rounded ${o.color==="blue-500"?"text-blue-500 bg-blue-500/10":o.color==="green-500"?"text-green-500 bg-green-500/10":o.color==="purple-500"?"text-purple-500 bg-purple-500/10":o.color==="red-500"?"text-red-500 bg-red-500/10":o.color==="yellow-500"?"text-yellow-500 bg-yellow-500/10":o.color==="indigo-500"?"text-indigo-500 bg-indigo-500/10":o.color==="pink-500"?"text-pink-500 bg-pink-500/10":"text-gray-500 bg-gray-500/10"}`,children:o.name})]}),f.description&&(0,ot.jsx)("p",{className:"text-xs text-gray-600 truncate",children:f.description}),f.logType==="rating"&&f.rating&&(0,ot.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ot.jsx)(KG,{rating:f.rating}),(0,ot.jsxs)("span",{className:"text-xs text-gray-500",children:[f.rating,"/5"]})]}),f.logType==="checklist"&&f.checklist&&(0,ot.jsx)(WG,{items:f.checklist})]})};return(0,ot.jsx)("div",{onClick:()=>e(t),className:`
        p-4 rounded-lg border transition-all duration-200 cursor-pointer
        ${n?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 bg-white hover:border-gray-300 hover:shadow-sm"}
      `,children:(0,ot.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,ot.jsx)("div",{className:"flex items-center text-gray-500 flex-shrink-0",children:a(t.icon)}),(0,ot.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ot.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,ot.jsx)("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:(0,ot.jsx)("h4",{className:"text-sm font-medium text-gray-900 truncate",children:t.title})}),(0,ot.jsxs)("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[u(t.date,t.type,t.originalData)&&(0,ot.jsx)("span",{className:"text-xs text-gray-500",children:u(t.date,t.type,t.originalData)}),t.type==="task"&&t.originalData?.priority&&(0,ot.jsx)(Pr,{className:`w-3 h-3 ${t.originalData.priority===1?"text-red-600":t.originalData.priority===2?"text-orange-500":t.originalData.priority===3?"text-blue-500":"text-gray-500"}`}),l(t.type),i&&(0,ot.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:(0,ot.jsx)(ya,{className:"w-2.5 h-2.5 text-white"})})]})]}),t.type==="habit"?(0,ot.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,ot.jsx)(je,{className:"w-3 h-3 text-purple-500"}),(0,ot.jsx)("span",{className:"text-xs text-purple-600 bg-purple-50 px-2 py-1 rounded",children:t.description||"Wellness"})]}):null,t.type==="task"&&(0,ot.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,ot.jsx)(Nn,{className:"w-3 h-3 text-blue-500"}),(0,ot.jsx)("span",{className:"text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded",children:t.description||"Inbox"})]}),d()]})]})})},QG=Mb.default.memo(YG,(t,e)=>t.item.id===e.item.id&&t.isSelected===e.isSelected&&t.item.completed===e.item.completed&&t.item.date.getTime()===e.item.date.getTime()),kS=QG});var bh,XG,JG,KM,WM=j(()=>{"use strict";Pe();$l();bh=L(H(),1),XG=[{type:"task",label:"Tasks",icon:"CheckSquareIcon",color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"},{type:"habit",label:"Habits",icon:"TargetIcon",color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"},{type:"log",label:"Journal",icon:"BookOpenIcon",color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200"}],JG=({activeFilters:t,onFilterChange:e})=>{let n=r=>{let s=J[r];return s?(0,bh.jsx)(s,{className:"w-4 h-4"}):null};return(0,bh.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg",children:[(0,bh.jsx)("span",{className:"text-sm font-medium text-gray-700 mr-2",children:"Show:"}),XG.map(r=>{let s=t.has(r.type);return(0,bh.jsxs)("button",{onClick:()=>e(r.type,!s),className:`flex items-center gap-1 px-3 py-1.5 text-sm rounded-md border transition-colors ${s?`${r.bgColor} ${r.borderColor} ${r.color}`:"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[n(r.icon),r.label]},r.type)})]})},KM=JG});var gp,Qt,ZG,YM,QM=j(()=>{"use strict";gp=L(me(),1);jM();Pe();Nb();$M();Xi();WM();Qt=L(H(),1),ZG=({items:t,selectedDate:e,selectedItem:n,onItemSelect:r,onDateSelect:s})=>{let[i,o]=(0,gp.useState)(null),{startDrag:a,endDrag:l,moveItemToDate:u,dragHistory:d,undoLastDrag:f,itemTypeFilters:h,toggleItemTypeFilter:p}=wn(),b=NM(SM(yh,{activationConstraint:{distance:8}})),I=S=>{let{active:E}=S,T=t.find(x=>x.id===E.id);T&&(o(T),a())},v=async S=>{let{active:E,over:T}=S;if(T&&E.id!==T.id){let x=t.find(D=>D.id===E.id),N=T.data.current?.date;x&&N&&await u(x.id,N)}o(null),l()},g=(0,gp.useMemo)(()=>{let S=t;return h.size>0&&(S=t.filter(E=>h.has(E.type))),nM(S,e)},[t,e,h]),y=(0,gp.useMemo)(()=>g,[g]),_=()=>{s(new Date)},A=()=>{let S=new Date(e);S.setDate(S.getDate()-1),s(S)},R=()=>{let S=new Date(e);S.setDate(S.getDate()+1),s(S)},U=e.toDateString()===new Date().toDateString();return(0,Qt.jsxs)(qM,{sensors:b,onDragStart:I,onDragEnd:v,children:[(0,Qt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 h-full",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Qt.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Calendar"}),(0,Qt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Qt.jsx)(KM,{activeFilters:h,onFilterChange:p}),d.length>0&&(0,Qt.jsx)("button",{onClick:f,className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",title:"Undo last move",children:(0,Qt.jsx)(dT,{className:"w-4 h-4"})})]})]}),(0,Qt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Qt.jsx)("button",{onClick:A,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Previous day",children:(0,Qt.jsx)(ti,{className:"w-5 h-5 text-gray-600"})}),(0,Qt.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),(0,Qt.jsx)("button",{onClick:R,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Next day",children:(0,Qt.jsx)(Bn,{className:"w-5 h-5 text-gray-600"})})]}),(0,Qt.jsx)("button",{onClick:_,className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${U?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Today"})]}),g.length===0?(0,Qt.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,Qt.jsx)(lt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,Qt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No items for today"}),(0,Qt.jsx)("p",{className:"text-gray-600",children:"Add some tasks, habits, or journal entries to get started"})]}):(0,Qt.jsx)("div",{className:"space-y-6",children:(0,Qt.jsxs)("div",{className:"relative",children:[(0,Qt.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Today's Items"}),(0,Qt.jsx)("div",{className:"space-y-3",children:y.map(S=>(0,Qt.jsx)(kS,{item:S,onClick:r,isSelected:n?.id===S.id},S.id))})]})})]}),(0,Qt.jsx)(GM,{children:i?(0,Qt.jsx)(kS,{item:i,onClick:()=>{},isSelected:!1}):null})]})},YM=ZG});var AS,Le,ej,XM,JM=j(()=>{"use strict";AS=L(me(),1);Pe();Xi();$l();Le=L(H(),1),ej=({onAddTask:t,onAddHabitLog:e,onAddJournalEntry:n})=>{let{selectedDate:r,calendarItems:s}=wn(),i=(0,AS.useMemo)(()=>{let u=new Date(r);u.setHours(0,0,0,0);let d=new Date(r);return d.setHours(23,59,59,999),s.filter(f=>{let h=new Date(f.date);return h>=u&&h<=d})},[s,r]),o=(0,AS.useMemo)(()=>{let u=i.filter(v=>v.type==="task"),d=i.filter(v=>v.type==="habit"),f=i.filter(v=>v.type==="log"),h=u.filter(v=>v.completed).length,p=d.filter(v=>v.completed).length,b=u.length,I=d.length;return{tasksCompleted:h,totalTasks:b,tasksProgress:b>0?h/b*100:0,habitsCompleted:p,totalHabits:I,habitsProgress:I>0?p/I*100:0,journalEntries:f.length}},[i]),a=[{label:"Add Task",icon:"PlusIcon",onClick:t,color:"blue"},{label:"Log Habit",icon:"CheckSquareIcon",onClick:e,color:"green"},{label:"Add Entry",icon:"Edit3Icon",onClick:n,color:"purple"}],l=u=>{let d=J[u]||At;return(0,Le.jsx)(d,{className:"w-5 h-5"})};return(0,Le.jsxs)("div",{className:"space-y-6",children:[(0,Le.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,Le.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Le.jsx)(je,{className:"w-4 h-4 mr-2 text-blue-600"}),"Today's Focus"]}),i.length===0?(0,Le.jsxs)("div",{className:"text-center py-4 text-gray-500",children:[(0,Le.jsx)(lt,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,Le.jsx)("p",{className:"text-sm",children:"No items scheduled for today"}),(0,Le.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Add some tasks or habits to get started"})]}):(0,Le.jsxs)("div",{className:"space-y-2",children:[i.slice(0,3).map(u=>(0,Le.jsxs)("div",{className:"flex items-center p-2 rounded-md hover:bg-gray-50 cursor-pointer",children:[(0,Le.jsx)("div",{className:`w-2 h-2 rounded-full mr-3 bg-${u.color}`}),(0,Le.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Le.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:u.title}),(0,Le.jsx)("p",{className:"text-xs text-gray-500",children:u.type==="task"?"Task":u.type==="habit"?"Habit":"Journal"})]}),u.completed&&(0,Le.jsx)(ya,{className:"w-4 h-4 text-green-500 ml-2"})]},u.id)),i.length>3&&(0,Le.jsxs)("p",{className:"text-xs text-gray-500 text-center pt-2",children:["+",i.length-3," more items"]})]})]}),(0,Le.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,Le.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Le.jsx)(Nc,{className:"w-4 h-4 mr-2 text-green-600"}),"Today's Progress"]}),(0,Le.jsxs)("div",{className:"space-y-3",children:[(0,Le.jsxs)("div",{children:[(0,Le.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,Le.jsx)("span",{className:"text-xs font-medium text-gray-700",children:"Tasks"}),(0,Le.jsxs)("span",{className:"text-xs text-gray-500",children:[o.tasksCompleted,"/",o.totalTasks]})]}),(0,Le.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Le.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${o.tasksProgress}%`}})})]}),(0,Le.jsxs)("div",{children:[(0,Le.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,Le.jsx)("span",{className:"text-xs font-medium text-gray-700",children:"Habits"}),(0,Le.jsxs)("span",{className:"text-xs text-gray-500",children:[o.habitsCompleted,"/",o.totalHabits]})]}),(0,Le.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Le.jsx)("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${o.habitsProgress}%`}})})]}),(0,Le.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Le.jsx)("span",{className:"text-xs font-medium text-gray-700",children:"Journal Entries"}),(0,Le.jsx)("span",{className:"text-xs text-gray-500",children:o.journalEntries})]})]})]}),(0,Le.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,Le.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Le.jsx)(Sc,{className:"w-4 h-4 mr-2 text-yellow-600"}),"Quick Actions"]}),(0,Le.jsx)("div",{className:"space-y-2",children:a.map(u=>(0,Le.jsxs)("button",{onClick:u.onClick,className:`w-full flex items-center p-3 rounded-md border border-gray-200 hover:border-${u.color}-300 hover:bg-${u.color}-50 transition-colors duration-200`,children:[(0,Le.jsx)("div",{className:`w-8 h-8 rounded-md bg-${u.color}-100 flex items-center justify-center mr-3`,children:l(u.icon)}),(0,Le.jsx)("span",{className:"text-sm font-medium text-gray-900",children:u.label})]},u.label))})]}),(0,Le.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,Le.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Le.jsx)(Qf,{className:"w-4 h-4 mr-2 text-orange-600"}),"Current Streaks"]}),(0,Le.jsxs)("div",{className:"space-y-2",children:[(0,Le.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Le.jsx)("span",{className:"text-xs text-gray-700",children:"Task Completion"}),(0,Le.jsx)("span",{className:"text-xs font-medium text-orange-600",children:"7 days"})]}),(0,Le.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Le.jsx)("span",{className:"text-xs text-gray-700",children:"Habit Tracking"}),(0,Le.jsx)("span",{className:"text-xs font-medium text-orange-600",children:"5 days"})]}),(0,Le.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Le.jsx)("span",{className:"text-xs text-gray-700",children:"Journal Writing"}),(0,Le.jsx)("span",{className:"text-xs font-medium text-orange-600",children:"3 days"})]})]})]})]})},XM=ej});var ZM,uu,tj,br,eo=j(()=>{"use strict";ZM=L(me(),1),uu=L(H(),1),tj=({checked:t,onChange:e,label:n,id:r,disabled:s=!1})=>{let i=r||ZM.default.useId();return(0,uu.jsxs)("div",{className:"flex items-center",children:[(0,uu.jsx)("button",{id:i,type:"button",role:"checkbox","aria-checked":t,onClick:o=>{s||(o.stopPropagation(),e())},disabled:s,className:`w-5 h-5 flex-shrink-0 rounded border-2 flex items-center justify-center transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500 ${t?"bg-blue-600 border-blue-600":"bg-transparent border-gray-400 hover:border-blue-500"} ${s?"cursor-not-allowed opacity-50":""}`,children:t&&(0,uu.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"3.5",children:(0,uu.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),n&&(0,uu.jsx)("label",{htmlFor:i,className:"ml-2 text-sm text-gray-700 cursor-pointer",children:n})]})},br=tj});var to,mt,nj,e4,t4,rj,sj,Hs,Wl=j(()=>{"use strict";to=L(me(),1);Pe();mt=L(H(),1),nj=t=>t.toLocaleDateString("en-US",{month:"long",year:"numeric"}),e4=(t,e)=>!t||!e?!1:t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate(),t4=t=>{(!t||typeof t!="object"||!(t instanceof Date)||isNaN(t.getTime()))&&(t=new Date);let e=t.getFullYear(),n=t.getMonth(),r=new Date(e,n,1),s=new Date(e,n+1,0),i=r.getDay(),o=[];for(let a=0;a<i;a++){let l=new Date(r);l.setDate(l.getDate()-(i-a)),o.push(l)}for(let a=1;a<=s.getDate();a++)o.push(new Date(e,n,a));for(;o.length<42;){let a=o[o.length-1],l=new Date(a);l.setDate(a.getDate()+1),o.push(l)}return o},rj=({className:t})=>(0,mt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"3",children:(0,mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),sj=({currentDate:t,onSelect:e,onClear:n})=>{let r=T=>!T||!(T instanceof Date)||isNaN(T.getTime())?new Date:T,[s,i]=(0,to.useState)(r(t)),[o,a]=(0,to.useState)(r(t)),[l,u]=(0,to.useState)("12:00"),[d,f]=(0,to.useState)("PM"),[h,p]=(0,to.useState)(!1);(0,to.useEffect)(()=>{let T=t,x=T&&(T.getHours()!==0||T.getMinutes()!==0);if(p(x),x&&T){let D=T.getHours(),k=T.getMinutes(),V=D>=12?"PM":"AM";D=D%12,D=D||12,u(`${String(D).padStart(2,"0")}:${String(k).padStart(2,"0")}`),f(V)}else u("12:00"),f("PM");let N=r(t);a(N),i(N)},[t]);let b=(0,to.useMemo)(()=>{let T=[];for(let x=0;x<24*2;x++){let N=Math.floor(x/2),D=x%2*30,k=N>=12?"PM":"AM",V=N%12;V===0&&(V=12);let z=`${String(V).padStart(2,"0")}:${String(D).padStart(2,"0")}`;T.push({time:z,period:k})}return T},[]),I=(0,to.useMemo)(()=>!s||typeof s!="object"||!(s instanceof Date)||isNaN(s.getTime())?t4(new Date):t4(s),[s]),v=()=>i(T=>T?new Date(T.getFullYear(),T.getMonth()-1,1):new Date),g=()=>i(T=>T?new Date(T.getFullYear(),T.getMonth()+1,1):new Date),y=()=>{let T=new Date;i(T),a(T)},_=T=>a(T),A=T=>{let N=T.target.value.replace(/[^0-9]/g,"").slice(0,4);if(N.length===0){u("");return}let D=N;if(N.length>2){let k=N.slice(0,-2),V=N.slice(-2);D=`${k}:${V}`}u(D)},R=()=>{if(!l.trim()){u("12:00");return}let T=l.replace(/[^0-9]/g,""),x,N;T.length<=2?(x=parseInt(T,10)||12,N=0):(x=parseInt(T.slice(0,-2),10)||12,N=parseInt(T.slice(-2),10)||0),x>12&&(x=12),x===0&&(x=12),N>59&&(N=59),u(`${String(x).padStart(2,"0")}:${String(N).padStart(2,"0")}`)},U=(T,x)=>{u(T),f(x)},S=()=>{if(!o)return;let T=new Date(o);if(T.setHours(0,0,0,0),h&&l){let x=l.split(":"),N=parseInt(x[0],10),D=parseInt(x[1]||"0",10);!isNaN(N)&&!isNaN(D)&&(d==="PM"&&N<12?N+=12:d==="AM"&&N===12&&(N=0),T.setHours(N,D,0,0))}e(T)},E=()=>{p(!1),u("12:00"),f("PM")};return(0,mt.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-200 w-80 p-4 font-sans text-gray-800",children:[(0,mt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,mt.jsx)("span",{className:"text-lg font-semibold",children:nj(s)}),(0,mt.jsxs)("div",{className:"flex items-center space-x-2 text-gray-500",children:[(0,mt.jsx)("button",{onClick:v,className:"p-1 rounded-full hover:bg-gray-100",children:(0,mt.jsx)(ti,{className:"w-5 h-5"})}),(0,mt.jsx)("button",{onClick:y,title:"Go to Today",className:"w-5 h-5 border border-gray-400 rounded-full hover:bg-gray-100"}),(0,mt.jsx)("button",{onClick:g,className:"p-1 rounded-full hover:bg-gray-100",children:(0,mt.jsx)(Bn,{className:"w-5 h-5"})})]})]}),(0,mt.jsxs)("div",{className:"grid grid-cols-7 gap-y-1 text-center text-sm",children:[["S","M","T","W","T","F","S"].map(T=>(0,mt.jsx)("div",{className:"w-9 h-9 flex items-center justify-center text-gray-400 font-semibold",children:T},T)),I.map((T,x)=>{let N=T.getMonth()===s.getMonth(),D=e4(T,o),k=e4(T,new Date),V="w-9 h-9 flex items-center justify-center rounded-full transition-colors duration-150";return D?V+=" bg-blue-600 text-white font-semibold":k?V+=" border-2 border-blue-600 text-blue-600 font-semibold hover:bg-blue-50":N?V+=" text-gray-700 hover:bg-gray-100":V+=" text-gray-300 hover:bg-gray-100",(0,mt.jsx)("div",{className:"flex justify-center items-center",children:(0,mt.jsx)("button",{onClick:()=>_(T),className:V,children:T.getDate()})},T.toISOString())})]}),(0,mt.jsx)("div",{className:"mt-4 border-t border-gray-200 pt-3",children:h?(0,mt.jsxs)("div",{children:[(0,mt.jsxs)("div",{className:"p-2 rounded-md bg-gray-50 border relative",children:[(0,mt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mt.jsx)(ni,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),(0,mt.jsx)("input",{type:"text",value:l,onChange:A,onBlur:R,placeholder:"12:00",className:"font-medium bg-transparent outline-none w-24 text-lg text-blue-600"}),(0,mt.jsxs)("div",{className:"flex border border-gray-300 rounded-md ml-auto",children:[(0,mt.jsx)("button",{type:"button",onClick:()=>f("AM"),className:`px-3 py-1 text-sm font-semibold rounded-l-md transition-colors ${d==="AM"?"bg-blue-600 text-white":"bg-white text-blue-600 hover:bg-gray-100"}`,children:"AM"}),(0,mt.jsx)("button",{type:"button",onClick:()=>f("PM"),className:`px-3 py-1 text-sm font-semibold rounded-r-md transition-colors border-l border-gray-300 ${d==="PM"?"bg-blue-600 text-white":"bg-white text-blue-600 hover:bg-gray-100"}`,children:"PM"})]})]}),(0,mt.jsx)("button",{type:"button",onClick:E,className:"absolute -top-2 -right-2 w-5 h-5 bg-gray-400 text-white rounded-full flex items-center justify-center text-xs hover:bg-gray-600",title:"Remove time",children:"\xD7"})]}),(0,mt.jsx)("ul",{className:"max-h-36 overflow-y-auto mt-2",children:b.map(({time:T,period:x})=>{let N=T===l&&x===d;return(0,mt.jsx)("li",{children:(0,mt.jsxs)("button",{type:"button",onClick:()=>U(T,x),className:`w-full flex justify-between items-center text-left px-3 py-1.5 text-sm rounded-md ${N?"bg-blue-50 text-blue-700 font-semibold":"hover:bg-gray-100 text-gray-800"}`,children:[(0,mt.jsxs)("span",{children:[T," ",(0,mt.jsx)("span",{className:N?"text-blue-600":"text-gray-500",children:x})]}),N&&(0,mt.jsx)(rj,{className:"w-4 h-4 text-blue-600"})]})},`${T}-${x}`)})})]}):(0,mt.jsxs)("button",{type:"button",onClick:()=>p(!0),className:"w-full flex items-center justify-center gap-2 p-2 rounded-md bg-gray-50 hover:bg-gray-100 text-sm text-blue-600 font-semibold",children:[(0,mt.jsx)(ni,{className:"w-5 h-5"}),"Add time"]})}),(0,mt.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,mt.jsx)("button",{onClick:n,className:"px-4 py-2 text-sm font-semibold text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-gray-300",children:"Clear"}),(0,mt.jsx)("button",{onClick:S,className:"px-4 py-2 text-sm font-semibold text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500",children:"OK"})]})]})},Hs=sj});var jo,ij,n4,r4=j(()=>{"use strict";eo();Pe();jo=L(H(),1),ij=({task:t,onToggleComplete:e,onSelect:n})=>{let r=s=>{if(!s)return"";let i=new Date(s),o=new Date,a=new Date;a.setDate(o.getDate()+1),o.setHours(0,0,0,0);let l=new Date(i);return l.setHours(0,0,0,0),l.getTime()===o.getTime()?"Today":l.getTime()===a.getTime()?"Tomorrow":i.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return(0,jo.jsxs)("li",{className:"flex items-center gap-1 py-2 px-2 rounded-md hover:bg-gray-100 group transition-colors duration-200 cursor-pointer border border-gray-200 hover:border-gray-300",onClick:()=>n(t.id),children:[(0,jo.jsx)("div",{className:"flex items-center justify-center w-5 h-5",children:(0,jo.jsx)(br,{checked:t.completed,onChange:()=>e(t.id)})}),(0,jo.jsx)("span",{className:`flex-1 text-sm truncate ${t.completed?"text-gray-400 line-through":"text-gray-700"}`,children:t.title}),t.dueDate&&(0,jo.jsxs)("span",{className:"flex items-center gap-1 text-xs text-blue-600 font-medium",children:[(0,jo.jsx)(ni,{className:"w-3.5 h-3.5"}),r(t.dueDate)]}),(0,jo.jsx)("button",{onClick:s=>{s.stopPropagation()},className:"p-1 text-gray-400 hover:text-gray-600 opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"More options",children:(0,jo.jsx)(nr,{className:"w-4 h-4"})})]})},n4=ij});var Fa,oj,s4,i4=j(()=>{"use strict";Os();Pe();Fa=L(H(),1),oj=({log:t})=>{let e=ai[t.logType],n=e?J[e.icon]:nn,r=s=>{let i=new Date(s),o=new Date,a=new Date;a.setDate(o.getDate()-1),o.setHours(0,0,0,0);let l=new Date(i);return l.setHours(0,0,0,0),l.getTime()===o.getTime()?`Today at ${i.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`:l.getTime()===a.getTime()?`Yesterday at ${i.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`:i.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return(0,Fa.jsxs)("li",{className:"flex items-start gap-3 p-2.5 rounded-md bg-gray-50/70 border border-gray-200/80",children:[(0,Fa.jsx)("div",{className:"pt-0.5",children:(0,Fa.jsx)(n,{className:"w-5 h-5 text-gray-500"})}),(0,Fa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Fa.jsx)("p",{className:"text-sm font-medium text-gray-800",children:t.title}),t.description&&(0,Fa.jsx)("p",{className:"text-xs text-gray-500 truncate mt-0.5",children:t.description})]}),(0,Fa.jsx)("div",{className:"text-xs text-gray-500 flex-shrink-0 pt-0.5",children:r(t.logDate)})]})},s4=oj});function PS(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}function d4(t){hu=t}function Gt(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(s,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(_s.caret,"$1"),n=n.replace(s,o),r},getRegex:()=>new RegExp(n,e)};return r}function $o(t,e){if(e){if(_s.escapeTest.test(t))return t.replace(_s.escapeReplace,a4)}else if(_s.escapeTestNoEncode.test(t))return t.replace(_s.escapeReplaceNoEncode,a4);return t}function l4(t){try{t=encodeURI(t).replace(_s.percentDecode,"%")}catch{return null}return t}function c4(t,e){let n=t.replace(_s.findPipe,(i,o,a)=>{let l=!1,u=o;for(;--u>=0&&a[u]==="\\";)l=!l;return l?"|":" |"}),r=n.split(_s.splitPipe),s=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(_s.slashPipe,"|");return r}function bp(t,e,n){let r=t.length;if(r===0)return"";let s=0;for(;s<r;){let i=t.charAt(r-s-1);if(i===e&&!n)s++;else if(i!==e&&n)s++;else break}return t.slice(0,r-s)}function Hj(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function u4(t,e,n,r,s){let i=e.href,o=e.title||null,a=t[1].replace(s.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:i,title:o,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}function Bj(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let s=r[1];return e.split(`
`).map(i=>{let o=i.match(n.other.beginningSpace);if(o===null)return i;let[a]=o;return a.length>=s.length?i.slice(s.length):i}).join(`
`)}function Ct(t,e){return du.parse(t,e)}var hu,vp,_s,aj,lj,cj,wp,uj,OS,h4,f4,dj,MS,hj,FS,fj,mj,zb,US,pj,m4,gj,VS,o4,yj,bj,vj,wj,p4,xj,qb,HS,g4,Tj,y4,Ij,_j,Ej,b4,Sj,Nj,v4,kj,Aj,Dj,Cj,Rj,Lj,Pj,Vb,Oj,w4,x4,Mj,BS,Fj,CS,Uj,Fb,yp,Vj,a4,Hb,Ua,Bb,zS,Va,DS,Ub,zj,du,qZ,GZ,jZ,$Z,KZ,WZ,YZ,qS=j(()=>{hu=PS();vp={exec:()=>null};_s={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},aj=/^(?:[ \t]*(?:\n|$))+/,lj=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,cj=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,wp=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,uj=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,OS=/(?:[*+-]|\d{1,9}[.)])/,h4=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,f4=Gt(h4).replace(/bull/g,OS).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),dj=Gt(h4).replace(/bull/g,OS).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),MS=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,hj=/^[^\n]+/,FS=/(?!\s*\])(?:\\.|[^\[\]\\])+/,fj=Gt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",FS).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),mj=Gt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,OS).getRegex(),zb="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",US=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,pj=Gt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",US).replace("tag",zb).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),m4=Gt(MS).replace("hr",wp).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",zb).getRegex(),gj=Gt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",m4).getRegex(),VS={blockquote:gj,code:lj,def:fj,fences:cj,heading:uj,hr:wp,html:pj,lheading:f4,list:mj,newline:aj,paragraph:m4,table:vp,text:hj},o4=Gt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",wp).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",zb).getRegex(),yj={...VS,lheading:dj,table:o4,paragraph:Gt(MS).replace("hr",wp).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",o4).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",zb).getRegex()},bj={...VS,html:Gt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",US).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:vp,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Gt(MS).replace("hr",wp).replace("heading",` *#{1,6} *[^
]`).replace("lheading",f4).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},vj=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,wj=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,p4=/^( {2,}|\\)\n(?!\s*$)/,xj=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,qb=/[\p{P}\p{S}]/u,HS=/[\s\p{P}\p{S}]/u,g4=/[^\s\p{P}\p{S}]/u,Tj=Gt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,HS).getRegex(),y4=/(?!~)[\p{P}\p{S}]/u,Ij=/(?!~)[\s\p{P}\p{S}]/u,_j=/(?:[^\s\p{P}\p{S}]|~)/u,Ej=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,b4=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Sj=Gt(b4,"u").replace(/punct/g,qb).getRegex(),Nj=Gt(b4,"u").replace(/punct/g,y4).getRegex(),v4="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",kj=Gt(v4,"gu").replace(/notPunctSpace/g,g4).replace(/punctSpace/g,HS).replace(/punct/g,qb).getRegex(),Aj=Gt(v4,"gu").replace(/notPunctSpace/g,_j).replace(/punctSpace/g,Ij).replace(/punct/g,y4).getRegex(),Dj=Gt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,g4).replace(/punctSpace/g,HS).replace(/punct/g,qb).getRegex(),Cj=Gt(/\\(punct)/,"gu").replace(/punct/g,qb).getRegex(),Rj=Gt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Lj=Gt(US).replace("(?:-->|$)","-->").getRegex(),Pj=Gt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Lj).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Vb=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Oj=Gt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Vb).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),w4=Gt(/^!?\[(label)\]\[(ref)\]/).replace("label",Vb).replace("ref",FS).getRegex(),x4=Gt(/^!?\[(ref)\](?:\[\])?/).replace("ref",FS).getRegex(),Mj=Gt("reflink|nolink(?!\\()","g").replace("reflink",w4).replace("nolink",x4).getRegex(),BS={_backpedal:vp,anyPunctuation:Cj,autolink:Rj,blockSkip:Ej,br:p4,code:wj,del:vp,emStrongLDelim:Sj,emStrongRDelimAst:kj,emStrongRDelimUnd:Dj,escape:vj,link:Oj,nolink:x4,punctuation:Tj,reflink:w4,reflinkSearch:Mj,tag:Pj,text:xj,url:vp},Fj={...BS,link:Gt(/^!?\[(label)\]\((.*?)\)/).replace("label",Vb).getRegex(),reflink:Gt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Vb).getRegex()},CS={...BS,emStrongRDelimAst:Aj,emStrongLDelim:Nj,url:Gt(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Uj={...CS,br:Gt(p4).replace("{2,}","*").getRegex(),text:Gt(CS.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Fb={normal:VS,gfm:yj,pedantic:bj},yp={normal:BS,gfm:CS,breaks:Uj,pedantic:Fj},Vj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},a4=t=>Vj[t];Hb=class{constructor(t){sn(this,"options");sn(this,"rules");sn(this,"lexer");this.options=t||hu}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let n=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:bp(n,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let n=e[0],r=Bj(n,e[3]||"",this.rules);return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let n=e[2].trim();if(this.rules.other.endingHash.test(n)){let r=bp(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:bp(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let n=bp(e[0],`
`).split(`
`),r="",s="",i=[];for(;n.length>0;){let o=!1,a=[],l;for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))a.push(n[l]),o=!0;else if(!o)a.push(n[l]);else break;n=n.slice(l);let u=a.join(`
`),d=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${u}`:u,s=s?`${s}
${d}`:d;let f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,i,!0),this.lexer.state.top=f,n.length===0)break;let h=i.at(-1);if(h?.type==="code")break;if(h?.type==="blockquote"){let p=h,b=p.raw+`
`+n.join(`
`),I=this.blockquote(b);i[i.length-1]=I,r=r.substring(0,r.length-p.raw.length)+I.raw,s=s.substring(0,s.length-p.text.length)+I.text;break}else if(h?.type==="list"){let p=h,b=p.raw+`
`+n.join(`
`),I=this.list(b);i[i.length-1]=I,r=r.substring(0,r.length-h.raw.length)+I.raw,s=s.substring(0,s.length-p.raw.length)+I.raw,n=b.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:i,text:s}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n=e[1].trim(),r=n.length>1,s={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let i=this.rules.other.listItemRegex(n),o=!1;for(;t;){let l=!1,u="",d="";if(!(e=i.exec(t))||this.rules.block.hr.test(t))break;u=e[0],t=t.substring(u.length);let f=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,g=>" ".repeat(3*g.length)),h=t.split(`
`,1)[0],p=!f.trim(),b=0;if(this.options.pedantic?(b=2,d=f.trimStart()):p?b=e[1].length+1:(b=e[2].search(this.rules.other.nonSpaceChar),b=b>4?1:b,d=f.slice(b),b+=e[1].length),p&&this.rules.other.blankLine.test(h)&&(u+=h+`
`,t=t.substring(h.length+1),l=!0),!l){let g=this.rules.other.nextBulletRegex(b),y=this.rules.other.hrRegex(b),_=this.rules.other.fencesBeginRegex(b),A=this.rules.other.headingBeginRegex(b),R=this.rules.other.htmlBeginRegex(b);for(;t;){let U=t.split(`
`,1)[0],S;if(h=U,this.options.pedantic?(h=h.replace(this.rules.other.listReplaceNesting,"  "),S=h):S=h.replace(this.rules.other.tabCharGlobal,"    "),_.test(h)||A.test(h)||R.test(h)||g.test(h)||y.test(h))break;if(S.search(this.rules.other.nonSpaceChar)>=b||!h.trim())d+=`
`+S.slice(b);else{if(p||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||_.test(f)||A.test(f)||y.test(f))break;d+=`
`+h}!p&&!h.trim()&&(p=!0),u+=U+`
`,t=t.substring(U.length+1),f=S.slice(b)}}s.loose||(o?s.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(o=!0));let I=null,v;this.options.gfm&&(I=this.rules.other.listIsTask.exec(d),I&&(v=I[0]!=="[ ] ",d=d.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:u,task:!!I,checked:v,loose:!1,text:d,tokens:[]}),s.raw+=u}let a=s.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let l=0;l<s.items.length;l++)if(this.lexer.state.top=!1,s.items[l].tokens=this.lexer.blockTokens(s.items[l].text,[]),!s.loose){let u=s.items[l].tokens.filter(f=>f.type==="space"),d=u.length>0&&u.some(f=>this.rules.other.anyLine.test(f.raw));s.loose=d}if(s.loose)for(let l=0;l<s.items.length;l++)s.items[l].loose=!0;return s}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let n=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:r,title:s}}}table(t){let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let n=c4(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let o of r)this.rules.other.tableAlignRight.test(o)?i.align.push("right"):this.rules.other.tableAlignCenter.test(o)?i.align.push("center"):this.rules.other.tableAlignLeft.test(o)?i.align.push("left"):i.align.push(null);for(let o=0;o<n.length;o++)i.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:i.align[o]});for(let o of s)i.rows.push(c4(o,i.header.length).map((a,l)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:i.align[l]})));return i}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let n=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let n=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let i=bp(n.slice(0,-1),"\\");if((n.length-i.length)%2===0)return}else{let i=Hj(e[2],"()");if(i===-2)return;if(i>-1){let o=(e[0].indexOf("!")===0?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,o).trim(),e[3]=""}}let r=e[2],s="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(r);i&&(r=i[1],s=i[3])}else s=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),u4(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=e[r.toLowerCase()];if(!s){let i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return u4(n,s,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!n||this.rules.inline.punctuation.exec(n))){let s=[...r[0]].length-1,i,o,a=s,l=0,u=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,e=e.slice(-1*t.length+s);(r=u.exec(e))!=null;){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(o=[...i].length,r[3]||r[4]){a+=o;continue}else if((r[5]||r[6])&&s%3&&!((s+o)%3)){l+=o;continue}if(a-=o,a>0)continue;o=Math.min(o,o+a+l);let d=[...r[0]][0].length,f=t.slice(0,s+r.index+d+o);if(Math.min(s,o)%2){let p=f.slice(1,-1);return{type:"em",raw:f,text:p,tokens:this.lexer.inlineTokens(p)}}let h=f.slice(2,-2);return{type:"strong",raw:f,text:h,tokens:this.lexer.inlineTokens(h)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let n=e[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:e[0],text:n}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let n,r;return e[2]==="@"?(n=e[1],r="mailto:"+n):(n=e[1],r=n),{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let n,r;if(e[2]==="@")n=e[0],r="mailto:"+n;else{let s;do s=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(s!==e[0]);n=e[0],e[1]==="www."?r="http://"+e[0]:r=e[0]}return{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let n=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:n}}}},Ua=class RS{constructor(e){sn(this,"tokens");sn(this,"options");sn(this,"state");sn(this,"tokenizer");sn(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||hu,this.options.tokenizer=this.options.tokenizer||new Hb,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:_s,block:Fb.normal,inline:yp.normal};this.options.pedantic?(n.block=Fb.pedantic,n.inline=yp.pedantic):this.options.gfm&&(n.block=Fb.gfm,this.options.breaks?n.inline=yp.breaks:n.inline=yp.gfm),this.tokenizer.rules=n}static get rules(){return{block:Fb,inline:yp}}static lex(e,n){return new RS(n).lex(e)}static lexInline(e,n){return new RS(n).inlineTokens(e)}lex(e){e=e.replace(_s.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){for(this.options.pedantic&&(e=e.replace(_s.tabCharGlobal,"    ").replace(_s.spaceLine,""));e;){let s;if(this.options.extensions?.block?.some(o=>(s=o.call({lexer:this},e,n))?(e=e.substring(s.raw.length),n.push(s),!0):!1))continue;if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length);let o=n.at(-1);s.raw.length===1&&o!==void 0?o.raw+=`
`:n.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length);let o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+s.raw,o.text+=`
`+s.text,this.inlineQueue.at(-1).src=o.text):n.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length);let o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+s.raw,o.text+=`
`+s.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),n.push(s);continue}let i=e;if(this.options.extensions?.startBlock){let o=1/0,a=e.slice(1),l;this.options.extensions.startBlock.forEach(u=>{l=u.call({lexer:this},a),typeof l=="number"&&l>=0&&(o=Math.min(o,l))}),o<1/0&&o>=0&&(i=e.substring(0,o+1))}if(this.state.top&&(s=this.tokenizer.paragraph(i))){let o=n.at(-1);r&&o?.type==="paragraph"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+s.raw,o.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(s),r=i.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length);let o=n.at(-1);o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+s.raw,o.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(s);continue}if(e){let o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r=e,s=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)a.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,s.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(s=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let i=!1,o="";for(;e;){i||(o=""),i=!1;let a;if(this.options.extensions?.inline?.some(u=>(a=u.call({lexer:this},e,n))?(e=e.substring(a.raw.length),n.push(a),!0):!1))continue;if(a=this.tokenizer.escape(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.tag(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.link(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(a.raw.length);let u=n.at(-1);a.type==="text"&&u?.type==="text"?(u.raw+=a.raw,u.text+=a.text):n.push(a);continue}if(a=this.tokenizer.emStrong(e,r,o)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.codespan(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.br(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.del(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.autolink(e)){e=e.substring(a.raw.length),n.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(e))){e=e.substring(a.raw.length),n.push(a);continue}let l=e;if(this.options.extensions?.startInline){let u=1/0,d=e.slice(1),f;this.options.extensions.startInline.forEach(h=>{f=h.call({lexer:this},d),typeof f=="number"&&f>=0&&(u=Math.min(u,f))}),u<1/0&&u>=0&&(l=e.substring(0,u+1))}if(a=this.tokenizer.inlineText(l)){e=e.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(o=a.raw.slice(-1)),i=!0;let u=n.at(-1);u?.type==="text"?(u.raw+=a.raw,u.text+=a.text):n.push(a);continue}if(e){let u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return n}},Bb=class{constructor(t){sn(this,"options");sn(this,"parser");this.options=t||hu}space(t){return""}code({text:t,lang:e,escaped:n}){let r=(e||"").match(_s.notSpaceStart)?.[0],s=t.replace(_s.endingNewline,"")+`
`;return r?'<pre><code class="language-'+$o(r)+'">'+(n?s:$o(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:$o(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,n=t.start,r="";for(let o=0;o<t.items.length;o++){let a=t.items[o];r+=this.listitem(a)}let s=e?"ol":"ul",i=e&&n!==1?' start="'+n+'"':"";return"<"+s+i+`>
`+r+"</"+s+`>
`}listitem(t){let e="";if(t.task){let n=this.checkbox({checked:!!t.checked});t.loose?t.tokens[0]?.type==="paragraph"?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=n+" "+$o(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):e+=n+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",n="";for(let s=0;s<t.header.length;s++)n+=this.tablecell(t.header[s]);e+=this.tablerow({text:n});let r="";for(let s=0;s<t.rows.length;s++){let i=t.rows[s];n="";for(let o=0;o<i.length;o++)n+=this.tablecell(i[o]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${$o(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){let r=this.parser.parseInline(n),s=l4(t);if(s===null)return r;t=s;let i='<a href="'+t+'"';return e&&(i+=' title="'+$o(e)+'"'),i+=">"+r+"</a>",i}image({href:t,title:e,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let s=l4(t);if(s===null)return $o(n);t=s;let i=`<img src="${t}" alt="${n}"`;return e&&(i+=` title="${$o(e)}"`),i+=">",i}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:$o(t.text)}},zS=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},Va=class LS{constructor(e){sn(this,"options");sn(this,"renderer");sn(this,"textRenderer");this.options=e||hu,this.options.renderer=this.options.renderer||new Bb,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new zS}static parse(e,n){return new LS(n).parse(e)}static parseInline(e,n){return new LS(n).parseInline(e)}parse(e,n=!0){let r="";for(let s=0;s<e.length;s++){let i=e[s];if(this.options.extensions?.renderers?.[i.type]){let a=i,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){r+=l||"";continue}}let o=i;switch(o.type){case"space":{r+=this.renderer.space(o);continue}case"hr":{r+=this.renderer.hr(o);continue}case"heading":{r+=this.renderer.heading(o);continue}case"code":{r+=this.renderer.code(o);continue}case"table":{r+=this.renderer.table(o);continue}case"blockquote":{r+=this.renderer.blockquote(o);continue}case"list":{r+=this.renderer.list(o);continue}case"html":{r+=this.renderer.html(o);continue}case"paragraph":{r+=this.renderer.paragraph(o);continue}case"text":{let a=o,l=this.renderer.text(a);for(;s+1<e.length&&e[s+1].type==="text";)a=e[++s],l+=`
`+this.renderer.text(a);n?r+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):r+=l;continue}default:{let a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}parseInline(e,n=this.renderer){let r="";for(let s=0;s<e.length;s++){let i=e[s];if(this.options.extensions?.renderers?.[i.type]){let a=this.options.extensions.renderers[i.type].call({parser:this},i);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=a||"";continue}}let o=i;switch(o.type){case"escape":{r+=n.text(o);break}case"html":{r+=n.html(o);break}case"link":{r+=n.link(o);break}case"image":{r+=n.image(o);break}case"strong":{r+=n.strong(o);break}case"em":{r+=n.em(o);break}case"codespan":{r+=n.codespan(o);break}case"br":{r+=n.br(o);break}case"del":{r+=n.del(o);break}case"text":{r+=n.text(o);break}default:{let a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}},Ub=(DS=class{constructor(t){sn(this,"options");sn(this,"block");this.options=t||hu}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?Ua.lex:Ua.lexInline}provideParser(){return this.block?Va.parse:Va.parseInline}},sn(DS,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),DS),zj=class{constructor(...t){sn(this,"defaults",PS());sn(this,"options",this.setOptions);sn(this,"parse",this.parseMarkdown(!0));sn(this,"parseInline",this.parseMarkdown(!1));sn(this,"Parser",Va);sn(this,"Renderer",Bb);sn(this,"TextRenderer",zS);sn(this,"Lexer",Ua);sn(this,"Tokenizer",Hb);sn(this,"Hooks",Ub);this.use(...t)}walkTokens(t,e){let n=[];for(let r of t)switch(n=n.concat(e.call(this,r)),r.type){case"table":{let s=r;for(let i of s.header)n=n.concat(this.walkTokens(i.tokens,e));for(let i of s.rows)for(let o of i)n=n.concat(this.walkTokens(o.tokens,e));break}case"list":{let s=r;n=n.concat(this.walkTokens(s.items,e));break}default:{let s=r;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(i=>{let o=s[i].flat(1/0);n=n.concat(this.walkTokens(o,e))}):s.tokens&&(n=n.concat(this.walkTokens(s.tokens,e)))}}return n}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let i=e.renderers[s.name];i?e.renderers[s.name]=function(...o){let a=s.renderer.apply(this,o);return a===!1&&(a=i.apply(this,o)),a}:e.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let i=e[s.level];i?i.unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),r.extensions=e),n.renderer){let s=this.defaults.renderer||new Bb(this.defaults);for(let i in n.renderer){if(!(i in s))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let o=i,a=n.renderer[o],l=s[o];s[o]=(...u)=>{let d=a.apply(s,u);return d===!1&&(d=l.apply(s,u)),d||""}}r.renderer=s}if(n.tokenizer){let s=this.defaults.tokenizer||new Hb(this.defaults);for(let i in n.tokenizer){if(!(i in s))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let o=i,a=n.tokenizer[o],l=s[o];s[o]=(...u)=>{let d=a.apply(s,u);return d===!1&&(d=l.apply(s,u)),d}}r.tokenizer=s}if(n.hooks){let s=this.defaults.hooks||new Ub;for(let i in n.hooks){if(!(i in s))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let o=i,a=n.hooks[o],l=s[o];Ub.passThroughHooks.has(i)?s[o]=u=>{if(this.defaults.async)return Promise.resolve(a.call(s,u)).then(f=>l.call(s,f));let d=a.call(s,u);return l.call(s,d)}:s[o]=(...u)=>{let d=a.apply(s,u);return d===!1&&(d=l.apply(s,u)),d}}r.hooks=s}if(n.walkTokens){let s=this.defaults.walkTokens,i=n.walkTokens;r.walkTokens=function(o){let a=[];return a.push(i.call(this,o)),s&&(a=a.concat(s.call(this,o))),a}}this.defaults={...this.defaults,...r}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return Ua.lex(t,e??this.defaults)}parser(t,e){return Va.parse(t,e??this.defaults)}parseMarkdown(t){return(e,n)=>{let r={...n},s={...this.defaults,...r},i=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&r.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=t);let o=s.hooks?s.hooks.provideLexer():t?Ua.lex:Ua.lexInline,a=s.hooks?s.hooks.provideParser():t?Va.parse:Va.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(e):e).then(l=>o(l,s)).then(l=>s.hooks?s.hooks.processAllTokens(l):l).then(l=>s.walkTokens?Promise.all(this.walkTokens(l,s.walkTokens)).then(()=>l):l).then(l=>a(l,s)).then(l=>s.hooks?s.hooks.postprocess(l):l).catch(i);try{s.hooks&&(e=s.hooks.preprocess(e));let l=o(e,s);s.hooks&&(l=s.hooks.processAllTokens(l)),s.walkTokens&&this.walkTokens(l,s.walkTokens);let u=a(l,s);return s.hooks&&(u=s.hooks.postprocess(u)),u}catch(l){return i(l)}}}onError(t,e){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let r="<p>An error occurred:</p><pre>"+$o(n.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(n);throw n}}},du=new zj;Ct.options=Ct.setOptions=function(t){return du.setOptions(t),Ct.defaults=du.defaults,d4(Ct.defaults),Ct};Ct.getDefaults=PS;Ct.defaults=hu;Ct.use=function(...t){return du.use(...t),Ct.defaults=du.defaults,d4(Ct.defaults),Ct};Ct.walkTokens=function(t,e){return du.walkTokens(t,e)};Ct.parseInline=du.parseInline;Ct.Parser=Va;Ct.parser=Va.parse;Ct.Renderer=Bb;Ct.TextRenderer=zS;Ct.Lexer=Ua;Ct.lexer=Ua.lex;Ct.Tokenizer=Hb;Ct.Hooks=Ub;Ct.parse=Ct;qZ=Ct.options,GZ=Ct.setOptions,jZ=Ct.use,$Z=Ct.walkTokens,KZ=Ct.parseInline,WZ=Va.parse,YZ=Ua.lex});var cs,Yl,Ql,xp=j(()=>{"use strict";cs=L(me(),1);qS();Yl=L(H(),1);Ct.setOptions({breaks:!0,gfm:!0});Ql=({value:t,onChange:e,placeholder:n="Start typing...",className:r="",onBlur:s,onFocus:i,autoFocus:o=!1,minHeight:a="100px",onToggleChecklist:l})=>{let[u,d]=(0,cs.useState)(!1),[f,h]=(0,cs.useState)(t),p=(0,cs.useRef)(null),b=(0,cs.useRef)(t);(0,cs.useEffect)(()=>{t!==b.current&&(b.current=t,h(t))},[t]),(0,cs.useEffect)(()=>{o&&p.current&&p.current.focus()},[o]),(0,cs.useEffect)(()=>{if(u&&p.current){p.current.focus();let R=p.current.value.length;p.current.setSelectionRange(R,R)}},[u]);let I=(0,cs.useCallback)(()=>{d(!0),i?.()},[i]),v=(0,cs.useCallback)(()=>{d(!1);let R=f.trim();R!==b.current&&(b.current=R,e(R)),s?.()},[f,e,s]),g=(0,cs.useCallback)(R=>{h(R.target.value)},[]),y=(0,cs.useCallback)(R=>{R.key==="Escape"?(R.preventDefault(),h(t),d(!1)):R.key==="Enter"&&R.metaKey&&(R.preventDefault(),d(!1))},[t]),_=(0,cs.useCallback)(()=>{u||d(!0)},[u]),A=R=>{if(!R)return"";try{return Ct.parse(R)}catch{return R}};return(0,Yl.jsxs)("div",{className:"relative",children:[!u&&(0,Yl.jsx)("div",{className:`cursor-text transition-colors rounded-md p-3 -m-3 hover:bg-gray-100/70 ${r}`,style:{minHeight:a,fontSize:"14px",lineHeight:"1.5"},onClick:_,children:t?(0,Yl.jsx)("div",{className:"prose prose-sm max-w-none text-gray-800",dangerouslySetInnerHTML:{__html:A(t)}}):(0,Yl.jsx)("span",{className:"text-gray-400 italic",children:n})}),u&&(0,Yl.jsx)("div",{className:"relative",children:(0,Yl.jsx)("textarea",{ref:p,value:f,onChange:g,onFocus:I,onBlur:v,onKeyDown:y,placeholder:n,className:`w-full resize-none cursor-text transition-colors rounded-md p-3 -m-3 outline-none bg-blue-50/50 ring-1 ring-blue-200 ${r}`,style:{minHeight:a,fontSize:"14px",lineHeight:"1.5",fontFamily:"inherit"}})})]})}});var zn,te,qj,Gj,jj,$j,Tp,GS=j(()=>{"use strict";zn=L(me(),1);Pe();eo();Wl();r4();i4();xp();te=L(H(),1),qj=[{id:"1",name:"Urgent (P1)",color:"text-red-600",icon:"FlagIcon"},{id:"2",name:"High (P2)",color:"text-orange-500",icon:"FlagIcon"},{id:"3",name:"Medium (P3)",color:"text-blue-500",icon:"FlagIcon"},{id:"4",name:"Low (P4)",color:"text-gray-500",icon:"FlagIcon"}],Gj=t=>{switch(t){case 1:return"text-red-600";case 2:return"text-orange-500";case 3:return"text-blue-500";case 4:return"text-gray-500";default:return"text-gray-400"}},jj=t=>{let e=new Date(t);if(isNaN(e.getTime()))return"";let n=e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});if(e.getHours()!==0||e.getMinutes()!==0){let s=e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return`${n} at ${s}`}return n},$j=({tag:t,onRemove:e})=>{let[n,r]=(0,zn.useState)(!1);return(0,te.jsxs)("span",{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),className:`relative group inline-flex items-center pl-2 pr-1.5 py-0.5 text-xs font-medium rounded-full bg-${t.color}/20 text-${t.color}`,children:[(0,te.jsx)("span",{children:t.name}),n&&(0,te.jsx)("button",{onClick:()=>e(t.id),className:"absolute -right-1 -top-1 w-3 h-3 bg-gray-500 text-white rounded-full flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity","aria-label":`Remove ${t.name} tag`,children:"\xD7"})]})},Tp=({selectedTaskId:t,tasks:e,allTags:n,allLists:r,allLogs:s,childrenTasks:i,onToggleComplete:o,onUpdateTask:a,onDeleteTask:l,onDuplicateTask:u,onSelectTask:d,onAddTask:f,onOpenLogModal:h,onBack:p})=>{let b=(0,zn.useMemo)(()=>e.find(P=>P.id===t)||null,[t,e]),[I,v]=(0,zn.useState)(null),[g,y]=(0,zn.useState)(!1),[_,A]=(0,zn.useState)(""),[R,U]=(0,zn.useState)(""),S=(0,zn.useRef)(null),E=(0,zn.useRef)(null),T={date:(0,zn.useRef)(null),priority:(0,zn.useRef)(null),tags:(0,zn.useRef)(null),more:(0,zn.useRef)(null),list:(0,zn.useRef)(null)},x=(0,zn.useMemo)(()=>b?s.filter(P=>P.taskId===b.id).sort((P,Z)=>Z.logDate.getTime()-P.logDate.getTime()):[],[b,s]);if((0,zn.useEffect)(()=>{let P=Z=>{S.current&&!S.current.contains(Z.target)&&(Object.values(T).some(F=>F.current?.contains(Z.target))||v(null))};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[T]),(0,zn.useEffect)(()=>{b&&A(b.title||""),y(!1),U(""),v(null)},[b?.id]),(0,zn.useEffect)(()=>{if(g&&E.current){E.current.focus(),E.current.select();let P=E.current;P.style.height="auto",P.style.height=`${P.scrollHeight}px`}},[g]),!b)return(0,te.jsx)("div",{className:"flex-1 bg-white/80 flex items-center justify-center",children:(0,te.jsxs)("div",{className:"text-center text-gray-500",children:[(0,te.jsx)("p",{className:"text-lg font-medium",children:"Select a task to see its details"}),(0,te.jsx)("p",{className:"text-sm",children:"or create a new one!"})]})});let N=r.find(P=>P.id===b.listId),D=(b.tags??[]).map(P=>n.find(Z=>Z.id===P)).filter(Boolean),k=Gj(b.priority),V=n.filter(P=>!(b.tags||[]).includes(P.id)),z=P=>{console.log("Updating task:",b?.id,P),b?.id&&a(b.id,P),v(null)},$=()=>{b&&_.trim()&&_.trim()!==b.title&&a(b.id,{title:_.trim()}),y(!1)},de=P=>z({tags:[...b.tags||[],P]}),se=P=>z({tags:(b.tags||[]).filter(Z=>Z!==P)}),Te=P=>{if(P.preventDefault(),b&&R.trim()){let Z={title:R.trim(),tagNames:[],priority:void 0,dueDate:void 0};f(Z,null,b.id),U("")}},Ae=()=>{window.confirm("Are you sure you want to delete this task? This will also delete all of its subtasks.")&&l(b.id),v(null)},De=(P,Z)=>{if(!b||!b.description)return;let W=b.description.split(`
`);if(P>=W.length)return;let F=W[P],ee=F;if(Z?ee=F.replace(/ \[ \]/,"[x]"):ee=F.replace(/ \[x\]/i,"[ ]"),ee!==F){W[P]=ee;let be=W.join(`
`);a(b.id,{description:be})}},Q=()=>{if(!I)return null;let P=T[I]?.current;if(!P)return null;let Z=P.getBoundingClientRect(),W={position:"absolute",zIndex:50},F=window.innerWidth,ee=window.innerHeight,be=I==="list"?224:192,He=256,Nt=ee-Z.bottom,dn=Z.top,Jt=F-Z.left,ue=Z.right;return Nt>=He||Nt>dn?W.top=`${Z.bottom+8}px`:W.bottom=`${ee-Z.top+8}px`,I==="priority"||I==="more"?Jt>=be?W.left=`${Z.left}px`:W.right=`${F-Z.right}px`:ue>=be?W.left=`${Z.left}px`:W.right=`${F-Z.right}px`,(0,te.jsxs)("div",{ref:S,style:W,className:"shadow-lg",children:[I==="date"&&(0,te.jsx)(Hs,{currentDate:b.dueDate?new Date(b.dueDate):null,onSelect:ve=>z({dueDate:ve,reminder:!0}),onClear:()=>z({dueDate:void 0,reminder:!1}),onClose:()=>v(null)}),I==="priority"&&(0,te.jsx)("ul",{className:"bg-white rounded-lg shadow-xl border border-gray-200 w-48 overflow-y-auto max-h-64",children:qj.map(ve=>(0,te.jsx)("li",{children:(0,te.jsxs)("button",{onClick:()=>z({priority:parseInt(ve.id,10)}),className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm hover:bg-gray-100",children:[(0,te.jsx)(Pr,{className:`w-4 h-4 ${ve.color}`}),(0,te.jsx)("span",{children:ve.name})]})},ve.id))}),I==="tags"&&(0,te.jsx)("ul",{className:"bg-white rounded-lg shadow-xl border border-gray-200 w-48 max-h-56 overflow-y-auto",children:V.length>0?V.map(ve=>(0,te.jsx)("li",{children:(0,te.jsxs)("button",{onClick:()=>de(ve.id),className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm hover:bg-gray-100",children:[(0,te.jsx)("span",{className:`w-2.5 h-2.5 rounded-full bg-${ve.color}`}),(0,te.jsx)("span",{children:ve.name})]})},ve.id)):(0,te.jsx)("li",{className:"px-3 py-2 text-sm text-gray-500",children:"No more tags"})}),I==="list"&&(0,te.jsx)("ul",{className:"bg-white rounded-lg shadow-xl border border-gray-200 w-56 max-h-64 overflow-y-auto",children:r.filter(ve=>ve.id!=="today"&&ve.id!=="upcoming").map(ve=>{let $n=J[ve.icon]||Ts;return(0,te.jsx)("li",{children:(0,te.jsxs)("button",{onClick:()=>z({listId:ve.id}),className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm hover:bg-gray-100",children:[(0,te.jsx)($n,{className:`w-4 h-4 ${ve.color?`text-${ve.color}`:""}`}),(0,te.jsx)("span",{className:"flex-1 truncate",children:ve.name}),b.listId===ve.id&&(0,te.jsx)(It,{className:"w-4 h-4 text-blue-600"})]})},ve.id)})}),I==="more"&&(0,te.jsxs)("ul",{className:"bg-white rounded-lg shadow-xl border border-gray-200 w-48 overflow-y-auto max-h-64",children:[(0,te.jsx)("li",{children:(0,te.jsxs)("button",{onClick:()=>{u(b.id),v(null)},className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,te.jsx)(rT,{className:"w-4 h-4"}),(0,te.jsx)("span",{children:"Duplicate Task"})]})}),(0,te.jsx)("li",{children:(0,te.jsxs)("button",{onClick:Ae,className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-red-600 hover:bg-red-50",children:[(0,te.jsx)(ws,{className:"w-4 h-4"}),(0,te.jsx)("span",{children:"Delete Task"})]})})]})]})};return(0,te.jsxs)("div",{className:"flex-1 bg-white/80 flex flex-col h-full",children:[(0,te.jsx)("header",{className:"px-4 py-3 border-b border-gray-200 flex-shrink-0",children:(0,te.jsxs)("div",{className:"flex justify-between items-center",children:[(0,te.jsxs)("div",{className:"flex items-center gap-3",children:[p&&(0,te.jsx)("button",{onClick:p,className:"p-1.5 text-gray-600 hover:bg-gray-100 rounded transition-colors","aria-label":"Back to task list",children:(0,te.jsx)(xs,{className:"w-4 h-4"})}),(0,te.jsx)(br,{checked:b.completed,onChange:()=>o(b.id)}),(0,te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,te.jsxs)("button",{ref:T.date,onClick:()=>v(P=>P==="date"?null:"date"),className:"flex items-center gap-1.5 text-sm text-gray-600 hover:bg-gray-100 rounded px-2 py-1 transition-colors",children:[(0,te.jsx)(lt,{className:"w-4 h-4"}),(0,te.jsx)("span",{children:b.dueDate?jj(new Date(b.dueDate)):"Set date"})]}),b.dueDate&&(0,te.jsx)("button",{onClick:()=>a(b.id,{reminder:!b.reminder}),className:"p-1.5 hover:bg-gray-100 rounded transition-colors","aria-label":"Toggle reminder",children:(0,te.jsx)(Gi,{className:`w-4 h-4 transition-colors ${b.reminder?"text-blue-600":"text-gray-400"}`})})]})]}),(0,te.jsxs)("div",{className:"flex items-center gap-1",children:[(0,te.jsx)("button",{ref:T.priority,onClick:()=>v(P=>P==="priority"?null:"priority"),className:"p-1.5 hover:bg-gray-100 rounded transition-colors",children:(0,te.jsx)(Pr,{className:`w-4 h-4 ${k}`})}),(0,te.jsx)("button",{ref:T.more,onClick:()=>v(P=>P==="more"?null:"more"),className:"p-1.5 text-gray-400 hover:text-gray-600 rounded transition-colors","aria-label":"More options",children:(0,te.jsx)(nr,{className:"w-4 h-4"})})]})]})}),(0,te.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,te.jsxs)("div",{className:"px-4 py-3 space-y-4",children:[(0,te.jsx)("div",{className:"flex items-start gap-2",children:(0,te.jsx)("div",{className:"flex-1 min-w-0",children:g?(0,te.jsx)("textarea",{ref:E,value:_,onChange:P=>A(P.target.value),onBlur:$,onKeyDown:P=>{P.key==="Enter"&&(P.preventDefault(),$()),P.key==="Escape"&&(P.preventDefault(),A(b.title||""),y(!1))},onInput:P=>{let Z=P.target;Z.style.height="auto",Z.style.height=`${Z.scrollHeight}px`},className:"w-full text-xl font-bold text-gray-800 bg-white border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none overflow-hidden py-1 px-2",rows:1}):(0,te.jsx)("h1",{onClick:()=>y(!0),className:`text-xl font-bold text-gray-800 cursor-text leading-tight ${b.completed?"line-through text-gray-400":""}`,children:b.title})})}),(0,te.jsx)("div",{className:"flex-1 flex flex-col min-h-0",children:(0,te.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:(0,te.jsx)("div",{className:"p-3",children:(0,te.jsx)(Ql,{value:b.description||"",onChange:P=>a(b.id,{description:P}),placeholder:"Add more details... (Markdown supported)",minHeight:"256px",onToggleChecklist:De})})})}),(0,te.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,te.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,te.jsx)(It,{className:"w-4 h-4 text-gray-500"}),(0,te.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Subtasks"}),(0,te.jsxs)("span",{className:"text-xs text-gray-500",children:["(",i.filter(P=>P.completed).length,"/",i.length,")"]})]}),(0,te.jsxs)("div",{className:"space-y-2",children:[i.map(P=>(0,te.jsx)(n4,{task:P,onToggleComplete:o,onSelect:d},P.id)),(0,te.jsxs)("form",{onSubmit:Te,className:"flex items-center gap-2 p-2 bg-gray-50 rounded border border-dashed border-gray-300",children:[(0,te.jsx)(At,{className:"w-4 h-4 text-gray-400"}),(0,te.jsx)("input",{type:"text",placeholder:"Add a subtask",className:"flex-1 bg-transparent text-sm focus:outline-none",value:R,onChange:P=>U(P.target.value)})]})]})]}),(0,te.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,te.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,te.jsx)(vn,{className:"w-4 h-4 text-gray-500"}),(0,te.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Journal"})]}),(0,te.jsxs)("button",{onClick:()=>h(b),className:"flex items-center gap-1 px-3 py-1.5 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 transition-colors",children:[(0,te.jsx)(At,{className:"w-3 h-3"}),(0,te.jsx)("span",{children:"Add Entry"})]})]}),(0,te.jsx)("div",{className:"space-y-2",children:x.length>0?x.slice(0,3).map(P=>(0,te.jsx)(s4,{log:P},P.id)):(0,te.jsxs)("div",{className:"text-center py-6 text-gray-500",children:[(0,te.jsx)(vn,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,te.jsx)("p",{className:"text-sm",children:"No journal entries for this task yet."})]})})]})]})}),Q(),(0,te.jsx)("div",{className:"border-t border-gray-200 px-4 py-3 flex-shrink-0",children:(0,te.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[N&&(0,te.jsx)("div",{className:"flex items-center gap-2",children:(0,te.jsxs)("button",{ref:T.list,onClick:()=>v(P=>P==="list"?null:"list"),className:"flex items-center gap-1.5 text-sm text-gray-600 hover:bg-gray-100 rounded px-2 py-1 transition-colors",children:[zn.default.createElement(J[N.icon]||Ts,{className:`w-4 h-4 ${N.color?`text-${N.color}`:""}`}),(0,te.jsx)("span",{children:N.name}),(0,te.jsx)(es,{className:"w-3 h-3"})]})}),(0,te.jsxs)("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[(0,te.jsx)(ji,{className:"w-4 h-4 text-gray-500"}),(0,te.jsxs)("div",{className:"flex items-center gap-1 flex-wrap",children:[D.slice(0,3).map(P=>(0,te.jsx)($j,{tag:P,onRemove:se},P.id)),D.length>3&&(0,te.jsxs)("span",{className:"text-xs text-gray-500",children:["+",D.length-3]}),(0,te.jsx)("button",{ref:T.tags,onClick:()=>v(P=>P==="tags"?null:"tags"),className:"w-6 h-6 border border-gray-300 rounded-full flex items-center justify-center text-gray-400 hover:text-gray-600 hover:border-gray-500 transition-colors","aria-label":"Add tag",children:(0,te.jsx)(At,{className:"w-3 h-3"})})]})]})]})})]})}});var Bs,Kj,Wj,Yj,T4,I4,_4,$b,Ip=j(()=>{"use strict";$r();Bs=(t,e)=>{if(!e)return{status:"none",progress:0,isComplete:!1};switch(t.type){case"binary":return{status:"done",progress:1,isComplete:!0};case"count":return Kj(t,e);case"duration":return Wj(t,e);case"checklist":return Yj(t,e);default:return{status:"none",progress:0,isComplete:!1}}},Kj=(t,e)=>{let n=e.value||0,r=t.dailyTarget||1,s=t.dailyTargetComparison||"at_least",i=!1,o=0;switch(s){case"at_least":i=n>=r,o=Math.min(1,n/r);break;case"less_than":i=n<r,o=n>0?1:0;break;case"exactly":i=n===r,o=n>0?Math.min(1,n/r):0;break;case"any_value":i=n>0,o=n>0?1:0;break}return{status:i?"done":n>0?"partial":"none",progress:o,isComplete:i}},Wj=(t,e)=>{let n=e.value||0,r=t.dailyTarget||1,s=n>=r,i=Math.min(1,n/r);return{status:s?"done":n>0?"partial":"none",progress:i,isComplete:s}},Yj=(t,e)=>{let n=e.completedChecklistItems||[],r=t.checklist?.length||0;if(r===0)return{status:"none",progress:0,isComplete:!1};let s=n.length,i=s===r,o=r>0?s/r:0;return{status:i?"done":s>0?"partial":"none",progress:o,isComplete:i}},T4=(t,e)=>{let n=e.toISOString().split("T")[0];return t.find(r=>r.date===n)},I4=(t,e)=>{let n=new Date(e.startDate);n.setHours(0,0,0,0);let r=e.endDate?new Date(e.endDate):null;if(r&&r.setHours(23,59,59,999),t<n||r&&t>r)return!1;switch(e.frequency.type){case"daily":return!0;case"weekly":case"monthly":return!0;case"specific_days":return e.frequency.days.includes(t.getDay());default:return!1}},_4=(t,e,n)=>{let r=new Date(t.startDate);r.setHours(0,0,0,0);let s=t.endDate?new Date(t.endDate):null;if(s&&s.setHours(23,59,59,999),e<r||s&&e>s)return!1;switch(t.frequency.type){case"daily":return!0;case"specific_days":return t.frequency.days.includes(e.getDay());case"weekly":{let i=new Date(e);i.setDate(i.getDate()-i.getDay()),i.setHours(0,0,0,0);let o=new Date(i);return o.setDate(i.getDate()+6),o.setHours(23,59,59,999),n.filter(u=>{let d=new Date(u.date);return u.habitId===t.id&&d>=i&&d<=o}).filter(u=>Bs(t,u).status==="done").length<t.frequency.times}case"monthly":{let i=new Date(e.getFullYear(),e.getMonth(),1),o=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return n.filter(u=>{let d=new Date(u.date);return u.habitId===t.id&&d>=i&&d<=o}).filter(u=>Bs(t,u).status==="done").length<t.frequency.times}default:return!1}},$b=(t,e,n=new Date)=>{if(!t)return{currentStreak:0,bestStreak:0,completionRate:0,daysCompleted:0,goalProgress:0};let r=e.filter(_=>_.habitId===t.id),s=0,i=0,o=0,a=0,l=0,u=0,d=new Map;r.forEach(_=>{d.set(_.date,_)}),t.type==="count"||t.type==="duration"?u=Array.from(d.values()).reduce((_,A)=>_+(A.value||0),0):t.type==="binary"?u=Array.from(d.values()).filter(_=>Bs(t,_).status==="done").length:t.type==="checklist"&&(u=Array.from(d.values()).reduce((_,A)=>_+(A.completedChecklistItems?.length||0),0));let f=Array.from(d.values()).filter(_=>Bs(t,_).status==="done").length,h=new Date(t.startDate);h.setHours(0,0,0,0);let p=new Date(n);p.setHours(0,0,0,0);let b=new Date(h);for(;b<=p;){if(I4(b,t)){let _=T4(r,b);Bs(t,_||null).status==="done"?(o++,a++,l++):(i=Math.max(i,o),o=0,l++)}b.setDate(b.getDate()+1)}i=Math.max(i,o);let I=new Date(p),v=0,g=!1;for(;I>=h&&!g;){if(I4(I,t)){let _=T4(r,I);Bs(t,_||null).status==="done"?v++:g=!0}I.setDate(I.getDate()-1)}s=v;let y=l>0?a/l*100:0;return{currentStreak:s,bestStreak:i,completionRate:parseFloat(y.toFixed(2)),daysCompleted:f,goalProgress:u}}});var Ko,ci,Qj,Kb,jS=j(()=>{"use strict";Ko=L(me(),1);$r();Pe();ci=L(H(),1),Qj=({habit:t,habitLogs:e,selectedDate:n})=>{let[r,s]=(0,Ko.useState)(n.getMonth()),[i,o]=(0,Ko.useState)(n.getFullYear()),a=new Date(i,r,1),l=new Date(i,r+1,0).getDate(),u=a.getDay(),d=a.toLocaleString("default",{month:"long"}),f=(0,Ko.useCallback)(()=>{s(v=>v===0?(o(g=>g-1),11):v-1)},[]),h=(0,Ko.useCallback)(()=>{s(v=>v===11?(o(g=>g+1),0):v+1)},[]),p=(0,Ko.useCallback)(v=>{let g=v.toISOString().split("T")[0],y=e.find(x=>x.habitId===t.id&&x.date===g);new Date().setHours(0,0,0,0);let A=new Date(v);A.setHours(0,0,0,0);let R=new Date(t.startDate);R.setHours(0,0,0,0);let U=t.endDate?new Date(t.endDate):null;if(U&&U.setHours(0,0,0,0),A<R||U&&A>U)return"inactive";let S=!1;switch(t.frequency.type){case"daily":S=!0;break;case"weekly":case"monthly":S=!0;break;case"specific_days":S=t.frequency.days.includes(A.getDay());break}if(!S)return"inactive";let E=new Date;if(E.setHours(0,0,0,0),new Date(v.getFullYear(),v.getMonth(),v.getDate())>E)return"future";if(y){if(y.status===Fo.PARTIALLY_COMPLETED&&y.value!==void 0&&(t.type==="count"||t.type==="duration")){let x=t.dailyTarget||1,N=t.dailyTargetComparison||"at_least",D=!1;switch(N){case"at_least":D=y.value>=x;break;case"exactly":D=y.value===x;break;case"less_than":D=y.value<x;break;case"any_value":D=y.value>0;break}if(D)return"completed"}if(y.status===Fo.PARTIALLY_COMPLETED&&t.type==="checklist"&&y.completedChecklistItems){let x=t.checklist?.length||0,N=y.completedChecklistItems.length;if(x>0&&N===x)return"completed"}switch(y.status){case"done":return"completed";case"none":return"skipped";case Fo.MISSED:return"missed";case Fo.PARTIALLY_COMPLETED:return"missed"}}return"not-logged"},[t,e]),b=(0,Ko.useMemo)(()=>{let v=[];for(let g=0;g<u;g++)v.push(new Date(0));for(let g=1;g<=l;g++){let y=new Date(i,r,g);y.setHours(0,0,0,0),v.push(y)}return v},[r,i,l,u]),I=(0,Ko.useCallback)(v=>{let g=p(v),y="w-8 h-8 flex items-center justify-center rounded-full text-xs font-medium",_=new Date(n.getFullYear(),n.getMonth(),n.getDate()),A=new Date(v.getFullYear(),v.getMonth(),v.getDate()),R=new Date;R.setHours(0,0,0,0);let U=_.getTime()===A.getTime(),S=R.getTime()===A.getTime();if(v.getTime()===new Date(0).getTime())return"";switch(g){case"completed":y+=" bg-green-500 text-white";break;case"skipped":y+=" bg-yellow-500 text-white";break;case"missed":y+=" bg-red-500 text-white";break;case"not-logged":y+=" bg-gray-200 text-gray-600";break;case"inactive":y+=" bg-gray-100 text-gray-400";break;case"future":y+=" bg-gray-50 text-gray-400";break}return S&&(y+=" ring-2 ring-blue-500 ring-offset-1"),U&&!S&&(y+=" ring-2 ring-purple-500 ring-offset-1"),y},[p,n]);return(0,ci.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border",children:[(0,ci.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Habit Calendar"}),(0,ci.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ci.jsx)("button",{onClick:f,className:"p-1 rounded-full hover:bg-gray-200",children:(0,ci.jsx)(ti,{className:"w-5 h-5 text-gray-600"})}),(0,ci.jsxs)("span",{className:"text-lg font-semibold text-gray-800",children:[d," ",i]}),(0,ci.jsx)("button",{onClick:h,className:"p-1 rounded-full hover:bg-gray-200",children:(0,ci.jsx)(Bn,{className:"w-5 h-5 text-gray-600"})})]}),(0,ci.jsxs)("div",{className:"grid grid-cols-7 gap-1 text-center",children:[["S","M","T","W","T","F","S"].map((v,g)=>(0,ci.jsx)("div",{className:"text-center text-xs font-semibold text-gray-500",children:v},`${v}-${g}`)),b.map((v,g)=>(0,ci.jsx)("div",{className:I(v),children:v.getTime()===new Date(0).getTime()?"":v.getDate()},g))]})]})},Kb=Qj});var Ha,Xj,Xl,_p=j(()=>{"use strict";Os();Pe();Ha=L(H(),1),Xj=({log:t})=>{let e=ai[t.logType],n=J[e.icon]||je,r=s=>{let i=new Date(s),o=new Date,a=new Date;a.setDate(o.getDate()-1),o.setHours(0,0,0,0);let l=new Date(i);return l.setHours(0,0,0,0),l.getTime()===o.getTime()?`Today at ${i.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`:l.getTime()===a.getTime()?`Yesterday at ${i.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`:i.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return(0,Ha.jsxs)("li",{className:"flex items-start gap-3 p-2.5 rounded-md bg-white border border-gray-200/80",children:[(0,Ha.jsx)("div",{className:"pt-0.5",children:(0,Ha.jsx)(n,{className:"w-5 h-5 text-gray-500"})}),(0,Ha.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ha.jsx)("p",{className:"text-sm font-medium text-gray-800",children:t.title}),t.description&&(0,Ha.jsx)("p",{className:"text-xs text-gray-500 truncate mt-0.5",children:t.description})]}),(0,Ha.jsx)("div",{className:"text-xs text-gray-500 flex-shrink-0 pt-0.5",children:r(t.logDate)})]})},Xl=Xj});var fu,Xt,Jj,E4,S4=j(()=>{"use strict";fu=L(me(),1);$r();Ip();Pe();eo();Xt=L(H(),1),Jj=({habit:t,log:e,date:n,onLog:r,onDeleteLog:s})=>{let[i,o]=(0,fu.useState)(e?.value||0),[a,l]=(0,fu.useState)(e?.value?Math.floor(e.value/60):0),[u,d]=(0,fu.useState)(e?.value?e.value%60:0),[f,h]=(0,fu.useState)(new Set(e?.completedChecklistItems||[]));(0,fu.useEffect)(()=>{o(e?.value||0),l(e?.value?Math.floor(e.value/60):0),d(e?.value?e.value%60:0),h(new Set(e?.completedChecklistItems||[]))},[e?.id,e?.value,e?.completedChecklistItems,t.id,n]);let b=Bs(t,e).status==="done",I=(A,R)=>{r({habitId:t.id,date:n.toISOString().split("T")[0],value:A,completedChecklistItems:R})},v=()=>{b&&e&&s?s(e.id):I()},g=A=>{let R=new Set(f);R.has(A)?R.delete(A):R.add(A),h(R),I(void 0,Array.from(R))},y=()=>{I(i)},_=()=>{let A=a*60+u;I(A)};if(t.type==="checklist")return(0,Xt.jsxs)("div",{className:"space-y-3",children:[(0,Xt.jsx)("div",{className:"space-y-2",children:t.checklist?.map(A=>(0,Xt.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-md hover:bg-gray-50",children:[(0,Xt.jsx)(br,{checked:f.has(A.id),onChange:()=>g(A.id)}),(0,Xt.jsx)("span",{className:`flex-1 ${f.has(A.id)?"line-through text-gray-400":""}`,children:A.text})]},A.id))}),b&&(0,Xt.jsxs)("div",{className:"flex items-center gap-2 text-green-600 font-semibold p-3 bg-green-50 rounded-lg",children:[(0,Xt.jsx)(It,{className:"w-5 h-5"}),(0,Xt.jsxs)("span",{className:"flex-1",children:["Done for"," ",new Date(n).toDateString()===new Date().toDateString()?"today":"the day","!"]}),(0,Xt.jsx)("button",{onClick:v,className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-md hover:bg-red-200",children:"Undo"})]})]});if(b)return(0,Xt.jsxs)("div",{className:"flex items-center gap-2 text-green-600 font-semibold p-4 bg-green-50 rounded-lg",children:[(0,Xt.jsx)(It,{className:"w-6 h-6"}),(0,Xt.jsxs)("span",{className:"flex-1",children:["Done for"," ",new Date(n).toDateString()===new Date().toDateString()?"today":"the day","!"]}),(0,Xt.jsx)("button",{onClick:v,className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-md hover:bg-red-200",children:"Undo"})]});switch(t.type){case"binary":return(0,Xt.jsx)("button",{onClick:v,className:`w-full py-2 text-lg font-bold rounded-lg transition-colors bg-${t.color}/20 text-${t.color} hover:bg-${t.color}/30`,children:"Mark Done"});case"count":let A=t.dailyTargetComparison!=="any-value"&&t.dailyTarget!==void 0;return(0,Xt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xt.jsx)("button",{onClick:()=>o(R=>Math.max(0,R-1)),className:"p-2 rounded-full bg-gray-200 hover:bg-gray-300",children:"-"}),(0,Xt.jsx)("input",{type:"number",value:i,onChange:R=>o(parseInt(R.target.value)||0),className:"w-16 text-center text-lg font-bold bg-transparent border-b-2 border-gray-300 focus:border-blue-500 outline-none"}),A&&(0,Xt.jsxs)("span",{className:"text-gray-500",children:["/ ",t.dailyTarget]}),(0,Xt.jsx)("button",{onClick:()=>o(R=>R+1),className:"p-2 rounded-full bg-gray-200 hover:bg-gray-300",children:"+"}),(0,Xt.jsx)("button",{onClick:y,className:`ml-auto px-4 py-2 font-semibold rounded-lg bg-${t.color}/80 text-white hover:bg-${t.color}`,children:"Log"})]});case"duration":return(0,Xt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xt.jsx)("input",{type:"number",value:a,onChange:R=>l(parseInt(R.target.value)||0),className:"w-12 text-center text-lg font-bold bg-transparent border-b-2 border-gray-300 focus:border-blue-500 outline-none"})," ",(0,Xt.jsx)("span",{className:"text-gray-500",children:"h"}),(0,Xt.jsx)("input",{type:"number",value:u,onChange:R=>d(parseInt(R.target.value)||0),className:"w-12 text-center text-lg font-bold bg-transparent border-b-2 border-gray-300 focus:border-blue-500 outline-none"})," ",(0,Xt.jsx)("span",{className:"text-gray-500",children:"m"}),(0,Xt.jsxs)("span",{className:"text-gray-500",children:["/ ",t.dailyTarget," m"]}),(0,Xt.jsx)("button",{onClick:_,className:`ml-auto px-4 py-2 font-semibold rounded-lg bg-${t.color}/80 text-white hover:bg-${t.color}`,children:"Log"})]});default:return null}},E4=Jj});var no,pt,Zj,N4,k4,e$,t$,Wo,vh=j(()=>{"use strict";no=L(me(),1);Pe();pt=L(H(),1),Zj=t=>t.toLocaleDateString("en-US",{month:"long",year:"numeric"}),N4=(t,e)=>!t||!e?!1:t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate(),k4=t=>{(!t||typeof t!="object"||!(t instanceof Date)||isNaN(t.getTime()))&&(t=new Date);let e=t.getFullYear(),n=t.getMonth(),r=new Date(e,n,1),s=new Date(e,n+1,0),i=r.getDay(),o=[];for(let a=0;a<i;a++){let l=new Date(r);l.setDate(l.getDate()-(i-a)),o.push(l)}for(let a=1;a<=s.getDate();a++)o.push(new Date(e,n,a));for(;o.length<42;){let a=o[o.length-1],l=new Date(a);l.setDate(a.getDate()+1),o.push(l)}return o},e$=({className:t})=>(0,pt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"3",children:(0,pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),t$=({currentDate:t,onSelect:e,onClear:n})=>{let r=T=>!T||!(T instanceof Date)||isNaN(T.getTime())?new Date:T,[s,i]=(0,no.useState)(r(t)),[o,a]=(0,no.useState)(r(t)),[l,u]=(0,no.useState)("12:00"),[d,f]=(0,no.useState)("PM"),[h,p]=(0,no.useState)(!1);(0,no.useEffect)(()=>{let T=t,x=T&&(T.getHours()!==0||T.getMinutes()!==0);if(p(x),x&&T){let D=T.getHours(),k=T.getMinutes(),V=D>=12?"PM":"AM";D=D%12,D=D||12,u(`${String(D).padStart(2,"0")}:${String(k).padStart(2,"0")}`),f(V)}else u("12:00"),f("PM");let N=r(t);a(N),i(N)},[t]);let b=(0,no.useMemo)(()=>{let T=[];for(let x=0;x<24*2;x++){let N=Math.floor(x/2),D=x%2*30,k=N>=12?"PM":"AM",V=N%12;V===0&&(V=12);let z=`${String(V).padStart(2,"0")}:${String(D).padStart(2,"0")}`;T.push({time:z,period:k})}return T},[]),I=(0,no.useMemo)(()=>!s||typeof s!="object"||!(s instanceof Date)||isNaN(s.getTime())?k4(new Date):k4(s),[s]),v=()=>i(T=>T?new Date(T.getFullYear(),T.getMonth()-1,1):new Date),g=()=>i(T=>T?new Date(T.getFullYear(),T.getMonth()+1,1):new Date),y=()=>{let T=new Date;i(T),a(T)},_=T=>a(T),A=T=>{let N=T.target.value.replace(/[^0-9]/g,"").slice(0,4);if(N.length===0){u("");return}let D=N;if(N.length>2){let k=N.slice(0,-2),V=N.slice(-2);D=`${k}:${V}`}u(D)},R=()=>{if(!l.trim()){u("12:00");return}let T=l.replace(/[^0-9]/g,""),x,N;T.length<=2?(x=parseInt(T,10)||12,N=0):(x=parseInt(T.slice(0,-2),10)||12,N=parseInt(T.slice(-2),10)||0),x>12&&(x=12),x===0&&(x=12),N>59&&(N=59),u(`${String(x).padStart(2,"0")}:${String(N).padStart(2,"0")}`)},U=(T,x)=>{u(T),f(x)},S=()=>{if(!o)return;let T=new Date(o);if(T.setHours(0,0,0,0),h&&l){let x=l.split(":"),N=parseInt(x[0],10),D=parseInt(x[1]||"0",10);!isNaN(N)&&!isNaN(D)&&(d==="PM"&&N<12?N+=12:d==="AM"&&N===12&&(N=0),T.setHours(N,D,0,0))}e(T)},E=()=>{p(!1),u("12:00"),f("PM")};return(0,pt.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-200 w-80 p-4 font-sans text-gray-800",children:[(0,pt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,pt.jsx)("span",{className:"text-lg font-semibold",children:Zj(s)}),(0,pt.jsxs)("div",{className:"flex items-center space-x-2 text-gray-500",children:[(0,pt.jsx)("button",{onClick:v,className:"p-1 rounded-full hover:bg-gray-100",children:(0,pt.jsx)(ti,{className:"w-5 h-5"})}),(0,pt.jsx)("button",{onClick:y,title:"Go to Today",className:"w-5 h-5 border border-gray-400 rounded-full hover:bg-gray-100"}),(0,pt.jsx)("button",{onClick:g,className:"p-1 rounded-full hover:bg-gray-100",children:(0,pt.jsx)(Bn,{className:"w-5 h-5"})})]})]}),(0,pt.jsxs)("div",{className:"grid grid-cols-7 gap-y-1 text-center text-sm",children:[["S","M","T","W","T","F","S"].map((T,x)=>(0,pt.jsx)("div",{className:"w-9 h-9 flex items-center justify-center text-gray-400 font-semibold",children:T},`${T}-${x}`)),I.map((T,x)=>{let N=T.getMonth()===s.getMonth(),D=N4(T,o),k=N4(T,new Date),V="w-9 h-9 flex items-center justify-center rounded-full transition-colors duration-150";return D?V+=" bg-blue-600 text-white font-semibold":k?V+=" border-2 border-blue-600 text-blue-600 font-semibold hover:bg-blue-50":N?V+=" text-gray-700 hover:bg-gray-100":V+=" text-gray-300 hover:bg-gray-100",(0,pt.jsx)("div",{className:"flex justify-center items-center",children:(0,pt.jsx)("button",{onClick:()=>_(T),className:V,children:T.getDate()})},T.toISOString())})]}),(0,pt.jsx)("div",{className:"mt-4 border-t border-gray-200 pt-3",children:h?(0,pt.jsxs)("div",{children:[(0,pt.jsxs)("div",{className:"p-2 rounded-md bg-gray-50 border relative",children:[(0,pt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,pt.jsx)(ni,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),(0,pt.jsx)("input",{type:"text",value:l,onChange:A,onBlur:R,placeholder:"12:00",className:"font-medium bg-transparent outline-none w-24 text-lg text-blue-600"}),(0,pt.jsxs)("div",{className:"flex border border-gray-300 rounded-md ml-auto",children:[(0,pt.jsx)("button",{type:"button",onClick:()=>f("AM"),className:`px-3 py-1 text-sm font-semibold rounded-l-md transition-colors ${d==="AM"?"bg-blue-600 text-white":"bg-white text-blue-600 hover:bg-gray-100"}`,children:"AM"}),(0,pt.jsx)("button",{type:"button",onClick:()=>f("PM"),className:`px-3 py-1 text-sm font-semibold rounded-r-md transition-colors border-l border-gray-300 ${d==="PM"?"bg-blue-600 text-white":"bg-white text-blue-600 hover:bg-gray-100"}`,children:"PM"})]})]}),(0,pt.jsx)("button",{type:"button",onClick:E,className:"absolute -top-2 -right-2 w-5 h-5 bg-gray-400 text-white rounded-full flex items-center justify-center text-xs hover:bg-gray-600",title:"Remove time",children:"\xD7"})]}),(0,pt.jsx)("ul",{className:"max-h-36 overflow-y-auto mt-2",children:b.map(({time:T,period:x})=>{let N=T===l&&x===d;return(0,pt.jsx)("li",{children:(0,pt.jsxs)("button",{type:"button",onClick:()=>U(T,x),className:`w-full flex justify-between items-center text-left px-3 py-1.5 text-sm rounded-md ${N?"bg-blue-50 text-blue-700 font-semibold":"hover:bg-gray-100 text-gray-800"}`,children:[(0,pt.jsxs)("span",{children:[T," ",(0,pt.jsx)("span",{className:N?"text-blue-600":"text-gray-500",children:x})]}),N&&(0,pt.jsx)(e$,{className:"w-4 h-4 text-blue-600"})]})},`${T}-${x}`)})})]}):(0,pt.jsxs)("button",{type:"button",onClick:()=>p(!0),className:"w-full flex items-center justify-center gap-2 p-2 rounded-md bg-gray-50 hover:bg-gray-100 text-sm text-blue-600 font-semibold",children:[(0,pt.jsx)(ni,{className:"w-5 h-5"}),"Add time"]})}),(0,pt.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,pt.jsx)("button",{onClick:n,className:"px-4 py-2 text-sm font-semibold text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-gray-300",children:"Clear"}),(0,pt.jsx)("button",{onClick:S,className:"px-4 py-2 text-sm font-semibold text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500",children:"OK"})]})]})},Wo=t$});var us,Fe,n$,Wb,$S=j(()=>{"use strict";us=L(me(),1);ri();Oa();Xi();Pe();vh();Os();Fe=L(H(),1),n$=({isOpen:t,onClose:e,selectedDate:n,taskContext:r,habitContext:s})=>{let[i,o]=(0,us.useState)(""),[a,l]=(0,us.useState)(""),[u,d]=(0,us.useState)("kary"),[f,h]=(0,us.useState)(!1),[p,b]=(0,us.useState)(n||new Date),[I,v]=(0,us.useState)("text"),[g,y]=(0,us.useState)(!1),[_,A]=(0,us.useState)(!1),[R,U]=(0,us.useState)(0),[S,E]=(0,us.useState)([]),[T,x]=(0,us.useState)(""),{foci:N,logTemplates:D,addLog:k}=Sr(),{refreshData:V}=wn(),z=N.find(P=>P.id===u),$=D.filter(P=>P.focusId===u),de=(P,Z)=>P.replace(/{{date}}/gi,Z.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})),se=P=>{v(P.logType),o(de(P.title,p)),l(P.description||""),P.checklist&&E(P.checklist.map((Z,W)=>({id:`temp-${W}`,text:Z.text,completed:Z.completed||!1}))),P.rating&&U(P.rating),A(!1)},Te=P=>{P.key==="Enter"&&T.trim()&&(P.preventDefault(),E([...S,{id:`temp-${Date.now()}`,text:T.trim(),completed:!1}]),x(""))},Ae=P=>{E(S.filter((Z,W)=>W!==P))};us.default.useEffect(()=>{r&&t?(o(`Task: ${r.taskTitle}`),l(`Journal entry for task: ${r.taskTitle}`)):s&&t?(o(`Habit: ${s.habitTitle}`),l(`Journal entry for habit: ${s.habitTitle}`)):t&&(o(""),l("")),t&&(b(n||new Date),U(0),E([]),x(""))},[t,r,s,n]);let De=async P=>{if(P.preventDefault(),!(!i.trim()||!u)){h(!0);try{let Z={title:i.trim(),focusId:u,logType:I,logDate:p,...r?.taskId&&{taskId:r.taskId},...s?.habitId&&{habitId:s.habitId}};switch(I){case"text":Z.description=a.trim()||void 0;break;case"checklist":Z.checklist=S;break;case"rating":Z.rating=R;break}await k(Z),o(""),l(""),d("kary"),b(new Date),v("text"),U(0),E([]),x(""),setTimeout(()=>V(),300),e()}catch(Z){console.error("Failed to add log:",Z)}finally{h(!1)}}},Q=()=>{switch(I){case"rating":return(0,Fe.jsx)("div",{className:"flex items-center gap-1 py-2",children:[1,2,3,4,5].map(P=>(0,Fe.jsx)("button",{type:"button",onClick:()=>U(P),className:"p-1 rounded-full text-yellow-400 hover:text-yellow-500 transition-colors","aria-label":`Set rating to ${P}`,children:(0,Fe.jsx)(rr,{className:`w-6 h-6 transition-colors ${R>=P?"fill-yellow-400":"fill-gray-300 hover:fill-yellow-200"}`})},P))});case"checklist":return(0,Fe.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,Fe.jsx)("ul",{className:"space-y-1 max-h-40 overflow-y-auto",children:S.map((P,Z)=>(0,Fe.jsxs)("li",{className:"flex items-center gap-2 text-sm text-gray-700 pr-2",children:[(0,Fe.jsx)(It,{className:"w-4 h-4 text-gray-400"}),(0,Fe.jsx)("span",{className:"flex-1",children:P.text}),(0,Fe.jsx)("button",{type:"button",onClick:()=>Ae(Z),className:"text-red-400 hover:text-red-600 font-bold",children:"\xD7"})]},Z))}),(0,Fe.jsx)("input",{type:"text",value:T,onChange:P=>x(P.target.value),onKeyDown:Te,placeholder:"Add item and press Enter...",className:"w-full bg-gray-50 rounded px-2 py-1.5 text-sm outline-none focus:ring-1 focus:ring-blue-500"})]});case"text":default:return(0,Fe.jsx)("textarea",{value:a,onChange:P=>l(P.target.value),placeholder:"Add a description... (optional)",className:"w-full bg-transparent text-gray-700 placeholder-gray-400 text-sm outline-none resize-none border border-gray-300 rounded-md p-3 focus:ring-2 focus:ring-blue-500",rows:4})}};return!t||!z?null:(0,Fe.jsx)(kn,{title:"Add New Log",onClose:e,children:(0,Fe.jsxs)("form",{onSubmit:De,className:"space-y-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Log Type"}),(0,Fe.jsx)("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:z.allowedLogTypes.map(P=>{let Z=I===P,W=P==="text"?"Edit3Icon":P==="checklist"?"CheckSquareIcon":"StarIcon",F=J[W]||Ts;return(0,Fe.jsxs)("button",{type:"button",onClick:()=>v(P),className:`flex items-center space-x-2 px-3 py-2 text-sm font-medium rounded-md transition-colors ${Z?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[(0,Fe.jsx)(F,{className:"w-4 h-4"}),(0,Fe.jsx)("span",{className:"capitalize",children:P})]},P)})})]}),(0,Fe.jsxs)("div",{className:"space-y-2",children:[(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Focus Area *"}),$.length>0&&(0,Fe.jsx)("button",{type:"button",onClick:()=>A(!_),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Use Template"})]}),(0,Fe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Fe.jsx)("div",{className:"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-md",children:z&&(0,Fe.jsxs)(Fe.Fragment,{children:[us.default.createElement(J[z.icon]||Ts,{className:`w-4 h-4 text-${z.color}`}),(0,Fe.jsx)("span",{className:"text-sm font-medium text-gray-700",children:z.name})]})}),(0,Fe.jsx)("select",{value:u,onChange:P=>{d(P.target.value),v("text")},className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:N.map(P=>(0,Fe.jsx)("option",{value:P.id,children:P.name},P.id))})]}),_&&$.length>0&&(0,Fe.jsxs)("div",{className:"mt-2 p-3 bg-gray-50 rounded-md border border-gray-200",children:[(0,Fe.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Available Templates:"}),(0,Fe.jsx)("div",{className:"space-y-1",children:$.map(P=>(0,Fe.jsxs)("button",{type:"button",onClick:()=>se(P),className:"w-full text-left flex items-center gap-2 p-2 text-sm text-gray-700 hover:bg-white rounded-md transition-colors",children:[us.default.createElement(J[P.icon]||Ts,{className:"w-4 h-4 text-gray-500"}),(0,Fe.jsx)("span",{children:P.name})]},P.id))})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date & Time"}),(0,Fe.jsx)("div",{className:"flex items-center space-x-2",children:(0,Fe.jsxs)("button",{type:"button",onClick:()=>y(!g),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Fe.jsx)(lt,{className:"w-4 h-4 text-gray-500"}),(0,Fe.jsxs)("span",{className:"text-sm text-gray-700",children:[p.toLocaleDateString()," at ",p.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})]})]})}),g&&(0,Fe.jsx)("div",{className:"mt-2",children:(0,Fe.jsx)(Wo,{currentDate:p,onSelect:P=>{b(P),y(!1)},onClear:()=>{},onClose:()=>y(!1)})})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Entry Title *"}),(0,Fe.jsx)("input",{type:"text",id:"title",value:i,onChange:P=>o(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter entry title...",required:!0})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:I==="rating"?"Rating":I==="checklist"?"Checklist Items":"Content"}),Q()]}),(0,Fe.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Fe.jsx)("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),(0,Fe.jsx)("button",{type:"submit",disabled:!i.trim()||!u||f,className:"px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Adding...":"Log Entry"})]})]})})},Wb=n$});var qn,fe,KS,r$,s$,A4,D4=j(()=>{"use strict";qn=L(me(),1);Pe();$r();dh();Oa();Ip();jS();_p();S4();$S();Xi();fe=L(H(),1),KS=[{id:"Yet to Start",name:"Yet to Start",color:"text-gray-500",icon:"SunriseIcon"},{id:"In Progress",name:"In Progress",color:"text-blue-500",icon:"RepeatIcon"},{id:"Completed",name:"Completed",color:"text-green-500",icon:"CheckSquareIcon"},{id:"Abandoned",name:"Abandoned",color:"text-red-500",icon:"Trash2Icon"}],r$=t=>KS.find(e=>e.id===t)||KS[0],s$=({selectedItem:t,onClose:e})=>{let n=t.originalData,r=Qi(),s=Sr(),[i,o]=(0,qn.useState)(null),[a,l]=(0,qn.useState)(!1),[u,d]=(0,qn.useState)(""),[f,h]=(0,qn.useState)(!1),[p,b]=(0,qn.useState)(""),[I,v]=(0,qn.useState)(!1),g=(0,qn.useRef)(null),y=(0,qn.useRef)(null),_=(0,qn.useRef)(null),A=(0,qn.useRef)(null),R=s.logs,U=r.habitLogs,S=t.date,E=(0,qn.useMemo)(()=>R.filter(F=>F.habitId===n.id).sort((F,ee)=>ee.logDate.getTime()-F.logDate.getTime()),[n.id,R]),T=(0,qn.useMemo)(()=>{let F=S.toISOString().split("T")[0],ee=U.filter(be=>be.habitId===n.id&&be.date===F);return ee.length>0?ee[ee.length-1]:null},[n.id,U,S]),x=(0,qn.useMemo)(()=>{let F=0,ee=new Map;return U.forEach(be=>{ee.set(be.date,be)}),n.type==="count"||n.type==="duration"?F=Array.from(ee.values()).reduce((be,He)=>be+(He.value||0),0):n.type==="binary"?F=Array.from(ee.values()).length:n.type==="checklist"&&(F=Array.from(ee.values()).reduce((be,He)=>be+(He.completedChecklistItems?.length||0),0)),F},[n,U]),N=(0,qn.useMemo)(()=>$b(n,U),[n,U]);(0,qn.useEffect)(()=>{let F=ee=>{g.current&&!g.current.contains(ee.target)&&y.current&&!y.current.contains(ee.target)&&o(null)};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]),(0,qn.useEffect)(()=>{d(n.title||""),b(n.description||""),l(!1),h(!1),o(null)},[n.id]),(0,qn.useEffect)(()=>{a&&_.current&&(_.current.focus(),_.current.select())},[a]),(0,qn.useEffect)(()=>{f&&A.current&&A.current.focus()},[f]);let D=F=>{let ee=wn.getState(),be=ee.calendarItems.map(He=>He.id.includes(`habit-${n.id}`)?{...He,title:F.title!==void 0?F.title:He.title,originalData:{...He.originalData,...F}}:He);ee.setCalendarItems(be),r.updateHabit(n.id,F),o(null)},k=()=>{if(u.trim()&&u.trim()!==n.title){let F=wn.getState(),ee=F.calendarItems.map(be=>be.id.includes(`habit-${n.id}`)?{...be,title:u.trim(),originalData:{...be.originalData,title:u.trim()}}:be);F.setCalendarItems(ee),r.updateHabit(n.id,{title:u.trim()})}l(!1)},V=()=>{if(p!==(n.description||"")){let F=wn.getState(),ee=F.calendarItems.map(be=>be.id.includes(`habit-${n.id}`)?{...be,originalData:{...be.originalData,description:p.trim()}}:be);F.setCalendarItems(ee),r.updateHabit(n.id,{description:p.trim()})}h(!1)},z=()=>{v(!0)},$=()=>{v(!1)},de=async F=>{let ee=wn.getState();if(ee.selectedItem&&ee.selectedItem.id.includes(`habit-${n.id}`)){let He={...ee.selectedItem,completed:!0};ee.selectItem(He)}let be=ee.calendarItems.map(He=>He.id.includes(`habit-${n.id}`)&&He.date.toISOString().split("T")[0]===F.date?{...He,completed:!0}:He);ee.setCalendarItems(be),await r.addHabitLog(F)},se=async F=>{let ee=wn.getState();if(ee.selectedItem&&ee.selectedItem.id.includes(`habit-${n.id}`)){let He={...ee.selectedItem,completed:!1};ee.selectItem(He)}let be=ee.calendarItems.map(He=>He.id.includes(`habit-${n.id}`)&&He.date.toISOString().split("T")[0]===S.toISOString().split("T")[0]?{...He,completed:!1}:He);ee.setCalendarItems(be),await r.deleteHabitLog(F)};(0,qn.useEffect)(()=>{},[U]);let Te=F=>{let ee=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];switch(F.type){case"daily":return"Daily";case"weekly":return`${F.times} time${F.times>1?"s":""} per week`;case"monthly":return`${F.times} time${F.times>1?"s":""} per month`;case"specific_days":return`On ${F.days.map(be=>ee[be]).join(", ")}`;default:return"Not set"}},Ae=F=>{let ee=F.type==="duration"?"minutes":"times",be=Nt=>({at_least:"At least",exactly:"Exactly",less_than:"Less than",any_value:"Any value"})[Nt||"at_least"],He=[];return F.dailyTarget&&He.push(`${be(F.dailyTargetComparison)} ${F.dailyTarget} ${ee} per day`),F.totalTarget&&He.push(`${be(F.totalTargetComparison)} ${F.totalTarget} ${ee} in total`),He.length===0?"No specific target.":He.join(" and ")},De=F=>!F||F.length===0?"No reminders set":F.map(ee=>{let[be,He]=ee.split(":").map(Number),Nt=be>=12?"PM":"AM";return`${be%12||12}:${He.toString().padStart(2,"0")} ${Nt}`}).join(", "),Q=()=>(0,fe.jsx)(E4,{habit:n,log:T,date:S,onLog:de,onDeleteLog:se},`${n.id}-${S.toISOString().split("T")[0]}-${T?.id||"no-log"}`),P=J[n.icon]||je,Z=r$(n.status),W=J[Z.icon]||je;return(0,fe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 h-full overflow-y-auto",children:[(0,fe.jsxs)("div",{className:"flex justify-between items-start mb-6 pb-4 border-b border-gray-200",children:[(0,fe.jsxs)("div",{className:"flex items-start gap-4",children:[(0,fe.jsx)(P,{className:`w-12 h-12 text-${n.color}`}),(0,fe.jsxs)("div",{className:"flex-1",children:[a?(0,fe.jsx)("input",{ref:_,type:"text",value:u,onChange:F=>d(F.target.value),onBlur:k,onKeyDown:F=>{F.key==="Enter"&&(F.preventDefault(),k()),F.key==="Escape"&&(F.preventDefault(),d(n.title||""),l(!1))},className:"w-full text-3xl font-bold text-gray-800 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 px-2 py-1"}):(0,fe.jsx)("h1",{onClick:()=>l(!0),className:"text-3xl font-bold text-gray-800 cursor-text",children:n.title}),f?(0,fe.jsx)("textarea",{ref:A,value:p,onChange:F=>b(F.target.value),onBlur:V,onKeyDown:F=>{F.key==="Escape"&&(F.preventDefault(),b(n.description||""),h(!1))},className:"w-full mt-1 text-gray-500 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 px-2 py-1 resize-none",rows:2,placeholder:"Add description..."}):(0,fe.jsx)("p",{onClick:()=>h(!0),className:"text-gray-500 mt-1 cursor-text",children:n.description||"Click to add description..."})]})]}),(0,fe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,fe.jsxs)("button",{onClick:()=>o("status"),className:"flex items-center gap-2 text-sm font-medium bg-gray-100 hover:bg-gray-200 rounded-full px-3 py-1",children:[(0,fe.jsx)(W,{className:`w-4 h-4 ${Z.color}`}),(0,fe.jsx)("span",{className:Z.color,children:Z.name})]}),(0,fe.jsx)("button",{onClick:e,className:"p-2 rounded-md hover:bg-gray-100",children:(0,fe.jsx)(Cs,{className:"w-5 h-5"})})]})]}),(0,fe.jsxs)("div",{className:"mb-6",children:[(0,fe.jsxs)("label",{className:"text-sm font-medium text-gray-500 mb-3 block",children:["Log for ",S.toLocaleDateString("en-US",{month:"long",day:"numeric"})]}),Q()]}),(0,fe.jsxs)("div",{className:"mb-6",children:[(0,fe.jsx)("label",{className:"text-sm font-medium text-gray-500 mb-3 block",children:"Details"}),(0,fe.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3 border",children:[(0,fe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,fe.jsx)(xd,{className:"w-4 h-4 text-gray-400"}),(0,fe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Frequency:"}),(0,fe.jsx)("span",{className:"text-sm text-gray-600",children:Te(n.frequency)})]}),(0,fe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,fe.jsx)(je,{className:"w-4 h-4 text-gray-400"}),(0,fe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Goal:"}),(0,fe.jsx)("span",{className:"text-sm text-gray-600",children:Ae(n)})]}),(0,fe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,fe.jsx)(lt,{className:"w-4 h-4 text-gray-400"}),(0,fe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Timeline:"}),(0,fe.jsxs)("span",{className:"text-sm text-gray-600",children:[new Date(n.startDate).toLocaleDateString(),n.endDate?` to ${new Date(n.endDate).toLocaleDateString()}`:""]})]}),(0,fe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,fe.jsx)(Gi,{className:"w-4 h-4 text-gray-400"}),(0,fe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Reminders:"}),(0,fe.jsx)("span",{className:"text-sm text-gray-600",children:De(n.reminders)})]}),n.totalTarget&&(0,fe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,fe.jsx)(Nc,{className:"w-4 h-4 text-gray-400"}),(0,fe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Goal Progress:"}),(0,fe.jsxs)("span",{className:"text-sm text-gray-600",children:[x," / ",n.totalTarget," ",n.type==="duration"?"minutes":"times"]})]})]})]}),(0,fe.jsxs)("div",{className:"mb-6",children:[(0,fe.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,fe.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Journal"}),(0,fe.jsxs)("button",{onClick:z,className:"px-3 py-1 text-xs font-semibold text-green-700 bg-green-100 rounded-md hover:bg-green-200 transition-colors flex items-center gap-1.5",children:[(0,fe.jsx)(vn,{className:"w-3.5 h-3.5"}),"Add to Journal"]})]}),(0,fe.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3 border",children:E.length>0?(0,fe.jsx)("ul",{className:"space-y-2",children:E.map(F=>(0,fe.jsx)(Xl,{log:F},F.id))}):(0,fe.jsx)("p",{className:"text-sm text-gray-500 text-center py-2",children:"No journal entries for this habit yet."})})]}),(0,fe.jsxs)("div",{className:"mb-6",children:[(0,fe.jsx)("label",{className:"text-sm font-medium text-gray-500 mb-3 block",children:"Statistics"}),(0,fe.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3 border",children:[(0,fe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,fe.jsx)(Jf,{className:"w-4 h-4 text-gray-400"}),(0,fe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Current Streak:"}),(0,fe.jsxs)("span",{className:"text-sm text-gray-600",children:[N.currentStreak," day",N.currentStreak!==1?"s":""]})]}),(0,fe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,fe.jsx)(Zf,{className:"w-4 h-4 text-gray-400"}),(0,fe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Best Streak:"}),(0,fe.jsxs)("span",{className:"text-sm text-gray-600",children:[N.bestStreak," day",N.bestStreak!==1?"s":""]})]}),(0,fe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,fe.jsx)(kc,{className:"w-4 h-4 text-gray-400"}),(0,fe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Completion Rate:"}),(0,fe.jsxs)("span",{className:"text-sm text-gray-600",children:[N.completionRate,"%"]})]}),(0,fe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,fe.jsx)(em,{className:"w-4 h-4 text-gray-400"}),(0,fe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Days Completed:"}),(0,fe.jsxs)("span",{className:"text-sm text-gray-600",children:[N.daysCompleted," days"]})]})]})]}),(0,fe.jsx)(Kb,{habit:n,habitLogs:U,selectedDate:S}),i==="status"&&(0,fe.jsx)("div",{ref:g,className:"absolute shadow-lg z-20 top-full mt-2 left-0",children:(0,fe.jsx)("ul",{className:"bg-white rounded-lg shadow-xl border border-gray-200 w-48 overflow-y-auto",children:KS.map(F=>{let ee=J[F.icon]||je;return(0,fe.jsx)("li",{children:(0,fe.jsxs)("button",{onClick:()=>D({status:F.id}),className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm hover:bg-gray-100",children:[(0,fe.jsx)(ee,{className:`w-4 h-4 ${F.color}`}),(0,fe.jsx)("span",{children:F.name})]})},F.id)})})}),I&&(0,fe.jsx)(Wb,{isOpen:I,onClose:$,selectedDate:S,habitContext:{habitId:n.id,habitTitle:n.title}})]})},A4=s$});var mu,ke,i$,o$,a$,C4,R4=j(()=>{"use strict";mu=L(me(),1);Pe();Os();Oa();eo();Xi();ke=L(H(),1),i$=({rating:t=0})=>(0,ke.jsx)("div",{className:"flex items-center",children:[1,2,3,4,5].map(e=>(0,ke.jsx)(rr,{className:`w-5 h-5 text-yellow-400 ${t>=e?"fill-current":"fill-transparent stroke-current"}`},e))}),o$=({items:t=[]})=>(0,ke.jsx)("ul",{className:"space-y-2 mt-2",children:t.map(e=>(0,ke.jsxs)("li",{className:"flex items-center gap-3",children:[(0,ke.jsx)(br,{checked:e.completed,onChange:()=>{},disabled:!0}),(0,ke.jsx)("span",{className:`flex-1 text-sm ${e.completed?"text-gray-400 line-through":"text-gray-700"}`,children:e.text})]},e.id))}),a$=({selectedItem:t,onClose:e})=>{let n=Sr(),r=t.originalData,s=n.foci.find(g=>g.id===r.focusId),[i,o]=(0,mu.useState)(!1),[a,l]=(0,mu.useState)(!1),[u,d]=(0,mu.useState)(r.title),[f,h]=(0,mu.useState)(r.description||"");mu.default.useEffect(()=>{d(r.title),h(r.description||"")},[r.id,r.title,r.description]);let p=async()=>{if(u.trim()!==r.title){let g=wn.getState();g.selectedItem&&g.selectedItem.id===`log-${r.id}`&&g.selectItem({...g.selectedItem,title:u.trim(),originalData:{...r,title:u.trim()}});let y=g.calendarItems.map(_=>_.id===`log-${r.id}`?{..._,title:u.trim(),originalData:{...r,title:u.trim()}}:_);g.setCalendarItems(y),await n.updateLog(r.id,{title:u.trim()})}o(!1)},b=async()=>{if(f!==r.description){let g=wn.getState();g.selectedItem&&g.selectedItem.id===`log-${r.id}`&&g.selectItem({...g.selectedItem,description:f,originalData:{...r,description:f}});let y=g.calendarItems.map(_=>_.id===`log-${r.id}`?{..._,description:f,originalData:{...r,description:f}}:_);g.setCalendarItems(y),await n.updateLog(r.id,{description:f||void 0})}l(!1)},I=g=>({"blue-500":"bg-blue-500","green-500":"bg-green-500","purple-500":"bg-purple-500","red-500":"bg-red-500","yellow-500":"bg-yellow-500","indigo-500":"bg-indigo-500","pink-500":"bg-pink-500"})[g]||"bg-gray-500",v=g=>{switch(g){case"text":return"Text Entry";case"checklist":return"Checklist";case"rating":return"Rating";default:return"Log"}};return(0,ke.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 h-full overflow-y-auto",children:[(0,ke.jsxs)("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-200",children:[(0,ke.jsxs)("div",{className:"flex items-center",children:[(0,ke.jsx)("div",{className:`w-3 h-3 rounded-full ${I(t.color)} mr-3`}),(0,ke.jsxs)("div",{children:[(0,ke.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Journal Entry"}),(0,ke.jsx)("p",{className:"text-sm text-gray-500",children:t.date.toLocaleDateString()})]})]}),(0,ke.jsx)("button",{onClick:e,className:"p-2 rounded-md hover:bg-gray-100",children:(0,ke.jsx)(Cs,{className:"w-5 h-5"})})]}),(0,ke.jsxs)("div",{className:"space-y-6",children:[(0,ke.jsxs)("div",{children:[(0,ke.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),i?(0,ke.jsx)("input",{value:u,onChange:g=>d(g.target.value),onBlur:p,onKeyDown:g=>g.key==="Enter"&&p(),autoFocus:!0,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):(0,ke.jsx)("div",{onClick:()=>o(!0),className:"p-2 border border-transparent rounded-md hover:border-gray-300 cursor-pointer",children:(0,ke.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:r.title})})]}),s&&(0,ke.jsxs)("div",{children:[(0,ke.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Focus Area"}),(0,ke.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-md",children:[(0,ke.jsx)(je,{className:`w-4 h-4 ${s.color==="blue-500"?"text-blue-500":s.color==="green-500"?"text-green-500":s.color==="purple-500"?"text-purple-500":s.color==="red-500"?"text-red-500":s.color==="yellow-500"?"text-yellow-500":s.color==="indigo-500"?"text-indigo-500":s.color==="pink-500"?"text-pink-500":"text-gray-500"}`}),(0,ke.jsx)("span",{className:`text-sm font-medium ${s.color==="blue-500"?"text-blue-500":s.color==="green-500"?"text-green-500":s.color==="purple-500"?"text-purple-500":s.color==="red-500"?"text-red-500":s.color==="yellow-500"?"text-yellow-500":s.color==="indigo-500"?"text-indigo-500":s.color==="pink-500"?"text-pink-500":"text-gray-500"}`,children:s.name})]})]}),(0,ke.jsxs)("div",{children:[(0,ke.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a?(0,ke.jsx)("textarea",{value:f,onChange:g=>h(g.target.value),onBlur:b,autoFocus:!0,rows:8,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Add a description..."}):(0,ke.jsx)("div",{onClick:()=>l(!0),className:"p-3 border border-transparent rounded-md hover:border-gray-300 cursor-pointer min-h-[120px]",children:r.description?(0,ke.jsx)("p",{className:"text-gray-600 whitespace-pre-wrap",children:r.description}):(0,ke.jsx)("p",{className:"text-gray-400 italic",children:"Click to add a description..."})})]}),r.logType==="rating"&&r.rating&&(0,ke.jsxs)("div",{children:[(0,ke.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),(0,ke.jsxs)("div",{className:"p-2 bg-gray-50 rounded-md",children:[(0,ke.jsx)(i$,{rating:r.rating}),(0,ke.jsxs)("span",{className:"text-sm text-gray-600 ml-2",children:[r.rating,"/5"]})]})]}),r.logType==="checklist"&&r.checklist&&(0,ke.jsxs)("div",{children:[(0,ke.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Checklist"}),(0,ke.jsx)("div",{className:"p-2 bg-gray-50 rounded-md",children:(0,ke.jsx)(o$,{items:r.checklist})})]}),(0,ke.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ke.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Entry Details"}),(0,ke.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,ke.jsxs)("div",{className:"flex justify-between",children:[(0,ke.jsx)("span",{className:"font-medium text-gray-600",children:"Type:"}),(0,ke.jsx)("span",{className:"text-gray-900",children:v(r.logType)})]}),(0,ke.jsxs)("div",{className:"flex justify-between",children:[(0,ke.jsx)("span",{className:"font-medium text-gray-600",children:"Date:"}),(0,ke.jsx)("span",{className:"text-gray-900",children:new Date(r.logDate).toLocaleDateString()})]}),(0,ke.jsxs)("div",{className:"flex justify-between",children:[(0,ke.jsx)("span",{className:"font-medium text-gray-600",children:"Time:"}),(0,ke.jsx)("span",{className:"text-gray-900",children:new Date(r.logDate).toLocaleTimeString()})]}),r.taskId&&(0,ke.jsxs)("div",{className:"flex justify-between",children:[(0,ke.jsx)("span",{className:"font-medium text-gray-600",children:"Related Task:"}),(0,ke.jsx)("span",{className:"text-gray-900",children:r.taskId})]}),r.habitId&&(0,ke.jsxs)("div",{className:"flex justify-between",children:[(0,ke.jsx)("span",{className:"font-medium text-gray-600",children:"Related Habit:"}),(0,ke.jsx)("span",{className:"text-gray-900",children:r.habitId})]})]})]})]})]})},C4=a$});var L4,Zn,l$,c$,P4,O4=j(()=>{"use strict";L4=L(me(),1);Pe();$l();GS();D4();R4();ip();Oa();Xi();Zn=L(H(),1),l$=({selectedItem:t,onClose:e})=>{let n=Yi(),r=Sr(),s=wn(),i=t.originalData,o=n.tags,a=n.lists,l=r.logs,u=n.tasks.filter(f=>f.parentId===i.id),d=(f,h)=>{let p=s.calendarItems.map(b=>b.id===`task-${f}`?{...b,title:h.title!==void 0?h.title:b.title,completed:h.completed!==void 0?h.completed:b.completed,originalData:{...b.originalData,...h}}:b);s.setCalendarItems(p)};return(0,L4.useEffect)(()=>(s.setRealTimeSyncDisabled(!0),()=>{s.setRealTimeSyncDisabled(!1),setTimeout(()=>s.refreshData(),200)}),[]),(0,Zn.jsx)(Tp,{selectedTaskId:i.id,tasks:n.tasks,allTags:o,allLists:a,allLogs:l,childrenTasks:u,onToggleComplete:f=>{let h=n.tasks.find(p=>p.id===f);if(h){let p=!h.completed;n.updateTask(f,{completed:p}),d(f,{completed:p})}},onUpdateTask:(f,h)=>{n.updateTask(f,h),d(f,h)},onDeleteTask:n.deleteTask,onDuplicateTask:f=>{console.log("Duplicate task:",f)},onSelectTask:f=>{console.log("Select task:",f)},onAddTask:(f,h,p)=>{let b={title:f.title,description:"",completed:!1,priority:f.priority,dueDate:f.dueDate?new Date(f.dueDate):void 0,reminder:!1,listId:h?.id||"today",tags:[],parentId:p,createdAt:new Date};n.addTask(b)},onOpenLogModal:f=>{let h=new CustomEvent("openLogModal",{detail:{taskId:f.id,taskTitle:f.title,selectedDate:new Date}});window.dispatchEvent(h)},onBack:e})},c$=({selectedItem:t,onClose:e})=>t?(()=>{switch(t.type){case"task":return(0,Zn.jsx)(l$,{selectedItem:t,onClose:e});case"habit":case"habit_log":return(0,Zn.jsx)(A4,{selectedItem:t,onClose:e});case"log":return(0,Zn.jsx)(C4,{selectedItem:t,onClose:e});default:return(0,Zn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 h-full",children:[(0,Zn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Zn.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Details"}),(0,Zn.jsx)("button",{onClick:e,className:"p-2 rounded-md hover:bg-gray-100",children:(0,Zn.jsx)(Cs,{className:"w-5 h-5"})})]}),(0,Zn.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Zn.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Item Details"}),(0,Zn.jsx)("p",{className:"text-sm text-gray-600",children:"Details for this item type are not yet implemented."})]})]})}})():(0,Zn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 h-full",children:[(0,Zn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Zn.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Details"}),(0,Zn.jsx)("button",{onClick:e,className:"p-2 rounded-md hover:bg-gray-100",children:(0,Zn.jsx)(Cs,{className:"w-5 h-5"})})]}),(0,Zn.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,Zn.jsx)(uT,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,Zn.jsx)("p",{children:"Select an item to view details"})]})]}),P4=c$});var wh,dt,WS,u$,M4,F4=j(()=>{"use strict";wh=L(me(),1);Pe();Xi();$l();dt=L(H(),1),WS=({className:t})=>(0,dt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,dt.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,dt.jsx)("path",{d:"m21 21-4.35-4.35"})]}),u$=({onItemSelect:t})=>{let{calendarItems:e}=wn(),[n,r]=(0,wh.useState)(""),[s,i]=(0,wh.useState)(!1),[o,a]=(0,wh.useState)("all"),l=(0,wh.useMemo)(()=>{if(!n.trim())return[];let b=n.toLowerCase(),I=e.filter(v=>v.title.toLowerCase().includes(b)||v.description&&v.description.toLowerCase().includes(b));if(o!=="all"){let v={tasks:"task",habits:"habit",logs:"log"};I=I.filter(g=>g.type===v[o])}return I.slice(0,10)},[e,n,o]),u=()=>{i(!s),s||r("")},d=b=>{t(b),i(!1),r("")},f=b=>{let I=J[b]||Ts;return(0,dt.jsx)(I,{className:"w-4 h-4"})},h=b=>({"blue-500":"bg-blue-500","green-500":"bg-green-500","purple-500":"bg-purple-500","red-500":"bg-red-500","yellow-500":"bg-yellow-500","indigo-500":"bg-indigo-500","pink-500":"bg-pink-500"})[b]||"bg-gray-500",p=b=>{switch(b){case"task":return"Task";case"habit":return"Habit";case"log":return"Journal";default:return"Item"}};return(0,dt.jsxs)("div",{className:"relative",children:[(0,dt.jsxs)("button",{onClick:u,className:"flex items-center px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors min-w-0",children:[(0,dt.jsx)(WS,{className:"w-4 h-4 mr-2 flex-shrink-0"}),(0,dt.jsx)("span",{className:"hidden sm:inline",children:"Search"}),(0,dt.jsx)(es,{className:`w-4 h-4 ml-1 transition-transform flex-shrink-0 ${s?"rotate-180":""}`})]}),s&&(0,dt.jsxs)("div",{className:"absolute top-full right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg z-50 w-96",children:[(0,dt.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,dt.jsxs)("div",{className:"relative",children:[(0,dt.jsx)(WS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,dt.jsx)("input",{type:"text",placeholder:"Search tasks, habits, journal entries...",value:n,onChange:b=>r(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0})]})}),(0,dt.jsx)("div",{className:"flex border-b border-gray-200",children:[{key:"all",label:"All",count:e.length},{key:"tasks",label:"Tasks",count:e.filter(b=>b.type==="task").length},{key:"habits",label:"Habits",count:e.filter(b=>b.type==="habit").length},{key:"logs",label:"Journal",count:e.filter(b=>b.type==="log").length}].map(({key:b,label:I,count:v})=>(0,dt.jsxs)("button",{onClick:()=>a(b),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors ${o===b?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[I,(0,dt.jsxs)("span",{className:"ml-1 text-xs text-gray-400",children:["(",v,")"]})]},b))}),(0,dt.jsx)("div",{className:"max-h-64 overflow-y-auto",children:n.trim()===""?(0,dt.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,dt.jsx)(WS,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,dt.jsx)("p",{className:"text-sm",children:"Start typing to search..."})]}):l.length===0?(0,dt.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,dt.jsx)(nm,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,dt.jsx)("p",{className:"text-sm",children:"No items found"}),(0,dt.jsx)("p",{className:"text-xs text-gray-400",children:"Try different keywords or filters"})]}):(0,dt.jsx)("div",{className:"divide-y divide-gray-200",children:l.map(b=>(0,dt.jsxs)("button",{onClick:()=>d(b),className:"w-full p-3 hover:bg-gray-50 flex items-center text-left transition-colors",children:[(0,dt.jsx)("div",{className:`w-3 h-3 rounded-full ${h(b.color)} mr-3`}),(0,dt.jsx)("div",{className:"flex items-center mr-3 text-gray-500",children:f(b.icon)}),(0,dt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,dt.jsx)("p",{className:"font-medium text-gray-900 truncate",children:b.title}),(0,dt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,dt.jsx)("span",{className:"text-xs text-gray-500 mr-2",children:p(b.type)}),(0,dt.jsx)("span",{className:"text-xs text-gray-400",children:b.date.toLocaleDateString()}),b.completed&&(0,dt.jsx)(ya,{className:"w-3 h-3 text-green-500 ml-2"})]})]})]},b.id))})}),n.trim()!==""&&(0,dt.jsx)("div",{className:"p-3 bg-gray-50 border-t border-gray-200",children:(0,dt.jsx)("p",{className:"text-xs text-gray-500",children:"\u{1F4A1} Tip: Use filters to narrow down results by type"})})]})]})},M4=u$});var Ep,wt,d$,U4,V4=j(()=>{"use strict";Ep=L(me(),1);Pe();wt=L(H(),1),d$=({calendarItems:t,onItemSelect:e})=>{let[n,r]=(0,Ep.useState)([]),[s,i]=(0,Ep.useState)(!1),o=()=>{let y=new Date;return t.filter(R=>{if(R.completed)return!1;let U=new Date(R.date),S=new Date;return S.setHours(0,0,0,0),U.setHours(0,0,0,0),U<S}).map(R=>({id:`overdue-${R.id}`,type:"overdue",title:"Overdue Item",message:`${R.title} was due ${d(R.date)}`,itemId:R.id,timestamp:new Date,read:!1,action:()=>e(R)}))},a=()=>{let y=new Date;return t.filter(R=>{if(R.completed)return!1;let U=new Date(R.date),S=new Date,E=new Date(S);return E.setDate(E.getDate()+1),U>=S&&U<=E}).map(R=>({id:`reminder-${R.id}`,type:"reminder",title:"Upcoming Item",message:`${R.title} is due ${f(R.date)}`,itemId:R.id,timestamp:new Date,read:!1,action:()=>e(R)}))},l=()=>{let y=t.filter(A=>{if(!A.completed)return!1;let R=new Date(A.date),U=new Date;return R.toDateString()===U.toDateString()}),_=[];return y.length>=3&&_.push({id:"streak-3",type:"streak",title:"Great Progress! \u{1F389}",message:`You've completed ${y.length} items today!`,timestamp:new Date,read:!1}),_},u=()=>{let y=t.filter(U=>U.completed),_=t.length,A=_>0?y.length/_*100:0,R=[];return A>=80&&R.push({id:"milestone-80",type:"milestone",title:"Excellent Progress! \u{1F31F}",message:`You've completed ${Math.round(A)}% of your items!`,timestamp:new Date,read:!1}),R},d=y=>{let _=new Date,A=new Date(y),R=_.getTime()-A.getTime(),U=Math.ceil(R/(1e3*60*60*24));return U===1?"yesterday":U===2?"2 days ago":`${U} days ago`},f=y=>{let _=new Date,R=new Date(y).getTime()-_.getTime(),U=Math.ceil(R/(1e3*60*60*24));return U===0?"today":U===1?"tomorrow":`in ${U} days`},h=y=>{r(_=>_.map(A=>A.id===y?{...A,read:!0}:A))},p=y=>{r(_=>_.filter(A=>A.id!==y))},b=()=>{r([])};(0,Ep.useEffect)(()=>{let y=()=>{let A=o(),R=a(),U=l(),S=u(),T=[...A,...R,...U,...S].filter((x,N,D)=>N===D.findIndex(k=>k.id===x.id));r(x=>{let N=new Set(x.map(k=>k.id)),D=T.filter(k=>!N.has(k.id));return[...x,...D]})};y();let _=setInterval(y,5*60*1e3);return()=>clearInterval(_)},[t]);let I=n.filter(y=>!y.read).length,v=y=>{switch(y){case"overdue":return(0,wt.jsx)(nm,{className:"w-5 h-5 text-red-500"});case"reminder":return(0,wt.jsx)(ni,{className:"w-5 h-5 text-blue-500"});case"streak":return(0,wt.jsx)(rr,{className:"w-5 h-5 text-yellow-500"});case"milestone":return(0,wt.jsx)(cT,{className:"w-5 h-5 text-green-500"});default:return(0,wt.jsx)(Gi,{className:"w-5 h-5 text-gray-500"})}},g=y=>{switch(y){case"overdue":return"border-red-200 bg-red-50";case"reminder":return"border-blue-200 bg-blue-50";case"streak":return"border-yellow-200 bg-yellow-50";case"milestone":return"border-green-200 bg-green-50";default:return"border-gray-200 bg-gray-50"}};return(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsxs)("button",{onClick:()=>i(!s),className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Notifications",children:[(0,wt.jsx)(Gi,{className:"w-6 h-6 text-gray-600"}),I>0&&(0,wt.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:I>9?"9+":I})]}),s&&(0,wt.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-96 overflow-y-auto",children:[(0,wt.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,wt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wt.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),n.length>0&&(0,wt.jsx)("button",{onClick:b,className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})]})}),(0,wt.jsx)("div",{className:"p-2",children:n.length===0?(0,wt.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,wt.jsx)(Gi,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,wt.jsx)("p",{children:"No notifications"}),(0,wt.jsx)("p",{className:"text-sm",children:"You're all caught up!"})]}):(0,wt.jsx)("div",{className:"space-y-2",children:n.map(y=>(0,wt.jsx)("div",{className:`p-3 rounded-lg border transition-all duration-200 ${g(y.type)} ${y.read?"opacity-75":""}`,children:(0,wt.jsxs)("div",{className:"flex items-start space-x-3",children:[v(y.type),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wt.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:y.title}),(0,wt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,wt.jsx)("button",{onClick:()=>h(y.id),className:"text-xs text-gray-500 hover:text-gray-700",title:"Mark as read",children:(0,wt.jsx)(ya,{className:"w-3 h-3"})}),(0,wt.jsx)("button",{onClick:()=>p(y.id),className:"text-xs text-gray-500 hover:text-red-500",title:"Dismiss",children:(0,wt.jsx)(Cs,{className:"w-3 h-3"})})]})]}),(0,wt.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:y.message}),(0,wt.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,wt.jsx)("span",{className:"text-xs text-gray-500",children:y.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),y.action&&(0,wt.jsx)("button",{onClick:()=>{y.action?.(),h(y.id)},className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"View Item"})]})]})]})},y.id))})})]})]})},U4=d$});var H4,Jl,h$,B4,z4=j(()=>{"use strict";H4=L(me(),1),Jl=L(H(),1),h$=({size:t="md",showText:e=!0,className:n=""})=>{let r={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"},s={sm:"text-sm",md:"text-xl",lg:"text-2xl"},[i,o]=H4.default.useState(!1),a=()=>{o(!0)};return(0,Jl.jsxs)("div",{className:`flex items-center space-x-3 ${n}`,children:[(0,Jl.jsx)("div",{className:`${r[t]} flex items-center justify-center`,children:i?(0,Jl.jsx)("div",{className:`${r[t]} bg-gradient-to-br from-amber-500 to-orange-500 rounded-lg flex items-center justify-center`,children:(0,Jl.jsx)("span",{className:"text-white font-bold text-xs",children:"JS"})}):(0,Jl.jsx)("img",{src:"/Jeevan Saathi Logo.png",alt:"Jeevan Saathi Logo",className:`${r[t]} object-contain`,onError:a})}),e&&(0,Jl.jsx)("h1",{className:`${s[t]} font-bold text-gray-900`,children:"Jeevan Saathi"})]})},B4=h$});var Yo,Ht,f$,q4,G4=j(()=>{"use strict";Yo=L(me(),1);ri();ip();Xi();Pe();vh();Ht=L(H(),1),f$=({isOpen:t,onClose:e,selectedDate:n})=>{let[r,s]=(0,Yo.useState)(""),[i,o]=(0,Yo.useState)(""),[a,l]=(0,Yo.useState)(""),[u,d]=(0,Yo.useState)(2),[f,h]=(0,Yo.useState)(n),[p,b]=(0,Yo.useState)(!1),[I,v]=(0,Yo.useState)(!1),{addTask:g,lists:y}=Yi(),{refreshData:_}=wn();Yo.default.useEffect(()=>{if(t&&y.length>0){let S=y.find(E=>E.name==="Inbox");l(S?.id||y[0]?.id||""),h(n)}},[t,y,n]);let A=async S=>{if(S.preventDefault(),!(!r.trim()||!a)){v(!0);try{await g({title:r.trim(),description:i.trim()||void 0,listId:a,completed:!1,dueDate:f,priority:u,createdAt:new Date}),s(""),o(""),l(""),d(2),h(void 0),await _(),e()}catch(E){console.error("Failed to add task:",E)}finally{v(!1)}}},R=S=>{switch(S){case 1:return"Low";case 2:return"Medium";case 3:return"High";case 4:return"Urgent";default:return"Medium"}},U=S=>{switch(S){case 1:return"text-gray-500";case 2:return"text-blue-500";case 3:return"text-orange-500";case 4:return"text-red-500";default:return"text-blue-500"}};return t?(0,Ht.jsx)(kn,{title:"Add New Task",onClose:e,children:(0,Ht.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Title *"}),(0,Ht.jsx)("input",{type:"text",id:"title",value:r,onChange:S=>s(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter task title...",required:!0})]}),(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Ht.jsx)("textarea",{id:"description",value:i,onChange:S=>o(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter task description...",rows:3})]}),(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{htmlFor:"list",className:"block text-sm font-medium text-gray-700 mb-1",children:"List *"}),(0,Ht.jsx)("select",{id:"list",value:a,onChange:S=>l(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:y.map(S=>(0,Ht.jsx)("option",{value:S.id,children:S.name},S.id))})]}),(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),(0,Ht.jsx)("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[1,2,3,4].map(S=>(0,Ht.jsx)("button",{type:"button",onClick:()=>d(S),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ${u===S?"bg-white shadow-sm":"hover:bg-gray-50"} ${U(S)}`,children:R(S)},S))})]}),(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date & Time"}),(0,Ht.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ht.jsxs)("button",{type:"button",onClick:()=>b(!p),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Ht.jsx)(lt,{className:"w-4 h-4 text-gray-500"}),(0,Ht.jsx)("span",{className:"text-sm text-gray-700",children:f?`${f.toLocaleDateString()} at ${f.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}`:"Set due date & time"})]}),f&&(0,Ht.jsx)("button",{type:"button",onClick:()=>h(void 0),className:"text-red-500 hover:text-red-700",children:(0,Ht.jsx)(Cs,{className:"w-4 h-4"})})]}),p&&(0,Ht.jsx)("div",{className:"mt-2",children:(0,Ht.jsx)(Wo,{currentDate:f||new Date,onSelect:S=>{h(S),b(!1)},onClear:()=>h(void 0),onClose:()=>b(!1)})})]}),(0,Ht.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Ht.jsx)("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),(0,Ht.jsx)("button",{type:"submit",disabled:!r.trim()||!a||I,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:I?"Adding...":"Add Task"})]})]})}):null},q4=f$});var pu,Un,m$,j4,$4=j(()=>{"use strict";pu=L(me(),1);ri();dh();Xi();Pe();vh();Un=L(H(),1),m$=({isOpen:t,onClose:e,selectedDate:n})=>{let[r,s]=(0,pu.useState)(""),[i,o]=(0,pu.useState)(n||new Date),[a,l]=(0,pu.useState)(!1),[u,d]=(0,pu.useState)(!1),{habits:f,addHabitLog:h}=Qi(),{refreshData:p}=wn();pu.default.useEffect(()=>{t&&f.length>0&&(s(f[0]?.id||""),o(n||new Date))},[t,f,n]);let b=async I=>{if(I.preventDefault(),!!r){d(!0);try{await h({habitId:r,date:i.toISOString().split("T")[0],value:1}),s(""),o(new Date),await p(),e()}catch(v){console.error("Failed to add habit log:",v)}finally{d(!1)}}};return t?(0,Un.jsx)(kn,{title:"Log Habit",onClose:e,children:(0,Un.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,Un.jsxs)("div",{children:[(0,Un.jsx)("label",{htmlFor:"habit",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Habit *"}),(0,Un.jsxs)("select",{id:"habit",value:r,onChange:I=>s(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,Un.jsx)("option",{value:"",children:"Choose a habit..."}),f.map(I=>(0,Un.jsx)("option",{value:I.id,children:I.title},I.id))]})]}),(0,Un.jsxs)("div",{children:[(0,Un.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Log Date & Time"}),(0,Un.jsx)("div",{className:"flex items-center space-x-2",children:(0,Un.jsxs)("button",{type:"button",onClick:()=>l(!a),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Un.jsx)(lt,{className:"w-4 h-4 text-gray-500"}),(0,Un.jsxs)("span",{className:"text-sm text-gray-700",children:[i.toLocaleDateString()," at ",i.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})]})]})}),a&&(0,Un.jsx)("div",{className:"mt-2",children:(0,Un.jsx)(Wo,{currentDate:i,onSelect:I=>{o(I),l(!1)},onClear:()=>{},onClose:()=>l(!1)})})]}),(0,Un.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-md p-3",children:(0,Un.jsxs)("div",{className:"flex items-center",children:[(0,Un.jsx)(kc,{className:"w-5 h-5 text-green-600 mr-2"}),(0,Un.jsx)("span",{className:"text-sm font-medium text-green-800",children:"Marking habit as completed"})]})}),(0,Un.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Un.jsx)("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),(0,Un.jsx)("button",{type:"submit",disabled:!r||u,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Logging...":"Log Habit"})]})]})}):null},j4=m$});var K4={};io(K4,{default:()=>g$});var Qo,mn,p$,g$,W4=j(()=>{"use strict";Qo=L(me(),1);Xi();sM();QM();JM();O4();F4();V4();z4();G4();$S();$4();mn=L(H(),1),p$=({isAppSidebarOpen:t})=>{let{calendarItems:e,selectedItem:n,selectedDate:r,loading:s,error:i,fetchHomeData:o,selectItem:a,selectDate:l,setupRealTimeSync:u}=wn();(0,Qo.useEffect)(()=>{if(n&&e.length>0){let A=e.find(R=>R.id===n.id);A&&JSON.stringify(A)!==JSON.stringify(n)&&a(A)}},[e,n,a]);let[d,f]=(0,Qo.useState)(!1),[h,p]=(0,Qo.useState)(!1),[b,I]=(0,Qo.useState)(!1),[v,g]=(0,Qo.useState)();(0,Qo.useEffect)(()=>(o(),u()),[o,u]),(0,Qo.useEffect)(()=>{(async()=>{try{let{useKaryStore:R}=await Promise.resolve().then(()=>(wb(),BO)),{useAbhyasaStore:U}=await Promise.resolve().then(()=>(cS(),QO)),{useDainandiniStore:S}=await Promise.resolve().then(()=>(xb(),zO));await Promise.all([R.getState().fetchKaryData(),U.getState().fetchAbhyasaData(),S.getState().fetchDainandiniData()])}catch(R){console.error("Failed to initialize stores:",R)}})()},[]),(0,Qo.useEffect)(()=>{let A=R=>{g(R.detail),p(!0)};return window.addEventListener("openLogModal",A),()=>{window.removeEventListener("openLogModal",A)}},[]);let y=A=>{a(A)},_=A=>{l(A)};return s?(0,mn.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,mn.jsxs)("div",{className:"text-center",children:[(0,mn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,mn.jsx)("p",{className:"text-gray-600",children:"Loading your home screen..."})]})}):i?(0,mn.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,mn.jsxs)("div",{className:"text-center",children:[(0,mn.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"\u26A0\uFE0F"}),(0,mn.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),(0,mn.jsx)("p",{className:"text-gray-600 mb-4",children:i}),(0,mn.jsx)("button",{onClick:o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]})}):(0,mn.jsxs)("div",{className:"h-screen bg-gray-50 flex flex-col w-full",children:[(0,mn.jsxs)("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,mn.jsx)(B4,{size:"md"}),(0,mn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mn.jsx)(M4,{onItemSelect:y}),(0,mn.jsx)(U4,{calendarItems:e,onItemSelect:y})]})]}),(0,mn.jsx)("div",{className:"flex-1 min-h-0",children:(0,mn.jsxs)(rM,{isMobile:!1,children:[(0,mn.jsx)(XM,{onAddTask:()=>f(!0),onAddHabitLog:()=>I(!0),onAddJournalEntry:()=>{g(void 0),p(!0)}}),(0,mn.jsx)(YM,{items:e,selectedDate:r,selectedItem:n,onItemSelect:y,onDateSelect:_}),(0,mn.jsx)(P4,{selectedItem:n,onClose:()=>a(null)})]})}),(0,mn.jsx)(q4,{isOpen:d,onClose:()=>f(!1),selectedDate:r}),(0,mn.jsx)(j4,{isOpen:b,onClose:()=>I(!1),selectedDate:r}),(0,mn.jsx)(Wb,{isOpen:h,onClose:()=>{p(!1),g(void 0)},selectedDate:r,taskContext:v})]})},g$=p$});var Q4,nt,Yb,Y4,y$,X4,J4=j(()=>{"use strict";Q4=L(me(),1);Pe();nt=L(H(),1),Yb=({name:t,icon:e,color:n,isSelected:r,onSelect:s,onEdit:i,type:o})=>{let a=J[e]||Nn;return(0,nt.jsxs)("div",{onClick:s,className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 cursor-pointer ${r?"bg-indigo-50 text-indigo-700 border border-indigo-200 shadow-sm":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[(0,nt.jsx)("div",{className:`w-5 h-5 flex items-center justify-center ${n?`text-${n}`:"text-gray-500"}`,children:(0,nt.jsx)(a,{className:"w-4 h-4"})}),(0,nt.jsx)("span",{className:"flex-1 truncate text-left",children:t}),o==="focus"&&i&&(0,nt.jsx)("button",{onClick:l=>{l.stopPropagation(),l.preventDefault(),i()},className:"ml-auto p-1 rounded-full opacity-0 group-hover:opacity-100 hover:bg-gray-300 transition-opacity flex-shrink-0","aria-label":`Edit ${t}`,children:(0,nt.jsx)(nn,{className:"w-4 h-4"})})]})},Y4=({title:t,onAdd:e,icon:n})=>{let r=J[n];return(0,nt.jsxs)("div",{className:"px-3 pt-6 pb-3 flex justify-between items-center",children:[(0,nt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,nt.jsx)(r,{className:"w-4 h-4 text-gray-500"}),(0,nt.jsx)("h2",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide",children:t})]}),(0,nt.jsx)("button",{onClick:e,className:"p-1.5 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors duration-200",children:(0,nt.jsx)(At,{className:"w-4 h-4"})})]})},y$=({foci:t,templates:e,selection:n,onSelect:r,onOpenModal:s,onCreateTemplate:i,onEditFocus:o,onReorderFoci:a,isMobile:l,isSidebarOpen:u})=>{let[d,f]=(0,Q4.useState)(null),h=(v,g)=>{v.dataTransfer.effectAllowed="move",v.dataTransfer.setData("text/plain",g),f(g)},p=v=>{v.preventDefault()},b=(v,g)=>{v.preventDefault();let y=v.dataTransfer.getData("text/plain");if(y===g)return;let _=t.findIndex(S=>S.id===y),A=t.findIndex(S=>S.id===g);if(_===-1||A===-1)return;let R=[...t],[U]=R.splice(_,1);R.splice(A,0,U),a(R),f(null)},I=()=>{f(null)};return(0,nt.jsxs)("aside",{className:`w-80 flex-shrink-0 bg-white border-r border-gray-200 flex flex-col
        ${l?"fixed inset-y-0 left-0 z-20 transition-transform duration-300 ease-in-out":""}
        ${l&&!u?"-translate-x-full":"translate-x-0"}
      `,children:[(0,nt.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,nt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,nt.jsx)("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:(0,nt.jsx)(vn,{className:"w-6 h-6 text-indigo-600"})}),(0,nt.jsxs)("div",{children:[(0,nt.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:"Dainandini"}),(0,nt.jsx)("p",{className:"text-xs text-gray-500",children:"Reflect on your day"})]})]})}),(0,nt.jsxs)("nav",{className:"flex-1 overflow-y-auto p-3",children:[(0,nt.jsx)("div",{className:"mb-6",children:(0,nt.jsxs)("ul",{className:"space-y-1",children:[(0,nt.jsx)("li",{children:(0,nt.jsx)(Yb,{id:"today",type:"today",name:"Today's Journal",icon:"TodayIcon",isSelected:n.type==="today",onSelect:()=>r({type:"today"})})}),(0,nt.jsx)("li",{children:(0,nt.jsx)(Yb,{id:"calendar",type:"calendar",name:"Calendar",icon:"CalendarIcon",isSelected:n.type==="calendar",onSelect:()=>r({type:"calendar"})})})]})}),(0,nt.jsx)("div",{className:"border-t border-gray-200 mb-6"}),(0,nt.jsxs)("div",{className:"mb-6",children:[(0,nt.jsx)(Y4,{title:"Focus Areas",onAdd:s,icon:"TargetIcon"}),(0,nt.jsx)("ul",{className:"space-y-1",children:t.map(v=>(0,nt.jsx)("li",{draggable:!0,onDragStart:g=>h(g,v.id),onDragOver:p,onDrop:g=>b(g,v.id),onDragEnd:I,className:`transition-all duration-200 cursor-grab ${d===v.id?"opacity-40 scale-95 shadow-lg rounded-md":""}`,children:(0,nt.jsx)(Yb,{id:v.id,type:"focus",name:v.name,icon:v.icon,color:v.color,isSelected:n.type==="focus"&&n.id===v.id,onSelect:()=>r({type:"focus",id:v.id}),onEdit:()=>o(v.id)})},v.id))})]}),(0,nt.jsx)("div",{className:"border-t border-gray-200 mb-6"}),(0,nt.jsxs)("div",{className:"mb-6",children:[(0,nt.jsx)(Y4,{title:"Templates",onAdd:i,icon:"FileTextIcon"}),(0,nt.jsx)("ul",{className:"space-y-1",children:e.map(v=>(0,nt.jsx)("li",{children:(0,nt.jsx)(Yb,{id:v.id,type:"template",name:v.name,icon:v.icon,isSelected:n.type==="template"&&n.id===v.id,onSelect:()=>r({type:"template",id:v.id})})},v.id))})]})]})]})},X4=y$});var Z4,Rt,b$,v$,w$,xh,YS=j(()=>{"use strict";Z4=L(me(),1);Os();Pe();qS();Rt=L(H(),1);Ct.setOptions({breaks:!0,gfm:!0});b$=({rating:t=0})=>(0,Rt.jsx)("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(e=>(0,Rt.jsx)(rr,{className:`w-4 h-4 ${t>=e?"text-yellow-400 fill-current":"text-gray-300"}`},e))}),v$=({items:t=[]})=>(0,Rt.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,Rt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Rt.jsx)("div",{className:`w-2 h-2 rounded-full ${e.completed?"bg-green-500":"bg-gray-300"}`}),(0,Rt.jsx)("span",{className:`text-sm ${e.completed?"text-gray-500 line-through":"text-gray-700"}`,children:e.text})]},e.id))}),w$=({log:t,isSelected:e,onSelect:n,onToggleKaryTask:r,focus:s,showDescription:i=!0})=>{Z4.default.useEffect(()=>{},[e,i]);let o=()=>{e||n(t.id)},a=d=>{let f={blue:"bg-blue-100 text-blue-800 border-blue-200",green:"bg-green-100 text-green-800 border-green-200",purple:"bg-purple-100 text-purple-800 border-purple-200",red:"bg-red-100 text-red-800 border-red-200",yellow:"bg-yellow-100 text-yellow-800 border-yellow-200",indigo:"bg-indigo-100 text-indigo-800 border-indigo-200",pink:"bg-pink-100 text-pink-800 border-pink-200",gray:"bg-gray-100 text-gray-800 border-gray-200"};return f[d]||f.gray},l=a(s?s.color:"gray");return(0,Rt.jsxs)("div",{onClick:o,className:`group relative p-4 bg-white rounded-lg cursor-pointer transition-all duration-200 border border-gray-200 ${e?"bg-white border-indigo-300 shadow-md":"hover:bg-gray-50 hover:border-gray-300 hover:shadow-sm"}`,children:[(0,Rt.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Rt.jsxs)("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[t.taskId?(0,Rt.jsx)("div",{className:"w-5 h-5 text-indigo-600 flex-shrink-0 mt-0.5",children:(0,Rt.jsx)(It,{className:"w-5 h-5"})}):t.habitId?(0,Rt.jsx)("div",{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5",children:(0,Rt.jsx)(je,{className:"w-5 h-5"})}):(0,Rt.jsx)("div",{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5",children:(0,Rt.jsx)(nn,{className:"w-5 h-5"})}),(0,Rt.jsx)("div",{className:"flex-1 min-w-0",children:(0,Rt.jsx)("h3",{className:"text-base font-bold text-gray-900 leading-tight",children:t.title})})]}),(0,Rt.jsx)("div",{className:"text-sm text-gray-500 flex-shrink-0",children:t.logDate.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),(0,Rt.jsxs)("div",{className:"ml-8 space-y-3",children:[s&&(0,Rt.jsx)("div",{className:"flex items-center gap-2",children:(0,Rt.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-md border ${l}`,children:s.name})}),t.description&&i&&(0,Rt.jsx)("div",{className:"space-y-2",children:(0,Rt.jsx)("div",{className:"text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:Ct.parse(t.description)}})}),t.logType==="rating"&&t.rating&&(0,Rt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Rt.jsx)("span",{className:"text-xs text-gray-600 font-medium",children:"Rating:"}),(0,Rt.jsx)(b$,{rating:t.rating})]}),t.logType==="checklist"&&t.checklist&&t.checklist.length>0&&(0,Rt.jsxs)("div",{className:"space-y-2",children:[(0,Rt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Rt.jsx)(It,{className:"w-4 h-4 text-gray-600"}),(0,Rt.jsx)("span",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Checklist"})]}),(0,Rt.jsx)(v$,{items:t.checklist})]})]})]})},xh=w$});var Sp,x$,Qb,QS=j(()=>{"use strict";Sp=L(H(),1),x$=()=>(0,Sp.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Sp.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Sp.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Qb=x$});var Vn,xt,T$,I$,e3,t3=j(()=>{"use strict";Vn=L(me(),1);Os();Pe();QS();Wl();xt=L(H(),1),T$=t=>{let e=new Date(t);if(isNaN(e.getTime()))return"";let n=new Date,r=new Date;r.setDate(n.getDate()+1);let i=e.getHours()!==0||e.getMinutes()!==0?`, ${e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}`:"";n.setHours(0,0,0,0);let o=new Date(e);o.setHours(0,0,0,0);let a="";if(o.getTime()===n.getTime())a="Today";else if(o.getTime()===r.getTime())a="Tomorrow";else{let l=new Date;l.setDate(n.getDate()+7),o>n&&o<l?a=e.toLocaleDateString("en-US",{weekday:"long"}):a=e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}return`${a}${i}`},I$=({foci:t,onAddLog:e,defaultFocusId:n,defaultDate:r,placeholder:s="Add a quick log..."})=>{let[i,o]=(0,Vn.useState)(""),[a,l]=(0,Vn.useState)(n&&t.find(Q=>Q.id===n)||null),[u,d]=(0,Vn.useState)("text"),[f,h]=(0,Vn.useState)(r||new Date),[p,b]=(0,Vn.useState)(!1),[I,v]=(0,Vn.useState)(null),[g,y]=(0,Vn.useState)(!1),[_,A]=(0,Vn.useState)([]),[R,U]=(0,Vn.useState)(!1),[S,E]=(0,Vn.useState)(""),[T,x]=(0,Vn.useState)(0),N=(0,Vn.useRef)(null),D=(0,Vn.useRef)(null),k=(0,Vn.useRef)(null);(0,Vn.useEffect)(()=>{if(!a&&t.length>0){let Q=t.find(P=>P.id==="general");l(Q||t[0])}},[t,a]),(0,Vn.useEffect)(()=>{if(i.includes("~")){let Q=i.lastIndexOf("~"),P=i.slice(Q+1);if(P.includes(" ")){U(!1),A([]);return}let Z=P.toLowerCase();if(E(Z),Z.length>0){let W=t.filter(F=>F.name.toLowerCase().includes(Z));A(W),x(0),U(W.length>0)}else A(t),x(0),U(!0)}else U(!1),A([])},[i,t]);let V=async Q=>{if(Q.preventDefault(),!(!i.trim()||!a)){b(!0);try{if(await e({title:i.trim(),focusId:a.id,logType:u,logDate:f,description:""}),o(""),n){let P=t.find(Z=>Z.id===n);P&&l(P)}}finally{b(!1)}}},z=(Q,P)=>{v({type:Q,items:P,highlightedIndex:0});let Z=W=>{D.current&&!D.current.contains(W.target)&&(v(null),document.removeEventListener("mousedown",Z))};document.addEventListener("mousedown",Z)},$=Q=>{if(I?.type==="focus"){let P=t.find(Z=>Z.id===Q.id);P&&(l(P),P.allowedLogTypes.includes(u)||d(P.allowedLogTypes[0]))}else I?.type==="logType"&&d(Q.id);v(null)},de=Q=>{l(Q),Q.allowedLogTypes.includes(u)||d(Q.allowedLogTypes[0]);let P=i.lastIndexOf("~");if(P!==-1){let Z=i.slice(0,P),W=i.slice(P),F=W.indexOf(" "),ee;F!==-1?ee=Z+W.slice(F):ee=Z,o(ee.trim())}U(!1),A([]),N.current?.focus()},se=Q=>{o(Q.target.value)},Te=Q=>{if(R&&_.length>0)switch(Q.key){case"ArrowDown":Q.preventDefault(),x(P=>P<_.length-1?P+1:0);return;case"ArrowUp":Q.preventDefault(),x(P=>P>0?P-1:_.length-1);return;case"Enter":Q.preventDefault(),_[T]&&de(_[T]);return;case"Escape":U(!1),A([]);return;case"Tab":Q.preventDefault(),_[T]&&de(_[T]);return}if(I)switch(Q.key){case"ArrowDown":Q.preventDefault(),v(P=>P?{...P,highlightedIndex:(P.highlightedIndex+1)%P.items.length}:null);break;case"ArrowUp":Q.preventDefault(),v(P=>P?{...P,highlightedIndex:P.highlightedIndex===0?P.items.length-1:P.highlightedIndex-1}:null);break;case"Enter":Q.preventDefault(),I&&$(I.items[I.highlightedIndex]);break;case"Escape":v(null);break}},Ae=t.map(Q=>({id:Q.id,name:Q.name,icon:Q.icon,color:Q.color})),De=Object.entries(ai).map(([Q,P])=>({id:Q,name:P.name,icon:P.icon}));return(0,xt.jsxs)("div",{className:"relative",ref:D,children:[(0,xt.jsxs)("form",{onSubmit:V,className:"bg-white border border-gray-300 focus-within:border-blue-500 rounded-lg shadow-sm transition-colors",children:[(0,xt.jsx)("div",{className:"p-3",children:(0,xt.jsx)("div",{className:"relative",children:(0,xt.jsx)("input",{ref:N,type:"text",value:i,onChange:se,onKeyDown:Te,placeholder:s,className:"w-full bg-transparent text-gray-800 placeholder-gray-500 py-2 outline-none text-base",disabled:p,autoComplete:"off"})})}),(0,xt.jsxs)("div",{className:"flex items-center justify-between px-3 pb-3 border-t border-gray-100",children:[(0,xt.jsxs)("div",{className:"flex items-center gap-1 text-gray-500",children:[(0,xt.jsxs)("div",{className:"relative",ref:k,children:[(0,xt.jsxs)("button",{type:"button",onClick:()=>y(Q=>!Q),className:"flex items-center gap-1.5 p-2 rounded hover:bg-gray-200 transition-colors",title:"Select date",children:[(0,xt.jsx)(lt,{className:`w-4 h-4 ${f?"text-green-600":"text-gray-500"}`}),f&&(0,xt.jsx)("span",{className:"text-xs text-green-600 font-medium",children:T$(f)})]}),g&&(0,xt.jsx)("div",{className:"absolute bottom-full left-0 mb-2 z-30",children:(0,xt.jsx)(Hs,{currentDate:f,onSelect:Q=>{h(Q),y(!1)},onClear:()=>{h(new Date),y(!1)},onClose:()=>y(!1)})})]}),(0,xt.jsx)("button",{type:"button",onClick:()=>z("logType",De),className:"p-2 rounded hover:bg-gray-200 transition-colors",title:"Select log type",children:Vn.default.createElement(ai[u].icon,{className:`w-4 h-4 ${u?"text-blue-600":"text-gray-500"}`})}),(0,xt.jsx)("button",{type:"button",onClick:()=>z("focus",Ae),className:"flex items-center gap-1.5 p-2 rounded hover:bg-gray-200 transition-colors",title:"Select focus area",children:a?(0,xt.jsxs)(xt.Fragment,{children:[Vn.default.createElement(J[a.icon],{className:`w-4 h-4 text-${a.color}`}),(0,xt.jsx)("span",{className:"text-xs text-gray-700 font-medium",children:a.name})]}):(0,xt.jsx)(je,{className:"w-4 h-4 text-gray-500"})}),(0,xt.jsx)("button",{type:"button",className:"p-2 rounded hover:bg-gray-200 transition-colors",title:"More options",children:(0,xt.jsx)(nr,{className:"w-4 h-4 text-gray-500"})})]}),(0,xt.jsx)("button",{type:"submit",disabled:p||!i.trim()||!a,className:"px-4 py-2 bg-indigo-600 text-white text-sm font-semibold rounded-md hover:bg-indigo-700 disabled:bg-indigo-400 transition-colors",children:p?(0,xt.jsx)(Qb,{}):"Add"})]})]}),R&&_.length>0&&(0,xt.jsxs)("div",{className:"absolute bottom-full left-0 mb-1 w-full bg-white rounded-lg shadow-xl border border-gray-200 z-30 max-h-56 overflow-y-auto",children:[(0,xt.jsx)("div",{className:"px-3 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Type ~ to select focus area"}),_.map((Q,P)=>(0,xt.jsxs)("button",{onClick:()=>de(Q),className:`w-full text-left flex items-center gap-3 px-3 py-2 text-sm hover:bg-gray-100 ${P===T?"bg-blue-100":""}`,children:[Vn.default.createElement(J[Q.icon],{className:`w-4 h-4 text-${Q.color}`}),(0,xt.jsx)("span",{className:"flex-1 truncate",children:Q.name}),P===T&&(0,xt.jsx)("span",{className:"text-blue-600 text-xs",children:"Press Enter or Tab"})]},Q.id))]}),I&&(0,xt.jsx)("ul",{className:"absolute bottom-full left-0 mb-1 w-full bg-white rounded-lg shadow-xl border border-gray-200 z-20 max-h-56 overflow-y-auto",children:I.items.map((Q,P)=>(0,xt.jsx)("li",{children:(0,xt.jsxs)("button",{onClick:()=>$(Q),className:`w-full text-left flex items-center gap-3 px-3 py-2 text-sm ${P===I.highlightedIndex?"bg-blue-100":"hover:bg-gray-100"}`,children:[Q.icon&&Vn.default.createElement(J[Q.icon],{className:`w-4 h-4 ${Q.color?`text-${Q.color}`:"text-gray-500"}`}),!Q.icon&&Q.color&&(0,xt.jsx)("span",{className:`w-2.5 h-2.5 rounded-full bg-${Q.color}`}),(0,xt.jsx)("span",{className:"flex-1 truncate",children:Q.name})]})},Q.id))})]})},e3=I$});var XS,_$,Xb,JS=j(()=>{"use strict";t3();XS=L(H(),1),_$=({onAddLog:t,foci:e,defaultFocusId:n,defaultDate:r})=>(0,XS.jsx)("div",{className:"p-3 border-t border-gray-200",children:(0,XS.jsx)(e3,{foci:e,onAddLog:t,defaultFocusId:n,defaultDate:r,placeholder:"Add a quick log..."})}),Xb=_$});var n3,Oe,E$,ZS,r3=j(()=>{"use strict";n3=L(me(),1);YS();JS();Pe();Oe=L(H(),1),E$=({groupedLogs:t,timelineLogs:e,todayViewMode:n,onSetTodayViewMode:r,viewName:s,allFoci:i,selection:o,onAddLogClick:a,onAddQuickLog:l,onToggleKaryTask:u,selectedLogId:d,onSelectLog:f})=>{let[h,p]=(0,n3.useState)(!0),b=Array.from(t.entries());return(0,Oe.jsxs)("div",{className:"w-full h-full bg-white flex flex-col",children:[(0,Oe.jsx)("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 px-4 py-3",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:s}),o.type==="today"&&(0,Oe.jsxs)("div",{className:"flex items-center gap-1 border border-gray-200 rounded-lg p-1 bg-gray-100",children:[(0,Oe.jsx)("button",{onClick:()=>r("focus"),title:"Group by Focus",className:`p-1.5 rounded-md transition-all ${n==="focus"?"bg-white shadow text-blue-600":"text-gray-500 hover:bg-gray-200"}`,children:(0,Oe.jsx)(Xf,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:()=>r("timeline"),title:"Timeline View",className:`p-1.5 rounded-md transition-all ${n==="timeline"?"bg-white shadow text-blue-600":"text-gray-500 hover:bg-gray-200"}`,children:(0,Oe.jsx)(Nn,{className:"w-4 h-4"})})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Oe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oe.jsx)("span",{className:"text-sm text-gray-600",children:"Details"}),(0,Oe.jsx)("button",{onClick:()=>p(!h),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1 ${h?"bg-indigo-600":"bg-gray-200"}`,role:"switch","aria-checked":h,title:h?"Hide Descriptions":"Show Descriptions",children:(0,Oe.jsx)("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${h?"translate-x-5":"translate-x-1"}`})})]}),(0,Oe.jsxs)("button",{onClick:()=>a(o.type==="focus"?o.id:void 0),className:"flex items-center gap-2 px-3 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors shadow-sm",children:[(0,Oe.jsx)(At,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{children:"Add Log"})]})]})]})}),(0,Oe.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Oe.jsx)("div",{className:"p-4",children:o.type==="today"&&n==="timeline"?e.length>0?(0,Oe.jsx)("div",{className:"space-y-3",children:e.map(I=>{let v=i.find(g=>g.id===I.focusId);return(0,Oe.jsx)(xh,{log:I,focus:v,isSelected:d===I.id,onSelect:f,onToggleKaryTask:u,showDescription:h},I.id)})}):(0,Oe.jsxs)("div",{className:"text-center py-12",children:[(0,Oe.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Oe.jsx)(vn,{className:"w-8 h-8 text-gray-400"})}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No logs for today yet"}),(0,Oe.jsx)("p",{className:"text-gray-500 mb-4",children:"Start by adding your first log entry"}),(0,Oe.jsxs)("div",{className:"text-xs text-gray-400",children:[(0,Oe.jsx)("p",{children:"\u2022 Use the input below to add quick logs"}),(0,Oe.jsx)("p",{children:"\u2022 Organize with focus areas"}),(0,Oe.jsx)("p",{children:"\u2022 Track your daily reflections"})]})]}):b.length>0?(0,Oe.jsx)("div",{className:"space-y-6",children:b.map(([I,v])=>{let g,y=null;return o.type==="today"?(g=i.find(_=>_.name===I),g&&(y=J[g.icon])):o.type==="focus"&&(g=i.find(_=>_.id===o.id),g&&(y=J[g.icon])),(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsxs)("div",{className:"flex justify-between items-center sticky top-0 bg-white/95 py-2 backdrop-blur-sm z-10 border-b mb-3",children:[(0,Oe.jsxs)("h2",{className:"text-md font-semibold text-gray-600 flex items-center gap-2.5",children:[y&&g&&(0,Oe.jsx)(y,{className:`w-5 h-5 text-${g.color}`}),(0,Oe.jsx)("span",{children:I})]}),(0,Oe.jsx)("button",{onClick:()=>a(g?.id),className:"p-1 rounded-full text-gray-400 hover:text-indigo-600 hover:bg-indigo-100 transition-colors","aria-label":`Add log for ${I}`,children:(0,Oe.jsx)(At,{className:"w-5 h-5"})})]}),v.length>0?(0,Oe.jsx)("div",{className:"space-y-3",children:v.map(_=>(0,Oe.jsx)(xh,{log:_,isSelected:d===_.id,onSelect:f,onToggleKaryTask:u,showDescription:h},_.id))}):(0,Oe.jsx)("div",{className:"text-center text-sm text-gray-400 py-4",children:"No logs for this focus area today."})]},I)})}):(0,Oe.jsxs)("div",{className:"text-center py-12",children:[(0,Oe.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.type==="today"?(0,Oe.jsx)(oT,{className:"w-8 h-8 text-gray-400"}):o.type==="calendar"?(0,Oe.jsx)(lt,{className:"w-8 h-8 text-gray-400"}):(0,Oe.jsx)(je,{className:"w-8 h-8 text-gray-400"})}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No logs for this view yet"}),(0,Oe.jsx)("p",{className:"text-gray-500 mb-4",children:"Start by adding your first log entry"}),(0,Oe.jsxs)("div",{className:"text-xs text-gray-400",children:[(0,Oe.jsx)("p",{children:"\u2022 Use the input below to add quick logs"}),(0,Oe.jsx)("p",{children:"\u2022 Organize with focus areas"}),(0,Oe.jsx)("p",{children:"\u2022 Track your daily reflections"})]})]})})}),(0,Oe.jsx)(Xb,{onAddLog:l,foci:i,defaultFocusId:o.type==="focus"?o.id:void 0,defaultDate:o.type==="today"?new Date:void 0})]})},ZS=E$});var Pi,ye,S$,s3,N$,k$,e1,i3=j(()=>{"use strict";Pi=L(me(),1);Pe();YS();Wl();JS();ye=L(H(),1),S$=t=>t.toLocaleDateString("en-US",{month:"long",year:"numeric"}),s3=(t,e)=>!t||!e?!1:t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate(),N$=t=>{let e=new Date(t),n=e.getDay(),r=e.getDate()-n,s=new Date(e.setDate(r));return Array.from({length:7},(i,o)=>{let a=new Date(s);return a.setDate(s.getDate()+o),a})},k$=({allFoci:t,logs:e,selectedDate:n,onDateSelect:r,filteredLogs:s,onToggleKaryTask:i,selectedLogId:o,onSelectLog:a,onAddLogClick:l,onAddQuickLog:u,calendarViewMode:d,onSetCalendarViewMode:f})=>{let[h,p]=(0,Pi.useState)(n||new Date),[b,I]=(0,Pi.useState)(!1),[v,g]=(0,Pi.useState)(!0),y=(0,Pi.useRef)(null);(0,Pi.useEffect)(()=>{let x=N=>{b&&y.current&&!y.current.contains(N.target)&&I(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[b]);let _=(0,Pi.useMemo)(()=>{let x=new Set;return e.forEach(N=>{x.add(new Date(N.logDate).toDateString())}),x},[e]),A=(0,Pi.useMemo)(()=>N$(h),[h]),R=(0,Pi.useMemo)(()=>{if(!s.length)return new Map;let x=new Map;t.forEach(N=>{x.set(N.name,[])}),x.set("Uncategorized",[]),s.forEach(N=>{let D=t.find(V=>V.id===N.focusId),k=D?D.name:"Uncategorized";x.has(k)||x.set(k,[]),x.get(k).push(N)});for(let[N,D]of x.entries())D.length===0&&x.delete(N);return x},[s,t]),U=Array.from(R.entries()),S=()=>p(x=>{let N=new Date(x);return N.setDate(x.getDate()-7),N}),E=()=>p(x=>{let N=new Date(x);return N.setDate(x.getDate()+7),N}),T=()=>{let x=new Date;p(x),r(x)};return(0,ye.jsxs)("div",{className:"w-full h-full bg-white flex flex-col",children:[(0,ye.jsx)("div",{className:"border-b border-gray-200 bg-white",children:(0,ye.jsx)("div",{className:"p-4",children:(0,ye.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ye.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ye.jsx)("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center",children:(0,ye.jsx)(lt,{className:"w-4 h-4 text-indigo-600"})}),(0,ye.jsx)("div",{children:(0,ye.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Calendar"})})]}),(0,ye.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ye.jsxs)("div",{className:"flex items-center gap-1 border border-gray-200 rounded-lg p-1 bg-gray-100",children:[(0,ye.jsx)("button",{onClick:()=>f("focus"),title:"Group by Focus",className:`p-1.5 rounded-md transition-all ${d==="focus"?"bg-white shadow text-indigo-600":"text-gray-500 hover:bg-gray-200"}`,children:(0,ye.jsx)(Xf,{className:"w-4 h-4"})}),(0,ye.jsx)("button",{onClick:()=>f("timeline"),title:"Timeline View",className:`p-1.5 rounded-md transition-all ${d==="timeline"?"bg-white shadow text-indigo-600":"text-gray-500 hover:bg-gray-200"}`,children:(0,ye.jsx)(Nn,{className:"w-4 h-4"})})]}),(0,ye.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ye.jsx)("span",{className:"text-sm text-gray-600",children:"Details"}),(0,ye.jsx)("button",{onClick:()=>g(!v),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1 ${v?"bg-indigo-600":"bg-gray-200"}`,role:"switch","aria-checked":v,title:v?"Hide Descriptions":"Show Descriptions",children:(0,ye.jsx)("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${v?"translate-x-5":"translate-x-1"}`})})]}),(0,ye.jsxs)("div",{className:"relative",ref:y,children:[(0,ye.jsx)("button",{onClick:()=>I(x=>!x),className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Open date picker",children:(0,ye.jsx)(lt,{className:"w-4 h-4 text-gray-600"})}),b&&(0,ye.jsx)("div",{className:"absolute top-full right-0 mt-2 z-30",children:(0,ye.jsx)(Hs,{currentDate:n,onSelect:x=>{p(x),r(x),I(!1)},onClear:()=>{},onClose:()=>I(!1)})})]}),(0,ye.jsxs)("button",{onClick:l,className:"flex items-center gap-2 px-3 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors shadow-sm",children:[(0,ye.jsx)(At,{className:"w-4 h-4"}),(0,ye.jsx)("span",{children:"Add Log"})]})]})]})})}),(0,ye.jsxs)("div",{className:"p-4",children:[(0,ye.jsx)("div",{className:"mb-4",children:(0,ye.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ye.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:S$(h)}),(0,ye.jsx)("div",{className:"flex items-center gap-4",children:(0,ye.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ye.jsx)("button",{onClick:T,title:"Go to Today",className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors",children:"Today"}),(0,ye.jsx)("button",{onClick:S,className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors",children:(0,ye.jsx)(ti,{className:"w-4 h-4 text-gray-600"})}),(0,ye.jsx)("button",{onClick:E,className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors",children:(0,ye.jsx)(Bn,{className:"w-4 h-4 text-gray-600"})})]})})]})}),(0,ye.jsx)("div",{className:"grid grid-cols-7 gap-2",children:A.map((x,N)=>{let D=s3(x,n),k=s3(x,new Date),V=_.has(x.toDateString()),z="w-full text-center p-3 rounded-lg transition-all duration-200 border-2";return D?z+=" bg-indigo-600 text-white font-semibold border-indigo-600 shadow-lg":k?z+=" border-indigo-500 text-indigo-600 font-semibold hover:bg-indigo-50":z+=" border-transparent text-gray-700 hover:bg-gray-100",(0,ye.jsx)("div",{children:(0,ye.jsxs)("button",{onClick:()=>r(x),className:z,children:[(0,ye.jsx)("span",{className:"text-xs uppercase text-gray-400 font-semibold",children:x.toLocaleDateString("en-US",{weekday:"short"})}),(0,ye.jsx)("span",{className:`block text-xl mt-1 font-bold ${D?"text-white":"text-gray-800"}`,children:x.getDate()}),V&&(0,ye.jsx)("div",{className:`w-1.5 h-1.5 rounded-full mt-1.5 mx-auto ${D?"bg-white":"bg-indigo-500"}`})]})},N)})})]}),(0,ye.jsx)("div",{className:"flex-1 overflow-y-auto border-t border-gray-200",children:(0,ye.jsxs)("div",{className:"p-4",children:[(0,ye.jsx)("h2",{className:"text-lg font-semibold text-gray-700 mb-4 sticky top-0 bg-white/90 backdrop-blur-sm py-2 z-10",children:n?`Logs for ${new Date(n).toLocaleDateString("en-US",{month:"long",day:"numeric"})}`:"Select a date to see logs"}),d==="timeline"?s.length>0?(0,ye.jsx)("div",{className:"space-y-3",children:s.map(x=>{let N=t.find(D=>D.id===x.focusId);return(0,ye.jsx)(xh,{log:x,focus:N,isSelected:o===x.id,onSelect:a,onToggleKaryTask:i,showDescription:v},x.id)})}):n&&(0,ye.jsxs)("div",{className:"text-center py-12",children:[(0,ye.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ye.jsx)(lt,{className:"w-8 h-8 text-gray-400"})}),(0,ye.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No logs on this day"}),(0,ye.jsx)("p",{className:"text-gray-500",children:"Start by adding your first log entry"})]}):U.length>0?(0,ye.jsx)("div",{className:"space-y-6",children:U.map(([x,N])=>{let D=t.find(V=>V.name===x),k=D?J[D.icon]:Nn;return(0,ye.jsxs)("div",{children:[(0,ye.jsxs)("div",{className:"flex items-center gap-2.5 mb-3",children:[D&&(0,ye.jsx)(k,{className:`w-5 h-5 text-${D.color||"gray-500"}`}),(0,ye.jsx)("h3",{className:"text-md font-semibold text-gray-600",children:x})]}),(0,ye.jsx)("div",{className:"space-y-3",children:N.map(V=>(0,ye.jsx)(xh,{log:V,onToggleKaryTask:i,isSelected:o===V.id,onSelect:a,showDescription:v},V.id))})]},x)})}):n&&(0,ye.jsxs)("div",{className:"text-center py-12",children:[(0,ye.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ye.jsx)(lt,{className:"w-8 h-8 text-gray-400"})}),(0,ye.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No logs on this day"}),(0,ye.jsx)("p",{className:"text-gray-500",children:"Start by adding your first log entry"})]})]})}),(0,ye.jsx)("div",{className:"border-t border-gray-200 p-3",children:(0,ye.jsx)(Xb,{onAddLog:u,foci:t,defaultDate:n||new Date})})]})},e1=k$});var Th,A$,D$,o3,a3=j(()=>{"use strict";Th=L(H(),1),A$=["gray-500","red-500","orange-500","yellow-500","green-500","teal-500","blue-500","indigo-500","purple-500","pink-500"],D$=({selectedColor:t,onSelectColor:e})=>(0,Th.jsxs)("div",{children:[(0,Th.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),(0,Th.jsx)("div",{className:"flex flex-wrap gap-2",children:A$.map(n=>(0,Th.jsx)("button",{type:"button",onClick:()=>e(n),className:`w-8 h-8 rounded-full bg-${n} transition-transform transform hover:scale-110 ${t===n?"ring-2 ring-offset-2 ring-blue-500":""}`,"aria-label":`Select ${n} color`},n))})]}),o3=D$});var gu,C$,R$,Jb,t1=j(()=>{"use strict";Pe();gu=L(H(),1),C$=["ListIcon","FolderIcon","TagIcon","FlagIcon","HeartIcon","BookOpenIcon","BuildingIcon","CalendarIcon","MagicWandIcon","InboxIcon","TargetIcon","StarIcon","SunriseIcon","SmileIcon"],R$=({selectedIcon:t,onSelectIcon:e})=>(0,gu.jsxs)("div",{children:[(0,gu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon"}),(0,gu.jsx)("div",{className:"grid grid-cols-6 gap-2",children:C$.map(n=>{let r=J[n];return(0,gu.jsx)("button",{type:"button",onClick:()=>e(n),className:`p-2 rounded-md flex items-center justify-center transition-colors ${t===n?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,"aria-label":`Select ${n} icon`,children:(0,gu.jsx)(r,{className:"w-5 h-5"})},n)})})]}),Jb=R$});var Ba,cn,L$,l3,c3=j(()=>{"use strict";Ba=L(me(),1);Os();a3();t1();cn=L(H(),1),L$=({onSave:t,onDelete:e,initialData:n,allFoci:r})=>{let[s,i]=(0,Ba.useState)(""),[o,a]=(0,Ba.useState)(""),[l,u]=(0,Ba.useState)("gray-500"),[d,f]=(0,Ba.useState)("ListIcon"),[h,p]=(0,Ba.useState)(["text","checklist","rating"]),[b,I]=(0,Ba.useState)("");(0,Ba.useEffect)(()=>{n?(i(n.name),a(n.description||""),u(n.color),f(n.icon),p(n.allowedLogTypes),I(n.defaultTemplateId||"")):(i(""),a(""),u("gray-500"),f("ListIcon"),p(["text","checklist","rating"]),I(""))},[n]);let v=_=>{p(A=>{let R=new Set(A);return R.has(_)?R.size>1&&R.delete(_):R.add(_),Array.from(R)})},g=_=>{if(_.preventDefault(),!s.trim())return;let A={name:s,description:o,icon:d,color:l,allowedLogTypes:h,...b&&{defaultTemplateId:b}};t(A,n?.id)},y=()=>{n&&window.confirm(`Are you sure you want to delete the "${n.name}" focus area? This cannot be undone.`)&&e(n.id)};return(0,cn.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,cn.jsxs)("div",{children:[(0,cn.jsx)("label",{htmlFor:"focus-name",className:"block text-sm font-medium text-gray-700",children:"Focus Name"}),(0,cn.jsx)("input",{type:"text",id:"focus-name",value:s,onChange:_=>i(_.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900",placeholder:"e.g., Gratitude",required:!0})]}),(0,cn.jsxs)("div",{children:[(0,cn.jsx)("label",{htmlFor:"focus-description",className:"block text-sm font-medium text-gray-700",children:"Description (Optional)"}),(0,cn.jsx)("textarea",{id:"focus-description",value:o,onChange:_=>a(_.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900",rows:2,placeholder:"What is this focus area for?"})]}),(0,cn.jsxs)("div",{children:[(0,cn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Allowed Log Types"}),(0,cn.jsx)("div",{className:"flex flex-wrap gap-4",children:Object.values(Ps).map(_=>(0,cn.jsxs)("div",{className:"flex items-center",children:[(0,cn.jsx)("input",{type:"checkbox",id:`log-type-${_}`,checked:h.includes(_),onChange:()=>v(_),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,cn.jsx)("label",{htmlFor:`log-type-${_}`,className:"ml-2 text-sm text-gray-700",children:ai[_].name})]},_))})]}),(0,cn.jsxs)("div",{children:[(0,cn.jsx)("label",{htmlFor:"focus-template",className:"block text-sm font-medium text-gray-700",children:"Default Log Template"}),(0,cn.jsxs)("select",{id:"focus-template",value:b,onChange:_=>I(_.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:[(0,cn.jsx)("option",{value:"",children:"Ask each time"}),(0,cn.jsx)("option",{value:"BLANK",children:"Blank Log (Don't ask)"})]}),(0,cn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Assign a template to skip the selection step when adding a log to this focus area."})]}),(0,cn.jsx)(Jb,{selectedIcon:d,onSelectIcon:f}),(0,cn.jsx)(o3,{selectedColor:l,onSelectColor:u}),(0,cn.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-4 border-t border-gray-200",children:[(0,cn.jsx)("div",{children:n&&(0,cn.jsx)("button",{type:"button",onClick:y,className:"inline-flex justify-center py-2 px-4 text-sm font-medium rounded-md text-red-600 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete"})}),(0,cn.jsx)("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:n?"Save Changes":"Create Focus"})]})]})},l3=L$});var ro,yu,P$,za,Zb=j(()=>{"use strict";ro=L(me(),1),yu=L(H(),1),P$=({children:t,initialLeftWidth:e=60})=>{let[n,r]=(0,ro.useState)(e),s=(0,ro.useRef)(null),i=(0,ro.useRef)(!1),o=(0,ro.useCallback)(f=>{f.preventDefault(),i.current=!0},[]),a=(0,ro.useCallback)(()=>{i.current=!1},[]),l=(0,ro.useCallback)(f=>{if(!i.current||!s.current)return;let h=s.current.getBoundingClientRect(),p=(f.clientX-h.left)/h.width*100;p>20&&p<80&&r(p)},[]);ro.default.useEffect(()=>(window.addEventListener("mousemove",l),window.addEventListener("mouseup",a),()=>{window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",a)}),[l,a]);let[u,d]=t;return(0,yu.jsxs)("div",{ref:s,className:"flex-1 flex overflow-hidden",children:[(0,yu.jsx)("div",{className:"h-full relative",style:{width:`${n}%`},children:u}),(0,yu.jsx)("div",{onMouseDown:o,className:"w-2 h-full cursor-col-resize flex items-center justify-center bg-gray-200/50 hover:bg-blue-200 transition-colors",children:(0,yu.jsx)("div",{className:"w-0.5 h-10 bg-gray-400 rounded-full"})}),(0,yu.jsx)("div",{className:"h-full flex-1",style:{width:`${100-n}%`},children:d})]})},za=P$});var Es,Ue,O$,M$,u3,d3=j(()=>{"use strict";Es=L(me(),1);Os();Pe();eo();vh();xp();Ue=L(H(),1),O$=({rating:t,onSetRating:e})=>(0,Ue.jsx)("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(n=>(0,Ue.jsx)("button",{type:"button",onClick:()=>e(n),className:"p-1 rounded-full text-yellow-400 hover:text-yellow-500 transition-colors","aria-label":`Set rating to ${n}`,children:(0,Ue.jsx)(rr,{className:`w-6 h-6 transition-colors ${t>=n?"fill-yellow-400":"fill-gray-300 hover:fill-yellow-200"}`})},n))}),M$=({log:t,foci:e,onUpdateLog:n,onDeleteLog:r,onBack:s})=>{let[i,o]=(0,Es.useState)(!1),[a,l]=(0,Es.useState)(""),[u,d]=(0,Es.useState)([]),[f,h]=(0,Es.useState)(""),[p,b]=(0,Es.useState)(null),I=(0,Es.useRef)(null),v=(0,Es.useRef)(null),g={focus:(0,Es.useRef)(null),date:(0,Es.useRef)(null)},y=t?e.find(D=>D.id===t.focusId):null,_=y?J[y.icon]:Nn;(0,Es.useEffect)(()=>{t&&(l(t.title),d(t.checklist||[]),o(!1),b(null))},[t]),(0,Es.useEffect)(()=>{let D=k=>{v.current&&!v.current.contains(k.target)&&(Object.values(g).some(z=>z.current?.contains(k.target))||b(null))};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[g]),(0,Es.useEffect)(()=>{i&&I.current&&(I.current.style.height="auto",I.current.style.height=`${I.current.scrollHeight}px`,I.current.focus(),I.current.select())},[i]);let A=D=>{t&&n(t.id,D),b(null)},R=()=>{t&&a.trim()&&a.trim()!==t.title&&n(t.id,{title:a.trim()}),o(!1)},U=D=>{t&&n(t.id,{rating:D})},S=D=>{t&&(d(D),n(t.id,{checklist:D}))},E=D=>{let k=u.map(V=>V.id===D?{...V,completed:!V.completed}:V);S(k)},T=D=>{if(D.preventDefault(),f.trim()){let k={id:crypto.randomUUID(),text:f.trim(),completed:!1};S([...u,k]),h("")}},x=()=>{if(!p||!t)return null;let D=g[p]?.current;if(!D)return null;let k=D.getBoundingClientRect(),V={position:"absolute",top:`${k.bottom+8}px`,left:`${k.left}px`,zIndex:50};return(0,Ue.jsxs)("div",{ref:v,style:V,className:"shadow-lg",children:[p==="date"&&(0,Ue.jsx)(Wo,{currentDate:t.logDate?new Date(t.logDate):new Date,onSelect:z=>A({logDate:z}),onClear:()=>b(null),onClose:()=>b(null)}),p==="focus"&&(0,Ue.jsx)("ul",{className:"bg-white rounded-lg shadow-xl border border-gray-200 w-56 max-h-64 overflow-y-auto",children:e.map(z=>{let $=J[z.icon];return(0,Ue.jsx)("li",{children:(0,Ue.jsxs)("button",{onClick:()=>A({focusId:z.id}),className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm hover:bg-gray-100",children:[(0,Ue.jsx)($,{className:`w-5 h-5 text-${z.color}`}),(0,Ue.jsx)("span",{className:"flex-1 truncate",children:z.name}),t.focusId===z.id&&(0,Ue.jsx)(It,{className:"w-4 h-4 text-blue-600"})]})},z.id)})})]})};if(!t)return(0,Ue.jsx)("div",{className:"flex-1 bg-white/80 flex items-center justify-center p-6",children:(0,Ue.jsxs)("div",{className:"text-center text-gray-500",children:[(0,Ue.jsx)(vn,{className:"w-12 h-12 mx-auto text-gray-300"}),(0,Ue.jsx)("h2",{className:"mt-2 text-lg font-medium",children:"Select a log"}),(0,Ue.jsx)("p",{className:"text-sm",children:"Choose an entry from the list to view or edit its details."})]})});let N=()=>t.taskId?(0,Ue.jsx)("div",{className:"w-6 h-6 text-indigo-600 flex-shrink-0 mt-1",children:(0,Ue.jsx)(It,{className:"w-6 h-6"})}):t.habitId?(0,Ue.jsx)("div",{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-1",children:(0,Ue.jsx)(je,{className:"w-6 h-6"})}):(0,Ue.jsx)("div",{className:"w-6 h-6 text-gray-400 flex-shrink-0 mt-1",children:(0,Ue.jsx)(nn,{className:"w-6 h-6"})});return(0,Ue.jsxs)("div",{className:"flex-1 bg-white/90 p-6 flex flex-col h-full",children:[(0,Ue.jsxs)("header",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[s&&(0,Ue.jsx)("button",{onClick:s,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-full mr-2","aria-label":"Back to log list",children:(0,Ue.jsx)(xs,{className:"w-5 h-5"})}),y&&(0,Ue.jsxs)("button",{ref:g.focus,onClick:()=>b(D=>D==="focus"?null:"focus"),className:"flex items-center gap-2 text-sm font-medium text-gray-600 bg-gray-100 rounded-full pl-1 pr-3 py-1 hover:bg-gray-200 transition-colors",children:[(0,Ue.jsx)(_,{className:`w-5 h-5 p-0.5 rounded-full bg-white text-${y.color}`}),y.name]}),(0,Ue.jsxs)("button",{ref:g.date,onClick:()=>b(D=>D==="date"?null:"date"),className:"flex items-center gap-2 text-sm text-gray-500 hover:bg-gray-100 p-1 rounded-md transition-colors",children:[(0,Ue.jsx)(lt,{className:"w-4 h-4"}),new Date(t.logDate).toLocaleString("en-US",{month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),(0,Ue.jsx)("button",{onClick:()=>r(t.id),className:"p-2 hover:bg-gray-100 rounded-full","aria-label":"Delete log",children:(0,Ue.jsx)(ws,{className:"w-5 h-5 text-gray-500 hover:text-red-600"})})]}),(0,Ue.jsxs)("div",{className:"flex-1 flex flex-col overflow-y-auto pr-2 -mr-2",children:[(0,Ue.jsxs)("div",{className:"flex items-start gap-3 mb-6",children:[N(),(0,Ue.jsx)("div",{className:"flex-1 min-w-0",children:i?(0,Ue.jsx)("textarea",{ref:I,value:a,onChange:D=>l(D.target.value),onBlur:R,onKeyDown:D=>{D.key==="Enter"&&(D.preventDefault(),R()),D.key==="Escape"&&(D.preventDefault(),o(!1))},className:"w-full text-2xl font-bold text-gray-800 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none overflow-hidden py-1 px-2"}):(0,Ue.jsx)("h1",{onClick:()=>o(!0),className:"text-2xl font-bold text-gray-800 cursor-text",children:t.title})})]}),t.logType==="rating"&&(0,Ue.jsx)("div",{className:"mb-6",children:(0,Ue.jsx)(O$,{rating:t.rating||0,onSetRating:U})}),(0,Ue.jsx)("div",{className:"prose max-w-none text-gray-800 mb-6 flex-1 flex flex-col",children:(0,Ue.jsx)(Ql,{value:t.description||"",onChange:D=>n(t.id,{description:D}),placeholder:"Add more details... (Markdown supported)",minHeight:"200px"})}),t.logType==="checklist"&&(0,Ue.jsxs)("div",{className:"mt-4",children:[(0,Ue.jsx)("h3",{className:"font-semibold text-gray-600 text-sm uppercase tracking-wider mb-3",children:"Checklist"}),(0,Ue.jsx)("ul",{className:"space-y-2",children:u.map(D=>(0,Ue.jsxs)("li",{className:"flex items-center gap-3 p-1 rounded-md hover:bg-gray-100",children:[(0,Ue.jsx)(br,{checked:D.completed,onChange:()=>E(D.id)}),(0,Ue.jsx)("span",{className:`flex-1 text-sm ${D.completed?"text-gray-400 line-through":"text-gray-700"}`,children:D.text})]},D.id))}),(0,Ue.jsx)("form",{onSubmit:T,className:"mt-2",children:(0,Ue.jsxs)("div",{className:"relative",children:[(0,Ue.jsx)(At,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Ue.jsx)("input",{type:"text",value:f,onChange:D=>h(D.target.value),placeholder:"Add a checklist item",className:"w-full pl-9 pr-3 py-2 bg-gray-100/70 border-2 border-transparent focus:border-blue-500 focus:bg-white focus:shadow-sm rounded-md outline-none transition"})]})})]})]}),x()]})},u3=M$});var Oi,Ye,F$,U$,h3,f3=j(()=>{"use strict";Oi=L(me(),1);Os();Pe();t1();xp();Ye=L(H(),1),F$=({rating:t,onSetRating:e})=>(0,Ye.jsx)("div",{className:"flex items-center gap-1 py-2",children:[1,2,3,4,5].map(n=>(0,Ye.jsx)("button",{type:"button",onClick:()=>e(n),className:"p-1 rounded-full text-yellow-400 hover:text-yellow-500 transition-colors","aria-label":`Set rating to ${n}`,children:(0,Ye.jsx)(rr,{className:`w-6 h-6 transition-colors ${t>=n?"fill-yellow-400":"fill-gray-300 hover:fill-yellow-200"}`})},n))}),U$=({template:t,foci:e,onSave:n,onDelete:r,onBack:s})=>{let[i,o]=(0,Oi.useState)(""),[a,l]=(0,Oi.useState)("ListIcon"),[u,d]=(0,Oi.useState)(""),[f,h]=(0,Oi.useState)("text"),[p,b]=(0,Oi.useState)(""),[I,v]=(0,Oi.useState)(""),[g,y]=(0,Oi.useState)([]),[_,A]=(0,Oi.useState)(""),[R,U]=(0,Oi.useState)(3);(0,Oi.useEffect)(()=>{o(t?.name||""),l(t?.icon||"ListIcon"),d(t?.focusId||e[0]?.id||""),h(t?.logType||"text"),b(t?.title||""),v(t?.description||""),y(t?.checklist||[]),U(t?.rating||3)},[t,e]);let S=x=>{if(x.preventDefault(),!i.trim()||!u||!p.trim())return;let N={name:i,icon:a,focusId:u,logType:f,title:p,description:I,checklist:f==="checklist"?g:void 0,rating:f==="rating"?R:void 0};t?n(N,t.id):n(N)},E=x=>{x.key==="Enter"&&_.trim()&&(x.preventDefault(),y([...g,{text:_.trim(),completed:!1}]),A(""))},T=x=>{y(g.filter((N,D)=>D!==x))};return(0,Ye.jsxs)("div",{className:"flex-1 bg-white/90 p-6 flex flex-col h-full overflow-y-auto",children:[(0,Ye.jsx)("header",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200 flex-shrink-0",children:(0,Ye.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[s&&(0,Ye.jsx)("button",{onClick:s,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-full mr-2","aria-label":"Back to templates list",children:(0,Ye.jsx)(xs,{className:"w-5 h-5"})}),(0,Ye.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Template":"Create New Template"})]})}),(0,Ye.jsxs)("form",{onSubmit:S,className:"space-y-6",children:[(0,Ye.jsxs)("div",{children:[(0,Ye.jsx)("label",{htmlFor:"template-name",className:"block text-sm font-medium text-gray-700",children:"Template Name"}),(0,Ye.jsx)("input",{type:"text",id:"template-name",value:i,onChange:x=>o(x.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900"})]}),(0,Ye.jsxs)("div",{children:[(0,Ye.jsx)("label",{htmlFor:"template-title",className:"block text-sm font-medium text-gray-700",children:"Default Title"}),(0,Ye.jsx)("input",{type:"text",id:"template-title",value:p,onChange:x=>b(x.target.value),required:!0,placeholder:"e.g., Weekly Review - {{date}}",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900"}),(0,Ye.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Use `{{date}}` as a placeholder for the current date."})]}),(0,Ye.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Ye.jsxs)("div",{children:[(0,Ye.jsx)("label",{htmlFor:"template-focus",className:"block text-sm font-medium text-gray-700",children:"Default Focus"}),(0,Ye.jsx)("select",{id:"template-focus",value:u,onChange:x=>d(x.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:e.map(x=>(0,Ye.jsx)("option",{value:x.id,children:x.name},x.id))})]}),(0,Ye.jsxs)("div",{children:[(0,Ye.jsx)("label",{htmlFor:"template-logtype",className:"block text-sm font-medium text-gray-700",children:"Log Type"}),(0,Ye.jsx)("select",{id:"template-logtype",value:f,onChange:x=>h(x.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:Object.values(Ps).map(x=>(0,Ye.jsx)("option",{value:x,children:ai[x].name},x))})]})]}),(0,Ye.jsx)(Jb,{selectedIcon:a,onSelectIcon:l}),f==="rating"&&(0,Ye.jsxs)("div",{children:[(0,Ye.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Default Rating"}),(0,Ye.jsx)(F$,{rating:R,onSetRating:U})]}),f==="text"&&(0,Ye.jsxs)("div",{children:[(0,Ye.jsx)("label",{htmlFor:"template-desc",className:"block text-sm font-medium text-gray-700",children:"Default Description"}),(0,Ye.jsx)(Ql,{value:I,onChange:v,placeholder:"Add a default description... (Markdown supported)",minHeight:"120px"})]}),f==="checklist"&&(0,Ye.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,Ye.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Default Checklist Items"}),(0,Ye.jsx)("ul",{className:"space-y-1 max-h-40 overflow-y-auto border rounded-md p-2 bg-gray-50",children:g.map((x,N)=>(0,Ye.jsxs)("li",{className:"flex items-center gap-2 text-sm text-gray-700 pr-2",children:[(0,Ye.jsx)(It,{className:"w-4 h-4 text-gray-400"}),(0,Ye.jsx)("span",{className:"flex-1",children:x.text}),(0,Ye.jsx)("button",{type:"button",onClick:()=>T(N),className:"text-red-400 hover:text-red-600 font-bold",children:"\xD7"})]},N))}),(0,Ye.jsx)("input",{type:"text",value:_,onChange:x=>A(x.target.value),onKeyDown:E,placeholder:"Add item and press Enter...",className:"w-full bg-white rounded px-2 py-1.5 text-sm border border-gray-300 outline-none focus:ring-1 focus:ring-blue-500"})]}),(0,Ye.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[(0,Ye.jsx)("div",{children:t&&(0,Ye.jsx)("button",{type:"button",onClick:()=>r(t.id),className:"px-4 py-2 text-sm font-semibold text-red-600 rounded-md hover:bg-red-50",children:"Delete Template"})}),(0,Ye.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white text-sm font-semibold rounded-md hover:bg-blue-700 disabled:bg-blue-400 transition-colors",children:t?"Save Changes":"Create Template"})]})]})]})},h3=U$});var Xo,V$,m3,p3=j(()=>{"use strict";rm();Pe();Xo=L(H(),1),V$=({isOpen:t,onClose:e,templates:n,onSelect:r})=>t?(0,Xo.jsx)(Il,{title:"Select a Template",onClose:e,children:(0,Xo.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,Xo.jsxs)("button",{onClick:()=>r(null),className:"flex flex-col items-center justify-center p-6 bg-white border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 hover:text-blue-600 text-gray-600 transition-colors",children:[(0,Xo.jsx)(At,{className:"w-8 h-8 mb-2"}),(0,Xo.jsx)("span",{className:"font-semibold",children:"Blank Log"})]}),n.map(s=>{let i=J[s.icon]||Nn;return(0,Xo.jsxs)("button",{onClick:()=>r(s),className:"flex flex-col items-center justify-center p-6 bg-gray-50 border border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 hover:shadow-md text-gray-700 transition-all",children:[(0,Xo.jsx)(i,{className:"w-8 h-8 mb-2 text-gray-500"}),(0,Xo.jsx)("span",{className:"font-semibold",children:s.name})]},s.id)})]})}):null,m3=V$});var vr,ht,H$,g3,B$,z$,q$,Ih,ev=j(()=>{"use strict";vr=L(me(),1);Os();rm();Pe();vh();xp();ht=L(H(),1),H$=(t,e)=>!t||!e?!1:t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate(),g3=({text:t,icon:e,colorClass:n,onClick:r,onRemove:s})=>{let i=J[e],o=(0,ht.jsxs)("span",{className:`flex items-center gap-1.5 rounded-full pl-2.5 pr-1 py-1 text-xs font-semibold ${n}`,children:[(0,ht.jsx)(i,{className:"w-4 h-4"}),(0,ht.jsx)("span",{children:t}),s&&(0,ht.jsx)("button",{type:"button",onClick:a=>{a.stopPropagation(),s()},className:"font-mono text-lg leading-none hover:opacity-75 focus:outline-none",children:"\xD7"})]});return r?(0,ht.jsx)("button",{type:"button",onClick:r,children:o}):o},B$=({rating:t,setRating:e})=>(0,ht.jsx)("div",{className:"flex items-center gap-1 py-2",children:[1,2,3,4,5].map(n=>(0,ht.jsx)("button",{type:"button",onClick:()=>e(n),className:"p-1 rounded-full text-yellow-400 hover:text-yellow-500 transition-colors","aria-label":`Set rating to ${n}`,children:(0,ht.jsx)(rr,{className:`w-6 h-6 transition-colors ${t>=n?"fill-yellow-400":"fill-gray-300 hover:fill-yellow-200"}`})},n))}),z$=(t,e)=>t.replace(/{{date}}/gi,e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})),q$=({isOpen:t,onClose:e,onAddLog:n,allFoci:r,template:s,initialFocusId:i,initialDate:o,initialTitle:a,initialDescription:l})=>{let[u,d]=(0,vr.useState)(""),[f,h]=(0,vr.useState)(""),[p,b]=(0,vr.useState)(3),[I,v]=(0,vr.useState)([]),[g,y]=(0,vr.useState)(""),[_,A]=(0,vr.useState)("text"),[R,U]=(0,vr.useState)(null),[S,E]=(0,vr.useState)(new Date),[T,x]=(0,vr.useState)(!1),[N,D]=(0,vr.useState)(null),k=(0,vr.useRef)(null),V=(0,vr.useRef)(null),z=(0,vr.useRef)(null),$=(0,vr.useCallback)(()=>{let W=o||new Date,F=i||s?.focusId||"general",ee=r.find(be=>be.id===F)||r[0]||null;if(d(a??(s?z$(s.title,W):"")),h(l??s?.description??""),b(s?.rating||3),v(s?.checklist||[]),y(""),E(W),U(ee),ee){let be=s?.logType||ee.allowedLogTypes[0];A(be)}},[r,s,i,o,a,l]);(0,vr.useEffect)(()=>{t&&($(),setTimeout(()=>k.current?.focus(),100))},[t,$]),(0,vr.useEffect)(()=>{let W=F=>{T&&V.current&&!V.current.contains(F.target)&&x(!1),N&&z.current&&!z.current.contains(F.target)&&D(null)};return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[T,N]);let de=W=>{U(W),W.allowedLogTypes.includes(_)||A(W.allowedLogTypes[0]),u.match(/~([\w\s-]*)$/)&&d(u.substring(0,u.lastIndexOf("~"))),D(null),setTimeout(()=>k.current?.focus(),0)},se=W=>{let F=W.target.value;d(F);let ee=F.match(/~([\w\s-]*)$/);if(ee){let be=ee[1].toLowerCase(),He=r.filter(Nt=>Nt.name.toLowerCase().includes(be));D(He.length>0?{items:He,highlightedIndex:0}:null)}else D(null)},Te=W=>{N&&(W.key==="ArrowDown"?(W.preventDefault(),D(F=>F?{...F,highlightedIndex:(F.highlightedIndex+1)%F.items.length}:null)):W.key==="ArrowUp"?(W.preventDefault(),D(F=>F?{...F,highlightedIndex:(F.highlightedIndex-1+F.items.length)%F.items.length}:null)):W.key==="Enter"||W.key==="Tab"?(W.preventDefault(),de(N.items[N.highlightedIndex])):W.key==="Escape"&&D(null))},Ae=W=>{if(W.preventDefault(),!R||!u.trim())return;let F={title:u,description:f,focusId:R.id,logType:_,logDate:S};if(_==="rating"&&(F.rating=p),_==="checklist"){let ee=g.trim()?[...I,{text:g.trim(),completed:!1}]:I;F.checklist=ee.filter(be=>be.text.trim()!=="").map(be=>({...be,id:crypto.randomUUID()}))}console.log("Submitting log data:",F),n(F),e()},De=W=>{let F;if(H$(W,new Date)?F="Today":F=W.toLocaleDateString("en-US",{month:"short",day:"numeric"}),W.getHours()!==0||W.getMinutes()!==0){let be=W.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return`${F} at ${be}`}return F},Q=W=>{W.key==="Enter"&&g.trim()&&(W.preventDefault(),v([...I,{text:g.trim(),completed:!1}]),y(""))},P=W=>{v(I.filter((F,ee)=>ee!==W))},Z=()=>{switch(_){case"rating":return(0,ht.jsx)(B$,{rating:p,setRating:b});case"checklist":return(0,ht.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,ht.jsx)("ul",{className:"space-y-1 max-h-40 overflow-y-auto",children:I.map((W,F)=>(0,ht.jsxs)("li",{className:"flex items-center gap-2 text-sm text-gray-700 pr-2",children:[(0,ht.jsx)(It,{className:"w-4 h-4 text-gray-400"}),(0,ht.jsx)("span",{className:"flex-1",children:W.text}),(0,ht.jsx)("button",{type:"button",onClick:()=>P(F),className:"text-red-400 hover:text-red-600 font-bold",children:"\xD7"})]},F))}),(0,ht.jsx)("input",{type:"text",value:g,onChange:W=>y(W.target.value),onKeyDown:Q,placeholder:"Add item and press Enter...",className:"w-full bg-gray-50 rounded px-2 py-1.5 text-sm outline-none focus:ring-1 focus:ring-blue-500"})]});case"text":default:return(0,ht.jsx)(Ql,{value:f,onChange:h,placeholder:"Add a description... (optional) (Markdown supported)",minHeight:"120px"})}};return!t||!R?null:(0,ht.jsx)(Il,{title:s?`New Log from: ${s.name}`:"Add New Log",onClose:e,children:(0,ht.jsxs)("form",{onSubmit:Ae,className:"space-y-4 relative",children:[(0,ht.jsx)("div",{className:"flex items-center justify-center p-1 rounded-lg bg-gray-100 space-x-1",children:R.allowedLogTypes.map(W=>{let F=ai[W],ee=J[F.icon];return(0,ht.jsxs)("button",{type:"button",onClick:()=>A(W),className:`flex-1 flex items-center justify-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all duration-200 ${_===W?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:bg-gray-200/50"}`,children:[(0,ht.jsx)(ee,{className:"w-4 h-4"}),F.name]},W)})}),(0,ht.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,ht.jsx)(g3,{text:R.name,icon:R.icon,colorClass:`bg-${R.color}/20 text-${R.color}`,onClick:()=>D({items:r,highlightedIndex:0})}),(0,ht.jsxs)("div",{className:"relative",ref:V,children:[(0,ht.jsx)(g3,{text:De(S),icon:"CalendarIcon",colorClass:"bg-gray-200 text-gray-800",onClick:()=>x(!0)}),T&&(0,ht.jsx)("div",{className:"absolute top-full left-0 mt-2 z-30",children:(0,ht.jsx)(Wo,{currentDate:S,onSelect:W=>{E(W),x(!1)},onClear:()=>{},onClose:()=>x(!1)})})]})]}),(0,ht.jsx)("input",{ref:k,type:"text",value:u,onChange:se,onKeyDown:Te,placeholder:"Title your log entry...",className:"w-full bg-gray-50 px-3 py-2 text-gray-800 font-semibold placeholder-gray-500 outline-none rounded-md focus:ring-2 focus:ring-blue-500"}),N&&(0,ht.jsx)("ul",{ref:z,className:"absolute mt-1 w-full bg-white rounded-lg shadow-xl border border-gray-200 z-20 max-h-56 overflow-y-auto",children:N.items.map((W,F)=>{let ee=J[W.icon];return(0,ht.jsx)("li",{children:(0,ht.jsxs)("button",{onClick:()=>de(W),className:`w-full text-left flex items-center gap-3 px-3 py-2 text-sm ${F===N.highlightedIndex?"bg-blue-100":"hover:bg-gray-100"}`,children:[(0,ht.jsx)(ee,{className:`w-4 h-4 text-${W.color}`}),(0,ht.jsx)("span",{className:"flex-1 truncate",children:W.name})]})},W.id)})}),Z(),(0,ht.jsxs)("div",{className:"flex items-center justify-end border-t border-gray-100 pt-4",children:[(0,ht.jsx)("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-semibold text-gray-700 rounded-md hover:bg-gray-100 mr-2",children:"Cancel"}),(0,ht.jsx)("button",{type:"submit",disabled:!u.trim(),className:"w-full sm:w-auto px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded-md hover:bg-blue-700 disabled:bg-blue-400 transition-colors",children:"Log Entry"})]})]})})},Ih=q$});var y3={};io(y3,{default:()=>j$});var sr,Nr,G$,j$,b3=j(()=>{"use strict";sr=L(me(),1);Os();J4();r3();i3();ri();c3();Zb();d3();f3();p3();ev();Oa();rp();Nr=L(H(),1),G$=({isAppSidebarOpen:t})=>{let{width:e}=jl(),n=e!==void 0&&e<768,[r,s]=(0,sr.useState)(!1),{logs:i,logTemplates:o,foci:a,addLog:l,updateLog:u,deleteLog:d,addLogTemplate:f,updateLogTemplate:h,deleteLogTemplate:p,addFocus:b,updateFocus:I,deleteFocus:v}=Sr(),[g,y]=(0,sr.useState)({type:"today"}),[_,A]=(0,sr.useState)(null),[R,U]=(0,sr.useState)(null),[S,E]=(0,sr.useState)({isOpen:!1,template:null}),[T,x]=(0,sr.useState)(null),[N,D]=(0,sr.useState)("focus"),[k,V]=(0,sr.useState)("focus"),[z,$]=(0,sr.useState)(null),de=(0,sr.useCallback)((le,Ee)=>!le||!Ee?!1:le.getFullYear()===Ee.getFullYear()&&le.getMonth()===Ee.getMonth()&&le.getDate()===Ee.getDate(),[]),se=le=>{let Ee={title:le.title,logType:le.logType,focusId:le.focusId,logDate:le.logDate,description:le.description||""};l(Ee)},Te=(0,sr.useMemo)(()=>{let le=[...i].sort(($t,zt)=>new Date(zt.logDate).getTime()-new Date($t.logDate).getTime()),Ee=new Date,ze=new Map;if(g.type==="today"){a.forEach(q=>{ze.set(q.name,[])}),le.filter(q=>{let Me=q.taskId&&q.completed?q.taskCompletionDate:q.logDate;return de(Me,Ee)}).forEach(q=>{let Me=a.find(ge=>ge.id===q.focusId),Be=Me?Me.name:"Uncategorized";ze.has(Be)||ze.set(Be,[]),ze.get(Be).push(q)});let zt=ze.get("Uncategorized");zt&&zt.length===0&&ze.delete("Uncategorized")}else if(g.type==="focus"){let $t;g.id==="kary"?$t=le.filter(zt=>!!zt.taskId):$t=le.filter(zt=>zt.focusId===g.id),$t.forEach(zt=>{let q=new Date(zt.logDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});ze.has(q)||ze.set(q,[]),ze.get(q).push(zt)})}return ze},[i,g,a,de]),Ae=(0,sr.useMemo)(()=>{if(g.type!=="today")return[];let le=new Date;return[...i].filter(Ee=>{let ze=Ee.taskId&&Ee.completed?Ee.taskCompletionDate:Ee.logDate;return de(ze,le)}).sort((Ee,ze)=>new Date(ze.logDate).getTime()-new Date(Ee.logDate).getTime())},[i,g,de]),De=(0,sr.useMemo)(()=>{if(g.type==="calendar"&&g.date){let le=new Date(g.date);return i.filter(Ee=>de(new Date(Ee.logDate),le)).sort((Ee,ze)=>new Date(ze.logDate).getTime()-new Date(Ee.logDate).getTime())}return[]},[i,g,de]),Q=async(le,Ee)=>{Ee?await I(Ee,le):await b(le),A(null),U(null)},P=async le=>{g.type==="focus"&&g.id===le&&y({type:"today"}),await v(le),A(null),U(null)},Z=le=>{let Ee=a.find(ze=>ze.id===le);Ee&&(U(Ee),A("add-focus"))},W=()=>{U(null),A("add-focus")},F=(0,sr.useCallback)(le=>{let Ee=le||(g.type==="focus"?g.id:null);if($(Ee),Ee){let ze=a.find($t=>$t.id===Ee);if(ze?.defaultTemplateId){if(ze.defaultTemplateId==="BLANK"){E({isOpen:!0,template:null,initialFocusId:Ee});return}let $t=o.find(zt=>zt.id===ze.defaultTemplateId);if($t){E({isOpen:!0,template:$t,initialFocusId:Ee});return}}}A("select-template")},[g,a,o]),ee=le=>{A(null),E({isOpen:!0,template:le,initialFocusId:z||void 0}),$(null)},be=()=>{y({type:"template",id:"new"})},He=le=>{f(le),y({type:"template",id:"new"})},Nt=(le,Ee)=>{Ee?h(Ee,le):He(le)},dn=le=>{p(le),y({type:"today"})},Jt=(0,sr.useMemo)(()=>{if(g.type==="today")return"Today's Journal";if(g.type==="calendar")return g.date?new Date(g.date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"Calendar";if(g.type==="focus")return a.find(le=>le.id===g.id)?.name||"";if(g.type==="template"){if(g.id==="new")return"Create New Template";let le=o.find(Ee=>Ee.id===g.id);return le?`Editing: ${le.name}`:"Template"}},[g,a,o]),ue=(0,sr.useMemo)(()=>i.find(le=>le.id===T)||null,[i,T]),ve=(0,sr.useMemo)(()=>g.type==="template"&&g.id!=="new"&&o.find(le=>le.id===g.id)||null,[g,o]),$n=(0,sr.useCallback)(le=>{y(Ee=>Ee.type==="template"?{type:"today"}:Ee),x(le)},[]),lr=le=>{let Ee=g.type==="calendar"?De:Array.from(Te.values()).flat(),ze=Ee.findIndex($t=>$t.id===le);d(le),Ee.length>1?ze>0?x(Ee[ze-1].id):x(Ee[ze+1].id):x(null)},Wr=()=>g.type==="template"?(0,Nr.jsx)(h3,{template:g.id==="new"?null:ve,foci:a,onSave:Nt,onDelete:dn},g.id):(0,Nr.jsx)(u3,{log:ue,foci:a,onUpdateLog:u,onDeleteLog:lr});return(0,Nr.jsxs)("div",{className:"h-screen bg-gray-50 flex w-full",children:[(0,Nr.jsxs)("div",{className:"flex-1 min-h-0 flex",children:[(0,Nr.jsx)(X4,{foci:a,templates:o,selection:g,onSelect:le=>{let Ee=le.type==="calendar"&&!le.date?{...le,date:new Date().toISOString()}:le;y(Ee),Ee.type==="template"&&x(null),n&&s(!1)},onOpenModal:W,onCreateTemplate:be,onEditFocus:Z,onReorderFoci:()=>{},isMobile:n,isSidebarOpen:t}),(0,Nr.jsx)("main",{className:"flex-1 flex min-w-0",children:n&&r&&T?Wr():n&&!r?(0,Nr.jsx)("div",{className:"flex flex-col w-full h-full",children:g.type==="calendar"?(0,Nr.jsx)(e1,{allFoci:a,logs:i,selectedDate:g.date?new Date(g.date):null,onDateSelect:le=>{y({type:"calendar",date:le.toISOString()}),x(null)},filteredLogs:De,onToggleKaryTask:()=>{},selectedLogId:T,onSelectLog:le=>{$n(le),s(!0)},onAddLogClick:F,onAddQuickLog:se,calendarViewMode:k,onSetCalendarViewMode:V}):(0,Nr.jsx)(ZS,{groupedLogs:Te,timelineLogs:Ae,todayViewMode:N,onSetTodayViewMode:D,viewName:Jt||"Journal",allFoci:a,selection:g,onAddLogClick:F,onAddQuickLog:se,onToggleKaryTask:()=>{},selectedLogId:T,onSelectLog:le=>{$n(le),s(!0)}})}):(0,Nr.jsxs)(za,{initialLeftWidth:45,children:[(0,Nr.jsx)("div",{className:"h-full w-full bg-white",children:g.type==="calendar"?(0,Nr.jsx)(e1,{allFoci:a,logs:i,selectedDate:g.date?new Date(g.date):null,onDateSelect:le=>{y({type:"calendar",date:le.toISOString()}),x(null)},filteredLogs:De,onToggleKaryTask:()=>{},selectedLogId:T,onSelectLog:$n,onAddLogClick:F,onAddQuickLog:se,calendarViewMode:k,onSetCalendarViewMode:V}):(0,Nr.jsx)(ZS,{groupedLogs:Te,timelineLogs:Ae,todayViewMode:N,onSetTodayViewMode:D,viewName:Jt||"Journal",allFoci:a,selection:g,onAddLogClick:F,onAddQuickLog:se,onToggleKaryTask:()=>{},selectedLogId:T,onSelectLog:$n})}),Wr()]})})]}),_==="add-focus"&&(0,Nr.jsx)(kn,{title:R?"Edit Focus Area":"Create New Focus",onClose:()=>{A(null),U(null)},children:(0,Nr.jsx)(l3,{initialData:R,onSave:Q,onDelete:P,allFoci:a})}),_==="select-template"&&(0,Nr.jsx)(m3,{isOpen:!0,templates:o,onSelect:ee,onClose:()=>A(null)}),S.isOpen&&(0,Nr.jsx)(Ih,{isOpen:!0,onClose:()=>E({isOpen:!1,template:null}),onAddLog:le=>{let Ee={title:le.title||"",logType:le.logType||"text",focusId:le.focusId||"general",logDate:le.logDate||new Date,description:le.description||"",checklist:le.checklist,rating:le.rating,habitId:le.habitId,milestoneId:le.milestoneId,goalId:le.goalId,taskId:le.taskId,completed:le.completed,taskCompletionDate:le.taskCompletionDate};l(Ee)},allFoci:a,template:S.template,initialFocusId:S.initialFocusId})]})},j$=G$});var bu,xe,n1,v3,$$,w3,x3=j(()=>{"use strict";bu=L(me(),1);Pe();xe=L(H(),1),n1=({list:t,isSelected:e,onSelect:n,onDelete:r,isChild:s=!1,isSmartList:i=!1})=>{let[o,a]=(0,bu.useState)(!1),[l,u]=(0,bu.useState)({x:0,y:0}),d=J[t.icon]||Nn,f=p=>{p.preventDefault(),p.stopPropagation(),u({x:p.clientX,y:p.clientY}),a(!0)},h=()=>{a(!1),r?.(t.id)};return(0,xe.jsxs)("li",{className:`${s?"pl-6":""} relative`,children:[(0,xe.jsxs)("div",{onClick:n,onContextMenu:i?void 0:f,className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 cursor-pointer ${e?"bg-indigo-50 text-indigo-700 border border-indigo-200 shadow-sm":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[(0,xe.jsx)("div",{className:`w-5 h-5 flex items-center justify-center ${t.color?`text-${t.color}`:"text-gray-500"}`,children:(0,xe.jsx)(d,{className:"w-4 h-4"})}),(0,xe.jsx)("span",{className:"flex-1 truncate text-left",children:t.name}),(0,xe.jsxs)("div",{className:"flex items-center gap-1",children:[t.isDefault&&(0,xe.jsx)(rr,{className:"w-3 h-3 text-blue-600"}),t.count!=null&&(0,xe.jsx)("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full ${e?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-600"}`,children:t.count})]})]}),o&&!i&&(0,xe.jsx)("div",{className:"fixed z-50 bg-white border border-gray-200 rounded-lg shadow-lg py-1 min-w-[160px]",style:{left:l.x,top:l.y},children:(0,xe.jsxs)("button",{onClick:h,className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[(0,xe.jsx)(ws,{className:"w-4 h-4"}),"Delete List"]})}),o&&(0,xe.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)})]})},v3=({title:t,onAdd:e,icon:n})=>{let r=J[n];return(0,xe.jsxs)("div",{className:"px-3 pt-6 pb-3 flex justify-between items-center",children:[(0,xe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xe.jsx)(r,{className:"w-4 h-4 text-gray-500"}),(0,xe.jsx)("h2",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide",children:t})]}),(0,xe.jsx)("button",{onClick:e,className:"p-1.5 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors duration-200",children:(0,xe.jsx)(At,{className:"w-4 h-4"})})]})},$$=({smartLists:t,customLists:e,listFolders:n,tags:r,tagFolders:s,selectedItem:i,onSelectItem:o,onOpenModal:a,onDeleteList:l,isMobile:u,isSidebarOpen:d})=>{let[f,h]=(0,bu.useState)({}),p=v=>{h(g=>({...g,[v]:!g[v]}))},b=e.filter(v=>!v.folderId),I=r.filter(v=>!v.folderId);return(0,xe.jsxs)("aside",{className:`w-80 flex-shrink-0 bg-white border-r border-gray-200 flex flex-col
        ${u?"fixed inset-y-0 left-0 z-20 transition-transform duration-300 ease-in-out":""}
        ${u&&!d?"-translate-x-full":"translate-x-0"}
      `,children:[(0,xe.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,xe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,xe.jsx)("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:(0,xe.jsx)(Sc,{className:"w-6 h-6 text-indigo-600"})}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:"Kary AI"}),(0,xe.jsx)("p",{className:"text-xs text-gray-500",children:"Organize your work"})]})]})}),(0,xe.jsxs)("nav",{className:"flex-1 overflow-y-auto p-3",children:[(0,xe.jsx)("div",{className:"mb-6",children:(0,xe.jsx)("ul",{className:"space-y-1",children:t.map(v=>(0,xe.jsx)(n1,{list:v,isSelected:i.type==="list"&&i.id===v.id,onSelect:()=>o({type:"list",id:v.id}),isSmartList:!0},v.id))})}),(0,xe.jsx)("div",{className:"border-t border-gray-200 mb-6"}),(0,xe.jsxs)("div",{className:"mb-6",children:[(0,xe.jsx)(v3,{title:"Lists",onAdd:()=>a("add-list"),icon:"ListIcon"}),(0,xe.jsxs)("ul",{className:"space-y-1",children:[n.map(v=>{let g=f[v.id],y=e.filter(_=>_.folderId===v.id);return(0,xe.jsxs)(bu.default.Fragment,{children:[(0,xe.jsx)("li",{children:(0,xe.jsxs)("button",{onClick:()=>p(v.id),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:[(0,xe.jsx)("div",{className:"w-5 h-5 flex items-center justify-center",children:g?(0,xe.jsx)(Bn,{className:"w-4 h-4 text-gray-500"}):(0,xe.jsx)(es,{className:"w-4 h-4 text-gray-500"})}),(0,xe.jsx)(gy,{className:"w-4 h-4 text-gray-500"}),(0,xe.jsx)("span",{className:"flex-1 truncate text-left",children:v.name}),(0,xe.jsx)("span",{className:"text-xs text-gray-500",children:y.length})]})}),!g&&y.map(_=>(0,xe.jsx)(n1,{list:_,isSelected:i.type==="list"&&i.id===_.id,onSelect:()=>o({type:"list",id:_.id}),onDelete:l,isChild:!0},_.id))]},v.id)}),b.map(v=>(0,xe.jsx)(n1,{list:v,isSelected:i.type==="list"&&i.id===v.id,onSelect:()=>o({type:"list",id:v.id}),onDelete:l},v.id))]})]}),(0,xe.jsx)("div",{className:"border-t border-gray-200 mb-6"}),(0,xe.jsxs)("div",{className:"mb-6",children:[(0,xe.jsx)(v3,{title:"Tags",onAdd:()=>a("add-tag"),icon:"TagIcon"}),(0,xe.jsx)("ul",{className:"space-y-1",children:s.map(v=>{let g=f[v.id],y=r.filter(_=>_.folderId===v.id);return(0,xe.jsxs)(bu.default.Fragment,{children:[(0,xe.jsx)("li",{children:(0,xe.jsxs)("button",{onClick:()=>p(v.id),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:[(0,xe.jsx)("div",{className:"w-5 h-5 flex items-center justify-center",children:g?(0,xe.jsx)(Bn,{className:"w-4 h-4 text-gray-500"}):(0,xe.jsx)(es,{className:"w-4 h-4 text-gray-500"})}),(0,xe.jsx)(gy,{className:"w-4 h-4 text-gray-500"}),(0,xe.jsx)("span",{className:"flex-1 truncate text-left",children:v.name}),(0,xe.jsx)("span",{className:"text-xs text-gray-500",children:y.length})]})}),!g&&y.map(_=>(0,xe.jsx)("li",{className:"pl-6",children:(0,xe.jsxs)("button",{onClick:()=>o({type:"tag",id:_.id}),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ${i.type==="tag"&&i.id===_.id?"bg-indigo-50 text-indigo-700 border border-indigo-200 shadow-sm":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[(0,xe.jsx)("div",{className:`w-3 h-3 rounded-full bg-${_.color}`}),(0,xe.jsx)("span",{className:"flex-1 truncate text-left",children:_.name})]})},_.id))]},v.id)})}),I.length>0&&(0,xe.jsx)("div",{className:"mt-3 px-3",children:(0,xe.jsx)("div",{className:"flex flex-wrap gap-2",children:I.map(v=>(0,xe.jsxs)("button",{onClick:()=>o({type:"tag",id:v.id}),className:`px-3 py-1.5 text-xs font-medium rounded-full flex items-center gap-1.5 transition-all duration-200 ${i.type==="tag"&&i.id===v.id?`bg-${v.color} text-white shadow-sm`:`bg-${v.color}/10 text-${v.color} hover:bg-${v.color}/20`}`,children:[(0,xe.jsx)("div",{className:`w-2 h-2 rounded-full bg-${v.color}`}),v.name]},v.id))})})]})]})]})},w3=$$});var pn,K$,T3,W$,Y$,r1,I3=j(()=>{"use strict";eo();Pe();pn=L(H(),1),K$=t=>{if(!t)return"";let e=new Date(t);if(isNaN(e.getTime()))return"";let n=new Date,r=new Date;r.setDate(n.getDate()+1);let s=e.getHours()!==0||e.getMinutes()!==0;n.setHours(0,0,0,0);let i=new Date(e);i.setHours(0,0,0,0);let o="";if(i.getTime()===n.getTime()?o="Today":i.getTime()===r.getTime()?o="Tomorrow":o=e.toLocaleDateString("en-US",{month:"short",day:"numeric"}),s){let a=e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}).toLowerCase();return`${o} ${a}`}return o},T3=t=>{if(!t)return"text-gray-400";let e=new Date;e.setHours(0,0,0,0);let n=new Date(t);return n.setHours(0,0,0,0),n.getTime()<e.getTime()?"text-red-500":n.getTime()===e.getTime()?"text-blue-600":"text-gray-500"},W$=t=>{switch(t){case 1:return"text-red-600";case 2:return"text-orange-500";case 3:return"text-blue-500";case 4:return"text-gray-400";default:return"hidden"}},Y$=({task:t,allTags:e,isSelected:n,level:r,isParent:s,isExpanded:i,onSelect:o,onToggleComplete:a,onToggleExpand:l})=>{let u=(t.tags??[]).map(p=>e.find(b=>b.id===p)).filter(Boolean),d=()=>{n||o(t.id)},f=p=>{p.stopPropagation(),l(t.id)},h=s&&t.dueDate===void 0;return(0,pn.jsxs)("div",{onClick:d,className:`group relative flex items-center gap-1 p-2 rounded-lg cursor-pointer transition-all duration-200 border ${n?"bg-indigo-50 border-indigo-200 shadow-sm":"bg-white border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,style:{marginLeft:`${r*20}px`},children:[(0,pn.jsx)("div",{className:"flex items-center justify-center w-5 h-5",children:s?(0,pn.jsx)("button",{onClick:f,className:"p-0.5 rounded-md hover:bg-gray-200 transition-colors duration-200",children:i?(0,pn.jsx)(es,{className:"w-3.5 h-3.5 text-gray-500"}):(0,pn.jsx)(Bn,{className:"w-3.5 h-3.5 text-gray-500"})}):(0,pn.jsx)("div",{className:"w-3.5 h-3.5"})}),(0,pn.jsx)("div",{className:"flex items-center justify-center w-5 h-5",children:(0,pn.jsx)(br,{checked:t.completed,onChange:()=>a(t.id)})}),(0,pn.jsx)("div",{className:"flex-1 min-w-0",children:(0,pn.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,pn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,pn.jsx)("p",{className:`text-sm font-medium truncate ${t.completed?"text-gray-400 line-through":"text-gray-900"} ${h?"text-gray-500":""}`,children:t.title}),t.source&&(0,pn.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,pn.jsx)("span",{className:"text-xs text-gray-500",children:"Source:"}),(0,pn.jsxs)("a",{href:t.source.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-indigo-600 hover:text-indigo-700 flex items-center gap-1 hover:underline",onClick:p=>p.stopPropagation(),children:[t.source.text,(0,pn.jsx)(fT,{className:"w-3 h-3"})]})]})]}),(0,pn.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[u.length>0&&(0,pn.jsxs)("div",{className:"flex items-center gap-1",children:[u.slice(0,2).map(p=>(0,pn.jsx)("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full bg-${p.color}/10 text-${p.color} border border-${p.color}/20`,children:p.name},p.id)),u.length>2&&(0,pn.jsxs)("span",{className:"text-xs text-gray-500",children:["+",u.length-2]})]}),t.dueDate&&(0,pn.jsxs)("div",{className:`px-2 py-1 text-xs font-medium rounded-full flex items-center gap-1 ${T3(t.dueDate)==="text-red-500"?"bg-red-50 text-red-600 border border-red-200":T3(t.dueDate)==="text-blue-600"?"bg-blue-50 text-blue-600 border border-blue-200":"bg-gray-50 text-gray-600 border border-gray-200"}`,children:[(0,pn.jsx)(ni,{className:"w-3 h-3"}),K$(t.dueDate)]}),t.priority&&(0,pn.jsx)("div",{className:"p-1",children:(0,pn.jsx)(Pr,{className:`w-4 h-4 ${W$(t.priority)}`})})]})]})})]})},r1=Y$});var ir,et,_3,Q$,E3,tv,X$,S3,N3=j(()=>{"use strict";ir=L(me(),1);Pe();QS();Wl();et=L(H(),1),_3=[{id:"1",name:"Urgent (P1)",color:"text-red-600",icon:"FlagIcon"},{id:"2",name:"High (P2)",color:"text-orange-500",icon:"FlagIcon"},{id:"3",name:"Medium (P3)",color:"text-blue-500",icon:"FlagIcon"},{id:"4",name:"Low (P4)",color:"text-gray-500",icon:"FlagIcon"}],Q$=t=>{switch(t){case 1:return{text:"!Urgent",colorClass:"bg-red-100 text-red-800",color:"text-red-600"};case 2:return{text:"!High",colorClass:"bg-orange-100 text-orange-800",color:"text-orange-500"};case 3:return{text:"!Medium",colorClass:"bg-blue-100 text-blue-800",color:"text-blue-500"};case 4:return{text:"!Low",colorClass:"bg-gray-100 text-gray-800",color:"text-gray-500"}}},E3=t=>{let e=new Date(t);if(isNaN(e.getTime()))return"";let n=new Date,r=new Date;r.setDate(n.getDate()+1);let i=e.getHours()!==0||e.getMinutes()!==0?`, ${e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}`:"";n.setHours(0,0,0,0);let o=new Date(e);o.setHours(0,0,0,0);let a="";if(o.getTime()===n.getTime())a="Today";else if(o.getTime()===r.getTime())a="Tomorrow";else{let l=new Date;l.setDate(n.getDate()+7),o>n&&o<l?a=e.toLocaleDateString("en-US",{weekday:"long"}):a=e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}return`${a}${i}`},tv=({text:t,icon:e,colorClass:n,onRemove:r})=>(0,et.jsxs)("span",{className:`flex items-center gap-1.5 rounded-md pl-2 pr-1 py-0.5 text-sm font-medium ${n}`,children:[e&&ir.default.createElement(J[e],{className:"w-4 h-4"}),(0,et.jsx)("span",{children:t}),(0,et.jsx)("button",{type:"button",onClick:r,className:"font-mono text-lg leading-none hover:opacity-75 focus:outline-none",children:"\xD7"})]}),X$=({lists:t,tags:e,onAddTask:n})=>{let[r,s]=(0,ir.useState)(""),[i,o]=(0,ir.useState)(null),[a,l]=(0,ir.useState)([]),[u,d]=(0,ir.useState)(null),[f,h]=(0,ir.useState)(null),[p,b]=(0,ir.useState)(!1),[I,v]=(0,ir.useState)(!1),[g,y]=(0,ir.useState)(null),_=(0,ir.useRef)(null),A=(0,ir.useRef)(null),R=(0,ir.useRef)(null),U=(0,ir.useCallback)(()=>{s(""),o(null),l([]),d(null),h(null),y(null)},[]),S=async V=>{V.preventDefault();let z=r.trim();if(!(!z&&a.length===0&&!i&&!u&&!f)){v(!0);try{let $={title:z,dueDate:f?f.toISOString():null,tagNames:a.map(de=>de.name),priority:u,list:i};await n($,i),U()}catch($){console.error("Failed to create task:",$)}finally{v(!1),_.current?.focus()}}},E=(V,z)=>{z.length>0&&y({type:V,items:z,highlightedIndex:0})};(0,ir.useEffect)(()=>{let V=z=>{g&&A.current&&!A.current.contains(z.target)&&y(null),p&&R.current&&!R.current.contains(z.target)&&!A.current?.contains(z.target)&&b(!1)};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[g,p]);let T=V=>{if(g){switch(g.type){case"list":o(t.find($=>$.id===V.id)||null);break;case"tag":let z=e.find($=>$.id===V.id);z&&!a.some($=>$.id===z.id)&&l($=>[...$,z]);break;case"priority":d(parseInt(V.id,10));break}g.isTextTriggered&&s(z=>z.substring(0,z.lastIndexOf(g.type==="list"?"~":g.type==="tag"?"#":"!"))),y(null),setTimeout(()=>_.current?.focus(),0)}},x=V=>{let z=V.target.value;s(z);let $=z.match(/([~#!])([\w-]*)$/);if($){let de=$[1],se=$[2].toLowerCase(),Te=[],Ae=null;if(de==="~"&&!i)Ae="list",Te=t.filter(De=>De.name.toLowerCase().includes(se)).map(De=>({id:De.id,name:De.name,icon:De.icon}));else if(de==="#"){Ae="tag";let De=new Set(a.map(Q=>Q.id));Te=e.filter(Q=>!De.has(Q.id)&&Q.name.toLowerCase().includes(se)).map(Q=>({id:Q.id,name:Q.name,color:Q.color}))}else de==="!"&&!u&&(Ae="priority",Te=_3.filter(De=>De.id.includes(se)||De.name.toLowerCase().includes(se)));Ae&&Te.length>0?y({type:Ae,items:Te,highlightedIndex:0,isTextTriggered:!0}):y(null)}else y(null)},N=V=>{p||(g?V.key==="ArrowDown"?(V.preventDefault(),y(z=>z?{...z,highlightedIndex:(z.highlightedIndex+1)%z.items.length}:null)):V.key==="ArrowUp"?(V.preventDefault(),y(z=>z?{...z,highlightedIndex:(z.highlightedIndex-1+z.items.length)%z.items.length}:null)):V.key==="Enter"||V.key==="Tab"?(V.preventDefault(),T(g.items[g.highlightedIndex])):V.key==="Escape"&&(V.preventDefault(),y(null)):V.key==="Backspace"&&r===""&&(a.length>0?l(z=>z.slice(0,-1)):f?h(null):i?o(null):u&&d(null)))},D=u?Q$(u):null,k=e.filter(V=>!a.some(z=>z.id===V.id));return(0,et.jsxs)("div",{className:"relative",children:[(0,et.jsxs)("form",{onSubmit:S,ref:A,className:"bg-white border border-gray-300 focus-within:border-blue-500 rounded-lg shadow-sm transition-colors",children:[(0,et.jsx)("div",{className:"p-2",children:(0,et.jsxs)("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1",children:[D&&(0,et.jsx)(tv,{text:D.text.substring(1),icon:"FlagIcon",colorClass:D.colorClass,onRemove:()=>d(null)}),i&&(0,et.jsx)(tv,{text:i.name,icon:i.icon,colorClass:"bg-gray-200 text-gray-800",onRemove:()=>o(null)}),f&&(0,et.jsx)(tv,{text:E3(f),icon:"CalendarIcon",colorClass:"bg-blue-100 text-blue-800",onRemove:()=>h(null)}),a.map(V=>(0,et.jsx)(tv,{text:V.name,colorClass:`bg-${V.color}/20 text-${V.color}`,onRemove:()=>l(z=>z.filter($=>$.id!==V.id))},V.id)),(0,et.jsx)("input",{ref:_,type:"text",value:r,onChange:x,onKeyDown:N,placeholder:"Create a task",className:"flex-1 min-w-[120px] bg-transparent text-gray-800 placeholder-gray-500 py-1 outline-none",disabled:I,autoComplete:"off"})]})}),(0,et.jsxs)("div",{className:"flex items-center justify-between px-2 pb-2 border-t border-gray-100",children:[(0,et.jsxs)("div",{className:"flex items-center gap-1 text-gray-500",children:[(0,et.jsxs)("div",{className:"relative",ref:R,children:[(0,et.jsxs)("button",{type:"button",onClick:()=>b(V=>!V),className:"flex items-center gap-1.5 p-1 rounded hover:bg-gray-200 transition-colors",children:[(0,et.jsx)(lt,{className:`w-4 h-4 ${f?"text-blue-600":""}`}),f&&(0,et.jsx)("span",{className:"text-xs text-blue-600 font-medium",children:E3(f)})]}),p&&(0,et.jsx)("div",{className:"absolute bottom-full left-0 mb-2 z-30",children:(0,et.jsx)(Hs,{currentDate:f,onSelect:V=>{h(V),b(!1)},onClear:()=>{h(null),b(!1)},onClose:()=>b(!1)})})]}),(0,et.jsx)("button",{type:"button",onClick:()=>E("priority",_3),className:"p-1 rounded hover:bg-gray-200 transition-colors",children:(0,et.jsx)(Pr,{className:`w-4 h-4 ${D?D.color:""}`})}),(0,et.jsx)("button",{type:"button",onClick:()=>E("tag",k.map(V=>({id:V.id,name:V.name,color:V.color}))),className:"p-1 rounded hover:bg-gray-200 transition-colors",children:(0,et.jsx)(ji,{className:"w-4 h-4"})}),(0,et.jsx)("button",{type:"button",onClick:()=>E("list",t.map(V=>({id:V.id,name:V.name,icon:V.icon,color:V.color}))),className:"flex items-center gap-1.5 p-1 rounded hover:bg-gray-200 transition-colors",children:i?(0,et.jsxs)(et.Fragment,{children:[ir.default.createElement(J[i.icon]||Nn,{className:`w-4 h-4 ${i.color?`text-${i.color}`:""}`}),(0,et.jsx)("span",{className:"text-xs text-gray-700 font-medium",children:i.name})]}):(0,et.jsx)(Nn,{className:"w-4 h-4"})}),(0,et.jsx)("button",{type:"button",className:"p-1 rounded hover:bg-gray-200 transition-colors",children:(0,et.jsx)(nr,{className:"w-4 h-4"})})]}),(0,et.jsx)("button",{type:"submit",disabled:I||!r.trim()&&a.length===0,className:"px-3 py-1 bg-blue-600 text-white text-sm font-semibold rounded-md hover:bg-blue-700 disabled:bg-blue-400 transition-colors",children:I?(0,et.jsx)(Qb,{}):"Add"})]})]}),g&&(0,et.jsx)("ul",{className:"absolute bottom-full left-0 mb-1 w-full bg-white rounded-lg shadow-xl border border-gray-200 z-20 max-h-56 overflow-y-auto",children:g.items.map((V,z)=>(0,et.jsx)("li",{children:(0,et.jsxs)("button",{onClick:()=>T(V),className:`w-full text-left flex items-center gap-3 px-3 py-2 text-sm ${z===g.highlightedIndex?"bg-blue-100":"hover:bg-gray-100"}`,children:[V.icon&&ir.default.createElement(J[V.icon],{className:`w-4 h-4 ${V.color||"text-gray-500"}`}),!V.icon&&V.color&&(g.type==="tag"?(0,et.jsx)("span",{className:`w-2.5 h-2.5 rounded-full bg-${V.color}`}):(0,et.jsx)(Pr,{className:`w-4 h-4 ${V.color}`})),(0,et.jsx)("span",{className:"flex-1 truncate",children:V.name})]})},V.id))})]})},S3=X$});var nv,rt,J$,k3,A3=j(()=>{"use strict";nv=L(me(),1);Pe();rt=L(H(),1),J$=({searchQuery:t,filterOption:e,sortOption:n,sortDirection:r,onSearchChange:s,onFilterChange:i,onSortChange:o,onSortDirectionChange:a})=>{let[l,u]=(0,nv.useState)(!1),[d,f]=(0,nv.useState)(!1),[h,p]=(0,nv.useState)(!1),b=[{value:"all",label:"All tasks"},{value:"uncompleted",label:"Uncompleted"},{value:"completed",label:"Completed"},{value:"overdue",label:"Overdue"},{value:"dueToday",label:"Due today"},{value:"dueThisWeek",label:"Due this week"}],I=[{value:"created",label:"Created date"},{value:"dueDate",label:"Due date"},{value:"priority",label:"Priority"},{value:"title",label:"Title"}],v=A=>b.find(R=>R.value===A)?.label||"All tasks",g=A=>I.find(R=>R.value===A)?.label||"Created date",y=()=>`Filter: ${v(e)}`,_=()=>`Sort: ${g(n)} (${r==="asc"?"ascending":"descending"})`;return(0,rt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,rt.jsx)("div",{className:"relative",children:l?(0,rt.jsxs)("div",{className:"relative",children:[(0,rt.jsx)(yy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,rt.jsx)("input",{type:"text",placeholder:"Search tasks...",value:t,onChange:A=>s(A.target.value),className:"w-64 pl-10 pr-8 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0,onBlur:()=>{t||u(!1)}}),t&&(0,rt.jsx)("button",{onClick:()=>s(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600",children:(0,rt.jsx)(Cs,{className:"w-4 h-4"})})]}):(0,rt.jsx)("button",{onClick:()=>u(!0),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors duration-200",title:t?`Search: "${t}"`:"Search tasks",children:(0,rt.jsx)(yy,{className:"w-4 h-4"})})}),(0,rt.jsxs)("div",{className:"relative",children:[(0,rt.jsx)("button",{onClick:()=>f(!d),className:`p-2 rounded-lg transition-colors duration-200 ${e!=="all"?"text-indigo-600 bg-indigo-50 hover:bg-indigo-100":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,title:y(),children:(0,rt.jsx)(hT,{className:"w-4 h-4"})}),d&&(0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>f(!1)}),(0,rt.jsxs)("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-20",children:[(0,rt.jsx)("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 border-b border-gray-100",children:"Filter by"}),b.map(A=>(0,rt.jsxs)("button",{onClick:()=>{i(A.value),f(!1)},className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 ${e===A.value?"bg-indigo-50 text-indigo-700":"text-gray-700"}`,children:[e===A.value&&(0,rt.jsx)("div",{className:"w-2 h-2 bg-indigo-600 rounded-full"}),e!==A.value&&(0,rt.jsx)("div",{className:"w-2 h-2"}),A.label]},A.value))]})]})]}),(0,rt.jsxs)("div",{className:"relative",children:[(0,rt.jsx)("button",{onClick:()=>p(!h),className:`p-2 rounded-lg transition-colors duration-200 ${n!=="created"?"text-indigo-600 bg-indigo-50 hover:bg-indigo-100":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,title:_(),children:(0,rt.jsx)(iT,{className:"w-4 h-4"})}),h&&(0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>p(!1)}),(0,rt.jsxs)("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-20",children:[(0,rt.jsx)("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 border-b border-gray-100",children:"Sort by"}),I.map(A=>(0,rt.jsxs)("button",{onClick:()=>{o(A.value),p(!1)},className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 ${n===A.value?"bg-indigo-50 text-indigo-700":"text-gray-700"}`,children:[n===A.value&&(0,rt.jsx)("div",{className:"w-2 h-2 bg-indigo-600 rounded-full"}),n!==A.value&&(0,rt.jsx)("div",{className:"w-2 h-2"}),A.label]},A.value)),(0,rt.jsx)("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 border-t border-gray-100",children:"Direction"}),(0,rt.jsxs)("button",{onClick:()=>{a("asc"),p(!1)},className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 ${r==="asc"?"bg-indigo-50 text-indigo-700":"text-gray-700"}`,children:[r==="asc"&&(0,rt.jsx)("div",{className:"w-2 h-2 bg-indigo-600 rounded-full"}),r!=="asc"&&(0,rt.jsx)("div",{className:"w-2 h-2"}),"Ascending"]}),(0,rt.jsxs)("button",{onClick:()=>{a("desc"),p(!1)},className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 ${r==="desc"?"bg-indigo-50 text-indigo-700":"text-gray-700"}`,children:[r==="desc"&&(0,rt.jsx)("div",{className:"w-2 h-2 bg-indigo-600 rounded-full"}),r!=="desc"&&(0,rt.jsx)("div",{className:"w-2 h-2"}),"Descending"]})]})]})]})]})},k3=J$});var D3,ds,Z$,C3,R3=j(()=>{"use strict";D3=L(me(),1);Pe();ds=L(H(),1),Z$=({list:t,onEditList:e,onDeleteList:n,onSetDefaultList:r,isSmartList:s=!1})=>{let[i,o]=(0,D3.useState)(!1),a=()=>{o(!1),e(t)},l=()=>{o(!1),n(t.id)};return(0,ds.jsxs)("div",{className:"relative",children:[(0,ds.jsx)("button",{onClick:()=>o(!i),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors duration-200",title:"More options",children:(0,ds.jsx)(nr,{className:"w-4 h-4"})}),i&&(0,ds.jsxs)(ds.Fragment,{children:[(0,ds.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),(0,ds.jsxs)("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-20",children:[!s&&(0,ds.jsxs)("button",{onClick:a,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2 first:rounded-t-lg",children:[(0,ds.jsx)(sT,{className:"w-4 h-4"}),"Edit List"]}),!s&&r&&(0,ds.jsxs)("button",{onClick:()=>{o(!1),r?.(t.id)},className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 ${t.isDefault?"text-blue-600":"text-gray-700"}`,children:[(0,ds.jsx)(rr,{className:"w-4 h-4"}),t.isDefault?"Default List":"Set as Default"]}),!s&&t.id!=="inbox"&&(0,ds.jsxs)("button",{onClick:l,className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2 last:rounded-b-lg",children:[(0,ds.jsx)(ws,{className:"w-4 h-4"}),"Delete List"]})]})]})]})},C3=Z$});var Zl,Qe,eK,s1,L3=j(()=>{"use strict";Zl=L(me(),1);I3();Pe();Pe();N3();A3();R3();ip();Qe=L(H(),1),eK=({viewDetails:t,tasks:e,allLists:n,allTags:r,selectedTaskId:s,expandedTasks:i,onSelectTask:o,onToggleComplete:a,onAddTask:l,onToggleExpand:u,onEditList:d,onDeleteList:f,onSetDefaultList:h})=>{let[p,b]=(0,Zl.useState)(!0),{searchQuery:I,filterOption:v,sortOption:g,sortDirection:y,setSearchQuery:_,setFilterOption:A,setSortOption:R,setSortDirection:U,getFilteredAndSortedTasks:S}=Yi(),E=(0,Zl.useMemo)(()=>S(e),[e,S,I,v,g,y]),{taskTree:T,childrenByParentId:x,completedTasks:N,completedChildrenByParentId:D}=(0,Zl.useMemo)(()=>{let $=new Map,de=[],se=new Map,Te=[],Ae=E.filter(F=>!F.completed),De=E.filter(F=>F.completed);Ae.forEach(F=>{F.parentId?($.has(F.parentId)||$.set(F.parentId,[]),$.get(F.parentId).push(F)):de.push(F)}),De.forEach(F=>{F.parentId?(se.has(F.parentId)||se.set(F.parentId,[]),se.get(F.parentId).push(F)):Te.push(F)});let Q=F=>Ae.some(ee=>ee.id===F),P=Ae.filter(F=>!F.parentId||!Q(F.parentId)),Z=F=>De.some(ee=>ee.id===F),W=Te.filter(F=>!F.parentId||!Z(F.parentId));return W.sort((F,ee)=>{let be=F.completionDate?new Date(F.completionDate).getTime():0;return(ee.completionDate?new Date(ee.completionDate).getTime():0)-be}),{taskTree:P,childrenByParentId:$,completedTasks:W,completedChildrenByParentId:se}},[E]),k=t&&"id"in t&&["today","due","upcoming"].includes(t.id);if(!t)return(0,Qe.jsx)("div",{className:"w-full h-full bg-white flex items-center justify-center",children:(0,Qe.jsxs)("div",{className:"text-center",children:[(0,Qe.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Qe.jsx)(Nn,{className:"w-8 h-8 text-gray-400"})}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a List or Tag"}),(0,Qe.jsx)("p",{className:"text-gray-500",children:"Choose from the sidebar to view your tasks"})]})});let V=($,de)=>{let se=x.get($.id)||[],Te=!!i[$.id];return(0,Qe.jsxs)(Zl.default.Fragment,{children:[(0,Qe.jsx)(r1,{task:$,allTags:r,isSelected:$.id===s,onSelect:o,onToggleComplete:a,level:de,isParent:se.length>0,isExpanded:Te,onToggleExpand:u}),Te&&se.map(Ae=>V(Ae,de+1))]},$.id)},z=($,de)=>{let se=D.get($.id)||[],Te=!!i[$.id];return(0,Qe.jsxs)(Zl.default.Fragment,{children:[(0,Qe.jsx)(r1,{task:$,allTags:r,isSelected:$.id===s,onSelect:o,onToggleComplete:a,level:de,isParent:se.length>0,isExpanded:Te,onToggleExpand:u}),Te&&se.map(Ae=>z(Ae,de+1))]},$.id)};return(0,Qe.jsxs)("div",{className:"w-full h-full bg-white flex flex-col",children:[(0,Qe.jsx)("div",{className:"border-b border-gray-200 bg-white",children:(0,Qe.jsx)("div",{className:"p-6",children:(0,Qe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qe.jsx)("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:t&&"icon"in t?(()=>{let $=J[t.icon]||Nn;return(0,Qe.jsx)($,{className:"w-5 h-5 text-indigo-600"})})():(0,Qe.jsx)(Ec,{className:"w-5 h-5 text-indigo-600"})}),(0,Qe.jsx)("div",{children:(0,Qe.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:t.name})})]}),(0,Qe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qe.jsx)(k3,{searchQuery:I,filterOption:v,sortOption:g,sortDirection:y,onSearchChange:_,onFilterChange:A,onSortChange:R,onSortDirectionChange:U}),t&&"id"in t&&d&&f&&(0,Qe.jsx)(C3,{list:t,onEditList:d,onDeleteList:f,onSetDefaultList:h,isSmartList:k})]})]})})}),(0,Qe.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Qe.jsxs)("div",{className:"p-4",children:[T.length>0?(0,Qe.jsx)("div",{className:"space-y-3 mb-6",children:T.map($=>V($,0))}):N.length===0?(0,Qe.jsxs)("div",{className:"text-center py-12",children:[(0,Qe.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t&&"icon"in t?(()=>{let $=J[t.icon]||Nn;return(0,Qe.jsx)($,{className:"w-8 h-8 text-gray-400"})})():(0,Qe.jsx)(Nn,{className:"w-8 h-8 text-gray-400"})}),(0,Qe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:I||v!=="all"?"No matching tasks":"No tasks yet"}),(0,Qe.jsx)("p",{className:"text-gray-500 mb-4",children:I||v!=="all"?"Try adjusting your search or filter criteria":"Get started by adding your first task below"}),!I&&v==="all"&&(0,Qe.jsxs)("div",{className:"text-xs text-gray-400",children:[(0,Qe.jsx)("p",{children:"\u2022 Use the input below to add tasks"}),(0,Qe.jsx)("p",{children:"\u2022 Organize with lists and tags"}),(0,Qe.jsx)("p",{children:"\u2022 Track your progress"})]})]}):null,N.length>0&&(0,Qe.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,Qe.jsxs)("button",{onClick:()=>b(!p),className:"flex items-center gap-2 text-sm font-bold text-gray-700 hover:text-gray-900 transition-colors duration-200 mb-3",children:[p?(0,Qe.jsx)(es,{className:"w-4 h-4"}):(0,Qe.jsx)(Bn,{className:"w-4 h-4"}),"Completed ",N.length]}),p&&(0,Qe.jsx)("div",{className:"space-y-2",children:N.map($=>z($,0))})]})]})}),(0,Qe.jsx)("div",{className:"border-t border-gray-200 p-3",children:(0,Qe.jsx)(S3,{lists:n.filter($=>$.id!=="today"&&$.id!=="upcoming"),tags:r,onAddTask:l})})]})},s1=eK});var _h,tK,nK,Eh,rv=j(()=>{"use strict";_h=L(H(),1),tK=["gray-500","red-500","orange-500","yellow-500","green-500","teal-500","blue-500","indigo-500","purple-500","pink-500"],nK=({selectedColor:t,onSelectColor:e})=>(0,_h.jsxs)("div",{children:[(0,_h.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),(0,_h.jsx)("div",{className:"flex flex-wrap gap-2",children:tK.map(n=>(0,_h.jsx)("button",{type:"button",onClick:()=>e(n),className:`w-8 h-8 rounded-full bg-${n} transition-transform transform hover:scale-110 ${t===n?"ring-2 ring-offset-2 ring-blue-500":""}`,"aria-label":`Select ${n} color`},n))})]}),Eh=nK});var vu,rK,sK,Sh,sv=j(()=>{"use strict";Pe();vu=L(H(),1),rK=["ListIcon","FolderIcon","TagIcon","FlagIcon","HeartIcon","BuildingIcon","CalendarIcon","MagicWandIcon","InboxIcon"],sK=({selectedIcon:t,onSelectIcon:e})=>(0,vu.jsxs)("div",{children:[(0,vu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon"}),(0,vu.jsx)("div",{className:"grid grid-cols-6 md:grid-cols-8 gap-2",children:rK.map(n=>{let r=J[n];return(0,vu.jsx)("button",{type:"button",onClick:()=>e(n),className:`p-2 rounded-md flex items-center justify-center transition-colors ${t===n?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,"aria-label":`Select ${n} icon`,children:(0,vu.jsx)(r,{className:"w-5 h-5"})},n)})})]}),Sh=sK});var Nh,wr,iK,P3,O3=j(()=>{"use strict";Nh=L(me(),1);rv();sv();wr=L(H(),1),iK=({folders:t,onAddList:e,isDefaultList:n=!1,onToggleDefaultList:r})=>{let[s,i]=(0,Nh.useState)(""),[o,a]=(0,Nh.useState)("gray-500"),[l,u]=(0,Nh.useState)("ListIcon"),[d,f]=(0,Nh.useState)("none"),[h,p]=(0,Nh.useState)(""),b=d==="new";return(0,wr.jsxs)("form",{onSubmit:v=>{if(v.preventDefault(),!s.trim()||b&&!h.trim())return;e({name:s,icon:l,color:o,folderId:b?null:d!=="none"?d:null,isDefault:n},b?h:void 0)},className:"space-y-4 md:space-y-6 p-1",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"list-name",className:"block text-sm font-medium text-gray-700",children:"List Name"}),(0,wr.jsx)("input",{type:"text",id:"list-name",value:s,onChange:v=>i(v.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900",placeholder:"e.g., Groceries",required:!0})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Folder"}),(0,wr.jsxs)("select",{value:d,onChange:v=>f(v.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:[(0,wr.jsx)("option",{value:"none",children:"No Folder"}),t.map(v=>(0,wr.jsx)("option",{value:v.id,children:v.name},v.id)),(0,wr.jsx)("option",{value:"new",children:"Create New Folder..."})]}),b&&(0,wr.jsx)("input",{type:"text",value:h,onChange:v=>p(v.target.value),className:"mt-2 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900",placeholder:"New folder name",required:!0})]}),(0,wr.jsx)(Sh,{selectedIcon:l,onSelectIcon:u}),(0,wr.jsx)(Eh,{selectedColor:o,onSelectColor:a}),r&&(0,wr.jsxs)("div",{className:"flex items-center",children:[(0,wr.jsx)("input",{type:"checkbox",id:"default-list",checked:n,onChange:r,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,wr.jsx)("label",{htmlFor:"default-list",className:"ml-2 block text-sm text-gray-700",children:"Set as default list for new tasks"})]}),(0,wr.jsx)("div",{className:"flex justify-end",children:(0,wr.jsx)("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Create List"})})]})},P3=iK});var kh,Kr,oK,M3,F3=j(()=>{"use strict";kh=L(me(),1);rv();sv();Kr=L(H(),1),oK=({folders:t,onAddTag:e})=>{let[n,r]=(0,kh.useState)(""),[s,i]=(0,kh.useState)("gray-500"),[o,a]=(0,kh.useState)("TagIcon"),[l,u]=(0,kh.useState)("none"),[d,f]=(0,kh.useState)(""),h=l==="new";return(0,Kr.jsxs)("form",{onSubmit:b=>{if(b.preventDefault(),!n.trim()||h&&!d.trim())return;e({name:n,icon:o,color:s,folderId:h?null:l!=="none"?l:null},h?d:void 0)},className:"space-y-4 md:space-y-6 p-1",children:[(0,Kr.jsxs)("div",{children:[(0,Kr.jsx)("label",{htmlFor:"tag-name",className:"block text-sm font-medium text-gray-700",children:"Tag Name"}),(0,Kr.jsx)("input",{type:"text",id:"tag-name",value:n,onChange:b=>r(b.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900",placeholder:"e.g., Urgent",required:!0})]}),(0,Kr.jsxs)("div",{children:[(0,Kr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Folder (Optional)"}),(0,Kr.jsxs)("select",{value:l,onChange:b=>u(b.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:[(0,Kr.jsx)("option",{value:"none",children:"No Folder"}),t.map(b=>(0,Kr.jsx)("option",{value:b.id,children:b.name},b.id)),(0,Kr.jsx)("option",{value:"new",children:"Create New Folder..."})]}),h&&(0,Kr.jsx)("input",{type:"text",value:d,onChange:b=>f(b.target.value),className:"mt-2 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900",placeholder:"New folder name",required:!0})]}),(0,Kr.jsx)(Sh,{selectedIcon:o,onSelectIcon:a}),(0,Kr.jsx)(Eh,{selectedColor:s,onSelectColor:i}),(0,Kr.jsx)("div",{className:"flex justify-end",children:(0,Kr.jsx)("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Create Tag"})})]})},M3=oK});var wu,or,aK,U3,V3=j(()=>{"use strict";wu=L(me(),1);rv();sv();or=L(H(),1),aK=({list:t,folders:e,onUpdateList:n,onCancel:r})=>{let[s,i]=(0,wu.useState)(t.name),[o,a]=(0,wu.useState)(t.color||"gray-500"),[l,u]=(0,wu.useState)(t.icon),[d,f]=(0,wu.useState)(t.folderId||"none"),[h,p]=(0,wu.useState)(""),[b,I]=(0,wu.useState)(t.isDefault||!1),v=d==="new";return(0,or.jsxs)("form",{onSubmit:y=>{if(y.preventDefault(),!s.trim()||v&&!h.trim())return;let _={name:s,icon:l,color:o,folderId:v?null:d!=="none"?d:null,isDefault:b};n(t.id,_,v?h:void 0)},className:"space-y-4 md:space-y-6 p-1",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{htmlFor:"list-name",className:"block text-sm font-medium text-gray-700",children:"List Name"}),(0,or.jsx)("input",{type:"text",id:"list-name",value:s,onChange:y=>i(y.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900",placeholder:"e.g., Groceries",required:!0})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Folder"}),(0,or.jsxs)("select",{value:d,onChange:y=>f(y.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:[(0,or.jsx)("option",{value:"none",children:"No Folder"}),e.map(y=>(0,or.jsx)("option",{value:y.id,children:y.name},y.id)),(0,or.jsx)("option",{value:"new",children:"Create New Folder..."})]}),v&&(0,or.jsx)("input",{type:"text",value:h,onChange:y=>p(y.target.value),className:"mt-2 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900",placeholder:"New folder name",required:!0})]}),(0,or.jsx)(Sh,{selectedIcon:l,onSelectIcon:u}),(0,or.jsx)(Eh,{selectedColor:o,onSelectColor:a}),(0,or.jsxs)("div",{className:"flex items-center",children:[(0,or.jsx)("input",{type:"checkbox",id:"default-list",checked:b,onChange:y=>I(y.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,or.jsx)("label",{htmlFor:"default-list",className:"ml-2 block text-sm text-gray-700",children:"Set as default list for new tasks"})]}),(0,or.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,or.jsx)("button",{type:"button",onClick:r,className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),(0,or.jsx)("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Update List"})]})]})},U3=aK});var H3={};io(H3,{default:()=>cK});var Gn,gn,lK,cK,B3=j(()=>{"use strict";Gn=L(me(),1);x3();L3();GS();ri();O3();F3();V3();Zb();ev();wb();xb();rp();mb();gn=L(H(),1),lK=({isAppSidebarOpen:t})=>{let{tasks:e,lists:n,tags:r,listFolders:s,tagFolders:i,loading:o,error:a,addTask:l,updateTask:u,deleteTask:d,addList:f,updateList:h,deleteList:p,addTag:b,updateTag:I,deleteTag:v,addListFolder:g,updateListFolder:y,deleteListFolder:_,addTagFolder:A,cleanupDuplicateInboxes:R,updateTagFolder:U,deleteTagFolder:S,fetchKaryData:E,getDefaultList:T,setDefaultList:x,cleanupDuplicateLists:N}=Jm(),{width:D}=jl(),k=D!==void 0&&D<768,{addLog:V,logs:z}=Zm(),[$,de]=(0,Gn.useState)({type:"list",id:"today"}),[se,Te]=(0,Gn.useState)(e.filter(q=>!q.parentId).length>0?e.filter(q=>!q.parentId)[0].id:null),[Ae,De]=(0,Gn.useState)(null),[Q,P]=(0,Gn.useState)(!1),[Z,W]=(0,Gn.useState)(null),[F,ee]=(0,Gn.useState)({}),[be,He]=(0,Gn.useState)(null),[Nt,dn]=(0,Gn.useState)(!1);(0,Gn.useEffect)(()=>{E()},[E]),(0,Gn.useEffect)(()=>{if(!o&&n.length>0){let q=new Map;n.forEach(Be=>{let ge=Be.name.toLowerCase();q.has(ge)||q.set(ge,[]),q.get(ge).push(Be)}),Array.from(q.values()).some(Be=>Be.length>1)&&(console.log("Found existing duplicate lists, performing one-time cleanup..."),N())}},[o]),(0,Gn.useEffect)(()=>{if(!o&&n.length>0){let q=new Map;n.forEach(Be=>{let ge=Be.name.toLowerCase();q.has(ge)||q.set(ge,[]),q.get(ge).push(Be)}),Array.from(q.values()).some(Be=>Be.length>1)&&(console.log("Found duplicate lists, cleaning up..."),N())}},[n,o,N]),(0,Gn.useEffect)(()=>{let q=T();q&&$.type==="list"&&$.id==="today"&&de({type:"list",id:q.id})},[T]);let Jt=(0,Gn.useCallback)(()=>{let q=n.map(ge=>({...ge,count:e.filter(_e=>_e.listId===ge.id&&!_e.completed).length})),Me=q.filter(ge=>ge.isDefault);if(Me.length>1){let ge=Me[0],_e=q.map(Xe=>({...Xe,isDefault:Xe.id===ge.id}));q.splice(0,q.length,..._e)}let Be=q.filter(ge=>ge.id==="inbox");if(Be.length>1){let ge=Be[0],_e=q.filter(Xe=>Xe.id!=="inbox");return[ge,..._e]}return q},[e,n]),ue=(0,Gn.useCallback)(()=>{let q=e.filter(_e=>_e.dueDate&&new Date(_e.dueDate).toDateString()===new Date().toDateString()&&!_e.completed).length,Me=e.filter(_e=>_e.dueDate&&new Date(_e.dueDate).setHours(0,0,0,0)<new Date().setHours(0,0,0,0)&&!_e.completed).length,Be=e.filter(_e=>_e.dueDate&&new Date(_e.dueDate).setHours(0,0,0,0)>new Date().setHours(0,0,0,0)&&!_e.completed).length;return[...[{id:"today",name:"Today",icon:"TodayIcon",count:q},{id:"due",name:"Due",icon:"ClockIcon",count:Me},{id:"upcoming",name:"Upcoming",icon:"TomorrowIcon",count:Be}],...Jt()]},[e,Jt]);(0,Gn.useEffect)(()=>{console.log("Lists loaded:",n),console.log("All lists with counts:",ue())},[n,ue]);let ve=(0,Gn.useCallback)(()=>{let q=[];$.type==="list"?$.id==="today"?q=e.filter(ge=>ge.dueDate&&new Date(ge.dueDate).toDateString()===new Date().toDateString()):$.id==="due"?q=e.filter(ge=>ge.dueDate&&new Date(ge.dueDate).setHours(0,0,0,0)<new Date().setHours(0,0,0,0)):$.id==="upcoming"?q=e.filter(ge=>ge.dueDate&&new Date(ge.dueDate).setHours(0,0,0,0)>new Date().setHours(0,0,0,0)):q=e.filter(ge=>ge.listId===$.id):q=e.filter(ge=>ge.tags?.includes($.id));let Me=new Set(q.map(ge=>ge.id)),Be=new Set(q);return q.forEach(ge=>{let _e=ge;for(;_e.parentId&&!Me.has(_e.parentId);){let Xe=e.find(xn=>xn.id===_e.parentId);if(Xe)Be.add(Xe),Me.add(Xe.id),_e=Xe;else break}}),Array.from(Be).sort((ge,_e)=>new Date(_e.createdAt).getTime()-new Date(ge.createdAt).getTime())},[$,e]),$n=(0,Gn.useCallback)(()=>e.find(q=>q.id===se)||null,[se,e]),lr=(0,Gn.useCallback)(()=>se?e.filter(q=>q.parentId===se).sort((q,Me)=>new Date(q.createdAt).getTime()-new Date(Me.createdAt).getTime()):[],[se,e]);(0,Gn.useEffect)(()=>{let q=ve();(!se||!e.some(Me=>Me.id===se))&&Te(q.length>0?q[0].id:null)},[ve,se,e]);let Wr=async(q,Me,Be)=>{let ge=()=>Be?e.find(xn=>xn.id===Be)?.listId||T()?.id:Me?Me.id:q.list?q.list.id:$.type==="list"&&$.id!=="today"&&$.id!=="due"&&$.id!=="upcoming"?$.id:T()?.id,_e=[];if(q.tagNames)for(let xn of q.tagNames){let zs=r.find(kr=>kr.name.toLowerCase()===xn.toLowerCase());zs||(await b({name:xn,color:"red-500"}),await E(),zs=r.find(kr=>kr.name.toLowerCase()===xn.toLowerCase())),zs&&_e.push(zs.id)}let Xe={title:q.title,listId:ge(),completed:!1,createdAt:new Date,parentId:Be,tags:_e,priority:q.priority||void 0,dueDate:q.dueDate&&q.dueDate.trim()!==""?new Date(q.dueDate):void 0};await l(Xe)},le=async q=>{let Me=e.find(ge=>ge.id===q);if(!Me)return;let Be={...Me,title:`${Me.title} (Copy)`,createdAt:new Date};await l(Be)},Ee=q=>{W(q),De("edit-list")},ze=async q=>{if(q==="inbox"){alert("The Inbox list cannot be deleted as it is a system list.");return}window.confirm("Are you sure you want to delete this list? This action cannot be undone.")&&await p(q)},$t=async q=>{await x(q)},zt=(0,Gn.useCallback)(()=>$.type==="list"?ue().find(q=>q.id===$.id):r.find(q=>q.id===$.id),[$,ue,r]);return o?(0,gn.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,gn.jsxs)("div",{className:"text-center",children:[(0,gn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,gn.jsx)("p",{className:"text-gray-600",children:"Loading your tasks..."})]})}):a?(0,gn.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,gn.jsxs)("div",{className:"text-center",children:[(0,gn.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"\u26A0\uFE0F"}),(0,gn.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),(0,gn.jsx)("p",{className:"text-gray-600 mb-4",children:a}),(0,gn.jsx)("button",{onClick:E,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]})}):(0,gn.jsxs)("div",{className:"h-screen bg-gray-50 flex w-full",children:[(0,gn.jsxs)("div",{className:"flex-1 min-h-0 flex",children:[(0,gn.jsx)(w3,{smartLists:ue().filter(q=>["today","due","upcoming"].includes(q.id)),customLists:Jt(),listFolders:s,tags:r,tagFolders:i,selectedItem:$,onSelectItem:q=>{de(q),k&&dn(!1)},onOpenModal:De,onDeleteList:ze,isMobile:k,isSidebarOpen:t}),(0,gn.jsx)("main",{className:"flex-1 flex min-w-0",children:k&&Nt&&se?(0,gn.jsx)(Tp,{selectedTaskId:se,tasks:e,allTags:r,allLists:ue(),allLogs:z,childrenTasks:lr(),onToggleComplete:q=>{let Be=!e.find(_e=>_e.id===q)?.completed,ge={completed:Be};Be&&(ge.completionDate=new Date),u(q,ge)},onUpdateTask:u,onDeleteTask:d,onDuplicateTask:le,onSelectTask:q=>{Te(q),dn(!0)},onAddTask:Wr,onOpenLogModal:He,onBack:()=>dn(!1)}):k&&!Nt?(0,gn.jsx)(s1,{viewDetails:zt(),tasks:ve(),allLists:ue(),allTags:r,selectedTaskId:se,expandedTasks:F,onSelectTask:q=>{Te(q),dn(!0)},onToggleComplete:q=>{let Be=!e.find(_e=>_e.id===q)?.completed,ge={completed:Be};Be&&(ge.completionDate=new Date),u(q,ge)},onAddTask:Wr,onToggleExpand:q=>ee(Me=>({...Me,[q]:!Me[q]})),onEditList:Ee,onDeleteList:ze,onSetDefaultList:$t}):(0,gn.jsxs)(za,{initialLeftWidth:45,children:[(0,gn.jsx)(s1,{viewDetails:zt(),tasks:ve(),allLists:ue(),allTags:r,selectedTaskId:se,expandedTasks:F,onSelectTask:q=>{Te(q),dn(!0)},onToggleComplete:q=>{let Be=!e.find(_e=>_e.id===q)?.completed,ge={completed:Be};Be&&(ge.completionDate=new Date),u(q,ge)},onAddTask:Wr,onToggleExpand:q=>ee(Me=>({...Me,[q]:!Me[q]})),onEditList:Ee,onDeleteList:ze,onSetDefaultList:$t}),(0,gn.jsx)(Tp,{selectedTaskId:se,tasks:e,allTags:r,allLists:ue(),allLogs:z,childrenTasks:lr(),onToggleComplete:q=>{let Be=!e.find(_e=>_e.id===q)?.completed,ge={completed:Be};Be&&(ge.completionDate=new Date),u(q,ge)},onUpdateTask:u,onDeleteTask:d,onDuplicateTask:le,onSelectTask:q=>{Te(q),dn(!0)},onAddTask:Wr,onOpenLogModal:q=>{console.log("Opening log modal for task:",q),He(q)}})]})})]}),Ae&&(0,gn.jsxs)(kn,{title:Ae==="add-list"?"Create New List":Ae==="edit-list"?"Edit List":"Create New Tag",onClose:()=>{De(null),W(null)},children:[Ae==="add-list"&&(0,gn.jsx)(P3,{folders:s,isDefaultList:Q,onToggleDefaultList:()=>P(!Q),onAddList:async(q,Me)=>{Me&&await g({name:Me}),await f(q),P(!1)}}),Ae==="edit-list"&&Z&&(0,gn.jsx)(U3,{list:Z,folders:s,onUpdateList:async(q,Me,Be)=>{Be&&await g({name:Be}),await h(q,Me),De(null),W(null)},onCancel:()=>{De(null),W(null)}}),Ae==="add-tag"&&(0,gn.jsx)(M3,{folders:i,onAddTag:async(q,Me)=>{Me&&await A({name:Me}),await b(q)}})]}),be&&(0,gn.jsx)(Ih,{isOpen:!0,onClose:()=>He(null),onAddLog:q=>{if(q.title&&q.focusId&&q.logType){let Me={title:q.title,focusId:q.focusId,logType:q.logType,logDate:q.logDate||new Date,taskId:be.id,description:q.description,checklist:q.checklist,rating:q.rating,habitId:q.habitId,milestoneId:q.milestoneId,goalId:q.goalId,completed:q.completed,taskCompletionDate:q.taskCompletionDate};V(Me)}},allFoci:$E.filter(q=>q.id==="kary"||q.id==="general"),initialFocusId:"kary",initialTitle:`Log for: ${be.title}`,initialDate:new Date})]})},cK=lK});var z3={};io(z3,{default:()=>dK});var i1,uK,dK,q3=j(()=>{"use strict";i1=L(H(),1),uK=()=>(0,i1.jsx)("main",{className:"flex-1 flex items-center justify-center bg-white/80",children:(0,i1.jsx)("h1",{className:"text-2xl font-bold text-gray-400",children:"Vidy\u0101 coming soon!"})}),dK=uK});var tt,iv,Np,hK,G3,j3=j(()=>{"use strict";Pe();tt=L(H(),1),iv=({title:t,onAdd:e,icon:n})=>{let r=J[n];return(0,tt.jsxs)("div",{className:"px-3 pt-6 pb-3 flex justify-between items-center",children:[(0,tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,tt.jsx)(r,{className:"w-4 h-4 text-gray-500"}),(0,tt.jsx)("h2",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide",children:t})]}),(0,tt.jsx)("button",{onClick:e,className:"p-1.5 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors duration-200","aria-label":`Add new ${t}`,children:(0,tt.jsx)(At,{className:"w-4 h-4"})})]})},Np=({name:t,icon:e,isSelected:n,onSelect:r})=>{let s=J[e];return(0,tt.jsx)("li",{children:(0,tt.jsxs)("button",{onClick:r,className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ${n?"bg-indigo-50 text-indigo-700 border border-indigo-200 shadow-sm":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[(0,tt.jsx)("div",{className:"w-5 h-5 flex items-center justify-center text-gray-500",children:(0,tt.jsx)(s,{className:"w-4 h-4"})}),(0,tt.jsx)("span",{className:"flex-1 truncate text-left",children:t})]})})},hK=({onOpenModal:t,onSelectView:e,activeView:n,isMobile:r,isSidebarOpen:s})=>(0,tt.jsxs)("aside",{className:`w-80 flex-shrink-0 bg-white border-r border-gray-200 flex flex-col
        ${r?"fixed inset-y-0 left-0 z-20 transition-transform duration-300 ease-in-out":""}
        ${r&&!s?"-translate-x-full":"translate-x-0"}
      `,children:[(0,tt.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,tt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,tt.jsx)("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:(0,tt.jsx)(je,{className:"w-6 h-6 text-indigo-600"})}),(0,tt.jsxs)("div",{children:[(0,tt.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:"Abhyasa"}),(0,tt.jsx)("p",{className:"text-xs text-gray-500",children:"Master your habits & goals"})]})]})}),(0,tt.jsxs)("nav",{className:"flex-1 overflow-y-auto p-3",children:[(0,tt.jsxs)("div",{className:"mb-6",children:[(0,tt.jsx)(iv,{title:"Goals",onAdd:()=>t("goal"),icon:"TargetIcon"}),(0,tt.jsx)("ul",{className:"space-y-1",children:(0,tt.jsx)(Np,{name:"All Goals",icon:"TargetIcon",isSelected:n==="goals",onSelect:()=>e("goals")})})]}),(0,tt.jsx)("div",{className:"border-t border-gray-200 mb-6"}),(0,tt.jsxs)("div",{className:"mb-6",children:[(0,tt.jsx)(iv,{title:"Milestones",onAdd:()=>t("milestone"),icon:"FlagIcon"}),(0,tt.jsx)("ul",{className:"space-y-1",children:(0,tt.jsx)(Np,{name:"All Milestones",icon:"FlagIcon",isSelected:n==="milestones",onSelect:()=>e("milestones")})})]}),(0,tt.jsx)("div",{className:"border-t border-gray-200 mb-6"}),(0,tt.jsxs)("div",{className:"mb-6",children:[(0,tt.jsx)(iv,{title:"Habits",onAdd:()=>t("habit"),icon:"RepeatIcon"}),(0,tt.jsxs)("ul",{className:"space-y-1",children:[(0,tt.jsx)(Np,{name:"Calendar View",icon:"CalendarIcon",isSelected:n==="calendar",onSelect:()=>e("calendar")}),(0,tt.jsx)(Np,{name:"All Habits",icon:"ListIcon",isSelected:n==="all-habits",onSelect:()=>e("all-habits")})]})]}),(0,tt.jsx)("div",{className:"border-t border-gray-200 mb-6"}),(0,tt.jsxs)("div",{className:"mb-6",children:[(0,tt.jsx)(iv,{title:"Quick Wins",onAdd:()=>t("quick-win"),icon:"StarIcon"}),(0,tt.jsx)("ul",{className:"space-y-1",children:(0,tt.jsx)(Np,{name:"List",icon:"StarIcon",isSelected:n==="quick-wins",onSelect:()=>e("quick-wins")})})]})]})]}),G3=hK});var hs,Se,ov,fK,mK,pK,$3,K3=j(()=>{"use strict";hs=L(me(),1);$r();Pe();eo();Wl();Ip();Se=L(H(),1),ov=(t,e)=>!t||!e?!1:t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate(),fK=({selectedDate:t,onDateSelect:e,onPrevWeek:n,onNextWeek:r})=>{let s=(0,hs.useMemo)(()=>{let i=new Date(t),o=i.getDay(),a=new Date(i);return a.setDate(i.getDate()-o),Array.from({length:7},(l,u)=>{let d=new Date(a);return d.setDate(a.getDate()+u),d})},[t]);return(0,Se.jsxs)("div",{className:"flex justify-between items-center px-4",children:[(0,Se.jsx)("button",{onClick:n,className:"p-2 rounded-full hover:bg-gray-200 transition-colors",children:(0,Se.jsx)(ti,{className:"w-5 h-5"})}),s.map(i=>{let o=ov(i,t),a=ov(i,new Date);return(0,Se.jsxs)("button",{onClick:()=>e(i),className:`flex flex-col items-center justify-center w-12 h-16 rounded-lg transition-colors ${o?"bg-blue-600 text-white shadow-md":a?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-200"}`,children:[(0,Se.jsx)("span",{className:"text-xs font-medium",children:i.toLocaleDateString("en-US",{weekday:"short"})}),(0,Se.jsx)("span",{className:"text-xl font-bold",children:i.getDate()})]},i.toISOString())}),(0,Se.jsx)("button",{onClick:r,className:"p-2 rounded-full hover:bg-gray-200 transition-colors",children:(0,Se.jsx)(Bn,{className:"w-5 h-5"})})]})},mK=({habit:t,log:e,onLog:n,onSelect:r,isSelected:s,date:i,allFoci:o})=>{let[a,l]=(0,hs.useState)(e?.value||0),[u,d]=(0,hs.useState)(e?.value?Math.floor(e.value/60):0),[f,h]=(0,hs.useState)(e?.value?e.value%60:0),[p,b]=(0,hs.useState)(new Set(e?.completedChecklistItems||[])),[I,v]=(0,hs.useState)(!1);(0,hs.useEffect)(()=>{l(e?.value||0),d(e?.value?Math.floor(e.value/60):0),h(e?.value?e.value%60:0),b(new Set(e?.completedChecklistItems||[]))},[e]);let g=(0,hs.useMemo)(()=>Bs(t,e),[t,e]),y=g.status==="done",_=()=>{if(!e)return"bg-white hover:bg-gray-50";switch(g.status){case"done":return"bg-green-50 hover:bg-green-100";case"partial":return"bg-orange-50 hover:bg-orange-100";case"none":default:return"bg-white hover:bg-gray-50"}},A=()=>s?"border-2 border-blue-500 shadow-md":"border border-gray-200",R=(x,N)=>{n({habitId:t.id,date:i.toISOString().split("T")[0],value:x,completedChecklistItems:N})},U=x=>{let N=new Set(p);N.has(x)?N.delete(x):N.add(x),R(void 0,Array.from(N))},S=()=>{let x=null;switch(t.type){case"binary":x=(0,Se.jsx)("button",{onClick:z=>{z.stopPropagation(),R()},className:`w-10 h-10 rounded-full flex items-center justify-center transition-all border-2 ${g.status==="done"?"bg-green-500 border-green-500 text-white":"bg-gray-200/50 border-gray-300 text-gray-400 hover:border-green-500"}`,children:(0,Se.jsx)(It,{className:"w-5 h-5"})});break;case"count":let N=t.dailyTargetComparison!=="any-value"&&t.dailyTarget!==void 0;x=(0,Se.jsxs)("div",{className:"flex items-center gap-2",onClick:z=>z.stopPropagation(),children:[(0,Se.jsx)("button",{onClick:()=>{let z=Math.max(0,a-1);l(z),R(z)},className:"p-2 rounded-full bg-gray-200 hover:bg-gray-300",children:"-"}),(0,Se.jsx)("input",{type:"number",value:a,onChange:z=>l(parseInt(z.target.value)||0),onBlur:()=>R(a),className:"w-12 text-center text-lg font-bold bg-transparent border-b-2 border-gray-300 focus:border-blue-500 outline-none"}),N&&(0,Se.jsxs)("span",{className:"text-gray-500",children:["/ ",t.dailyTarget]}),(0,Se.jsx)("button",{onClick:()=>{let z=a+1;l(z),R(z)},className:"p-2 rounded-full bg-gray-200 hover:bg-gray-300",children:"+"})]});break;case"duration":let D=()=>{let z=u*60+f;R(z)};x=(0,Se.jsxs)("div",{className:"flex items-center gap-1",onClick:z=>z.stopPropagation(),children:[(0,Se.jsx)("input",{type:"number",value:u,onChange:z=>d(parseInt(z.target.value)||0),onBlur:D,className:"w-10 text-center text-lg font-bold bg-transparent border-b-2 border-gray-300 focus:border-blue-500 outline-none"})," ",(0,Se.jsx)("span",{className:"text-gray-500 text-sm",children:"h"}),(0,Se.jsx)("input",{type:"number",value:f,onChange:z=>h(parseInt(z.target.value)||0),onBlur:D,className:"w-10 text-center text-lg font-bold bg-transparent border-b-2 border-gray-300 focus:border-blue-500 outline-none"})," ",(0,Se.jsx)("span",{className:"text-gray-500 text-sm",children:"m"}),(0,Se.jsxs)("span",{className:"text-gray-500 text-sm",children:["/ ",t.dailyTarget," m"]})]});break;case"checklist":let k=t.checklist?.length||0,V=p.size;x=(0,Se.jsxs)("button",{onClick:z=>{z.stopPropagation(),v(!I)},className:`px-3 py-1.5 rounded-md text-sm font-semibold flex items-center gap-2 transition-colors ${V===k&&k>0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:[(0,Se.jsx)(It,{className:"w-4 h-4"}),(0,Se.jsxs)("span",{children:[V,"/",k]}),(0,Se.jsx)(es,{className:`w-4 h-4 transition-transform ${I?"rotate-180":""}`})]});break}return x},E=J[t.icon],T=o.find(x=>x.id===t.focusAreaId);return(0,Se.jsxs)("li",{className:`rounded-lg transition-colors ${_()} ${A()}`,children:[(0,Se.jsxs)("div",{onClick:()=>r(t.id),className:"flex items-center p-3 cursor-pointer",children:[(0,Se.jsx)("div",{className:`p-3 rounded-lg bg-${t.color}/30`,children:(0,Se.jsx)(E,{className:`w-6 h-6 text-${t.color}`})}),(0,Se.jsxs)("div",{className:"ml-4 flex-1",children:[(0,Se.jsx)("p",{className:"font-semibold text-gray-800",children:t.title}),(0,Se.jsxs)("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-0.5",children:[T?(0,Se.jsx)("span",{className:`px-1.5 py-0.5 rounded text-xs font-semibold bg-${T.color}/30 text-${T.color}`,children:T.name}):(0,Se.jsx)("span",{className:"px-1.5 py-0.5 rounded text-xs font-semibold bg-gray-100 text-gray-600",children:"Habit"}),t.reminders?.[0]&&(0,Se.jsxs)(Se.Fragment,{children:[(0,Se.jsx)(Gi,{className:"w-3 h-3 text-gray-400"}),(0,Se.jsx)("span",{children:t.reminders[0]})]})]})]}),S()]}),t.type==="checklist"&&I&&(0,Se.jsx)("div",{className:"pl-16 pr-4 pb-3",children:(0,Se.jsx)("ul",{className:"space-y-2 border-t pt-2",children:t.checklist?.map(x=>(0,Se.jsxs)("li",{className:"flex items-center gap-3",children:[(0,Se.jsx)(br,{checked:p.has(x.id),onChange:()=>U(x.id)}),(0,Se.jsx)("span",{className:`flex-1 text-sm ${p.has(x.id)?"line-through text-gray-400":""}`,children:x.text})]},x.id))})})]})},pK=({habits:t=[],habitLogs:e,allFoci:n,onAddHabitLog:r,onDeleteHabitLog:s,onSelectHabit:i,selectedHabitId:o,selectedDate:a,onDateSelect:l})=>{let[u,d]=(0,hs.useState)(!1),f=(0,hs.useRef)(null),h=(0,hs.useMemo)(()=>(t??[]).filter(g=>_4(g,a,e)),[t,a,e]),p=(0,hs.useMemo)(()=>{let g=new Map,y=a.toISOString().split("T")[0];return e.filter(_=>_.date===y).forEach(_=>{g.set(_.habitId,_)}),g},[e,a]),b=()=>{let g=new Date,y=new Date;return y.setDate(g.getDate()-1),ov(a,g)?"Today":ov(a,y)?"Yesterday":a.toLocaleDateString("en-US",{month:"long",day:"numeric"})},I=()=>{let g=new Date(a);g.setDate(g.getDate()-7),l(g)},v=()=>{let g=new Date(a);g.setDate(g.getDate()+7),l(g)};return(0,Se.jsxs)("div",{className:"h-full w-full flex flex-col bg-gray-50/80",children:[(0,Se.jsxs)("header",{className:"p-4 flex justify-between items-center flex-shrink-0",children:[(0,Se.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:b()}),(0,Se.jsxs)("div",{className:"relative",ref:f,children:[(0,Se.jsx)("button",{onClick:()=>d(g=>!g),className:"p-2 hover:bg-gray-200 rounded-full",children:(0,Se.jsx)(lt,{className:"w-5 h-5 text-gray-600"})}),u&&(0,Se.jsx)("div",{className:"absolute top-full right-0 mt-2 z-30",children:(0,Se.jsx)(Hs,{currentDate:a,onSelect:g=>{l(g),d(!1)},onClear:()=>{},onClose:()=>d(!1)})})]})]}),(0,Se.jsx)("div",{className:"py-4 flex-shrink-0",children:(0,Se.jsx)(fK,{selectedDate:a,onDateSelect:l,onPrevWeek:I,onNextWeek:v})}),(0,Se.jsx)("div",{className:"flex-1 overflow-y-auto px-4",children:h.length>0?(0,Se.jsx)("ul",{className:"space-y-3",children:h.map(g=>(0,Se.jsx)(mK,{habit:g,log:p.get(g.id)||null,onLog:r,onSelect:i,isSelected:g.id===o,date:a,allFoci:n},g.id))}):(0,Se.jsxs)("div",{className:"text-center py-10 text-gray-500 flex flex-col items-center",children:[(0,Se.jsx)(It,{className:"w-12 h-12 text-gray-300 mb-4"}),(0,Se.jsx)("p",{className:"font-semibold",children:"No habits scheduled for this day."})]})})]})},$3=pK});var ui,oe,o1,gK,yK,a1,W3=j(()=>{"use strict";ui=L(me(),1);$r();Pe();_p();Ip();jS();oe=L(H(),1),o1=[{id:"Yet to Start",name:"Yet to Start",color:"text-gray-500",icon:"SunriseIcon"},{id:"In Progress",name:"In Progress",color:"text-blue-500",icon:"RepeatIcon"},{id:"Completed",name:"Completed",color:"text-green-500",icon:"CheckSquareIcon"},{id:"Abandoned",name:"Abandoned",color:"text-red-500",icon:"Trash2Icon"}],gK=t=>o1.find(e=>e.id===t)||o1[0],yK=({habit:t,onEditHabit:e,onUpdateHabit:n,onAddHabitLog:r,onDeleteHabitLog:s,selectedDate:i,allLogs:o,habitLogs:a,onOpenLogModal:l,onBack:u})=>{let[d,f]=(0,ui.useState)(null),h=(0,ui.useRef)(null),p=(0,ui.useRef)(null),b=(0,ui.useRef)(null);(0,ui.useEffect)(()=>{let k=V=>{h.current&&!h.current.contains(V.target)&&p.current&&!p.current.contains(V.target)&&b.current&&!b.current.contains(V.target)&&f(null)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);let I=(0,ui.useMemo)(()=>t?o.filter(k=>k.habitId===t.id).sort((k,V)=>V.logDate.getTime()-k.logDate.getTime()):[],[t,o]),v=(0,ui.useMemo)(()=>{if(!t)return null;let k=i.toISOString().split("T")[0];return a.find(V=>V.habitId===t.id&&V.date===k)||null},[t,a,i]),g=(0,ui.useMemo)(()=>{if(!t)return 0;let k=0,V=new Map;return a.forEach(z=>{V.set(z.date,z)}),t.type==="count"||t.type==="duration"?k=Array.from(V.values()).reduce((z,$)=>z+($.value||0),0):t.type==="binary"?k=Array.from(V.values()).filter(z=>Bs(t,z).status==="done").length:t.type==="checklist"&&(k=Array.from(V.values()).reduce((z,$)=>z+($.completedChecklistItems?.length||0),0)),k},[t,a]),y=(0,ui.useMemo)(()=>t?$b(t,a):{currentStreak:0,bestStreak:0,completionRate:0,daysCompleted:0,goalProgress:0},[t,a]),_=k=>{t&&n(t.id,k),f(null)},A=()=>{t&&s(t.id,i),f(null)},R=()=>{console.log("Add to Journal button clicked"),t&&l(t)},U=k=>{let V=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];switch(k.type){case"daily":return"Daily";case"weekly":return`${k.times} time${k.times>1?"s":""} per week`;case"monthly":return`${k.times} time${k.times>1?"s":""} per month`;case"specific_days":return`On ${k.days.map(z=>V[z]).join(", ")}`;default:return"Not set"}},S=k=>{let V=k.type==="duration"?"minutes":"times",z=de=>({at_least:"At least",exactly:"Exactly",less_than:"Less than",any_value:"Any value"})[de||"at_least"],$=[];return k.dailyTarget&&$.push(`${z(k.dailyTargetComparison)} ${k.dailyTarget} ${V} per day`),k.totalTarget&&$.push(`${z(k.totalTargetComparison)} ${k.totalTarget} ${V} in total`),$.length===0?"No specific target.":$.join(" and ")},E=()=>{if(!v||!t)return"Yet to mark";switch(Bs(t,v).status){case"done":return"Done";case"partial":return"Partially Done";case"none":default:return"Yet to mark"}},T=()=>{if(!v||!t)return"bg-gray-100 text-gray-700 hover:bg-gray-200";switch(Bs(t,v).status){case"done":return"bg-green-100 text-green-700 hover:bg-green-200";case"partial":return"bg-orange-100 text-orange-700 hover:bg-orange-200";case"none":default:return"bg-gray-100 text-gray-700 hover:bg-gray-200"}};if(!t)return(0,oe.jsx)("div",{className:"flex-1 bg-white flex items-center justify-center p-6",children:(0,oe.jsxs)("div",{className:"text-center text-gray-500",children:[(0,oe.jsx)(je,{className:"w-16 h-16 mx-auto text-gray-300"}),(0,oe.jsx)("h2",{className:"mt-4 text-xl font-medium",children:"Select a habit"}),(0,oe.jsx)("p",{className:"text-sm",children:"Choose a habit from the list to see its progress and details."})]})});let x=J[t.icon]||je,N=gK(t.status),D=J[N.icon]||je;return(0,oe.jsxs)("div",{className:"flex-1 bg-white p-6 flex flex-col h-full",children:[(0,oe.jsxs)("header",{className:"flex justify-between items-start mb-6 pb-4 border-b border-gray-200",children:[(0,oe.jsxs)("div",{className:"flex items-start gap-4",children:[u&&(0,oe.jsx)("button",{onClick:u,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-full mr-2","aria-label":"Back to habit list",children:(0,oe.jsx)(xs,{className:"w-5 h-5"})}),(0,oe.jsx)(x,{className:`w-12 h-12 text-${t.color}`}),(0,oe.jsxs)("div",{children:[(0,oe.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:t.title}),(0,oe.jsx)("p",{className:"text-gray-500 mt-1",children:t.description})]})]}),(0,oe.jsx)("button",{onClick:()=>e(t),className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500 hover:text-gray-800",children:(0,oe.jsx)(nn,{className:"w-5 h-5"})})]}),(0,oe.jsxs)("div",{className:"flex-1 overflow-y-auto pr-2 -mr-2 space-y-8",children:[(0,oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,oe.jsxs)("div",{children:[(0,oe.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,oe.jsxs)("div",{className:"mt-1 relative",children:[(0,oe.jsxs)("button",{ref:p,onClick:()=>f(k=>k==="status"?null:"status"),className:"flex items-center gap-2 text-sm font-medium bg-gray-100 hover:bg-gray-200 rounded-full px-3 py-1",children:[(0,oe.jsx)(D,{className:`w-4 h-4 ${N.color}`}),(0,oe.jsx)("span",{className:N.color,children:N.name})]}),d&&(0,oe.jsx)("div",{ref:h,className:"absolute shadow-lg z-20 top-full mt-2 left-0",children:d==="status"&&(0,oe.jsx)("ul",{className:"bg-white rounded-lg shadow-xl border border-gray-200 w-48 overflow-y-auto",children:o1.map(k=>{let V=J[k.icon]||je;return(0,oe.jsx)("li",{children:(0,oe.jsxs)("button",{onClick:()=>_({status:k.id}),className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm hover:bg-gray-100",children:[(0,oe.jsx)(V,{className:`w-4 h-4 ${k.color}`}),(0,oe.jsx)("span",{children:k.name})]})},k.id)})})})]})]}),(0,oe.jsxs)("div",{children:[(0,oe.jsxs)("label",{className:"text-sm font-medium text-gray-500",children:["Log for ",i.toLocaleDateString("en-US",{month:"long",day:"numeric"})]}),(0,oe.jsxs)("div",{className:"mt-2 relative",children:[(0,oe.jsxs)("button",{ref:b,onClick:()=>f(k=>k==="logAction"?null:"logAction"),className:`px-3 py-1.5 text-sm font-semibold rounded-md transition-colors flex items-center gap-2 ${T()}`,children:[(0,oe.jsx)("span",{children:E()}),(0,oe.jsx)(es,{className:"w-4 h-4"})]}),d==="logAction"&&(0,oe.jsx)("div",{ref:h,className:"absolute shadow-lg z-20 top-full mt-2 left-0",children:(0,oe.jsx)("ul",{className:"bg-white rounded-lg shadow-xl border border-gray-200 w-48 overflow-y-auto",children:(0,oe.jsx)("li",{children:(0,oe.jsxs)("button",{onClick:A,className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm hover:bg-gray-100 text-gray-700",children:[(0,oe.jsx)(xd,{className:"w-4 h-4"}),(0,oe.jsx)("span",{children:"Reset"})]})})})})]})]})]}),(0,oe.jsxs)("div",{children:[(0,oe.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Details"}),(0,oe.jsxs)("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg space-y-3 border",children:[(0,oe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,oe.jsx)(xd,{className:"w-4 h-4 text-gray-400"}),(0,oe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Frequency:"}),(0,oe.jsx)("span",{className:"text-sm text-gray-600",children:U(t.frequency)})]}),(0,oe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,oe.jsx)(je,{className:"w-4 h-4 text-gray-400"}),(0,oe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Goal:"}),(0,oe.jsx)("span",{className:"text-sm text-gray-600",children:S(t)})]}),(0,oe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,oe.jsx)(lt,{className:"w-4 h-4 text-gray-400"}),(0,oe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Timeline:"}),(0,oe.jsxs)("span",{className:"text-sm text-gray-600",children:[new Date(t.startDate).toLocaleDateString(),t.endDate?` to ${new Date(t.endDate).toLocaleDateString()}`:""]})]}),t.totalTarget&&(0,oe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,oe.jsx)(Nc,{className:"w-4 h-4 text-gray-400"}),(0,oe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Goal Progress:"}),(0,oe.jsxs)("span",{className:"text-sm text-gray-600",children:[g," / ",t.totalTarget," ",t.type==="duration"?"minutes":"times"]})]})]})]}),(0,oe.jsxs)("div",{children:[(0,oe.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,oe.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Journal"}),(0,oe.jsxs)("button",{onClick:R,className:"px-3 py-1 text-xs font-semibold text-green-700 bg-green-100 rounded-md hover:bg-green-200 transition-colors flex items-center gap-1.5",children:[(0,oe.jsx)(vn,{className:"w-3.5 h-3.5"}),"Add to Journal"]})]}),(0,oe.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3 border",children:I.length>0?(0,oe.jsx)("ul",{className:"space-y-2",children:I.map(k=>(0,oe.jsx)(Xl,{log:k},k.id))}):(0,oe.jsx)("p",{className:"text-sm text-gray-500 text-center py-2",children:"No journal entries for this habit yet."})})]}),(0,oe.jsxs)("div",{children:[(0,oe.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Statistics"}),(0,oe.jsxs)("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg space-y-3 border",children:[(0,oe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,oe.jsx)(Jf,{className:"w-4 h-4 text-gray-400"}),(0,oe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Current Streak:"}),(0,oe.jsxs)("span",{className:"text-sm text-gray-600",children:[y.currentStreak," day",y.currentStreak!==1?"s":""]})]}),(0,oe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,oe.jsx)(Zf,{className:"w-4 h-4 text-gray-400"}),(0,oe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Best Streak:"}),(0,oe.jsxs)("span",{className:"text-sm text-gray-600",children:[y.bestStreak," day",y.bestStreak!==1?"s":""]})]}),(0,oe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,oe.jsx)(kc,{className:"w-4 h-4 text-gray-400"}),(0,oe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Completion Rate:"}),(0,oe.jsxs)("span",{className:"text-sm text-gray-600",children:[y.completionRate,"%"]})]}),(0,oe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,oe.jsx)(em,{className:"w-4 h-4 text-gray-400"}),(0,oe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Days Completed:"}),(0,oe.jsxs)("span",{className:"text-sm text-gray-600",children:[y.daysCompleted," days"]})]})]})]}),(0,oe.jsx)(Kb,{habit:t,habitLogs:a,selectedDate:i})]})]})},a1=yK});var Ne,bK,vK,av,Y3,wK,Q3,X3=j(()=>{"use strict";$r();Pe();Ne=L(H(),1),bK=t=>{switch(t){case"Completed":return{bg:"bg-green-500",text:"text-white",border:"border-green-500",icon:"CheckSquareIcon"};case"In Progress":return{bg:"bg-blue-500",text:"text-white",border:"border-blue-500",icon:"RepeatIcon"};case"Abandoned":return{bg:"bg-red-500",text:"text-white",border:"border-red-500",icon:"Trash2Icon"};default:return{bg:"bg-white",text:"text-gray-500",border:"border-gray-400",icon:"FlagIcon"}}},vK=t=>{let n={Completed:"green","In Progress":"blue",Abandoned:"red","Yet to Start":"gray"}[t]||"gray";return{name:t,colorClass:`bg-${n}-100 text-${n}-800`}},av=t=>t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),Y3=({habit:t})=>{let e=J[t.icon],n=vK(t.status);return(0,Ne.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-gray-50 border border-gray-200",children:[(0,Ne.jsx)(e,{className:`w-6 h-6 text-${t.color}`}),(0,Ne.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ne.jsx)("p",{className:"font-semibold text-gray-800",children:t.title}),(0,Ne.jsxs)("div",{className:"text-xs text-gray-500 flex items-center gap-1.5 mt-0.5",children:[(0,Ne.jsx)(lt,{className:"w-3 h-3"}),(0,Ne.jsx)("span",{children:av(t.startDate)}),t.endDate&&(0,Ne.jsxs)(Ne.Fragment,{children:[" ",(0,Ne.jsx)(Bn,{className:"w-3 h-3"})," ",(0,Ne.jsx)("span",{children:av(t.endDate)})]})]})]}),(0,Ne.jsx)("div",{className:`text-xs font-semibold ml-auto px-2 py-1 rounded-full ${n.colorClass}`,children:(0,Ne.jsx)("span",{children:n.name})})]})},wK=({milestones:t,habits:e,habitLogs:n,onAddMilestone:r,onLinkMilestone:s,onAddHabit:i,onLinkHabit:o,onAddHabitToMilestone:a,onLinkHabitToMilestone:l})=>{let u=e.filter(f=>!f.milestoneId),d=[...t].sort((f,h)=>f.startDate.getTime()-h.startDate.getTime());return(0,Ne.jsxs)("div",{className:"relative pl-5",children:[(0,Ne.jsx)("div",{className:"absolute left-4 top-5 bottom-5 w-0.5 bg-gray-200 rounded-full"}),d.map(f=>{let h=e.filter(I=>I.milestoneId===f.id),p=bK(f.status),b=J[p.icon];return(0,Ne.jsxs)("div",{className:"relative mb-8",children:[(0,Ne.jsx)("div",{className:`absolute left-4 top-2 w-8 h-8 rounded-full flex items-center justify-center transform -translate-x-1/2 ${p.bg}`,children:(0,Ne.jsx)(b,{className:`w-4 h-4 ${p.text}`})}),(0,Ne.jsxs)("div",{className:"ml-10 p-4 bg-white rounded-lg border border-gray-200 shadow-sm",children:[(0,Ne.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("h4",{className:"font-bold text-lg text-gray-800",children:f.title}),(0,Ne.jsxs)("div",{className:"text-xs text-gray-500 mt-1 flex items-center gap-2",children:[(0,Ne.jsx)(lt,{className:"w-3 h-3"}),(0,Ne.jsx)("span",{children:av(f.startDate)}),(0,Ne.jsx)(Bn,{className:"w-3 h-3 text-gray-400"}),(0,Ne.jsx)("span",{children:f.targetEndDate?av(f.targetEndDate):"No Target Date"})]})]}),(0,Ne.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-gray-100 text-gray-700",children:f.status})]}),f.description&&(0,Ne.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:f.description}),h.length>0&&(0,Ne.jsxs)("div",{className:"mt-4 pt-3 border-t border-dashed",children:[(0,Ne.jsx)("h5",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"Linked Habits"}),(0,Ne.jsx)("div",{className:"space-y-2",children:h.length>0?h.map(I=>(0,Ne.jsx)(Y3,{habit:I},I.id)):(0,Ne.jsx)("p",{className:"text-xs text-gray-500 italic py-1",children:"No specific habits for this milestone."})}),(0,Ne.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,Ne.jsxs)("button",{onClick:()=>a(f.id),className:"flex items-center gap-1 text-xs font-semibold text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",children:[(0,Ne.jsx)(At,{className:"w-3 h-3"}),"Add Habit"]}),(0,Ne.jsxs)("button",{onClick:()=>l(f.id),className:"flex items-center gap-1 text-xs font-semibold text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",children:[(0,Ne.jsx)(ji,{className:"w-3 h-3"}),"Link Habit"]})]})]})]})]},f.id)}),(0,Ne.jsxs)("div",{className:"relative mb-8",children:[(0,Ne.jsx)("div",{className:"absolute left-4 top-2 w-8 h-8 rounded-full flex items-center justify-center transform -translate-x-1/2 bg-gray-700",children:(0,Ne.jsx)(Pr,{className:"w-4 h-4 text-white"})}),(0,Ne.jsxs)("div",{className:"ml-10 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,Ne.jsx)("h4",{className:"font-bold text-lg text-gray-800",children:"Finish Line"}),u.length>0&&(0,Ne.jsxs)("div",{className:"mt-4 pt-3 border-t border-dashed",children:[(0,Ne.jsx)("h5",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"General Habits"}),(0,Ne.jsx)("div",{className:"space-y-2",children:u.map(f=>(0,Ne.jsx)(Y3,{habit:f},f.id))})]}),(0,Ne.jsxs)("div",{className:"mt-4 pt-3 border-t border-dashed",children:[(0,Ne.jsx)("h5",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"Goal Actions"}),(0,Ne.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,Ne.jsxs)("button",{onClick:r,className:"text-sm font-semibold text-gray-700 hover:text-black flex items-center gap-2",children:[(0,Ne.jsx)(At,{className:"w-4 h-4 text-white bg-gray-700 rounded-full p-0.5"}),"Add Milestone"]}),(0,Ne.jsxs)("button",{onClick:s,className:"text-sm font-semibold text-gray-700 hover:text-black flex items-center gap-2",children:[(0,Ne.jsx)(ji,{className:"w-4 h-4"}),"Link Milestone"]}),(0,Ne.jsxs)("button",{onClick:i,className:"text-sm font-semibold text-gray-700 hover:text-black flex items-center gap-2",children:[(0,Ne.jsx)(At,{className:"w-4 h-4 text-white bg-gray-700 rounded-full p-0.5"}),"Add General Habit"]}),(0,Ne.jsxs)("button",{onClick:o,className:"text-sm font-semibold text-gray-700 hover:text-black flex items-center gap-2",children:[(0,Ne.jsx)(ji,{className:"w-4 h-4"}),"Link General Habit"]})]})]})]})]})]})},Q3=wK});var fs,Re,c1,xK,TK,Z3,e5=j(()=>{"use strict";fs=L(me(),1);$r();Pe();Wl();X3();_p();Re=L(H(),1),c1=[{id:"Not Started",name:"Not Started",color:"text-gray-500",icon:"SunriseIcon"},{id:"In Progress",name:"In Progress",color:"text-blue-500",icon:"RepeatIcon"},{id:"Completed",name:"Completed",color:"text-green-500",icon:"CheckSquareIcon"},{id:"Abandoned",name:"Abandoned",color:"text-red-500",icon:"Trash2Icon"}],xK=t=>c1.find(e=>e.id===t)||c1[0],TK=t=>{let{goal:e,milestones:n,habits:r,habitLogs:s,allFoci:i,allLogs:o,onUpdateGoal:a,onDeleteGoal:l,onAddMilestone:u,onLinkMilestone:d,onAddHabit:f,onLinkHabit:h,onAddHabitToMilestone:p,onLinkHabitToMilestone:b,onEditGoal:I,onOpenLogModal:v,onBack:g}=t,[y,_]=(0,fs.useState)(!1),[A,R]=(0,fs.useState)(""),[U,S]=(0,fs.useState)(!1),[E,T]=(0,fs.useState)(""),[x,N]=(0,fs.useState)(null),D=(0,fs.useRef)(null),k={date:(0,fs.useRef)(null),status:(0,fs.useRef)(null),more:(0,fs.useRef)(null)},V=(0,fs.useMemo)(()=>e?o.filter(P=>P.goalId===e.id).sort((P,Z)=>Z.logDate.getTime()-P.logDate.getTime()):[],[e,o]);if((0,fs.useEffect)(()=>{e&&(R(e.title),T(e.description||""),_(!1),S(!1))},[e]),(0,fs.useEffect)(()=>{let P=Z=>{D.current&&!D.current.contains(Z.target)&&(Object.values(k).some(F=>F.current?.contains(Z.target))||N(null))};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[k]),!e)return(0,Re.jsx)("div",{className:"flex-1 bg-white flex items-center justify-center p-6",children:(0,Re.jsxs)("div",{className:"text-center text-gray-500",children:[(0,Re.jsx)(je,{className:"w-16 h-16 mx-auto text-gray-300"}),(0,Re.jsx)("h2",{className:"mt-4 text-xl font-medium",children:"Select a goal"}),(0,Re.jsx)("p",{className:"text-sm",children:"Choose a goal from the list to see its details."})]})});let z=P=>{a(e.id,P),N(null)},$=()=>{window.confirm(`Are you sure you want to delete the goal "${e.title}"? This will also delete all of its milestones.`)&&l(e.id),N(null)},de=J[e.icon],se=xK(e.status),Te=J[se.icon],Ae=i.find(P=>P.id===e.focusAreaId),De=Ae?J[Ae.icon]:null,Q=()=>{if(!x)return null;let P=k[x]?.current;if(!P)return null;let Z=P.getBoundingClientRect(),W={position:"absolute",top:`${Z.bottom+8}px`,zIndex:50};return x==="more"?W.right=`${window.innerWidth-Z.right}px`:W.left=`${Z.left}px`,(0,Re.jsxs)("div",{ref:D,className:"shadow-lg",style:W,children:[x==="date"&&(0,Re.jsx)(Hs,{currentDate:e.targetEndDate?new Date(e.targetEndDate):null,onSelect:F=>z({targetEndDate:F}),onClear:()=>z({targetEndDate:void 0}),onClose:()=>N(null)}),x==="status"&&(0,Re.jsx)("ul",{className:"bg-white rounded-lg shadow-xl border border-gray-200 w-48 overflow-y-auto",children:c1.map(F=>{let ee=J[F.icon];return(0,Re.jsx)("li",{children:(0,Re.jsxs)("button",{onClick:()=>z({status:F.id}),className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm hover:bg-gray-100",children:[(0,Re.jsx)(ee,{className:`w-4 h-4 ${F.color}`}),(0,Re.jsx)("span",{children:F.name})]})},F.id)})}),x==="more"&&(0,Re.jsxs)("ul",{className:"bg-white rounded-lg shadow-xl border border-gray-200 w-48 overflow-y-auto",children:[(0,Re.jsx)("li",{children:(0,Re.jsxs)("button",{onClick:()=>{I(e),N(null)},className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,Re.jsx)(nn,{className:"w-4 h-4"}),(0,Re.jsx)("span",{children:"Edit Goal"})]})}),(0,Re.jsx)("li",{children:(0,Re.jsxs)("button",{onClick:$,className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-red-600 hover:bg-red-50",children:[(0,Re.jsx)(ws,{className:"w-4 h-4"}),(0,Re.jsx)("span",{children:"Delete Goal"})]})})]})]})};return(0,Re.jsxs)("div",{className:"flex-1 bg-white p-6 flex flex-col h-full",children:[(0,Re.jsxs)("header",{className:"flex justify-between items-start mb-6 pb-4 border-b border-gray-200",children:[(0,Re.jsxs)("div",{className:"flex items-start gap-4 flex-1 min-w-0",children:[t.onBack&&(0,Re.jsx)("button",{onClick:t.onBack,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-full mr-2","aria-label":"Back to goal list",children:(0,Re.jsx)(xs,{className:"w-5 h-5"})}),(0,Re.jsx)(de,{className:"w-10 h-10 text-gray-500 mt-1 flex-shrink-0"}),(0,Re.jsxs)("div",{className:"flex-1 min-w-0",children:[y?(0,Re.jsx)("input",{value:A,onChange:P=>R(P.target.value),onBlur:()=>z({title:A}),autoFocus:!0,className:"text-3xl font-bold text-gray-800 w-full bg-gray-100 rounded px-2 py-1"}):(0,Re.jsx)("h1",{onClick:()=>_(!0),className:"text-3xl font-bold text-gray-800 cursor-text",children:e.title}),(0,Re.jsxs)("div",{className:"flex items-center gap-4 mt-2 flex-wrap",children:[(0,Re.jsxs)("button",{ref:k.status,onClick:()=>N(P=>P==="status"?null:"status"),className:"flex items-center gap-2 text-sm font-medium bg-gray-100 hover:bg-gray-200 rounded-full px-3 py-1",children:[(0,Re.jsx)(Te,{className:`w-4 h-4 ${se.color}`}),(0,Re.jsx)("span",{className:se.color,children:se.name})]}),(0,Re.jsxs)("button",{ref:k.date,onClick:()=>N(P=>P==="date"?null:"date"),className:"flex items-center gap-2 text-sm text-gray-600 hover:bg-gray-100 rounded px-2 py-1",children:[(0,Re.jsx)(lt,{className:"w-4 h-4"}),(0,Re.jsx)("span",{children:e.targetEndDate?`Target: ${new Date(e.targetEndDate).toLocaleDateString()}`:"Set Target Date"})]}),Ae&&De&&(0,Re.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium bg-gray-100 rounded-full pl-1 pr-3 py-1",children:[(0,Re.jsx)(De,{className:`w-5 h-5 p-0.5 rounded-full bg-white text-${Ae.color}`}),(0,Re.jsx)("span",{className:"text-gray-700",children:Ae.name})]})]})]})]}),(0,Re.jsx)("button",{ref:k.more,onClick:()=>N(P=>P==="more"?null:"more"),className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500 hover:text-gray-800",children:(0,Re.jsx)(nr,{className:"w-5 h-5"})})]}),(0,Re.jsxs)("div",{className:"flex-1 overflow-y-auto pr-2 -mr-2",children:[(0,Re.jsxs)("div",{className:"mb-8",children:[(0,Re.jsx)("h3",{className:"font-semibold text-gray-600 text-sm uppercase tracking-wider mb-2",children:"Description"}),U?(0,Re.jsx)("textarea",{value:E,onChange:P=>T(P.target.value),onBlur:()=>z({description:E}),autoFocus:!0,rows:4,className:"prose max-w-none w-full bg-gray-100 rounded p-2"}):(0,Re.jsx)("div",{onClick:()=>S(!0),className:"prose max-w-none text-gray-700 cursor-text p-2 -m-2 rounded hover:bg-gray-50",children:e.description||(0,Re.jsx)("span",{className:"italic text-gray-400",children:"No description. Click to add."})})]}),(0,Re.jsxs)("div",{className:"mb-8",children:[(0,Re.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Re.jsx)("h3",{className:"font-semibold text-gray-600 text-sm uppercase tracking-wider",children:"Journal"}),(0,Re.jsxs)("button",{onClick:()=>v(e),className:"flex items-center gap-1.5 px-3 py-1 text-xs font-semibold text-green-700 bg-green-100 rounded-md hover:bg-green-200 transition-colors",children:[(0,Re.jsx)(vn,{className:"w-3.5 h-3.5"}),"Add to Journal"]})]}),(0,Re.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3 border",children:V.length>0?(0,Re.jsx)("ul",{className:"space-y-2",children:V.map(P=>(0,Re.jsx)(Xl,{log:P},P.id))}):(0,Re.jsx)("p",{className:"text-sm text-gray-500 text-center py-2",children:"No journal entries for this goal yet."})})]}),(0,Re.jsx)(Q3,{milestones:n,habits:r,habitLogs:s,onAddMilestone:u,onLinkMilestone:d,onAddHabit:f,onLinkHabit:h,onAddHabitToMilestone:p,onLinkHabitToMilestone:b})]}),Q()]})},Z3=TK});var ms,ce,u1,IK,_K,EK,SK,t5,n5=j(()=>{"use strict";ms=L(me(),1);$r();Pe();Wl();_p();ce=L(H(),1),u1=[{id:"Not Started",name:"Not Started",color:"text-gray-500",icon:"SunriseIcon"},{id:"In Progress",name:"In Progress",color:"text-blue-500",icon:"RepeatIcon"},{id:"Completed",name:"Completed",color:"text-green-500",icon:"CheckSquareIcon"},{id:"Abandoned",name:"Abandoned",color:"text-red-500",icon:"Trash2Icon"}],IK=t=>u1.find(e=>e.id===t)||u1[0],_K=t=>{let n={Completed:"green","In Progress":"blue",Abandoned:"red","Yet to Start":"gray"}[t]||"gray";return{name:t,colorClass:`bg-${n}-100 text-${n}-800`}},EK=({habit:t})=>{let e=J[t.icon],n=_K(t.status);return(0,ce.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 flex items-center gap-4 hover:bg-gray-100 transition-colors",children:[(0,ce.jsx)("div",{className:`p-2 rounded-lg bg-${t.color}/20 flex-shrink-0`,children:(0,ce.jsx)(e,{className:`w-6 h-6 text-${t.color}`})}),(0,ce.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ce.jsx)("p",{className:"font-semibold text-gray-800 truncate",children:t.title}),t.description&&(0,ce.jsx)("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:t.description})]}),(0,ce.jsx)("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${n.colorClass} flex-shrink-0`,children:t.status})]})},SK=t=>{let{milestone:e,parentGoal:n,habits:r,allFoci:s,allLogs:i,onUpdateMilestone:o,onDeleteMilestone:a,onAddHabit:l,onLinkHabit:u,onOpenLogModal:d,onEditMilestone:f,onBack:h}=t,[p,b]=(0,ms.useState)(!1),[I,v]=(0,ms.useState)(""),[g,y]=(0,ms.useState)(!1),[_,A]=(0,ms.useState)(""),[R,U]=(0,ms.useState)(null),S=(0,ms.useRef)(null),E={date:(0,ms.useRef)(null),status:(0,ms.useRef)(null),more:(0,ms.useRef)(null)},T=(0,ms.useMemo)(()=>e?i.filter(se=>se.milestoneId===e.id).sort((se,Te)=>Te.logDate.getTime()-se.logDate.getTime()):[],[e,i]);if((0,ms.useEffect)(()=>{e&&(v(e.title),A(e.description||""),b(!1),y(!1))},[e]),(0,ms.useEffect)(()=>{let se=Te=>{S.current&&!S.current.contains(Te.target)&&(Object.values(E).some(De=>De.current?.contains(Te.target))||U(null))};return document.addEventListener("mousedown",se),()=>document.removeEventListener("mousedown",se)},[E]),!e)return(0,ce.jsx)("div",{className:"flex-1 bg-white flex items-center justify-center p-6",children:(0,ce.jsxs)("div",{className:"text-center text-gray-500",children:[(0,ce.jsx)(Pr,{className:"w-16 h-16 mx-auto text-gray-300"}),(0,ce.jsx)("h2",{className:"mt-4 text-xl font-medium",children:"Select a milestone"}),(0,ce.jsx)("p",{className:"text-sm",children:"Choose a milestone from the list to see its details."})]})});let x=se=>{o(e.id,se),U(null)},N=()=>{window.confirm(`Are you sure you want to delete the milestone "${e.title}"?`)&&a(e.id),U(null)},D=IK(e.status),k=J[D.icon],V=n?J[n.icon]:je,z=s.find(se=>se.id===e.focusAreaId),$=z?J[z.icon]:null,de=()=>{if(!R)return null;let se=E[R]?.current;if(!se)return null;let Te=se.getBoundingClientRect(),Ae={position:"absolute",top:`${Te.bottom+8}px`,zIndex:50};return R==="more"?Ae.right=`${window.innerWidth-Te.right}px`:Ae.left=`${Te.left}px`,(0,ce.jsxs)("div",{ref:S,className:"shadow-lg",style:Ae,children:[R==="date"&&(0,ce.jsx)(Hs,{currentDate:e.targetEndDate?new Date(e.targetEndDate):null,onSelect:De=>x({targetEndDate:De}),onClear:()=>x({targetEndDate:void 0}),onClose:()=>U(null)}),R==="status"&&(0,ce.jsx)("ul",{className:"bg-white rounded-lg shadow-xl border border-gray-200 w-48 overflow-y-auto",children:u1.map(De=>{let Q=J[De.icon];return(0,ce.jsx)("li",{children:(0,ce.jsxs)("button",{onClick:()=>x({status:De.id}),className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm hover:bg-gray-100",children:[(0,ce.jsx)(Q,{className:`w-4 h-4 ${De.color}`}),(0,ce.jsx)("span",{children:De.name})]})},De.id)})}),R==="more"&&(0,ce.jsxs)("ul",{className:"bg-white rounded-lg shadow-xl border border-gray-200 w-48 overflow-y-auto",children:[(0,ce.jsx)("li",{children:(0,ce.jsxs)("button",{onClick:()=>{f(e),U(null)},className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,ce.jsx)(nn,{className:"w-4 h-4"}),(0,ce.jsx)("span",{children:"Edit Milestone"})]})}),(0,ce.jsx)("li",{children:(0,ce.jsxs)("button",{onClick:N,className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-red-600 hover:bg-red-50",children:[(0,ce.jsx)(ws,{className:"w-4 h-4"}),(0,ce.jsx)("span",{children:"Delete Milestone"})]})})]})]})};return(0,ce.jsxs)("div",{className:"flex-1 bg-white p-6 flex flex-col h-full",children:[(0,ce.jsxs)("header",{className:"flex justify-between items-start mb-6 pb-4 border-b border-gray-200",children:[(0,ce.jsxs)("div",{className:"flex items-start gap-4 flex-1 min-w-0",children:[t.onBack&&(0,ce.jsx)("button",{onClick:t.onBack,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-full mr-2","aria-label":"Back to milestone list",children:(0,ce.jsx)(xs,{className:"w-5 h-5"})}),(0,ce.jsx)(Pr,{className:"w-10 h-10 text-gray-500 mt-1 flex-shrink-0"}),(0,ce.jsxs)("div",{className:"flex-1 min-w-0",children:[p?(0,ce.jsx)("input",{value:I,onChange:se=>v(se.target.value),onBlur:()=>x({title:I}),autoFocus:!0,className:"text-3xl font-bold text-gray-800 w-full bg-gray-100 rounded px-2 py-1"}):(0,ce.jsx)("h1",{onClick:()=>b(!0),className:"text-3xl font-bold text-gray-800 cursor-text",children:e.title}),(0,ce.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,ce.jsxs)("button",{ref:E.status,onClick:()=>U(se=>se==="status"?null:"status"),className:"flex items-center gap-2 text-sm font-medium bg-gray-100 hover:bg-gray-200 rounded-full px-3 py-1",children:[(0,ce.jsx)(k,{className:`w-4 h-4 ${D.color}`}),(0,ce.jsx)("span",{className:D.color,children:D.name})]}),(0,ce.jsxs)("button",{ref:E.date,onClick:()=>U(se=>se==="date"?null:"date"),className:"flex items-center gap-2 text-sm text-gray-600 hover:bg-gray-100 rounded px-2 py-1",children:[(0,ce.jsx)(lt,{className:"w-4 h-4"}),(0,ce.jsx)("span",{children:e.targetEndDate?`Target: ${new Date(e.targetEndDate).toLocaleDateString()}`:"Set Target Date"})]})]})]})]}),(0,ce.jsx)("button",{ref:E.more,onClick:()=>U(se=>se==="more"?null:"more"),className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500 hover:text-gray-800",children:(0,ce.jsx)(nr,{className:"w-5 h-5"})})]}),(0,ce.jsxs)("div",{className:"flex-1 overflow-y-auto pr-2 -mr-2",children:[(0,ce.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[n&&(0,ce.jsxs)("div",{children:[(0,ce.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Part of Goal"}),(0,ce.jsxs)("div",{className:"flex items-center gap-2 mt-1 p-2 bg-gray-100 rounded-md border",children:[(0,ce.jsx)(V,{className:"w-5 h-5 text-indigo-500"}),(0,ce.jsx)("span",{className:"font-semibold text-gray-700",children:n.title})]})]}),z&&$&&(0,ce.jsxs)("div",{children:[(0,ce.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Focus Area"}),(0,ce.jsxs)("div",{className:"flex items-center gap-2 mt-1 p-2 bg-gray-100 rounded-md border",children:[(0,ce.jsx)($,{className:`w-5 h-5 text-${z.color}`}),(0,ce.jsx)("span",{className:"font-semibold text-gray-700",children:z.name})]})]})]}),(0,ce.jsxs)("div",{className:"mb-8",children:[(0,ce.jsx)("h3",{className:"font-semibold text-gray-600 text-sm uppercase tracking-wider mb-2",children:"Description"}),g?(0,ce.jsx)("textarea",{value:_,onChange:se=>A(se.target.value),onBlur:()=>x({description:_}),autoFocus:!0,rows:4,className:"prose max-w-none w-full bg-gray-100 rounded p-2"}):(0,ce.jsx)("div",{onClick:()=>y(!0),className:"prose max-w-none text-gray-700 cursor-text p-2 -m-2 rounded hover:bg-gray-50",children:e.description||(0,ce.jsx)("span",{className:"italic text-gray-400",children:"No description. Click to add."})})]}),(0,ce.jsxs)("div",{className:"mb-8",children:[(0,ce.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,ce.jsx)("h3",{className:"font-semibold text-gray-600 text-sm uppercase tracking-wider",children:"Linked Habits"}),(0,ce.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ce.jsxs)("button",{onClick:()=>l(e.id),className:"flex items-center gap-1.5 px-3 py-1 text-xs font-semibold text-blue-700 bg-blue-100 rounded-md hover:bg-blue-200 transition-colors",children:[(0,ce.jsx)(At,{className:"w-3.5 h-3.5"})," Add New"]}),(0,ce.jsxs)("button",{onClick:()=>u(e.id),className:"flex items-center gap-1.5 px-3 py-1 text-xs font-semibold text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:[(0,ce.jsx)(ji,{className:"w-3.5 h-3.5"})," Link Existing"]})]})]}),(0,ce.jsx)("div",{className:"space-y-3",children:r.length>0?r.map(se=>(0,ce.jsx)(EK,{habit:se},se.id)):(0,ce.jsxs)("div",{className:"text-center py-6 border-2 border-dashed rounded-lg text-gray-500",children:[(0,ce.jsx)(It,{className:"w-8 h-8 mx-auto text-gray-300 mb-2"}),(0,ce.jsx)("p",{className:"font-semibold",children:"No habits linked yet."}),(0,ce.jsx)("p",{className:"text-sm",children:"Add or link habits to make progress on this milestone."})]})})]}),(0,ce.jsxs)("div",{children:[(0,ce.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ce.jsx)("h3",{className:"font-semibold text-gray-600 text-sm uppercase tracking-wider",children:"Journal"}),(0,ce.jsxs)("button",{onClick:()=>d(e),className:"px-3 py-1 text-xs font-semibold text-green-700 bg-green-100 rounded-md hover:bg-green-200 transition-colors flex items-center gap-1.5",children:[(0,ce.jsx)(vn,{className:"w-3.5 h-3.5"}),"Add to Journal"]})]}),(0,ce.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3 border",children:T.length>0?(0,ce.jsx)("ul",{className:"space-y-2",children:T.map(se=>(0,ce.jsx)(Xl,{log:se},se.id))}):(0,ce.jsx)("p",{className:"text-sm text-gray-500 text-center py-2",children:"No journal entries for this milestone yet."})})]})]}),de()]})},t5=SK});var Ah,NK,kK,r5,s5=j(()=>{"use strict";Ah=L(H(),1),NK=["gray-500","red-500","orange-500","yellow-500","green-500","teal-500","blue-500","indigo-500","purple-500","pink-500"],kK=({selectedColor:t,onSelectColor:e})=>(0,Ah.jsxs)("div",{children:[(0,Ah.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),(0,Ah.jsx)("div",{className:"flex flex-wrap gap-2",children:NK.map(n=>(0,Ah.jsx)("button",{type:"button",onClick:()=>e(n),className:`w-8 h-8 rounded-full bg-${n} transition-transform transform hover:scale-110 ${t===n?"ring-2 ring-offset-2 ring-blue-500":""}`,"aria-label":`Select ${n} color`},n))})]}),r5=kK});var xu,AK,DK,lv,d1=j(()=>{"use strict";Pe();xu=L(H(),1),AK=["TargetIcon","BookOpenIcon","HeartIcon","StarIcon","FlagIcon","SunriseIcon","CheckSquareIcon","RepeatIcon","SmileIcon","BuildingIcon","CalendarIcon","ListIcon"],DK=({selectedIcon:t,onSelectIcon:e})=>(0,xu.jsxs)("div",{children:[(0,xu.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon"}),(0,xu.jsx)("div",{className:"grid grid-cols-6 gap-2",children:AK.map(n=>{let r=J[n];return(0,xu.jsx)("button",{type:"button",onClick:()=>e(n),className:`p-2 rounded-md flex items-center justify-center transition-colors ${t===n?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,"aria-label":`Select ${n} icon`,children:(0,xu.jsx)(r,{className:"w-5 h-5"})},n)})})]}),lv=DK});var ar,ae,CK,cv,i5,o5=j(()=>{"use strict";ar=L(me(),1);$r();Pe();s5();d1();ae=L(H(),1),CK=["S","M","T","W","T","F","S"],cv=({type:t,label:e,isActive:n,onClick:r,children:s})=>(0,ae.jsxs)("div",{className:`p-3 rounded-lg border-2 transition-all cursor-pointer ${n?"border-blue-500 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:r,children:[(0,ae.jsxs)("div",{className:"flex items-center",children:[(0,ae.jsx)("div",{className:"w-5 h-5 flex-shrink-0 rounded-full border-2 border-gray-300 flex items-center justify-center mr-3",children:n&&(0,ae.jsx)("div",{className:"w-2.5 h-2.5 bg-blue-600 rounded-full"})}),(0,ae.jsx)("label",{htmlFor:`freq-${t}`,className:"block text-sm font-medium text-gray-900 cursor-pointer",children:e})]}),n&&s&&(0,ae.jsx)("div",{className:"mt-4 pl-8",children:s})]}),i5=({onSave:t,onClose:e,onDelete:n,initialHabit:r,goalId:s,milestoneId:i,allFoci:o})=>{let[a,l]=(0,ar.useState)(""),[u,d]=(0,ar.useState)(""),[f,h]=(0,ar.useState)("TargetIcon"),[p,b]=(0,ar.useState)("blue-500"),[I,v]=(0,ar.useState)("binary"),[g,y]=(0,ar.useState)({type:"daily"}),[_,A]=(0,ar.useState)(void 0),[R,U]=(0,ar.useState)("at_least"),[S,E]=(0,ar.useState)(void 0),[T,x]=(0,ar.useState)("at_least"),[N,D]=(0,ar.useState)([]),[k,V]=(0,ar.useState)(""),[z,$]=(0,ar.useState)(new Date().toISOString().split("T")[0]),[de,se]=(0,ar.useState)(""),[Te,Ae]=(0,ar.useState)([]),[De,Q]=(0,ar.useState)(""),[P,Z]=(0,ar.useState)("");(0,ar.useEffect)(()=>{r?(l(r.title),d(r.description||""),h(r.icon),b(r.color),v(r.type),y(r.frequency),A(r.dailyTarget),U(r.dailyTargetComparison||"at_least"),E(r.totalTarget),x(r.totalTargetComparison||"at_least"),D(r.checklist||[]),$(new Date(r.startDate).toISOString().split("T")[0]),se(r.endDate?new Date(r.endDate).toISOString().split("T")[0]:""),Ae(r.reminders||[]),Z(r.focusAreaId||"")):($(new Date().toISOString().split("T")[0]),o.length>0&&!P&&Z(o[0].id))},[r,o]),(0,ar.useEffect)(()=>{!r&&o.length>0&&!P&&Z(o[0].id)},[o,P,r]);let W=ue=>{ue==="daily"?y({type:"daily"}):ue==="weekly"?y({type:"weekly",times:3}):ue==="monthly"?y({type:"monthly",times:1}):ue==="specific_days"&&y({type:"specific_days",days:[]})},F=ue=>{if(g.type==="specific_days"){let ve=new Set(g.days);ve.has(ue)?ve.delete(ue):ve.add(ue),y({...g,days:Array.from(ve).sort()})}},ee=()=>{De&&!Te.includes(De)&&(Ae([...Te,De].sort()),Q(""))},be=ue=>{Ae(Te.filter(ve=>ve!==ue))},He=ue=>{ue.key==="Enter"&&k.trim()&&(ue.preventDefault(),D([...N,{id:crypto.randomUUID(),text:k.trim()}]),V(""))},Nt=ue=>{D(N.filter(ve=>ve.id!==ue))},dn=ue=>{if(ue.preventDefault(),!a.trim())return;let ve;I==="checklist"&&(ve=k.trim()?[...N,{id:crypto.randomUUID(),text:k.trim()}]:N);let $n={title:a.trim(),description:u,icon:f,color:p,type:I,frequency:g,..._!==void 0&&{dailyTarget:_},...R!==void 0&&{dailyTargetComparison:R},...S!==void 0&&{totalTarget:S},...T!==void 0&&{totalTargetComparison:T},checklist:ve,goalId:s||void 0,milestoneId:i||void 0,startDate:new Date(z),endDate:de?new Date(de):void 0,reminders:Te,focusAreaId:P||void 0};t($n,r?.id)},Jt=()=>{r&&window.confirm(`Are you sure you want to delete the habit "${r.title}"?`)&&n(r.id)};return(0,ae.jsxs)("form",{onSubmit:dn,className:"space-y-6",children:[(0,ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[(0,ae.jsxs)("div",{className:"space-y-6",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsx)("label",{htmlFor:"habit-title",className:"block text-sm font-medium text-gray-700",children:"Habit Name"}),(0,ae.jsx)("input",{type:"text",id:"habit-title",value:a,onChange:ue=>l(ue.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900"})]}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("label",{htmlFor:"habit-description",className:"block text-sm font-medium text-gray-700",children:"Description (Optional)"}),(0,ae.jsx)("textarea",{id:"habit-description",value:u,onChange:ue=>d(ue.target.value),rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900"})]}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),(0,ae.jsx)("div",{className:"mt-2 grid grid-cols-2 gap-2",children:Object.values(Mo).map(ue=>(0,ae.jsx)("button",{type:"button",onClick:()=>v(ue),className:`px-3 py-2 text-sm font-medium rounded-md ${I===ue?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:ue.charAt(0).toUpperCase()+ue.slice(1)},ue))})]})]}),(0,ae.jsxs)("div",{className:"space-y-6",children:[(0,ae.jsx)(lv,{selectedIcon:f,onSelectIcon:h}),(0,ae.jsx)(r5,{selectedColor:p,onSelectColor:b}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("label",{htmlFor:"habit-focus",className:"block text-sm font-medium text-gray-700",children:"Focus Area"}),(0,ae.jsx)("select",{id:"habit-focus",value:P,onChange:ue=>Z(ue.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:o.length>0?o.map(ue=>(0,ae.jsx)("option",{value:ue.id,children:ue.name},ue.id)):(0,ae.jsx)("option",{value:"",children:"Loading Focus Areas..."})})]})]})]}),(0,ae.jsxs)(ae.Fragment,{children:[(I==="count"||I==="duration")&&(0,ae.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,ae.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Daily Goal (Optional)"}),(0,ae.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,ae.jsxs)("select",{value:R,onChange:ue=>U(ue.target.value),className:"px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm text-sm",children:[(0,ae.jsx)("option",{value:"at_least",children:"At least"}),(0,ae.jsx)("option",{value:"exactly",children:"Exactly"}),(0,ae.jsx)("option",{value:"less_than",children:"Less than"})]}),(0,ae.jsx)("input",{type:"number",value:_||"",onChange:ue=>A(parseInt(ue.target.value)||void 0),min:"1",className:"w-24 px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-gray-900",placeholder:"e.g., 30"}),(0,ae.jsxs)("span",{children:[I==="duration"?"minutes":"times"," per day"]})]})]}),(0,ae.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,ae.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Goal (Optional)"}),(0,ae.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,ae.jsxs)("select",{value:T,onChange:ue=>x(ue.target.value),className:"px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm text-sm",children:[(0,ae.jsx)("option",{value:"at_least",children:"At least"}),(0,ae.jsx)("option",{value:"exactly",children:"Exactly"}),(0,ae.jsx)("option",{value:"less_than",children:"Less than"})]}),(0,ae.jsx)("input",{type:"number",value:S||"",onChange:ue=>E(parseInt(ue.target.value)||void 0),min:"1",className:"w-24 px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-gray-900",placeholder:"e.g., 300"}),(0,ae.jsxs)("span",{children:[I==="duration"?"minutes":"times"," in total"]})]})]})]}),I==="checklist"&&(0,ae.jsxs)("div",{children:[(0,ae.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Checklist Items"}),(0,ae.jsxs)("div",{className:"mt-2 space-y-2",children:[N.map((ue,ve)=>(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)("span",{className:"flex-1 p-2 bg-gray-100 rounded-md text-sm",children:ue.text}),(0,ae.jsx)("button",{type:"button",onClick:()=>Nt(ue.id),className:"p-1 text-red-500 hover:bg-red-100 rounded-full",children:(0,ae.jsx)(ws,{className:"w-4 h-4"})})]},ue.id)),(0,ae.jsx)("input",{type:"text",value:k,onChange:ue=>V(ue.target.value),onKeyDown:He,placeholder:"Add an item and press Enter...",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-gray-900"})]})]}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequency"}),(0,ae.jsxs)("div",{className:"space-y-3",children:[(0,ae.jsx)(cv,{type:"daily",label:"Daily",isActive:g.type==="daily",onClick:()=>W("daily")}),(0,ae.jsx)(cv,{type:"specific_days",label:"Specific days of the week",isActive:g.type==="specific_days",onClick:()=>W("specific_days"),children:(0,ae.jsx)("div",{className:"flex justify-between",children:CK.map((ue,ve)=>(0,ae.jsx)("button",{type:"button",onClick:()=>F(ve),className:`w-9 h-9 font-semibold rounded-full transition-colors ${g.type==="specific_days"&&g.days.includes(ve)?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:ue},ve))})}),(0,ae.jsx)(cv,{type:"weekly",label:"Times per week",isActive:g.type==="weekly",onClick:()=>W("weekly"),children:g.type==="weekly"&&(0,ae.jsx)("input",{type:"number",min:"1",max:"7",value:g.times,onChange:ue=>y({type:"weekly",times:parseInt(ue.target.value)||1}),className:"w-20 px-3 py-1 border border-gray-300 rounded-md bg-white text-gray-900"})}),(0,ae.jsx)(cv,{type:"monthly",label:"Times per month",isActive:g.type==="monthly",onClick:()=>W("monthly"),children:g.type==="monthly"&&(0,ae.jsx)("input",{type:"number",min:"1",max:"31",value:g.times,onChange:ue=>y({type:"monthly",times:parseInt(ue.target.value)||1}),className:"w-20 px-3 py-1 border border-gray-300 rounded-md bg-white text-gray-900"})})]})]}),(0,ae.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsx)("label",{htmlFor:"start-date",className:"block text-sm font-medium text-gray-700",children:"Start Date"}),(0,ae.jsx)("input",{type:"date",id:"start-date",value:z,onChange:ue=>$(ue.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-gray-900"})]}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("label",{htmlFor:"end-date",className:"block text-sm font-medium text-gray-700",children:"End Date (Optional)"}),(0,ae.jsx)("input",{type:"date",id:"end-date",value:de,onChange:ue=>se(ue.target.value),min:z,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-gray-900"})]})]}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Reminders"}),(0,ae.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,ae.jsx)("input",{type:"time",value:De,onChange:ue=>Q(ue.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-gray-900"}),(0,ae.jsx)("button",{type:"button",onClick:ee,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Add"})]}),(0,ae.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:Te.map(ue=>(0,ae.jsxs)("span",{className:"flex items-center gap-2 px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:[ue,(0,ae.jsx)("button",{type:"button",onClick:()=>be(ue),className:"text-blue-600 hover:text-blue-800",children:"\xD7"})]},ue))})]}),(0,ae.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t",children:[(0,ae.jsx)("div",{children:r&&(0,ae.jsx)("button",{type:"button",onClick:Jt,className:"px-4 py-2 text-sm font-medium text-red-600 rounded-md hover:bg-red-50",children:"Delete"})}),(0,ae.jsxs)("div",{className:"flex gap-2",children:[(0,ae.jsx)("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,ae.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700",children:r?"Save Changes":"Create Habit"})]})]})]})}});var h1,RK,a5,l5=j(()=>{"use strict";ri();o5();h1=L(H(),1),RK=({isOpen:t,onClose:e,onSave:n,onDelete:r,initialHabit:s,goalId:i,milestoneId:o,allFoci:a})=>t?(0,h1.jsx)(kn,{title:s?"Edit Habit":"Create New Habit",onClose:e,children:(0,h1.jsx)(i5,{onSave:n,onClose:e,onDelete:r,initialHabit:s,goalId:i,milestoneId:o,allFoci:a})}):null,a5=RK});var ec,jn,LK,c5,u5=j(()=>{"use strict";ec=L(me(),1);d1();jn=L(H(),1),LK=({onSave:t,onDelete:e,initialGoal:n,allFoci:r})=>{let[s,i]=(0,ec.useState)(""),[o,a]=(0,ec.useState)(""),[l,u]=(0,ec.useState)(""),[d,f]=(0,ec.useState)("TargetIcon"),[h,p]=(0,ec.useState)("");(0,ec.useEffect)(()=>{n?(i(n.title),a(n.description||""),f(n.icon),u(n.targetEndDate?new Date(n.targetEndDate).toISOString().split("T")[0]:""),p(n.focusAreaId||"")):(i(""),a(""),f("TargetIcon"),u(""),r.length>0&&p(r[0].id))},[n,r]);let b=v=>{v.preventDefault(),t({title:s,description:o,icon:d,targetEndDate:l?new Date(l):void 0,focusAreaId:h||void 0},n?.id)},I=()=>{n&&window.confirm(`Are you sure you want to delete the goal "${n.title}"? This will also delete all associated milestones.`)&&e(n.id)};return(0,jn.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{htmlFor:"goal-title",className:"label",children:"Goal Title"}),(0,jn.jsx)("input",{id:"goal-title",type:"text",value:s,onChange:v=>i(v.target.value),required:!0,className:"input"})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{htmlFor:"goal-desc",className:"label",children:"Description"}),(0,jn.jsx)("textarea",{id:"goal-desc",value:o,onChange:v=>a(v.target.value),className:"textarea",rows:3})]}),(0,jn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{htmlFor:"goal-date",className:"label",children:"Target End Date (Optional)"}),(0,jn.jsx)("input",{id:"goal-date",type:"date",value:l,onChange:v=>u(v.target.value),className:"input"})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{htmlFor:"goal-focus",className:"label",children:"Focus Area"}),(0,jn.jsx)("select",{id:"goal-focus",value:h,onChange:v=>p(v.target.value),className:"input",children:r.map(v=>(0,jn.jsx)("option",{value:v.id,children:v.name},v.id))})]})]}),(0,jn.jsx)(lv,{selectedIcon:d,onSelectIcon:f}),(0,jn.jsxs)("div",{className:"flex justify-between items-center pt-4",children:[(0,jn.jsx)("div",{children:n&&(0,jn.jsx)("button",{type:"button",onClick:I,className:"px-4 py-2 text-sm font-medium text-red-600 rounded-md hover:bg-red-50",children:"Delete"})}),(0,jn.jsx)("button",{type:"submit",className:"btn-primary",children:n?"Save Changes":"Create Goal"})]}),(0,jn.jsx)("style",{children:`
            .label { display: block; margin-bottom: 0.5rem; font-size: 0.875rem; font-weight: 500; color: #4a5568; }
            .input, .textarea { display: block; width: 100%; padding: 0.5rem 0.75rem; border: 1px solid #e2e8f0; border-radius: 0.375rem; background-color: white; color: #1a202c; outline: none; transition: box-shadow 0.2s; }
            .input:focus, .textarea:focus { box-shadow: 0 0 0 2px #63b3ed; border-color: #4299e1; }
            select.input {
                -webkit-appearance: none;
                -moz-appearance: none;
                appearance: none;
                background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22%23a0aec0%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20d%3D%22M5.293%207.293a1%201%200%20011.414%200L10%2010.586l3.293-3.293a1%201%200%20111.414%201.414l-4%204a1%201%200%2001-1.414%200l-4-4a1%201%200%20010-1.414z%22%20clip-rule%3D%22evenodd%22%20%2F%3E%3C%2Fsvg%3E');
                background-repeat: no-repeat;
                background-position: right 0.75rem center;
                background-size: 1.25em 1.25em;
                padding-right: 2.5rem;
            }
            .btn-primary { padding: 0.5rem 1rem; font-weight: 600; border-radius: 0.375rem; background-color: #4299e1; color: white; transition: background-color 0.2s; }
            .btn-primary:hover { background-color: #3182ce; }
            `})]})},c5=LK});var f1,PK,d5,h5=j(()=>{"use strict";ri();u5();f1=L(H(),1),PK=({isOpen:t,onClose:e,onSave:n,onDelete:r,initialGoal:s,allFoci:i})=>t?(0,f1.jsx)(kn,{title:s?"Edit Goal":"Create New Goal",onClose:e,children:(0,f1.jsx)(c5,{onSave:n,onDelete:r,initialGoal:s,allFoci:i})}):null,d5=PK});var qa,jt,OK,f5,m5=j(()=>{"use strict";qa=L(me(),1),jt=L(H(),1),OK=({onSave:t,onDelete:e,goals:n,initialGoalId:r,allFoci:s,initialMilestone:i})=>{let[o,a]=(0,qa.useState)(""),[l,u]=(0,qa.useState)(""),[d,f]=(0,qa.useState)(""),[h,p]=(0,qa.useState)(new Date().toISOString().split("T")[0]),[b,I]=(0,qa.useState)(""),[v,g]=(0,qa.useState)("");(0,qa.useEffect)(()=>{i?(a(i.title),u(i.description||""),f(i.parentGoalId),p(new Date(i.startDate).toISOString().split("T")[0]),I(i.targetEndDate?new Date(i.targetEndDate).toISOString().split("T")[0]:""),g(i.focusAreaId||"")):(f(r||n[0]?.id||""),s.length>0&&!v&&g(s[0].id))},[i,r,n,s]);let y=A=>{if(A.preventDefault(),!d){alert("Please select a parent goal.");return}t({title:o,description:l,parentGoalId:d,startDate:new Date(h),targetEndDate:b?new Date(b):void 0,focusAreaId:v||void 0},i?.id)},_=()=>{i&&window.confirm(`Are you sure you want to delete the milestone "${i.title}"?`)&&e(i.id)};return(0,jt.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,jt.jsxs)("div",{children:[(0,jt.jsx)("label",{htmlFor:"milestone-goal",className:"label",children:"Parent Goal"}),(0,jt.jsx)("select",{id:"milestone-goal",value:d,onChange:A=>f(A.target.value),required:!0,className:"input",children:n.length>0?n.map(A=>(0,jt.jsx)("option",{value:A.id,children:A.title},A.id)):(0,jt.jsx)("option",{value:"",disabled:!0,children:"Please create a goal first"})})]}),(0,jt.jsxs)("div",{children:[(0,jt.jsx)("label",{htmlFor:"milestone-title",className:"label",children:"Milestone Title"}),(0,jt.jsx)("input",{id:"milestone-title",type:"text",value:o,onChange:A=>a(A.target.value),required:!0,className:"input"})]}),(0,jt.jsxs)("div",{children:[(0,jt.jsx)("label",{htmlFor:"milestone-focus",className:"label",children:"Focus Area"}),(0,jt.jsx)("select",{id:"milestone-focus",value:v,onChange:A=>g(A.target.value),required:!0,className:"input",children:s.map(A=>(0,jt.jsx)("option",{value:A.id,children:A.name},A.id))})]}),(0,jt.jsxs)("div",{children:[(0,jt.jsx)("label",{htmlFor:"milestone-desc",className:"label",children:"Description"}),(0,jt.jsx)("textarea",{id:"milestone-desc",value:l,onChange:A=>u(A.target.value),className:"textarea",rows:3})]}),(0,jt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,jt.jsxs)("div",{children:[(0,jt.jsx)("label",{htmlFor:"milestone-start-date",className:"label",children:"Start Date"}),(0,jt.jsx)("input",{id:"milestone-start-date",type:"date",value:h,onChange:A=>p(A.target.value),required:!0,className:"input"})]}),(0,jt.jsxs)("div",{children:[(0,jt.jsx)("label",{htmlFor:"milestone-end-date",className:"label",children:"Target End Date (Optional)"}),(0,jt.jsx)("input",{id:"milestone-end-date",type:"date",value:b,onChange:A=>I(A.target.value),className:"input"})]})]}),(0,jt.jsxs)("div",{className:"flex justify-between items-center pt-4",children:[(0,jt.jsx)("div",{children:i&&(0,jt.jsx)("button",{type:"button",onClick:_,className:"px-4 py-2 text-sm font-medium text-red-600 rounded-md hover:bg-red-50",children:"Delete"})}),(0,jt.jsx)("button",{type:"submit",className:"btn-primary",children:i?"Save Changes":"Create Milestone"})]}),(0,jt.jsx)("style",{children:`
            .label { display: block; margin-bottom: 0.5rem; font-size: 0.875rem; font-weight: 500; color: #4a5568; }
            .input, .textarea { display: block; width: 100%; padding: 0.5rem 0.75rem; border: 1px solid #e2e8f0; border-radius: 0.375rem; background-color: white; color: #1a202c; outline: none; transition: box-shadow 0.2s; }
            select.input { 
                -webkit-appearance: none; 
                -moz-appearance: none; 
                appearance: none; 
                background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22%23a0aec0%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20d%3D%22M5.293%207.293a1%201%200%20011.414%200L10%2010.586l3.293-3.293a1%201%200%20111.414%201.414l-4%204a1%201%200%2001-1.414%200l-4-4a1%201%200%20010-1.414z%22%20clip-rule%3D%22evenodd%22%20%2F%3E%3C%2Fsvg%3E'); 
                background-repeat: no-repeat; 
                background-position: right 0.75rem center; 
                background-size: 1.25em 1.25em; 
                padding-right: 2.5rem; 
            }
            .input:disabled { background-color: #f7fafc; cursor: not-allowed; }
            .input:focus, .textarea:focus { box-shadow: 0 0 0 2px #63b3ed; border-color: #4299e1; }
            .btn-primary { padding: 0.5rem 1rem; font-weight: 600; border-radius: 0.375rem; background-color: #4299e1; color: white; transition: background-color 0.2s; }
            .btn-primary:hover { background-color: #3182ce; }
            `})]})},f5=OK});var m1,MK,p5,g5=j(()=>{"use strict";ri();m5();m1=L(H(),1),MK=({isOpen:t,onClose:e,onSave:n,onDelete:r,goals:s,initialGoalId:i,allFoci:o,initialMilestone:a})=>t?(0,m1.jsx)(kn,{title:a?"Edit Milestone":"Create New Milestone",onClose:e,children:(0,m1.jsx)(f5,{onSave:n,onDelete:r,goals:s,initialGoalId:i,allFoci:o,initialMilestone:a})}):null,p5=MK});var p1,Mi,FK,y5,b5=j(()=>{"use strict";p1=L(me(),1),Mi=L(H(),1),FK=({onSave:t})=>{let[e,n]=(0,p1.useState)(""),[r,s]=(0,p1.useState)("");return(0,Mi.jsxs)("form",{onSubmit:o=>{o.preventDefault(),t({title:e,dueDate:r?new Date(r):void 0})},className:"space-y-4",children:[(0,Mi.jsxs)("div",{children:[(0,Mi.jsx)("label",{htmlFor:"qw-title",className:"label",children:"Title"}),(0,Mi.jsx)("input",{id:"qw-title",type:"text",value:e,onChange:o=>n(o.target.value),required:!0,className:"input",placeholder:"e.g., Reply to Sarah's email"})]}),(0,Mi.jsxs)("div",{children:[(0,Mi.jsx)("label",{htmlFor:"qw-date",className:"label",children:"Due Date (Optional)"}),(0,Mi.jsx)("input",{id:"qw-date",type:"date",value:r,onChange:o=>s(o.target.value),className:"input"})]}),(0,Mi.jsx)("div",{className:"flex justify-end pt-4",children:(0,Mi.jsx)("button",{type:"submit",className:"btn-primary",children:"Add Quick Win"})}),(0,Mi.jsx)("style",{children:`
            .label { display: block; margin-bottom: 0.5rem; font-size: 0.875rem; font-weight: 500; color: #4a5568; }
            .input { display: block; width: 100%; padding: 0.5rem 0.75rem; border: 1px solid #e2e8f0; border-radius: 0.375rem; background-color: white; color: #1a202c; outline: none; transition: box-shadow 0.2s; }
            .input:focus { box-shadow: 0 0 0 2px #63b3ed; border-color: #4299e1; }
            .btn-primary { padding: 0.5rem 1rem; font-weight: 600; border-radius: 0.375rem; background-color: #4299e1; color: white; transition: background-color 0.2s; }
            .btn-primary:hover { background-color: #3182ce; }
            `})]})},y5=FK});var g1,UK,v5,w5=j(()=>{"use strict";ri();b5();g1=L(H(),1),UK=({isOpen:t,onClose:e,onSave:n})=>t?(0,g1.jsx)(kn,{title:"Add a Quick Win",onClose:e,children:(0,g1.jsx)(y5,{onSave:n})}):null,v5=UK});var Dh,Tt,VK,HK,BK,y1,x5=j(()=>{"use strict";Dh=L(me(),1);$r();Pe();Tt=L(H(),1),VK=t=>{switch(t){case"Completed":return"bg-green-100 text-green-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Abandoned":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},HK=({goal:t,isSelected:e,onSelect:n,onEdit:r})=>{let s=J[t.icon];return(0,Tt.jsxs)("li",{onClick:n,className:`p-4 rounded-lg shadow-sm border flex items-start gap-4 cursor-pointer transition-all duration-150 group ${e?"ring-2 ring-blue-500 shadow-md bg-white":"bg-white hover:shadow-md hover:border-gray-300"}`,children:[(0,Tt.jsx)(s,{className:"w-8 h-8 text-gray-500 mt-1 flex-shrink-0"}),(0,Tt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Tt.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:t.title}),(0,Tt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Tt.jsx)("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${VK(t.status)}`,children:t.status}),(0,Tt.jsx)("button",{onClick:i=>{i.stopPropagation(),r()},className:"p-1 rounded-full text-gray-400 opacity-0 group-hover:opacity-100 hover:bg-gray-200 transition-opacity","aria-label":`Edit ${t.title}`,children:(0,Tt.jsx)(nn,{className:"w-4 h-4"})})]})]}),(0,Tt.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:t.description}),t.targetEndDate&&(0,Tt.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Target: ",new Date(t.targetEndDate).toLocaleDateString()]})]})]})},BK=({goals:t,selectedGoalId:e,onSelectGoal:n,activeFilter:r,onSetFilter:s,onAddGoalClick:i,onEditGoal:o})=>{let[a,l]=(0,Dh.useState)(!1),u=(0,Dh.useRef)(null);(0,Dh.useEffect)(()=>{let p=b=>{u.current&&!u.current.contains(b.target)&&l(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);let d=[{label:"All",filter:"All"},{label:"In Progress",filter:"In Progress"},{label:"Not Started",filter:"Not Started"}],f=[{label:"Completed",filter:"Completed"},{label:"Abandoned",filter:"Abandoned"}],h=p=>{s(p),l(!1)};return(0,Tt.jsxs)("div",{className:"w-full h-full p-4 overflow-y-auto bg-gray-50/80 flex flex-col",children:[(0,Tt.jsxs)("header",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[(0,Tt.jsx)("h1",{className:"text-xl font-semibold text-gray-800",children:"Goals"}),(0,Tt.jsxs)("button",{onClick:i,className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 text-white text-sm font-semibold rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[(0,Tt.jsx)(At,{className:"w-4 h-4"}),(0,Tt.jsx)("span",{children:"New Goal"})]})]}),(0,Tt.jsxs)("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[(0,Tt.jsx)("div",{className:"flex items-center gap-1 border border-gray-200 rounded-lg p-1 bg-white shadow-sm",children:d.map(p=>(0,Tt.jsx)("button",{onClick:()=>h(p.filter),className:`px-3 py-1 text-sm font-semibold rounded-md transition-colors ${r===p.filter?"bg-blue-600 text-white shadow":"text-gray-600 hover:bg-gray-200"}`,children:p.label},p.filter))}),(0,Tt.jsxs)("div",{className:"relative",ref:u,children:[(0,Tt.jsx)("button",{onClick:()=>l(p=>!p),className:"p-2 rounded-lg hover:bg-gray-200",children:(0,Tt.jsx)(nr,{className:"w-5 h-5 text-gray-600"})}),a&&(0,Tt.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border z-10",children:(0,Tt.jsx)("ul",{className:"py-1",children:f.map(p=>(0,Tt.jsx)("li",{children:(0,Tt.jsx)("button",{onClick:()=>h(p.filter),className:`w-full text-left px-4 py-2 text-sm ${r===p.filter?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:p.label})},p.filter))})})]})]}),(0,Tt.jsx)("div",{className:"flex-1 overflow-y-auto",children:t.length>0?(0,Tt.jsx)("ul",{className:"space-y-3",children:t.map(p=>(0,Tt.jsx)(HK,{goal:p,isSelected:p.id===e,onSelect:()=>n(p.id),onEdit:()=>o(p)},p.id))}):(0,Tt.jsxs)("div",{className:"text-center py-10 text-gray-500",children:[(0,Tt.jsx)(je,{className:"w-12 h-12 mx-auto text-gray-300"}),(0,Tt.jsx)("p",{className:"mt-4 font-semibold",children:"No goals in this view."}),(0,Tt.jsx)("p",{className:"text-sm",children:"Try another filter or add a new goal."})]})})]})},y1=BK});var Ch,Et,zK,qK,GK,b1,T5=j(()=>{"use strict";Ch=L(me(),1);$r();Pe();Et=L(H(),1),zK=t=>{switch(t){case"Completed":return"bg-green-100 text-green-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Abandoned":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},qK=({milestone:t,parentGoal:e,isSelected:n,onSelect:r,onEdit:s})=>{let i=e?J[e.icon]:je;return(0,Et.jsxs)("li",{onClick:r,className:`p-4 rounded-lg shadow-sm border flex flex-col gap-2 cursor-pointer transition-all duration-150 group ${n?"ring-2 ring-blue-500 shadow-md bg-white":"bg-white hover:shadow-md hover:border-gray-300"}`,children:[(0,Et.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Et.jsx)("h3",{className:"text-md font-bold text-gray-900 flex-1 pr-2",children:t.title}),(0,Et.jsx)("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${zK(t.status)} flex-shrink-0`,children:t.status})]}),(0,Et.jsxs)("div",{className:"flex justify-between items-center",children:[e&&(0,Et.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[(0,Et.jsx)(i,{className:"w-4 h-4 text-indigo-500"}),(0,Et.jsx)("span",{className:"font-medium",children:e.title})]}),(0,Et.jsx)("button",{onClick:o=>{o.stopPropagation(),s()},className:"p-1 rounded-full text-gray-400 opacity-0 group-hover:opacity-100 hover:bg-gray-200 transition-opacity","aria-label":`Edit ${t.title}`,children:(0,Et.jsx)(nn,{className:"w-4 h-4"})})]})]})},GK=({milestones:t,goals:e,selectedMilestoneId:n,onSelectMilestone:r,activeFilter:s,onSetFilter:i,onAddMilestoneClick:o,onEditMilestone:a})=>{let[l,u]=(0,Ch.useState)(!1),d=(0,Ch.useRef)(null);(0,Ch.useEffect)(()=>{let b=I=>{d.current&&!d.current.contains(I.target)&&u(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);let f=[{label:"All",filter:"All"},{label:"In Progress",filter:"In Progress"},{label:"Not Started",filter:"Not Started"}],h=[{label:"Completed",filter:"Completed"},{label:"Abandoned",filter:"Abandoned"}],p=b=>{i(b),u(!1)};return(0,Et.jsxs)("div",{className:"w-full h-full p-4 overflow-y-auto bg-gray-50/80 flex flex-col",children:[(0,Et.jsxs)("header",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[(0,Et.jsx)("h1",{className:"text-xl font-semibold text-gray-800",children:"Milestones"}),(0,Et.jsxs)("button",{onClick:o,className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 text-white text-sm font-semibold rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[(0,Et.jsx)(At,{className:"w-4 h-4"}),(0,Et.jsx)("span",{children:"New Milestone"})]})]}),(0,Et.jsxs)("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[(0,Et.jsx)("div",{className:"flex items-center gap-1 border border-gray-200 rounded-lg p-1 bg-white shadow-sm",children:f.map(b=>(0,Et.jsx)("button",{onClick:()=>p(b.filter),className:`px-3 py-1 text-sm font-semibold rounded-md transition-colors ${s===b.filter?"bg-blue-600 text-white shadow":"text-gray-600 hover:bg-gray-200"}`,children:b.label},b.filter))}),(0,Et.jsxs)("div",{className:"relative",ref:d,children:[(0,Et.jsx)("button",{onClick:()=>u(b=>!b),className:"p-2 rounded-lg hover:bg-gray-200",children:(0,Et.jsx)(nr,{className:"w-5 h-5 text-gray-600"})}),l&&(0,Et.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border z-10",children:(0,Et.jsx)("ul",{className:"py-1",children:h.map(b=>(0,Et.jsx)("li",{children:(0,Et.jsx)("button",{onClick:()=>p(b.filter),className:`w-full text-left px-4 py-2 text-sm ${s===b.filter?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:b.label})},b.filter))})})]})]}),(0,Et.jsx)("div",{className:"flex-1 overflow-y-auto",children:t.length>0?(0,Et.jsx)("ul",{className:"space-y-3",children:t.map(b=>(0,Et.jsx)(qK,{milestone:b,parentGoal:e.find(I=>I.id===b.parentGoalId),isSelected:b.id===n,onSelect:()=>r(b.id),onEdit:()=>a(b)},b.id))}):(0,Et.jsxs)("div",{className:"text-center py-10 text-gray-500",children:[(0,Et.jsx)(Pr,{className:"w-12 h-12 mx-auto text-gray-300"}),(0,Et.jsx)("p",{className:"mt-4 font-semibold",children:"No milestones in this view."}),(0,Et.jsx)("p",{className:"text-sm",children:"Try another filter or add a new milestone."})]})})]})},b1=GK});var Br,I5,$K,v1,_5=j(()=>{"use strict";$r();eo();Br=L(H(),1),I5=({quickWin:t,onStatusChange:e})=>{let n=t.status==="Completed";return(0,Br.jsxs)("li",{className:"bg-white p-3 rounded-lg shadow-sm border flex items-center gap-4",children:[(0,Br.jsx)(br,{checked:n,onChange:()=>{e(t.id,n?"Pending":"Completed")}}),(0,Br.jsxs)("div",{className:"flex-1",children:[(0,Br.jsx)("p",{className:`font-medium ${n?"line-through text-gray-400":"text-gray-800"}`,children:t.title}),t.dueDate&&(0,Br.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5",children:["Due: ",new Date(t.dueDate).toLocaleDateString()]})]})]})},$K=({quickWins:t,onStatusChange:e})=>{let n=t.filter(s=>s.status==="Pending").sort((s,i)=>i.createdAt.getTime()-s.createdAt.getTime()),r=t.filter(s=>s.status==="Completed").sort((s,i)=>i.createdAt.getTime()-s.createdAt.getTime());return(0,Br.jsxs)("div",{className:"w-full h-full p-4 overflow-y-auto",children:[(0,Br.jsx)("h2",{className:"text-sm font-semibold text-gray-500 mb-2 uppercase",children:"Pending"}),n.length>0?(0,Br.jsx)("ul",{className:"space-y-2 mb-6",children:n.map(s=>(0,Br.jsx)(I5,{quickWin:s,onStatusChange:e},s.id))}):(0,Br.jsx)("div",{className:"text-center text-sm text-gray-500 py-4 border-2 border-dashed rounded-lg",children:(0,Br.jsx)("p",{children:"Nothing here. Well done!"})}),(0,Br.jsx)("h2",{className:"text-sm font-semibold text-gray-500 mb-2 uppercase mt-8",children:"Completed"}),r.length>0?(0,Br.jsx)("ul",{className:"space-y-2",children:r.map(s=>(0,Br.jsx)(I5,{quickWin:s,onStatusChange:e},s.id))}):(0,Br.jsx)("div",{className:"text-center text-sm text-gray-500 py-4 border-2 border-dashed rounded-lg",children:(0,Br.jsx)("p",{children:"No completed wins yet."})})]})},v1=$K});var E5,Fi,KK,S5,N5=j(()=>{"use strict";E5=L(me(),1);eo();Fi=L(H(),1),KK=({milestones:t,onLink:e,onClose:n})=>{let[r,s]=(0,E5.useState)(new Set),i=a=>{s(l=>{let u=new Set(l);return u.has(a)?u.delete(a):u.add(a),u})};return(0,Fi.jsxs)("form",{onSubmit:a=>{a.preventDefault(),r.forEach(l=>e(l)),n()},children:[(0,Fi.jsx)("div",{className:"max-h-64 overflow-y-auto border rounded-md p-2 mb-4",children:t.length>0?(0,Fi.jsx)("ul",{className:"space-y-2",children:t.map(a=>(0,Fi.jsxs)("li",{onClick:()=>i(a.id),className:`flex items-center gap-3 p-2 rounded-md cursor-pointer ${r.has(a.id)?"bg-blue-50":"hover:bg-gray-50"}`,children:[(0,Fi.jsx)(br,{checked:r.has(a.id),onChange:()=>{}}),(0,Fi.jsx)("span",{children:a.title})]},a.id))}):(0,Fi.jsx)("p",{className:"text-center text-gray-500 py-4",children:"No unlinked milestones available."})}),(0,Fi.jsx)("div",{className:"flex justify-end pt-4",children:(0,Fi.jsxs)("button",{type:"submit",disabled:r.size===0,className:"btn-primary disabled:bg-blue-300",children:["Link ",r.size," Milestone",r.size!==1&&"s"]})}),(0,Fi.jsx)("style",{children:`
                .btn-primary { padding: 0.5rem 1rem; font-weight: 600; border-radius: 0.375rem; background-color: #4299e1; color: white; transition: background-color 0.2s; }
                .btn-primary:hover { background-color: #3182ce; }
            `})]})},S5=KK});var w1,WK,k5,A5=j(()=>{"use strict";ri();N5();w1=L(H(),1),WK=({isOpen:t,onClose:e,onUpdateMilestone:n,milestones:r,currentGoalId:s})=>t?(0,w1.jsx)(kn,{title:"Link Existing Milestones",onClose:e,children:(0,w1.jsx)(S5,{milestones:r,onLink:i=>n(i,{parentGoalId:s}),onClose:e})}):null,k5=WK});var D5,di,YK,C5,R5=j(()=>{"use strict";D5=L(me(),1);eo();Pe();di=L(H(),1),YK=({habits:t,onLink:e,onClose:n})=>{let[r,s]=(0,D5.useState)(new Set),i=a=>{s(l=>{let u=new Set(l);return u.has(a)?u.delete(a):u.add(a),u})};return(0,di.jsxs)("form",{onSubmit:a=>{a.preventDefault(),r.forEach(l=>e(l)),n()},children:[(0,di.jsx)("div",{className:"max-h-64 overflow-y-auto border rounded-md p-2 mb-4",children:t.length>0?(0,di.jsx)("ul",{className:"space-y-2",children:t.map(a=>{let l=J[a.icon];return(0,di.jsxs)("li",{onClick:()=>i(a.id),className:`flex items-center gap-3 p-2 rounded-md cursor-pointer ${r.has(a.id)?"bg-blue-50":"hover:bg-gray-50"}`,children:[(0,di.jsx)(br,{checked:r.has(a.id),onChange:()=>{}}),(0,di.jsx)(l,{className:`w-5 h-5 text-${a.color}`}),(0,di.jsx)("span",{children:a.title})]},a.id)})}):(0,di.jsx)("p",{className:"text-center text-gray-500 py-4",children:"No unlinked habits available."})}),(0,di.jsx)("div",{className:"flex justify-end pt-4",children:(0,di.jsxs)("button",{type:"submit",disabled:r.size===0,className:"btn-primary disabled:bg-blue-300",children:["Link ",r.size," Habit",r.size!==1&&"s"]})}),(0,di.jsx)("style",{children:`
                .btn-primary { padding: 0.5rem 1rem; font-weight: 600; border-radius: 0.375rem; background-color: #4299e1; color: white; transition: background-color 0.2s; }
                .btn-primary:hover { background-color: #3182ce; }
            `})]})},C5=YK});var x1,QK,L5,P5=j(()=>{"use strict";ri();R5();x1=L(H(),1),QK=({isOpen:t,onClose:e,onUpdateHabit:n,habits:r,currentGoalId:s,milestoneId:i})=>t?(0,x1.jsx)(kn,{title:"Link Existing Habits",onClose:e,children:(0,x1.jsx)(C5,{habits:r,onLink:o=>n(o,{goalId:s,milestoneId:i||void 0}),onClose:e})}):null,L5=QK});var Rh,Lt,XK,JK,ZK,T1,O5=j(()=>{"use strict";Rh=L(me(),1);$r();Pe();Lt=L(H(),1),XK=t=>{switch(t){case"Completed":return"bg-green-100 text-green-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Abandoned":return"bg-red-100 text-red-800";case"Yet to Start":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},JK=({habit:t,isSelected:e,onSelect:n})=>{let s=J[t.icon]||Ts;return(0,Lt.jsxs)("li",{onClick:n,className:`p-3 rounded-lg shadow-sm border flex items-start gap-4 cursor-pointer transition-all duration-150 ${e?"ring-2 ring-blue-500 shadow-md bg-white":"bg-white hover:shadow-md hover:border-gray-300"}`,children:[(0,Lt.jsx)("div",{className:`p-2 rounded-lg bg-${t.color}/20 flex-shrink-0`,children:(0,Lt.jsx)(s,{className:`w-6 h-6 text-${t.color}`})}),(0,Lt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Lt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Lt.jsx)("h3",{className:"font-semibold text-gray-900 truncate",children:t.title}),(0,Lt.jsx)("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${XK(t.status)}`,children:t.status})]}),(0,Lt.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-1",children:t.description})]})]})},ZK=({habits:t,selectedHabitId:e,onSelectHabit:n,activeFilter:r,onSetFilter:s,onAddHabitClick:i})=>{let[o,a]=(0,Rh.useState)(!1),l=(0,Rh.useRef)(null);(0,Rh.useEffect)(()=>{let h=p=>{l.current&&!l.current.contains(p.target)&&a(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);let u=[{label:"All",filter:"All"},{label:"In Progress",filter:"In Progress"},{label:"Yet to Start",filter:"Yet to Start"}],d=[{label:"Completed",filter:"Completed"},{label:"Abandoned",filter:"Abandoned"}],f=h=>{s(h),a(!1)};return(0,Lt.jsxs)("div",{className:"w-full h-full p-4 overflow-y-auto bg-gray-50/80 flex flex-col",children:[(0,Lt.jsxs)("header",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[(0,Lt.jsx)("h1",{className:"text-xl font-semibold text-gray-800",children:"All Habits"}),(0,Lt.jsxs)("button",{onClick:i,className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 text-white text-sm font-semibold rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[(0,Lt.jsx)(At,{className:"w-4 h-4"}),(0,Lt.jsx)("span",{children:"New Habit"})]})]}),(0,Lt.jsxs)("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[(0,Lt.jsx)("div",{className:"flex items-center gap-1 border border-gray-200 rounded-lg p-1 bg-white shadow-sm",children:u.map(h=>(0,Lt.jsx)("button",{onClick:()=>f(h.filter),className:`px-3 py-1 text-sm font-semibold rounded-md transition-colors ${r===h.filter?"bg-blue-600 text-white shadow":"text-gray-600 hover:bg-gray-200"}`,children:h.label},h.filter))}),(0,Lt.jsxs)("div",{className:"relative",ref:l,children:[(0,Lt.jsx)("button",{onClick:()=>a(h=>!h),className:"p-2 rounded-lg hover:bg-gray-200",children:(0,Lt.jsx)(nr,{className:"w-5 h-5 text-gray-600"})}),o&&(0,Lt.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border z-10",children:(0,Lt.jsx)("ul",{className:"py-1",children:d.map(h=>(0,Lt.jsx)("li",{children:(0,Lt.jsx)("button",{onClick:()=>f(h.filter),className:`w-full text-left px-4 py-2 text-sm ${r===h.filter?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:h.label})},h.filter))})})]})]}),(0,Lt.jsx)("div",{className:"flex-1 overflow-y-auto",children:t.length>0?(0,Lt.jsx)("ul",{className:"space-y-3",children:t.map(h=>(0,Lt.jsx)(JK,{habit:h,isSelected:h.id===e,onSelect:()=>n(h.id)},h.id))}):(0,Lt.jsxs)("div",{className:"text-center py-10 text-gray-500",children:[(0,Lt.jsx)(je,{className:"w-12 h-12 mx-auto text-gray-300"}),(0,Lt.jsx)("p",{className:"mt-4 font-semibold",children:"No habits in this view."}),(0,Lt.jsx)("p",{className:"text-sm",children:"Try another filter or add a new habit."})]})})]})},T1=ZK});var M5={};io(M5,{default:()=>tW});var Bt,St,eW,tW,F5=j(()=>{"use strict";Bt=L(me(),1);Pe();$r();Zb();j3();K3();W3();e5();n5();l5();h5();g5();w5();x5();T5();_5();A5();P5();O5();ev();Oa();dh();rp();St=L(H(),1),eW=({isAppSidebarOpen:t})=>{let{width:e}=jl(),n=e!==void 0&&e<768,[r,s]=(0,Bt.useState)(!1),[i,o]=(0,Bt.useState)(!1),{goals:a,milestones:l,quickWins:u,habits:d,habitLogs:f,addGoal:h,updateGoal:p,deleteGoal:b,addMilestone:I,updateMilestone:v,deleteMilestone:g,addQuickWin:y,updateQuickWin:_,addHabit:A,updateHabit:R,deleteHabit:U,addHabitLog:S,updateHabitLog:E,deleteHabitLog:T}=Qi(),{addLog:x,logs:N,foci:D,fetchDainandiniData:k}=Sr(),[V,z]=(0,Bt.useState)("calendar"),[$,de]=(0,Bt.useState)(null),[se,Te]=(0,Bt.useState)(null),[Ae,De]=(0,Bt.useState)(null),[Q,P]=(0,Bt.useState)(null),[Z,W]=(0,Bt.useState)({isOpen:!1,context:{}}),[F,ee]=(0,Bt.useState)(null),[be,He]=(0,Bt.useState)(new Date),[Nt,dn]=(0,Bt.useState)(null),[Jt,ue]=(0,Bt.useState)("All"),[ve,$n]=(0,Bt.useState)(null),[lr,Wr]=(0,Bt.useState)("All"),[le,Ee]=(0,Bt.useState)(null),[ze,$t]=(0,Bt.useState)(null),[zt,q]=(0,Bt.useState)("All"),[Me,Be]=(0,Bt.useState)(null),ge=(0,Bt.useMemo)(()=>Jt==="All"?d:d.filter(ie=>ie.status===Jt),[d,Jt]);(0,Bt.useEffect)(()=>{k()},[k]),(0,Bt.useEffect)(()=>{D.length===0&&k()},[D.length,k]),(0,Bt.useEffect)(()=>{if(V==="goals"&&!ve&&a.length>0&&$n(a[0].id),V==="milestones"&&!ze&&l.length>0&&$t(l[0].id),(V==="calendar"||V==="all-habits")&&!F&&d.length>0)if(V==="calendar"){let ie=d.filter(re=>re.status==="In Progress");ie.length>0&&ee(ie[0].id)}else ge.length>0&&ee(ge[0].id);V==="all-habits"&&F&&!ge.some(ie=>ie.id===F)&&ee(ge.length>0?ge[0].id:null)},[V,a,l,d,ve,ze,F,ge]);let _e=(0,Bt.useMemo)(()=>d.find(ie=>ie.id===F)||null,[F,d]),Xe=(0,Bt.useMemo)(()=>a.find(ie=>ie.id===ve)||null,[ve,a]),xn=(0,Bt.useMemo)(()=>l.find(ie=>ie.id===ze)||null,[ze,l]),zs=(0,Bt.useMemo)(()=>lr==="All"?a.filter(ie=>ie.status==="In Progress"||ie.status==="Not Started"):a.filter(ie=>ie.status===lr),[a,lr]),kr=(0,Bt.useMemo)(()=>zt==="All"?l.filter(ie=>ie.status==="In Progress"||ie.status==="Not Started"):l.filter(ie=>ie.status===zt),[l,zt]),Tu=(0,Bt.useMemo)(()=>V==="goals"&&ve?ve:V==="milestones"&&xn?xn.parentGoalId:Q?l.find(re=>re.id===Q)?.parentGoalId:Ae||"",[V,ve,xn,l,Q,Ae]),Ft=(ie,re)=>{if(ie==="habit"){let Pt=re?.goalId||null;!Pt&&re?.milestone?.id&&(Pt=l.find(Zt=>Zt.id===re.milestone.id)?.parentGoalId||null),dn(re?.habit||null),De(Pt),P(re?.milestone?.id||null),de("habit")}else ie==="milestone"?(Be(re?.milestone||null),Te(re?.goalId||a[0]?.id||null),de("milestone")):ie==="link-habit"&&re?(De(re.goalId||null),P(re.milestone?.id||null),de("link-habit")):ie==="goal"?(Ee(re?.goal||null),de("goal")):de(ie)},ps=()=>{de(null),dn(null),Be(null),Ee(null),Te(null),De(null),P(null)},Ui=ie=>{console.log("Opening log modal with context:",ie),W({isOpen:!0,context:ie})},Ga=ie=>{console.log("Adding log with data:",ie);let{habit:re,milestone:Pt,goal:hn}=Z.context,Zt={};re?.id&&(Zt.habitId=re.id),Pt?.id&&(Zt.milestoneId=Pt.id),hn?.id&&(Zt.goalId=hn.id),x({...ie,...Zt}),W({isOpen:!1,context:{}})},tc=(ie,re)=>{let Pt=re.toISOString().split("T")[0],hn=f.find(Zt=>Zt.habitId===ie&&Zt.date===Pt);hn&&T(hn.id)},ja=(ie,re)=>{let Pt=re.toISOString().split("T")[0],hn=f.find(Zt=>Zt.habitId===ie&&Zt.date===Pt);hn?E(hn.id,{status:"none"}):S({habitId:ie,date:Pt,status:"none"})},$a=()=>{switch(V){case"goals":return(0,St.jsxs)(za,{initialLeftWidth:40,children:[(0,St.jsx)(y1,{goals:zs,selectedGoalId:ve,onSelectGoal:re=>{$n(re),n&&o(!0)},activeFilter:lr,onSetFilter:Wr,onAddGoalClick:()=>Ft("goal"),onEditGoal:re=>Ft("goal",{goal:re})}),(0,St.jsx)(Z3,{goal:Xe,allFoci:D,allLogs:N,milestones:l.filter(re=>re.parentGoalId===Xe?.id),habits:(d||[]).filter(re=>re.goalId===Xe?.id||re.milestoneId&&l.some(Pt=>Pt.id===re.milestoneId&&Pt.parentGoalId===Xe?.id)),habitLogs:f,onUpdateGoal:p,onDeleteGoal:b,onAddMilestone:()=>Ft("milestone",{goalId:Xe?.id}),onLinkMilestone:()=>Ft("link-milestone"),onAddHabit:()=>Ft("habit",{goalId:Xe?.id}),onLinkHabit:()=>Ft("link-habit",{goalId:Xe?.id}),onAddHabitToMilestone:re=>Ft("habit",{milestone:{id:re}}),onLinkHabitToMilestone:re=>Ft("link-habit",{milestone:{id:re}}),onEditGoal:re=>Ft("goal",{goal:re}),onOpenLogModal:re=>Ui({goal:re})})]});case"milestones":return(0,St.jsxs)(za,{initialLeftWidth:40,children:[(0,St.jsx)(b1,{milestones:kr,goals:a,selectedMilestoneId:ze,onSelectMilestone:re=>{$t(re),n&&o(!0)},activeFilter:zt,onSetFilter:q,onAddMilestoneClick:()=>Ft("milestone"),onEditMilestone:re=>Ft("milestone",{milestone:re})}),(0,St.jsx)(t5,{milestone:xn,parentGoal:a.find(re=>re.id===xn?.parentGoalId),habits:d.filter(re=>re.milestoneId===ze),habitLogs:f,allFoci:D,allLogs:N,onUpdateMilestone:v,onDeleteMilestone:g,onAddHabit:re=>Ft("habit",{milestone:{id:re}}),onLinkHabit:re=>Ft("link-habit",{milestone:{id:re}}),onOpenLogModal:re=>Ui({milestone:re}),onEditMilestone:re=>Ft("milestone",{milestone:re})})]});case"quick-wins":return(0,St.jsx)(v1,{quickWins:u,onStatusChange:_});case"all-habits":return(0,St.jsxs)(za,{initialLeftWidth:45,children:[(0,St.jsx)(T1,{habits:ge,selectedHabitId:F,onSelectHabit:re=>{ee(re),n&&o(!0)},activeFilter:Jt,onSetFilter:ue,onAddHabitClick:()=>Ft("habit")}),(0,St.jsx)(a1,{habit:_e,onEditHabit:re=>Ft("habit",{habit:re}),onUpdateHabit:R,onAddHabitLog:S,onDeleteHabitLog:tc,onSkipHabitLog:ja,selectedDate:be,allLogs:N,habitLogs:f,onOpenLogModal:re=>Ui({habit:re}),onBack:()=>o(!1)})]});case"calendar":default:let ie=d.filter(re=>re.status==="In Progress");return(0,St.jsxs)(za,{initialLeftWidth:55,children:[(0,St.jsx)($3,{habits:ie,habitLogs:f,allFoci:D,onAddHabitLog:S,onDeleteHabitLog:tc,onSkipHabitLog:ja,onSelectHabit:re=>{ee(re),n&&o(!0)},selectedHabitId:F,selectedDate:be,onDateSelect:He}),(0,St.jsx)(a1,{habit:_e,onEditHabit:re=>Ft("habit",{habit:re}),onUpdateHabit:R,onAddHabitLog:S,onDeleteHabitLog:tc,onSkipHabitLog:ja,selectedDate:be,allLogs:N,habitLogs:f,onOpenLogModal:re=>Ui({habit:re}),onBack:()=>o(!1)})]})}},Iu=(ie,re)=>{re?v(re,ie):I({...ie,status:"Not Started"}),ps()},_u=(ie,re)=>{re?p(re,ie):h({...ie,status:"Not Started"}),ps()};return(0,St.jsxs)(St.Fragment,{children:[n&&(0,St.jsx)("button",{onClick:()=>s(!r),className:"fixed top-4 left-4 z-40 p-2 rounded-md bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Toggle Abhyasa Sidebar",children:(0,St.jsx)(Ec,{className:"w-6 h-6"})}),(0,St.jsx)(G3,{onOpenModal:Ft,activeView:V,onSelectView:ie=>{z(ie),n&&o(!1)},isMobile:n,isSidebarOpen:r}),r&&n&&(0,St.jsx)("div",{className:"fixed inset-0 bg-black opacity-50 z-20",onClick:()=>s(!1)}),(0,St.jsxs)("main",{className:`flex-1 flex min-w-0 bg-gray-50/80 ${n&&t?"ml-20":""}`,children:[" ",n&&i?$a():n&&!i?(0,St.jsxs)("div",{className:"flex flex-col w-full h-full p-4",children:[V==="goals"&&(0,St.jsx)(y1,{goals:zs,selectedGoalId:ve,onSelectGoal:ie=>{$n(ie),o(!0)},activeFilter:lr,onSetFilter:Wr,onAddGoalClick:()=>Ft("goal"),onEditGoal:ie=>Ft("goal",{goal:ie})}),V==="milestones"&&(0,St.jsx)(b1,{milestones:kr,goals:a,selectedMilestoneId:ze,onSelectMilestone:ie=>{$t(ie),o(!0)},activeFilter:zt,onSetFilter:q,onAddMilestoneClick:()=>Ft("milestone"),onEditMilestone:ie=>Ft("milestone",{milestone:ie})}),V==="quick-wins"&&(0,St.jsx)(v1,{quickWins:u,onStatusChange:_}),(V==="all-habits"||V==="calendar")&&(0,St.jsx)(T1,{habits:ge,selectedHabitId:F,onSelectHabit:ie=>{ee(ie),o(!0)},activeFilter:Jt,onSetFilter:ue,onAddHabitClick:()=>Ft("habit")})]}):$a()]}),$==="habit"&&(0,St.jsx)(a5,{isOpen:!0,onClose:ps,onSave:(ie,re)=>{re?R(re,ie):A({...ie,status:"Yet to Start"}),ps()},onDelete:U,initialHabit:Nt,goalId:Ae,milestoneId:Q,allFoci:D}),$==="goal"&&(0,St.jsx)(d5,{isOpen:!0,onClose:ps,onSave:_u,onDelete:b,initialGoal:le,allFoci:D}),$==="milestone"&&(0,St.jsx)(p5,{isOpen:!0,onClose:ps,onSave:Iu,onDelete:g,goals:a,initialGoalId:se,allFoci:D,initialMilestone:Me}),$==="quick-win"&&(0,St.jsx)(v5,{isOpen:!0,onClose:ps,onSave:ie=>{y({...ie,status:"Pending"}),ps()}}),$==="link-milestone"&&Xe&&(0,St.jsx)(k5,{isOpen:!0,onClose:ps,onUpdateMilestone:v,milestones:l.filter(ie=>!ie.parentGoalId),currentGoalId:Xe.id}),$==="link-habit"&&(0,St.jsx)(L5,{isOpen:!0,onClose:ps,onUpdateHabit:R,habits:d.filter(ie=>!ie.goalId),currentGoalId:Tu||"",milestoneId:Q}),Z.isOpen&&(0,St.jsx)(Ih,{isOpen:Z.isOpen,onClose:()=>W({isOpen:!1,context:{}}),onAddLog:Ga,allFoci:D,initialFocusId:Z.context.habit?.focusAreaId||Z.context.milestone?.focusAreaId||Z.context.goal?.focusAreaId||"general",initialDate:new Date,initialTitle:Z.context.habit?.title||Z.context.milestone?.title||Z.context.goal?.title,initialDescription:""})]})},tW=eW});var H5=L(me(),1),B5=L(zC(),1);var un=L(me(),1);Pe();var $C=L(me(),1);ri();Pe();var ts=L(H(),1),vV=({currentApiKey:t,onSave:e,onClose:n})=>{let[r,s]=(0,$C.useState)(t||"");return(0,ts.jsx)(kn,{title:"Set Gemini API Key",onClose:n,children:(0,ts.jsxs)("form",{onSubmit:o=>{o.preventDefault(),e(r)},className:"space-y-6",children:[(0,ts.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-blue-50 border-l-4 border-blue-400 rounded-r-lg",children:[(0,ts.jsx)(Sc,{className:"w-8 h-8 text-blue-500 flex-shrink-0 mt-1"}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h3",{className:"font-semibold text-blue-800",children:"Your Personal AI Key"}),(0,ts.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:"Your API key is stored securely in your browser's local storage and is never sent to our servers. It's used directly from your browser to communicate with the Gemini API for features like smart task creation and subtask generation."}),(0,ts.jsx)("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 font-semibold mt-2 inline-block",children:"Get your API key from Google AI Studio \u2192"})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{htmlFor:"api-key",className:"block text-sm font-medium text-gray-700",children:"API Key"}),(0,ts.jsx)("input",{type:"password",id:"api-key",value:r,onChange:o=>s(o.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900",placeholder:"Enter your Gemini API key"})]}),(0,ts.jsxs)("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[(0,ts.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,ts.jsx)("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Save Key"})]})]})})},KC=vV;rm();Pe();var si=L(H(),1),xV=({isOpen:t,onClose:e,user:n})=>t?(0,si.jsx)(Il,{title:"Profile",onClose:e,children:(0,si.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,si.jsx)("div",{className:"relative",children:(0,si.jsx)("div",{className:"w-32 h-32 rounded-full bg-blue-100 flex items-center justify-center",children:(0,si.jsx)(tm,{className:"w-16 h-16 text-blue-600"})})}),(0,si.jsx)("h2",{className:"text-xl font-semibold",children:n.displayName||n.email}),(0,si.jsxs)("div",{className:"text-sm text-gray-600 text-center",children:[(0,si.jsxs)("p",{children:["Email: ",n.email]}),(0,si.jsxs)("p",{children:["Account created: ",n.metadata.creationTime?new Date(n.metadata.creationTime).toLocaleDateString():"Unknown"]})]}),(0,si.jsx)("div",{className:"flex gap-4 mt-4",children:(0,si.jsx)("button",{onClick:e,className:"px-4 py-2 text-sm font-semibold text-gray-700 rounded-md hover:bg-gray-100 transition-colors",children:"Close"})})]})}):null,WC=xV;var Jc=L(me(),1);Em();Xc();LE();Em();Xc();VE();var a8={apiKey:"AIzaSyAtc3vYe6tV14w37NEJkaDfTR096fb7q1Y",authDomain:"jeevan-saathi-39bf5.firebaseapp.com",projectId:"jeevan-saathi-39bf5",storageBucket:"jeevan-saathi-39bf5.firebasestorage.app",messagingSenderId:"65030332753",appId:"1:65030332753:web:e4eb572e4a4c3ca772b370",measurementId:"G-274K2278C1"},HE=lm(a8),fb=_m(HE),Jn=lb(HE),$Q=hb(HE);Xc();var BE=[],zE=[],qE=[];var aO=[],GE=[{id:"inbox",name:"Inbox",icon:"InboxIcon",isDefault:!0}],lO=[],cO=[];var an=t=>{let e=Ke();if(!e)throw console.warn("getUserCollection called without authenticated user"),new Error("User not authenticated");if(!e.uid)throw console.warn("getUserCollection called with user but no UID"),new Error("User UID not available");return ab(Jn,"users",e.uid,t)},Ms=t=>{if(!t)return t;let e={...t};return Object.keys(e).forEach(n=>{e[n]instanceof Qn?e[n]=e[n].toDate():e[n]&&typeof e[n]=="object"&&!Array.isArray(e[n])?e[n]=Ms(e[n]):Array.isArray(e[n])&&(e[n]=e[n].map(r=>typeof r=="object"?Ms(r):r))}),e};var uO={add:async t=>{let e=Ke();if(!e)throw new Error("User not authenticated");let n={...t,createdAt:new Date,userId:e.uid,folderId:t.folderId||null};return(await On(an("lists"),n)).id},update:async(t,e)=>{let n=Ke();if(!n)throw new Error("User not authenticated");let r=Ge(Jn,"users",n.uid,"lists",t);return Ln(r,e)},delete:async t=>{let e=Ke();if(!e)throw new Error("User not authenticated");let n=Ge(Jn,"users",e.uid,"lists",t);return Pn(n)},getAll:async()=>{if(!Ke())throw new Error("User not authenticated");let e=ct(an("lists"),Mt("createdAt","desc"));return(await Rn(e)).docs.map(r=>Ms({id:r.id,...r.data()}))},subscribe:t=>{if(!Ke())throw new Error("User not authenticated");let n=ct(an("lists"),Mt("createdAt","desc"));return Mn(n,r=>{let s=r.docs.map(i=>Ms({id:i.id,...i.data()}));t(s)})}},dO={add:async t=>{let e=Ke();if(!e)throw new Error("User not authenticated");return(await On(an("tags"),{...t,createdAt:new Date,userId:e.uid})).id},update:async(t,e)=>{let n=Ke();if(!n)throw new Error("User not authenticated");let r=Ge(Jn,"users",n.uid,"tags",t);return Ln(r,e)},delete:async t=>{let e=Ke();if(!e)throw new Error("User not authenticated");let n=Ge(Jn,"users",e.uid,"tags",t);return Pn(n)},getAll:async()=>{if(!Ke())throw new Error("User not authenticated");let e=ct(an("tags"),Mt("createdAt","desc"));return(await Rn(e)).docs.map(r=>Ms({id:r.id,...r.data()}))},subscribe:t=>{if(!Ke())throw new Error("User not authenticated");let n=ct(an("tags"),Mt("createdAt","desc"));return Mn(n,r=>{let s=r.docs.map(i=>Ms({id:i.id,...i.data()}));t(s)})}},hO={add:async t=>{let e=Ke();if(!e)throw new Error("User not authenticated");return(await On(an("listFolders"),{...t,userId:e.uid})).id},update:async(t,e)=>{let n=Ke();if(!n)throw new Error("User not authenticated");let r=Ge(Jn,"users",n.uid,"listFolders",t);return Ln(r,e)},delete:async t=>{let e=Ke();if(!e)throw new Error("User not authenticated");let n=Ge(Jn,"users",e.uid,"listFolders",t);return Pn(n)},getAll:async()=>{if(!Ke())throw new Error("User not authenticated");return(await Rn(an("listFolders"))).docs.map(n=>({id:n.id,...n.data()}))},subscribe:t=>{if(!Ke())throw new Error("User not authenticated");let n=ct(an("listFolders"));return Mn(n,r=>{let s=r.docs.map(i=>({id:i.id,...i.data()}));t(s)})}},fO={add:async t=>{let e=Ke();if(!e)throw new Error("User not authenticated");return(await On(an("tagFolders"),{...t,userId:e.uid})).id},update:async(t,e)=>{let n=Ke();if(!n)throw new Error("User not authenticated");let r=Ge(Jn,"users",n.uid,"tagFolders",t);return Ln(r,e)},delete:async t=>{let e=Ke();if(!e)throw new Error("User not authenticated");let n=Ge(Jn,"users",e.uid,"tagFolders",t);return Pn(n)},getAll:async()=>{if(!Ke())throw new Error("User not authenticated");return(await Rn(an("tagFolders"))).docs.map(n=>({id:n.id,...n.data()}))},subscribe:t=>{if(!Ke())throw new Error("User not authenticated");let n=ct(an("tagFolders"));return Mn(n,r=>{let s=r.docs.map(i=>({id:i.id,...i.data()}));t(s)})}};var d8={add:async t=>{let e=Ke();if(!e)throw new Error("User not authenticated");return(await On(an("foci"),{...t,userId:e.uid})).id},update:async(t,e)=>{let n=Ke();if(!n)throw new Error("User not authenticated");let r=Ge(Jn,"users",n.uid,"foci",t);return Ln(r,e)},delete:async t=>{let e=Ke();if(!e)throw new Error("User not authenticated");let n=Ge(Jn,"users",e.uid,"foci",t);return Pn(n)},getAll:async()=>{if(!Ke())throw new Error("User not authenticated");return(await Rn(an("foci"))).docs.map(r=>({id:r.id,...r.data()}))},subscribe:t=>{if(!Ke())throw new Error("User not authenticated");let n=ct(an("foci"));return Mn(n,r=>{let s=r.docs.map(i=>({id:i.id,...i.data()}));t(s)})}},mO={add:async t=>{let e=Ke();if(!e)throw new Error("User not authenticated");let n={...t,startDate:new Date,userId:e.uid,targetEndDate:t.targetEndDate||null};return(await On(an("goals"),n)).id},update:async(t,e)=>{let n=Ke();if(!n)throw new Error("User not authenticated");let r=Ge(Jn,"users",n.uid,"goals",t);return Ln(r,e)},delete:async t=>{let e=Ke();if(!e)throw new Error("User not authenticated");let n=Ge(Jn,"users",e.uid,"goals",t);return Pn(n)},getAll:async()=>{if(!Ke())throw new Error("User not authenticated");let e=ct(an("goals"),Mt("startDate","desc"));return(await Rn(e)).docs.map(r=>Ms({id:r.id,...r.data()}))},subscribe:t=>{if(!Ke())throw new Error("User not authenticated");let n=ct(an("goals"),Mt("startDate","desc"));return Mn(n,r=>{let s=r.docs.map(i=>Ms({id:i.id,...i.data()}));t(s)})}},h8={add:async t=>{let e=Ke();if(!e)throw new Error("User not authenticated");let n={...t,userId:e.uid,description:t.description||"",targetEndDate:t.targetEndDate||null,focusAreaId:t.focusAreaId||null};return(await On(an("milestones"),n)).id},update:async(t,e)=>{let n=Ke();if(!n)throw new Error("User not authenticated");let r=Ge(Jn,"users",n.uid,"milestones",t);return Ln(r,e)},delete:async t=>{let e=Ke();if(!e)throw new Error("User not authenticated");let n=Ge(Jn,"users",e.uid,"milestones",t);return Pn(n)},getAll:async()=>{if(!Ke())throw new Error("User not authenticated");let e=ct(an("milestones"),Mt("startDate","desc"));return(await Rn(e)).docs.map(r=>Ms({id:r.id,...r.data()}))},subscribe:t=>{if(!Ke())throw new Error("User not authenticated");let n=ct(an("milestones"),Mt("startDate","desc"));return Mn(n,r=>{let s=r.docs.map(i=>Ms({id:i.id,...i.data()}));t(s)})}},f8={add:async t=>{let e=Ke();if(!e)throw new Error("User not authenticated");return(await On(an("quickWins"),{...t,createdAt:new Date,userId:e.uid})).id},update:async(t,e)=>{let n=Ke();if(!n)throw new Error("User not authenticated");let r=Ge(Jn,"users",n.uid,"quickWins",t);return Ln(r,e)},delete:async t=>{let e=Ke();if(!e)throw new Error("User not authenticated");let n=Ge(Jn,"users",e.uid,"quickWins",t);return Pn(n)},getAll:async()=>{if(!Ke())throw new Error("User not authenticated");let e=ct(an("quickWins"),Mt("createdAt","desc"));return(await Rn(e)).docs.map(r=>Ms({id:r.id,...r.data()}))},subscribe:t=>{if(!Ke())throw new Error("User not authenticated");let n=ct(an("quickWins"),Mt("createdAt","desc"));return Mn(n,r=>{let s=r.docs.map(i=>Ms({id:i.id,...i.data()}));t(s)})}},m8={add:async t=>{let e=Ke();if(!e)throw new Error("User not authenticated");let n={...t,createdAt:new Date,userId:e.uid,target:t.target||null,targetComparison:t.targetComparison||null,targetType:t.targetType||null,checklist:t.checklist||[],milestoneId:t.milestoneId||null,goalId:t.goalId||null,focusAreaId:t.focusAreaId||null,endDate:t.endDate||null,reminders:t.reminders||[]};return(await On(an("habits"),n)).id},update:async(t,e)=>{let n=Ke();if(!n)throw new Error("User not authenticated");let r=Ge(Jn,"users",n.uid,"habits",t),s={};for(let i in e)e[i]!==void 0&&(s[i]=e[i]);return Ln(r,s)},delete:async t=>{let e=Ke();if(!e)throw new Error("User not authenticated");let n=Ge(Jn,"users",e.uid,"habits",t);return Pn(n)},getAll:async()=>{if(!Ke())throw new Error("User not authenticated");let e=ct(an("habits"),Mt("createdAt","desc"));return(await Rn(e)).docs.map(r=>Ms({id:r.id,...r.data()}))},subscribe:t=>{if(!Ke())throw new Error("User not authenticated");let n=ct(an("habits"),Mt("createdAt","desc"));return Mn(n,r=>{let s=r.docs.map(i=>Ms({id:i.id,...i.data()}));t(s)})}};var pO=async()=>{let t=Ke();if(!t)throw new Error("User not authenticated");let e=await m8.getAll(),n=await mO.getAll();if(e.length>0||n.length>0){console.log("User data already exists, skipping initialization");return}console.log("Initializing user data for new user:",t.uid);let{initialFoci:r}=await Promise.resolve().then(()=>(mb(),KE));console.log("Adding default focus areas:",r.length),await Promise.all(r.map(async h=>{await d8.add(h)})),console.log("Adding default goals:",BE.length),await Promise.all(BE.map(async h=>{await mO.add(h)})),console.log("Adding default milestones:",zE.length),await Promise.all(zE.map(async h=>{await h8.add(h)})),console.log("Adding default quick wins:",qE.length),await Promise.all(qE.map(async h=>{await f8.add(h)})),console.log("Adding default custom lists:",GE.length);let s=await uO.getAll(),i=GE.filter(h=>!s.some(p=>p.name===h.name));i.length>0?(console.log("Lists to add:",i.map(h=>h.name)),await Promise.all(i.map(async h=>{await uO.add(h)}))):console.log("No new lists to add");let o=await hO.getAll(),a=aO.filter(h=>!o.some(p=>p.name===h.name));a.length>0?(console.log("Adding list folders:",a.map(h=>h.name)),await Promise.all(a.map(async h=>{await hO.add(h)}))):console.log("No new list folders to add");let l=await dO.getAll(),u=cO.filter(h=>!l.some(p=>p.name===h.name));u.length>0?(console.log("Adding tags:",u.map(h=>h.name)),await Promise.all(u.map(async h=>{await dO.add(h)}))):console.log("No new tags to add");let d=await fO.getAll(),f=lO.filter(h=>!d.some(p=>p.name===h.name));f.length>0?(console.log("Adding tag folders:",f.map(h=>h.name)),await Promise.all(f.map(async h=>{await fO.add(h)}))):console.log("No new tag folders to add"),console.log("User data initialization completed successfully")};var pb=async(t,e,n)=>{let r=await o0(fb,t,e);try{await RE(Ge(Jn,"users",r.user.uid),{email:t,displayName:n||t.split("@")[0],createdAt:new Date},{merge:!0}),await pO()}catch(s){console.error("Error initializing user data:",s)}return r},gb=(t,e)=>a0(fb,t,e);var Ke=()=>fb.currentUser;var gr=L(H(),1),p8=({isOpen:t,onClose:e,onAuthSuccess:n})=>{let[r,s]=(0,Jc.useState)(!1),[i,o]=(0,Jc.useState)(""),[a,l]=(0,Jc.useState)(""),[u,d]=(0,Jc.useState)(""),[f,h]=(0,Jc.useState)(""),[p,b]=(0,Jc.useState)(!1),I=async v=>{v.preventDefault(),h(""),b(!0);try{r?await pb(i,a,u):await gb(i,a),n(),e()}catch(g){console.error("Auth error:",g),h(g.message)}finally{b(!1)}};return t?(0,gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999]",children:(0,gr.jsxs)("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4 relative z-[10000]",children:[(0,gr.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:r?"Create Account":"Sign In"}),(0,gr.jsxs)("form",{onSubmit:I,className:"space-y-4",children:[r&&(0,gr.jsxs)("div",{children:[(0,gr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),(0,gr.jsx)("input",{type:"text",value:u,onChange:v=>d(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your name"})]}),(0,gr.jsxs)("div",{children:[(0,gr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,gr.jsx)("input",{type:"email",value:i,onChange:v=>o(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),(0,gr.jsxs)("div",{children:[(0,gr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,gr.jsx)("input",{type:"password",value:a,onChange:v=>l(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your password",required:!0})]}),f&&(0,gr.jsx)("div",{className:"text-red-600 text-sm",children:f}),(0,gr.jsx)("button",{type:"submit",disabled:p,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50",children:p?"Loading...":r?"Sign Up":"Sign In"})]}),(0,gr.jsx)("div",{className:"mt-4 text-center",children:(0,gr.jsx)("button",{onClick:()=>s(!r),className:"text-blue-600 hover:underline",children:r?"Already have an account? Sign In":"Don't have an account? Sign Up"})}),(0,gr.jsx)("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:"\u2715"})]})}):null},gO=p8;var Zc=L(me(),1);Pe();var We=L(H(),1),g8=({onAuthSuccess:t,onBackToLanding:e})=>{let[n,r]=(0,Zc.useState)(!1),[s,i]=(0,Zc.useState)(""),[o,a]=(0,Zc.useState)(""),[l,u]=(0,Zc.useState)(""),[d,f]=(0,Zc.useState)(""),[h,p]=(0,Zc.useState)(!1);return(0,We.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50 flex items-center justify-center px-4",children:(0,We.jsxs)("div",{className:"max-w-md w-full",children:[(0,We.jsxs)("div",{className:"text-center mb-8",children:[(0,We.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,We.jsx)("img",{src:"/Jeevan Saathi Logo.png",alt:"Jeevan Saathi Logo",className:"w-12 h-12 rounded-lg mr-3",onError:I=>{I.currentTarget.style.display="none",I.currentTarget.nextElementSibling?.classList.add("ml-0")}}),(0,We.jsx)("h1",{className:"text-3xl font-bold text-amber-700",children:"Jeevan Saathi"})]}),(0,We.jsx)("p",{className:"text-gray-600",children:"\u091C\u0940\u0935\u0928 \u0938\u093E\u0925\u0940 - Your Life Companion"})]}),(0,We.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,We.jsx)("h2",{className:"text-2xl font-bold text-center mb-6",children:n?"Create Your Account":"Welcome Back"}),(0,We.jsxs)("form",{onSubmit:async I=>{I.preventDefault(),console.log("Login page form submitted"),f(""),p(!0);try{n?(console.log("Attempting sign up from login page"),await pb(s,o,l)):(console.log("Attempting sign in from login page"),await gb(s,o)),t()}catch(v){console.error("Auth error from login page:",v),f(v.message)}finally{p(!1)}},className:"space-y-4",children:[n&&(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),(0,We.jsx)("input",{type:"text",value:l,onChange:I=>u(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Enter your name",required:n})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,We.jsx)("input",{type:"email",value:s,onChange:I=>i(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]}),(0,We.jsxs)("div",{children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,We.jsx)("input",{type:"password",value:o,onChange:I=>a(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Enter your password",required:!0})]}),d&&(0,We.jsx)("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md",children:d}),(0,We.jsx)("button",{type:"submit",disabled:h,className:"w-full bg-gradient-to-r from-orange-500 to-amber-500 text-white py-3 px-4 rounded-md hover:from-orange-600 hover:to-amber-600 transition-all duration-200 font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:h?(0,We.jsxs)("div",{className:"flex items-center justify-center",children:[(0,We.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),n?"Creating Account...":"Signing In..."]}):n?"Create Account":"Sign In"})]}),(0,We.jsx)("div",{className:"mt-6 text-center",children:(0,We.jsx)("button",{onClick:()=>r(!n),className:"text-amber-600 hover:text-amber-700 font-medium",children:n?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]}),(0,We.jsx)("div",{className:"text-center mt-6",children:(0,We.jsxs)("button",{onClick:e,className:"text-gray-600 hover:text-gray-800 flex items-center justify-center mx-auto",children:[(0,We.jsx)(xs,{className:"w-4 h-4 mr-2"}),"Back to Home"]})}),(0,We.jsxs)("div",{className:"mt-8 flex justify-center space-x-6",children:[(0,We.jsxs)("div",{className:"text-center",children:[(0,We.jsx)("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,We.jsx)(It,{className:"w-6 h-6 text-white"})}),(0,We.jsx)("p",{className:"text-xs text-gray-600",children:"Task Management"})]}),(0,We.jsxs)("div",{className:"text-center",children:[(0,We.jsx)("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,We.jsx)(je,{className:"w-6 h-6 text-white"})}),(0,We.jsx)("p",{className:"text-xs text-gray-600",children:"Habit Tracking"})]}),(0,We.jsxs)("div",{className:"text-center",children:[(0,We.jsx)("div",{className:"w-12 h-12 bg-yellow-500 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,We.jsx)(nn,{className:"w-6 h-6 text-white"})}),(0,We.jsx)("p",{className:"text-xs text-gray-600",children:"Personal Journal"})]}),(0,We.jsxs)("div",{className:"text-center",children:[(0,We.jsx)("div",{className:"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,We.jsx)(vn,{className:"w-6 h-6 text-white"})}),(0,We.jsx)("p",{className:"text-xs text-gray-600",children:"Knowledge Base"})]})]})]})})},yO=g8;XE();wb();xb();var uh=L(me(),1),ch=L(me(),1),Pa=L(me(),1);var V8={data:""},H8=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||V8;var B8=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,z8=/\/\*[^]*?\*\/|  +/g,qO=/\n+/g,ql=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?ql(o,i):i+"{"+ql(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=ql(o,e?e.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ql.p?ql.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},La={},GO=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+GO(t[n]);return e}return t},q8=(t,e,n,r,s)=>{let i=GO(t),o=La[i]||(La[i]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(i));if(!La[o]){let l=i!==t?t:(u=>{let d,f,h=[{}];for(;d=B8.exec(u.replace(z8,""));)d[4]?h.shift():d[3]?(f=d[3].replace(qO," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(qO," ").trim();return h[0]})(t);La[o]=ql(s?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&La.g?La.g:null;return n&&(La.g=La[o]),((l,u,d,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(La[o],e,r,a),o},G8=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":ql(a,""):a===!1?"":a}return r+s+(o??"")},"");function ep(t){let e=this||{},n=t.call?t(e.p):t;return q8(n.unshift?n.raw?G8(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,H8(e.target),e.g,e.o,e.k)}var jO,oS,aS,mJ=ep.bind({g:1}),Vs=ep.bind({k:1});function $O(t,e,n,r){ql.p=e,jO=t,oS=n,aS=r}function li(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;n.p=Object.assign({theme:oS&&oS()},a),n.o=/ *go\d+/.test(l),a.className=ep.apply(n,r)+(l?" "+l:""),e&&(a.ref=o);let u=t;return t[0]&&(u=a.as||t,delete a.as),aS&&u[0]&&aS(a),jO(u,a)}return e?e(s):s}}var eu=L(me(),1);var Gl=L(me(),1),j8=t=>typeof t=="function",_b=(t,e)=>j8(t)?t(e):t,$8=(()=>{let t=0;return()=>(++t).toString()})(),KO=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),K8=20,WO=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,K8)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return WO(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Ib=[],tu={toasts:[],pausedAt:void 0},nu=t=>{tu=WO(tu,t),Ib.forEach(e=>{e(tu)})},W8={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Y8=(t={})=>{let[e,n]=(0,uh.useState)(tu),r=(0,uh.useRef)(tu);(0,uh.useEffect)(()=>(r.current!==tu&&n(tu),Ib.push(n),()=>{let i=Ib.indexOf(n);i>-1&&Ib.splice(i,1)}),[]);let s=e.toasts.map(i=>{var o,a,l;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((o=t[i.type])==null?void 0:o.removeDelay)||t?.removeDelay,duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||t?.duration||W8[i.type],style:{...t.style,...(l=t[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:s}},Q8=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||$8()}),np=t=>(e,n)=>{let r=Q8(e,t,n);return nu({type:2,toast:r}),r.id},Vr=(t,e)=>np("blank")(t,e);Vr.error=np("error");Vr.success=np("success");Vr.loading=np("loading");Vr.custom=np("custom");Vr.dismiss=t=>{nu({type:3,toastId:t})};Vr.remove=t=>nu({type:4,toastId:t});Vr.promise=(t,e,n)=>{let r=Vr.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?_b(e.success,s):void 0;return i?Vr.success(i,{id:r,...n,...n?.success}):Vr.dismiss(r),s}).catch(s=>{let i=e.error?_b(e.error,s):void 0;i?Vr.error(i,{id:r,...n,...n?.error}):Vr.dismiss(r)}),t};var X8=(t,e)=>{nu({type:1,toast:{id:t,height:e}})},J8=()=>{nu({type:5,time:Date.now()})},tp=new Map,Z8=1e3,e7=(t,e=Z8)=>{if(tp.has(t))return;let n=setTimeout(()=>{tp.delete(t),nu({type:4,toastId:t})},e);tp.set(t,n)},t7=t=>{let{toasts:e,pausedAt:n}=Y8(t);(0,ch.useEffect)(()=>{if(n)return;let i=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&Vr.dismiss(a.id);return}return setTimeout(()=>Vr.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=(0,ch.useCallback)(()=>{n&&nu({type:6,time:Date.now()})},[n]),s=(0,ch.useCallback)((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=o||{},d=e.filter(p=>(p.position||u)===(i.position||u)&&p.height),f=d.findIndex(p=>p.id===i.id),h=d.filter((p,b)=>b<f&&p.visible).length;return d.filter(p=>p.visible).slice(...a?[h+1]:[0,h]).reduce((p,b)=>p+(b.height||0)+l,0)},[e]);return(0,ch.useEffect)(()=>{e.forEach(i=>{if(i.dismissed)e7(i.id,i.removeDelay);else{let o=tp.get(i.id);o&&(clearTimeout(o),tp.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:X8,startPause:J8,endPause:r,calculateOffset:s}}},n7=Vs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,r7=Vs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,s7=Vs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,i7=li("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${n7} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${r7} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${s7} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,o7=Vs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,a7=li("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${o7} 1s linear infinite;
`,l7=Vs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,c7=Vs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,u7=li("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${l7} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${c7} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,d7=li("div")`
  position: absolute;
`,h7=li("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,f7=Vs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,m7=li("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${f7} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,p7=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?eu.createElement(m7,null,e):e:n==="blank"?null:eu.createElement(h7,null,eu.createElement(a7,{...r}),n!=="loading"&&eu.createElement(d7,null,n==="error"?eu.createElement(i7,{...r}):eu.createElement(u7,{...r})))},g7=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,y7=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,b7="0%{opacity:0;} 100%{opacity:1;}",v7="0%{opacity:1;} 100%{opacity:0;}",w7=li("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,x7=li("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,T7=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=KO()?[b7,v7]:[g7(n),y7(n)];return{animation:e?`${Vs(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Vs(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},I7=Pa.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?T7(t.position||e||"top-center",t.visible):{opacity:0},i=Pa.createElement(p7,{toast:t}),o=Pa.createElement(x7,{...t.ariaProps},_b(t.message,t));return Pa.createElement(w7,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):Pa.createElement(Pa.Fragment,null,i,o))});$O(Gl.createElement);var _7=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=Gl.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return Gl.createElement("div",{ref:i,className:e,style:n},s)},E7=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:KO()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},S7=ep`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Tb=16,YO=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=t7(n);return Gl.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Tb,left:Tb,right:Tb,bottom:Tb,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let d=u.position||e,f=l.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),h=E7(d,f);return Gl.createElement(_7,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?S7:"",style:h},u.type==="custom"?_b(u.message,u):s?s(u):Gl.createElement(I7,{toast:u,position:d}))}))};cS();rp();var sp=L(H(),1),k7=({size:t="md",color:e="white",className:n=""})=>{let r={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-8 w-8",xl:"h-12 w-12"},s={white:"text-white",blue:"text-blue-600",gray:"text-gray-600"};return(0,sp.jsxs)("svg",{className:`animate-spin ${r[t]} ${s[e]} ${n}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,sp.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,sp.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})},uS=k7;var XO=L(me(),1),A7=({onViewChange:t,onProfileClick:e,onSignOut:n})=>((0,XO.useEffect)(()=>{let r=s=>{if(!(s.target instanceof HTMLInputElement||s.target instanceof HTMLTextAreaElement)&&(s.ctrlKey||s.metaKey))switch(s.key){case"1":s.preventDefault(),t("dainandini");break;case"2":s.preventDefault(),t("kary");break;case"3":s.preventDefault(),t("abhyasa");break;case"4":s.preventDefault(),t("vidya");break;case"p":s.preventDefault(),e();break;case"q":s.preventDefault(),n();break}};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[t,e,n]),null),JO=A7;rm();Pe();var _t=L(H(),1),D7=({isOpen:t,onClose:e})=>t?(0,_t.jsx)(Il,{title:"Keyboard Shortcuts & Help",onClose:e,children:(0,_t.jsxs)("div",{className:"space-y-6",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold mb-3 text-gray-800",children:"Keyboard Shortcuts"}),(0,_t.jsx)("div",{className:"space-y-2",children:[{key:"Ctrl/Cmd + 1",description:"Switch to Dainandini (Journal)"},{key:"Ctrl/Cmd + 2",description:"Switch to Kary (Tasks)"},{key:"Ctrl/Cmd + 3",description:"Switch to Abhyasa (Habits)"},{key:"Ctrl/Cmd + 4",description:"Switch to Vidya (Learning)"},{key:"Ctrl/Cmd + P",description:"Open Profile"},{key:"Ctrl/Cmd + Q",description:"Sign Out"}].map((r,s)=>(0,_t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,_t.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded text-sm font-mono",children:r.key}),(0,_t.jsx)("span",{className:"text-gray-600",children:r.description})]},s))})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold mb-3 text-gray-800",children:"App Features"}),(0,_t.jsxs)("div",{className:"space-y-3",children:[(0,_t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_t.jsx)(nn,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("h4",{className:"font-medium text-gray-800",children:"Dainandini"}),(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:"Journal your thoughts, track mood, and reflect on your day"})]})]}),(0,_t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_t.jsx)(It,{className:"w-5 h-5 text-green-600 mt-0.5"}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("h4",{className:"font-medium text-gray-800",children:"Kary"}),(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:"Manage tasks, organize projects, and track progress"})]})]}),(0,_t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_t.jsx)(je,{className:"w-5 h-5 text-purple-600 mt-0.5"}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("h4",{className:"font-medium text-gray-800",children:"Abhyasa"}),(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:"Build habits, set goals, and track your practice"})]})]}),(0,_t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_t.jsx)(vn,{className:"w-5 h-5 text-orange-600 mt-0.5"}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("h4",{className:"font-medium text-gray-800",children:"Vidya"}),(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:"Organize learning materials and track your studies"})]})]})]})]}),(0,_t.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,_t.jsx)("button",{onClick:e,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Got it!"})})]})}):null,ZO=D7;var O=L(H(),1),U5=un.default.lazy(()=>Promise.resolve().then(()=>(W4(),K4))),nW=un.default.lazy(()=>Promise.resolve().then(()=>(b3(),y3))),rW=un.default.lazy(()=>Promise.resolve().then(()=>(B3(),H3))),sW=un.default.lazy(()=>Promise.resolve().then(()=>(q3(),z3))),iW=un.default.lazy(()=>Promise.resolve().then(()=>(F5(),M5))),oW=[{viewId:"home",icon:"HomeIcon",label:"Home"},{viewId:"kary",icon:"CheckSquareIcon",label:"Kary"},{viewId:"vidya",icon:"BookOpenIcon",label:"Vidy\u0101"},{viewId:"abhyasa",icon:"TargetIcon",label:"Abhyasa"},{viewId:"dainandini",icon:"Edit3Icon",label:"Dainandini"}],aW=({icon:t,label:e,isActive:n,onClick:r})=>{let s=J[t];return(0,O.jsxs)("button",{onClick:r,className:`relative flex items-center justify-center w-12 h-12 rounded-lg transition-colors duration-200 group focus:outline-none focus:ring-2 focus:ring-blue-500 ${n?"bg-blue-600 text-white":"text-gray-500 hover:bg-gray-200"}`,"aria-label":e,children:[(0,O.jsx)(s,{className:"w-6 h-6"}),(0,O.jsx)("span",{className:"absolute left-full ml-4 px-2 py-1 bg-gray-800 text-white text-xs rounded-md shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10",children:e})]})},lW=({activeView:t,onSetView:e,onProfileClick:n,onSignOut:r,onHelpClick:s,user:i,isMobile:o,isSidebarOpen:a,onCloseSidebar:l})=>(0,O.jsxs)("aside",{className:`fixed inset-y-0 left-0 z-30 flex-shrink-0 w-20 bg-gray-50/80 border-r border-gray-200 transition-transform duration-300 ease-in-out
        ${o?a?"translate-x-0":"-translate-x-full":"translate-x-0"}
        ${o?"":"flex flex-col"}
      `,children:[(0,O.jsx)("div",{className:"py-4 mt-2 flex justify-center",children:(0,O.jsxs)("button",{onClick:n,className:"relative focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-full","aria-label":"User Profile and Settings",children:[(0,O.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:(0,O.jsx)(tm,{className:"w-6 h-6 text-blue-600"})}),(0,O.jsx)("span",{className:"absolute -top-1 -left-1 text-lg",role:"img","aria-label":"premium",children:"\u{1F451}"})]})}),(0,O.jsx)("nav",{className:"flex flex-col items-center space-y-4 px-2 py-4",children:oW.map(({viewId:u,icon:d,label:f})=>(0,O.jsx)(aW,{icon:d,label:f,isActive:t===u,onClick:()=>{e(u),o&&l()}},u))}),(0,O.jsxs)("div",{className:"mt-auto mb-4 space-y-2 flex flex-col items-center",children:[(0,O.jsx)("button",{onClick:s,className:"flex items-center justify-center w-12 h-12 rounded-lg transition-colors duration-200 text-gray-500 hover:bg-blue-100 hover:text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Help",children:(0,O.jsx)(lT,{className:"w-6 h-6"})}),(0,O.jsx)("button",{onClick:r,className:"flex items-center justify-center w-12 h-12 rounded-lg transition-colors duration-200 text-gray-500 hover:bg-red-100 hover:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-500","aria-label":"Sign Out",children:(0,O.jsx)(aT,{className:"w-6 h-6"})})]})]}),cW=()=>{let[t,e]=(0,un.useState)("home"),[n,r]=(0,un.useState)(()=>{let de="AIzaSyBAVXKA-ko41iIzXkv_59jR615RqYz8Zv0";return de||localStorage.getItem("gemini-api-key")}),[s,i]=(0,un.useState)(!1),[o,a]=(0,un.useState)(!1),[l,u]=(0,un.useState)(!1),[d,f]=(0,un.useState)(!1),{width:h}=jl(),p=h!==void 0&&h<768,[b,I]=(0,un.useState)(null),[v,g]=(0,un.useState)(!1),[y,_]=(0,un.useState)(!1),[A,R]=(0,un.useState)(!0),U=()=>{console.log("Button clicked! Opening auth modal..."),console.log("Current isAuthModalOpen state:",v),g(!0),console.log("Set isAuthModalOpen to true")},S=()=>{g(!1)},E=()=>{console.log("Showing login page..."),_(!0)},T=()=>{console.log("Going back to landing page..."),_(!1)},x=()=>{console.log("Auth successful!"),g(!1),_(!1)},N=Jm(),D=Zm(),k=lS();(0,un.useEffect)(()=>{N.error&&Vr.error(N.error)},[N.error]),(0,un.useEffect)(()=>{D.error&&Vr.error(D.error)},[D.error]),(0,un.useEffect)(()=>{k.error&&Vr.error(k.error)},[k.error]),(0,un.useEffect)(()=>{let de=TO(se=>{I(se),R(!1)});return()=>de()},[]),(0,un.useEffect)(()=>{if(!b||A)return;(async()=>{await Promise.all([N.fetchKaryData(),D.fetchDainandiniData(),k.fetchAbhyasaData()])})()},[b,A]);let V=de=>{de.trim()?(localStorage.setItem("gemini-api-key",de.trim()),r(de.trim())):(localStorage.removeItem("gemini-api-key"),r(null)),i(!1)},z=(0,un.useCallback)(async()=>{try{await xO()}catch(de){console.error("Error signing out:",de)}},[]);return A?(0,O.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,O.jsxs)("div",{className:"text-center",children:[(0,O.jsx)(uS,{size:"xl",color:"blue",className:"mb-4"}),(0,O.jsx)("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Loading Jeevan Saathi"}),(0,O.jsx)("p",{className:"text-gray-500",children:"Your personal life management companion"})]})}):b?(0,O.jsxs)("div",{className:"flex h-screen font-sans text-gray-800 bg-transparent",children:[(0,O.jsx)(JO,{onViewChange:e,onProfileClick:()=>a(!0),onSignOut:z}),(0,O.jsx)(YO,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff",borderRadius:"8px",padding:"12px 16px"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{iconTheme:{primary:"#EF4444",secondary:"#fff"}}}}),p&&(0,O.jsx)("button",{onClick:()=>f(!d),className:"fixed top-4 left-4 z-40 p-2 rounded-md bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Toggle Sidebar",children:(0,O.jsx)(Ec,{className:"w-6 h-6"})}),(0,O.jsx)(lW,{activeView:t,onSetView:e,onProfileClick:()=>a(!0),onSignOut:z,onHelpClick:()=>u(!0),user:b,isMobile:p,isSidebarOpen:d,onCloseSidebar:()=>f(!1)}),d&&p&&(0,O.jsx)("div",{className:"fixed inset-0 bg-black opacity-50 z-20",onClick:()=>f(!1)}),(0,O.jsx)("div",{className:`flex-1 flex transition-all duration-300 ease-in-out ${p?"ml-0":"ml-20"}`,children:(0,O.jsx)(un.Suspense,{fallback:(0,O.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,O.jsxs)("div",{className:"text-center",children:[(0,O.jsx)(uS,{size:"lg",color:"blue",className:"mb-4"}),(0,O.jsx)("p",{className:"text-gray-600",children:"Loading view..."})]})}),children:(()=>{switch(t){case"home":return(0,O.jsx)(U5,{isAppSidebarOpen:!p||d});case"dainandini":return(0,O.jsx)(nW,{isAppSidebarOpen:!p||d});case"kary":return(0,O.jsx)(rW,{isAppSidebarOpen:!p||d});case"abhyasa":return(0,O.jsx)(iW,{isAppSidebarOpen:!p||d});case"vidya":return(0,O.jsx)(sW,{});default:return(0,O.jsx)(U5,{isAppSidebarOpen:!p||d})}})()})}),s&&(0,O.jsx)(KC,{currentApiKey:n,onSave:V,onClose:()=>i(!1)}),o&&b&&(0,O.jsx)(WC,{isOpen:o,onClose:()=>a(!1),user:b}),l&&(0,O.jsx)(ZO,{isOpen:l,onClose:()=>u(!1)}),(0,O.jsx)(gO,{isOpen:v,onClose:S,onAuthSuccess:x})]}):y?(0,O.jsx)(yO,{onAuthSuccess:x,onBackToLanding:T}):(0,O.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50",children:[(0,O.jsx)("nav",{className:"bg-white/80 backdrop-blur-sm border-b border-orange-100 px-6 py-4",children:(0,O.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[(0,O.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,O.jsx)("img",{src:"/Jeevan Saathi Logo.png",alt:"Jeevan Saathi Logo",className:"w-10 h-10 rounded-lg",onError:de=>{de.currentTarget.style.display="none",de.currentTarget.nextElementSibling?.classList.add("ml-0")}}),(0,O.jsx)("div",{children:(0,O.jsx)("div",{className:"text-2xl font-bold text-amber-700",children:"Jeevan Saathi"})})]}),(0,O.jsxs)("div",{className:"hidden md:flex items-center space-x-8",children:[(0,O.jsx)("a",{href:"#home",className:"text-gray-700 hover:text-amber-600 transition-colors",children:"Home"}),(0,O.jsx)("a",{href:"#features",className:"text-gray-700 hover:text-amber-600 transition-colors",children:"Features"}),(0,O.jsx)("a",{href:"#about",className:"text-gray-700 hover:text-amber-600 transition-colors",children:"About"})]}),(0,O.jsx)("div",{className:"flex items-center space-x-4",children:(0,O.jsx)("button",{onClick:E,className:"bg-gradient-to-r from-orange-500 to-amber-500 text-white px-6 py-2 rounded-lg hover:from-orange-600 hover:to-amber-600 transition-all duration-200 shadow-lg hover:shadow-xl",children:"Get Started"})})]})}),(0,O.jsxs)("section",{id:"home",className:"py-20 px-6",children:[(0,O.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,O.jsx)("h1",{className:"text-6xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent mb-6",children:"Jeevan Saathi"}),(0,O.jsx)("h2",{className:"text-2xl text-gray-700 mb-6",children:"\u091C\u0940\u0935\u0928 \u0938\u093E\u0925\u0940 - Your Life Companion"}),(0,O.jsx)("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed max-w-3xl mx-auto",children:"A comprehensive personal management application designed to help you organize your life across tasks, journaling, goal setting, and learning. Your holistic platform for personal growth and productivity."}),(0,O.jsx)("div",{className:"flex justify-center",children:(0,O.jsx)("button",{onClick:E,className:"bg-gradient-to-r from-orange-500 to-amber-500 text-white px-8 py-4 rounded-lg hover:from-orange-600 hover:to-amber-600 transition-all duration-200 font-semibold text-lg shadow-lg hover:shadow-xl",children:"Start Your Journey"})})]}),(0,O.jsx)("div",{className:"max-w-4xl mx-auto mt-16",children:(0,O.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,O.jsxs)("div",{className:"text-center",children:[(0,O.jsx)("div",{className:"w-16 h-16 bg-green-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:(0,O.jsx)(It,{className:"w-8 h-8 text-white"})}),(0,O.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Task Management"})]}),(0,O.jsxs)("div",{className:"text-center",children:[(0,O.jsx)("div",{className:"w-16 h-16 bg-blue-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:(0,O.jsx)(je,{className:"w-8 h-8 text-white"})}),(0,O.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Habit Tracking"})]}),(0,O.jsxs)("div",{className:"text-center",children:[(0,O.jsx)("div",{className:"w-16 h-16 bg-yellow-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:(0,O.jsx)(nn,{className:"w-8 h-8 text-white"})}),(0,O.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Personal Journal"})]}),(0,O.jsxs)("div",{className:"text-center",children:[(0,O.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 via-green-500 to-yellow-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:(0,O.jsx)(vn,{className:"w-8 h-8 text-white"})}),(0,O.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Knowledge Base"})]})]})})]}),(0,O.jsx)("section",{id:"features",className:"py-20 px-6 bg-white/50",children:(0,O.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,O.jsxs)("div",{className:"text-center mb-16",children:[(0,O.jsx)("h2",{className:"text-4xl font-bold text-amber-600 mb-4",children:"Four Pillars of Life Management"}),(0,O.jsx)("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Jeevan Saathi is divided into four comprehensive modules, each designed to support different aspects of your personal growth journey."})]}),(0,O.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,O.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100",children:[(0,O.jsxs)("div",{className:"flex items-start mb-6",children:[(0,O.jsx)("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center mr-4",children:(0,O.jsx)(It,{className:"w-6 h-6 text-white"})}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Kary"}),(0,O.jsx)("p",{className:"text-gray-600",children:"\u0915\u093E\u0930\u094D\u092F - Work/Tasks"})]})]}),(0,O.jsx)("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"A powerful task manager that helps you organize your to-do lists, set due dates, and track your progress. Create custom lists, add tags, and break down large tasks into smaller subtasks."}),(0,O.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,O.jsx)("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm",children:"Custom Lists"}),(0,O.jsx)("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm",children:"Due Dates"}),(0,O.jsx)("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm",children:"Progress Tracking"}),(0,O.jsx)("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm",children:"Subtasks"})]})]}),(0,O.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100",children:[(0,O.jsxs)("div",{className:"flex items-start mb-6",children:[(0,O.jsx)("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center mr-4",children:(0,O.jsx)(je,{className:"w-6 h-6 text-white"})}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Abhyasa"}),(0,O.jsx)("p",{className:"text-gray-600",children:"\u0905\u092D\u094D\u092F\u093E\u0938 - Practice/Habits"})]})]}),(0,O.jsx)("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"A habit tracker that helps you build and maintain good habits. Set goals, track your progress with a calendar view, and get detailed statistics on your habit completion rate."}),(0,O.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,O.jsx)("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm",children:"Goal Setting"}),(0,O.jsx)("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm",children:"Calendar View"}),(0,O.jsx)("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm",children:"Statistics"}),(0,O.jsx)("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm",children:"Streak Tracking"})]})]}),(0,O.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100",children:[(0,O.jsxs)("div",{className:"flex items-start mb-6",children:[(0,O.jsx)("div",{className:"w-12 h-12 bg-yellow-500 rounded-lg flex items-center justify-center mr-4",children:(0,O.jsx)(nn,{className:"w-6 h-6 text-white"})}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Dainandini"}),(0,O.jsx)("p",{className:"text-gray-600",children:"\u0926\u0948\u0928\u0902\u0926\u093F\u0928\u0940 - Journal"})]})]}),(0,O.jsx)("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"A personal journal for your thoughts, reflections, and daily logs. Create different types of entries (text, checklists, ratings) and organize them by focus areas."}),(0,O.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,O.jsx)("span",{className:"bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-sm",children:"Multiple Entry Types"}),(0,O.jsx)("span",{className:"bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-sm",children:"Focus Areas"}),(0,O.jsx)("span",{className:"bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-sm",children:"Daily Logs"}),(0,O.jsx)("span",{className:"bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-sm",children:"Reflections"})]})]}),(0,O.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100 relative",children:[(0,O.jsx)("div",{className:"absolute top-4 right-4",children:(0,O.jsx)("span",{className:"bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full text-xs font-medium",children:"Coming Soon"})}),(0,O.jsxs)("div",{className:"flex items-start mb-6",children:[(0,O.jsx)("div",{className:"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center mr-4",children:(0,O.jsx)(vn,{className:"w-6 h-6 text-white"})}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Vidya"}),(0,O.jsx)("p",{className:"text-gray-600",children:"\u0935\u093F\u0926\u094D\u092F\u093E - Knowledge"})]})]}),(0,O.jsx)("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"A knowledge base for learning and growth. Build your personal learning repository with articles, notes, and insights organized for easy discovery and reference."}),(0,O.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,O.jsx)("span",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm",children:"Learning Repository"}),(0,O.jsx)("span",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm",children:"Article Management"}),(0,O.jsx)("span",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm",children:"Note Organization"}),(0,O.jsx)("span",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm",children:"Easy Discovery"})]})]})]})]})}),(0,O.jsx)("section",{className:"py-20 px-6",children:(0,O.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,O.jsxs)("div",{className:"text-center mb-16",children:[(0,O.jsx)("h2",{className:"text-4xl font-bold text-amber-600 mb-4",children:"Future Roadmap"}),(0,O.jsx)("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"AI-Powered Personal Growth"}),(0,O.jsx)("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Our vision extends beyond basic productivity tools. We're building intelligent features that learn from your patterns and help you grow in meaningful ways."})]}),(0,O.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,O.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100",children:[(0,O.jsxs)("div",{className:"flex items-center mb-6",children:[(0,O.jsx)("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center mr-4",children:(0,O.jsx)("span",{className:"text-2xl",children:"\u{1F916}"})}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Kary (Tasks)"}),(0,O.jsx)("p",{className:"text-gray-600",children:"AI-Enhanced Features"})]})]}),(0,O.jsxs)("ul",{className:"space-y-4",children:[(0,O.jsxs)("li",{className:"flex items-start",children:[(0,O.jsx)("span",{className:"text-green-500 mr-3 mt-1",children:"\u2022"}),(0,O.jsxs)("div",{children:[(0,O.jsx)("strong",{children:"Smart Task Prioritization:"})," AI analyzes your habits and completion history to suggest which tasks are most important or at risk."]})]}),(0,O.jsxs)("li",{className:"flex items-start",children:[(0,O.jsx)("span",{className:"text-green-500 mr-3 mt-1",children:"\u2022"}),(0,O.jsxs)("div",{children:[(0,O.jsx)("strong",{children:"Automatic Task Breakdown:"})," For complex tasks, AI suggests step-by-step breakdowns. Enter 'Plan a birthday party' and get organized sub-tasks."]})]})]})]}),(0,O.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100",children:[(0,O.jsxs)("div",{className:"flex items-center mb-6",children:[(0,O.jsx)("div",{className:"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center mr-4",children:(0,O.jsx)("span",{className:"text-2xl",children:"\u{1F3AF}"})}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Abhyasa (Habits)"}),(0,O.jsx)("p",{className:"text-gray-600",children:"AI-Enhanced Features"})]})]}),(0,O.jsxs)("ul",{className:"space-y-4",children:[(0,O.jsxs)("li",{className:"flex items-start",children:[(0,O.jsx)("span",{className:"text-purple-500 mr-3 mt-1",children:"\u2022"}),(0,O.jsxs)("div",{children:[(0,O.jsx)("strong",{children:"Personalized Habit Coaching:"})," AI acts as your personal coach, providing motivational messages and insights based on your progress patterns."]})]}),(0,O.jsxs)("li",{className:"flex items-start",children:[(0,O.jsx)("span",{className:"text-purple-500 mr-3 mt-1",children:"\u2022"}),(0,O.jsxs)("div",{children:[(0,O.jsx)("strong",{children:"Habit Prediction & Intervention:"})," Predict when you're likely to break a streak and proactively send supportive reminders."]})]})]})]}),(0,O.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100",children:[(0,O.jsxs)("div",{className:"flex items-center mb-6",children:[(0,O.jsx)("div",{className:"w-12 h-12 bg-yellow-500 rounded-lg flex items-center justify-center mr-4",children:(0,O.jsx)("span",{className:"text-2xl",children:"\u{1F4CA}"})}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Dainandini (Journal)"}),(0,O.jsx)("p",{className:"text-gray-600",children:"AI-Enhanced Features"})]})]}),(0,O.jsxs)("ul",{className:"space-y-4",children:[(0,O.jsxs)("li",{className:"flex items-start",children:[(0,O.jsx)("span",{className:"text-yellow-500 mr-3 mt-1",children:"\u2022"}),(0,O.jsxs)("div",{children:[(0,O.jsx)("strong",{children:"Sentiment Analysis & Mood Tracking:"})," AI analyzes your journal entries to track emotional states and show correlations with other activities."]})]}),(0,O.jsxs)("li",{className:"flex items-start",children:[(0,O.jsx)("span",{className:"text-yellow-500 mr-3 mt-1",children:"\u2022"}),(0,O.jsxs)("div",{children:[(0,O.jsx)("strong",{children:"Automatic Insights & Goal Suggestions:"})," Extract recurring themes from your reflections and suggest relevant goals and habits for personal growth."]})]})]})]}),(0,O.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100",children:[(0,O.jsxs)("div",{className:"flex items-center mb-6",children:[(0,O.jsx)("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center mr-4",children:(0,O.jsx)("span",{className:"text-2xl",children:"\u{1F4DA}"})}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Vidya (Knowledge)"}),(0,O.jsx)("p",{className:"text-gray-600",children:"AI-Enhanced Features"})]})]}),(0,O.jsxs)("ul",{className:"space-y-4",children:[(0,O.jsxs)("li",{className:"flex items-start",children:[(0,O.jsx)("span",{className:"text-blue-500 mr-3 mt-1",children:"\u2022"}),(0,O.jsxs)("div",{children:[(0,O.jsx)("strong",{children:"Personalized Learning Recommendations:"})," Based on your goals and interests, AI recommends articles, courses, and videos tailored to your learning path."]})]}),(0,O.jsxs)("li",{className:"flex items-start",children:[(0,O.jsx)("span",{className:"text-blue-500 mr-3 mt-1",children:"\u2022"}),(0,O.jsxs)("div",{children:[(0,O.jsx)("strong",{children:"Knowledge Synthesis & Q&A:"})," AI helps synthesize information, connect ideas, and answer questions based on your saved content."]})]})]})]})]})]})}),(0,O.jsx)("footer",{className:"bg-gray-50 border-t border-gray-200 py-8 px-6",children:(0,O.jsxs)("div",{className:"max-w-6xl mx-auto text-center",children:[(0,O.jsxs)("div",{className:"flex flex-wrap justify-center items-center gap-6 text-sm text-gray-500 mb-4",children:[(0,O.jsxs)("div",{className:"flex items-center",children:[(0,O.jsx)("span",{className:"text-lg mr-2",children:"\u2728"}),(0,O.jsx)("span",{children:"Free to use"})]}),(0,O.jsxs)("div",{className:"flex items-center",children:[(0,O.jsx)("span",{className:"text-lg mr-2",children:"\u{1F512}"}),(0,O.jsx)("span",{children:"Secure & Private"})]}),(0,O.jsxs)("div",{className:"flex items-center",children:[(0,O.jsx)("span",{className:"text-lg mr-2",children:"\u{1F4F1}"}),(0,O.jsx)("span",{children:"Mobile-friendly"})]}),(0,O.jsxs)("div",{className:"flex items-center",children:[(0,O.jsx)("span",{className:"text-lg mr-2",children:"\u{1F680}"}),(0,O.jsx)("span",{children:"Modern & Fast"})]}),(0,O.jsxs)("div",{className:"flex items-center",children:[(0,O.jsx)("span",{className:"text-lg mr-2",children:"\u{1F916}"}),(0,O.jsx)("span",{children:"AI-Powered"})]})]}),(0,O.jsx)("p",{className:"text-gray-400 text-sm",children:"\xA9 2024 Jeevan Saathi. Your personal life management companion."})]})})]})},V5=cW;var I1=L(H(),1),z5=document.getElementById("root");if(!z5)throw new Error("Could not find root element to mount to");var uW=B5.default.createRoot(z5);uW.render((0,I1.jsx)(H5.default.StrictMode,{children:(0,I1.jsx)(V5,{})}));
/*! Bundled license information:

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.js:
  (**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-client.production.js:
  (**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.js:
  (**
   * @license React
   * react-jsx-runtime.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@firebase/util/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2025 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/logger/dist/esm/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/app/dist/esm/index.esm.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2025 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/webchannel-wrapper/dist/bloom-blob/esm/bloom_blob_es2018.js:
  (** @license
  Copyright The Closure Library Authors.
  SPDX-License-Identifier: Apache-2.0
  *)
  (** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  *)

@firebase/webchannel-wrapper/dist/webchannel-blob/esm/webchannel_blob_es2018.js:
  (** @license
  Copyright The Closure Library Authors.
  SPDX-License-Identifier: Apache-2.0
  *)
  (** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  *)

@firebase/firestore/dist/index.esm.js:
  (**
  * @license
  * Copyright 2020 Google LLC
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
  * You may obtain a copy of the License at
  *
  *   http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2025 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2018 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2024 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law | agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

firebase/app/dist/esm/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
//# sourceMappingURL=index.mjs.map
