var RK=Object.create;var $v=Object.defineProperty;var LK=Object.getOwnPropertyDescriptor;var PK=Object.getOwnPropertyNames;var OK=Object.getPrototypeOf,MK=Object.prototype.hasOwnProperty;var FK=(t,e,n)=>e in t?$v(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var G=(t,e)=>()=>(t&&(e=t(t=0)),e);var uo=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ua=(t,e)=>{for(var n in e)$v(t,n,{get:e[n],enumerable:!0})},UK=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of PK(e))!MK.call(t,s)&&s!==n&&$v(t,s,{get:()=>e[s],enumerable:!(r=LK(e,s))||r.enumerable});return t};var L=(t,e,n)=>(n=t!=null?RK(OK(t)):{},UK(e||!t||!t.__esModule?$v(n,"default",{value:t,enumerable:!0}):n,t));var bn=(t,e,n)=>FK(t,typeof e!="symbol"?e+"":e,n);var TM=uo(mt=>{"use strict";var DE=Symbol.for("react.transitional.element"),VK=Symbol.for("react.portal"),HK=Symbol.for("react.fragment"),BK=Symbol.for("react.strict_mode"),qK=Symbol.for("react.profiler"),zK=Symbol.for("react.consumer"),jK=Symbol.for("react.context"),GK=Symbol.for("react.forward_ref"),$K=Symbol.for("react.suspense"),KK=Symbol.for("react.memo"),gM=Symbol.for("react.lazy"),dM=Symbol.iterator;function WK(t){return t===null||typeof t!="object"?null:(t=dM&&t[dM]||t["@@iterator"],typeof t=="function"?t:null)}var yM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vM=Object.assign,bM={};function Yh(t,e,n){this.props=t,this.context=e,this.refs=bM,this.updater=n||yM}Yh.prototype.isReactComponent={};Yh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wM(){}wM.prototype=Yh.prototype;function CE(t,e,n){this.props=t,this.context=e,this.refs=bM,this.updater=n||yM}var RE=CE.prototype=new wM;RE.constructor=CE;vM(RE,Yh.prototype);RE.isPureReactComponent=!0;var hM=Array.isArray,Vn={H:null,A:null,T:null,S:null,V:null},_M=Object.prototype.hasOwnProperty;function LE(t,e,n,r,s,i){return n=i.ref,{$$typeof:DE,type:t,key:e,ref:n!==void 0?n:null,props:i}}function QK(t,e){return LE(t.type,e,void 0,void 0,void 0,t.props)}function PE(t){return typeof t=="object"&&t!==null&&t.$$typeof===DE}function YK(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fM=/\/+/g;function AE(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YK(""+t.key):e.toString(36)}function mM(){}function XK(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(mM,mM):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Qh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case DE:case VK:o=!0;break;case gM:return o=t._init,Qh(o(t._payload),e,n,r,s)}}if(o)return s=s(t),o=r===""?"."+AE(t,0):r,hM(s)?(n="",o!=null&&(n=o.replace(fM,"$&/")+"/"),Qh(s,e,n,"",function(c){return c})):s!=null&&(PE(s)&&(s=QK(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(fM,"$&/")+"/")+o)),e.push(s)),1;o=0;var a=r===""?".":r+":";if(hM(t))for(var l=0;l<t.length;l++)r=t[l],i=a+AE(r,l),o+=Qh(r,e,n,i,s);else if(l=WK(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,i=a+AE(r,l++),o+=Qh(r,e,n,i,s);else if(i==="object"){if(typeof t.then=="function")return Qh(XK(t),e,n,r,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return o}function Kv(t,e,n){if(t==null)return t;var r=[],s=0;return Qh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function JK(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pM=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ZK(){}mt.Children={map:Kv,forEach:function(t,e,n){Kv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kv(t,function(){e++}),e},toArray:function(t){return Kv(t,function(e){return e})||[]},only:function(t){if(!PE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};mt.Component=Yh;mt.Fragment=HK;mt.Profiler=qK;mt.PureComponent=CE;mt.StrictMode=BK;mt.Suspense=$K;mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Vn;mt.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Vn.H.useMemoCache(t)}};mt.cache=function(t){return function(){return t.apply(null,arguments)}};mt.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=vM({},t.props),s=t.key,i=void 0;if(e!=null)for(o in e.ref!==void 0&&(i=void 0),e.key!==void 0&&(s=""+e.key),e)!_M.call(e,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&e.ref===void 0||(r[o]=e[o]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];r.children=a}return LE(t.type,s,void 0,void 0,i,r)};mt.createContext=function(t){return t={$$typeof:jK,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:zK,_context:t},t};mt.createElement=function(t,e,n){var r,s={},i=null;if(e!=null)for(r in e.key!==void 0&&(i=""+e.key),e)_M.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];s.children=a}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return LE(t,i,void 0,void 0,null,s)};mt.createRef=function(){return{current:null}};mt.forwardRef=function(t){return{$$typeof:GK,render:t}};mt.isValidElement=PE;mt.lazy=function(t){return{$$typeof:gM,_payload:{_status:-1,_result:t},_init:JK}};mt.memo=function(t,e){return{$$typeof:KK,type:t,compare:e===void 0?null:e}};mt.startTransition=function(t){var e=Vn.T,n={};Vn.T=n;try{var r=t(),s=Vn.S;s!==null&&s(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(ZK,pM)}catch(i){pM(i)}finally{Vn.T=e}};mt.unstable_useCacheRefresh=function(){return Vn.H.useCacheRefresh()};mt.use=function(t){return Vn.H.use(t)};mt.useActionState=function(t,e,n){return Vn.H.useActionState(t,e,n)};mt.useCallback=function(t,e){return Vn.H.useCallback(t,e)};mt.useContext=function(t){return Vn.H.useContext(t)};mt.useDebugValue=function(){};mt.useDeferredValue=function(t,e){return Vn.H.useDeferredValue(t,e)};mt.useEffect=function(t,e,n){var r=Vn.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};mt.useId=function(){return Vn.H.useId()};mt.useImperativeHandle=function(t,e,n){return Vn.H.useImperativeHandle(t,e,n)};mt.useInsertionEffect=function(t,e){return Vn.H.useInsertionEffect(t,e)};mt.useLayoutEffect=function(t,e){return Vn.H.useLayoutEffect(t,e)};mt.useMemo=function(t,e){return Vn.H.useMemo(t,e)};mt.useOptimistic=function(t,e){return Vn.H.useOptimistic(t,e)};mt.useReducer=function(t,e,n){return Vn.H.useReducer(t,e,n)};mt.useRef=function(t){return Vn.H.useRef(t)};mt.useState=function(t){return Vn.H.useState(t)};mt.useSyncExternalStore=function(t,e,n){return Vn.H.useSyncExternalStore(t,e,n)};mt.useTransition=function(){return Vn.H.useTransition()};mt.version="19.1.1"});var ge=uo(($me,IM)=>{"use strict";IM.exports=TM()});var LM=uo(Hn=>{"use strict";function UE(t,e){var n=t.length;t.push(e);e:for(;0<n;){var r=n-1>>>1,s=t[r];if(0<Wv(s,e))t[r]=e,t[n]=s,n=r;else break e}}function da(t){return t.length===0?null:t[0]}function Yv(t){if(t.length===0)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;e:for(var r=0,s=t.length,i=s>>>1;r<i;){var o=2*(r+1)-1,a=t[o],l=o+1,c=t[l];if(0>Wv(a,n))l<s&&0>Wv(c,a)?(t[r]=c,t[l]=n,r=l):(t[r]=a,t[o]=n,r=o);else if(l<s&&0>Wv(c,n))t[r]=c,t[l]=n,r=l;else break e}}return e}function Wv(t,e){var n=t.sortIndex-e.sortIndex;return n!==0?n:t.id-e.id}Hn.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(xM=performance,Hn.unstable_now=function(){return xM.now()}):(OE=Date,EM=OE.now(),Hn.unstable_now=function(){return OE.now()-EM});var xM,OE,EM,Sl=[],Lc=[],eW=1,ho=null,Ss=3,VE=!1,jp=!1,Gp=!1,HE=!1,kM=typeof setTimeout=="function"?setTimeout:null,AM=typeof clearTimeout=="function"?clearTimeout:null,SM=typeof setImmediate<"u"?setImmediate:null;function Qv(t){for(var e=da(Lc);e!==null;){if(e.callback===null)Yv(Lc);else if(e.startTime<=t)Yv(Lc),e.sortIndex=e.expirationTime,UE(Sl,e);else break;e=da(Lc)}}function BE(t){if(Gp=!1,Qv(t),!jp)if(da(Sl)!==null)jp=!0,Jh||(Jh=!0,Xh());else{var e=da(Lc);e!==null&&qE(BE,e.startTime-t)}}var Jh=!1,$p=-1,DM=5,CM=-1;function RM(){return HE?!0:!(Hn.unstable_now()-CM<DM)}function ME(){if(HE=!1,Jh){var t=Hn.unstable_now();CM=t;var e=!0;try{e:{jp=!1,Gp&&(Gp=!1,AM($p),$p=-1),VE=!0;var n=Ss;try{t:{for(Qv(t),ho=da(Sl);ho!==null&&!(ho.expirationTime>t&&RM());){var r=ho.callback;if(typeof r=="function"){ho.callback=null,Ss=ho.priorityLevel;var s=r(ho.expirationTime<=t);if(t=Hn.unstable_now(),typeof s=="function"){ho.callback=s,Qv(t),e=!0;break t}ho===da(Sl)&&Yv(Sl),Qv(t)}else Yv(Sl);ho=da(Sl)}if(ho!==null)e=!0;else{var i=da(Lc);i!==null&&qE(BE,i.startTime-t),e=!1}}break e}finally{ho=null,Ss=n,VE=!1}e=void 0}}finally{e?Xh():Jh=!1}}}var Xh;typeof SM=="function"?Xh=function(){SM(ME)}:typeof MessageChannel<"u"?(FE=new MessageChannel,NM=FE.port2,FE.port1.onmessage=ME,Xh=function(){NM.postMessage(null)}):Xh=function(){kM(ME,0)};var FE,NM;function qE(t,e){$p=kM(function(){t(Hn.unstable_now())},e)}Hn.unstable_IdlePriority=5;Hn.unstable_ImmediatePriority=1;Hn.unstable_LowPriority=4;Hn.unstable_NormalPriority=3;Hn.unstable_Profiling=null;Hn.unstable_UserBlockingPriority=2;Hn.unstable_cancelCallback=function(t){t.callback=null};Hn.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):DM=0<t?Math.floor(1e3/t):5};Hn.unstable_getCurrentPriorityLevel=function(){return Ss};Hn.unstable_next=function(t){switch(Ss){case 1:case 2:case 3:var e=3;break;default:e=Ss}var n=Ss;Ss=e;try{return t()}finally{Ss=n}};Hn.unstable_requestPaint=function(){HE=!0};Hn.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=Ss;Ss=t;try{return e()}finally{Ss=n}};Hn.unstable_scheduleCallback=function(t,e,n){var r=Hn.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?r+n:r):n=r,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=n+s,t={id:eW++,callback:e,priorityLevel:t,startTime:n,expirationTime:s,sortIndex:-1},n>r?(t.sortIndex=n,UE(Lc,t),da(Sl)===null&&t===da(Lc)&&(Gp?(AM($p),$p=-1):Gp=!0,qE(BE,n-r))):(t.sortIndex=s,UE(Sl,t),jp||VE||(jp=!0,Jh||(Jh=!0,Xh()))),t};Hn.unstable_shouldYield=RM;Hn.unstable_wrapCallback=function(t){var e=Ss;return function(){var n=Ss;Ss=e;try{return t.apply(this,arguments)}finally{Ss=n}}}});var OM=uo((Wme,PM)=>{"use strict";PM.exports=LM()});var FM=uo(Js=>{"use strict";var tW=ge();function MM(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Pc(){}var Xs={d:{f:Pc,r:function(){throw Error(MM(522))},D:Pc,C:Pc,L:Pc,m:Pc,X:Pc,S:Pc,M:Pc},p:0,findDOMNode:null},nW=Symbol.for("react.portal");function rW(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nW,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var Kp=tW.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Xv(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Js.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Xs;Js.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(MM(299));return rW(t,e,null,n)};Js.flushSync=function(t){var e=Kp.T,n=Xs.p;try{if(Kp.T=null,Xs.p=2,t)return t()}finally{Kp.T=e,Xs.p=n,Xs.d.f()}};Js.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Xs.d.C(t,e))};Js.prefetchDNS=function(t){typeof t=="string"&&Xs.d.D(t)};Js.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=Xv(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Xs.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:s,fetchPriority:i}):n==="script"&&Xs.d.X(t,{crossOrigin:r,integrity:s,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Js.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Xv(e.as,e.crossOrigin);Xs.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Xs.d.M(t)};Js.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=Xv(n,e.crossOrigin);Xs.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Js.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Xv(e.as,e.crossOrigin);Xs.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Xs.d.m(t)};Js.requestFormReset=function(t){Xs.d.r(t)};Js.unstable_batchedUpdates=function(t,e){return t(e)};Js.useFormState=function(t,e,n){return Kp.H.useFormState(t,e,n)};Js.useFormStatus=function(){return Kp.H.useHostTransitionStatus()};Js.version="19.1.1"});var zE=uo((Yme,VM)=>{"use strict";function UM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UM)}catch(t){console.error(t)}}UM(),VM.exports=FM()});var B3=uo(bw=>{"use strict";var jr=OM(),aF=ge(),sW=zE();function J(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function lF(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pg(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cF(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function HM(t){if(Pg(t)!==t)throw Error(J(188))}function iW(t){var e=t.alternate;if(!e){if(e=Pg(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return HM(s),t;if(i===r)return HM(s),e;i=i.sibling}throw Error(J(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function uF(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=uF(t),e!==null)return e;t=t.sibling}return null}var Rn=Object.assign,oW=Symbol.for("react.element"),Jv=Symbol.for("react.transitional.element"),ng=Symbol.for("react.portal"),of=Symbol.for("react.fragment"),dF=Symbol.for("react.strict_mode"),_S=Symbol.for("react.profiler"),aW=Symbol.for("react.provider"),hF=Symbol.for("react.consumer"),Cl=Symbol.for("react.context"),gN=Symbol.for("react.forward_ref"),TS=Symbol.for("react.suspense"),IS=Symbol.for("react.suspense_list"),yN=Symbol.for("react.memo"),Fc=Symbol.for("react.lazy");Symbol.for("react.scope");var xS=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var lW=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var BM=Symbol.iterator;function Wp(t){return t===null||typeof t!="object"?null:(t=BM&&t[BM]||t["@@iterator"],typeof t=="function"?t:null)}var cW=Symbol.for("react.client.reference");function ES(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===cW?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case of:return"Fragment";case _S:return"Profiler";case dF:return"StrictMode";case TS:return"Suspense";case IS:return"SuspenseList";case xS:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ng:return"Portal";case Cl:return(t.displayName||"Context")+".Provider";case hF:return(t._context.displayName||"Context")+".Consumer";case gN:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yN:return e=t.displayName||null,e!==null?e:ES(t.type)||"Memo";case Fc:e=t._payload,t=t._init;try{return ES(t(e))}catch{}}return null}var rg=Array.isArray,Je=aF.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Yt=sW.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,od={pending:!1,data:null,method:null,action:null},SS=[],af=-1;function va(t){return{current:t}}function ts(t){0>af||(t.current=SS[af],SS[af]=null,af--)}function qn(t,e){af++,SS[af]=t.current,t.current=e}var pa=va(null),wg=va(null),Kc=va(null),kb=va(null);function Ab(t,e){switch(qn(Kc,e),qn(wg,t),qn(pa,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?K4(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=K4(e),t=A3(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ts(pa),qn(pa,t)}function Sf(){ts(pa),ts(wg),ts(Kc)}function NS(t){t.memoizedState!==null&&qn(kb,t);var e=pa.current,n=A3(e,t.type);e!==n&&(qn(wg,t),qn(pa,n))}function Db(t){wg.current===t&&(ts(pa),ts(wg)),kb.current===t&&(ts(kb),Dg._currentValue=od)}var kS=Object.prototype.hasOwnProperty,vN=jr.unstable_scheduleCallback,jE=jr.unstable_cancelCallback,uW=jr.unstable_shouldYield,dW=jr.unstable_requestPaint,ga=jr.unstable_now,hW=jr.unstable_getCurrentPriorityLevel,fF=jr.unstable_ImmediatePriority,mF=jr.unstable_UserBlockingPriority,Cb=jr.unstable_NormalPriority,fW=jr.unstable_LowPriority,pF=jr.unstable_IdlePriority,mW=jr.log,pW=jr.unstable_setDisableYieldValue,Og=null,zi=null;function zc(t){if(typeof mW=="function"&&pW(t),zi&&typeof zi.setStrictMode=="function")try{zi.setStrictMode(Og,t)}catch{}}var ji=Math.clz32?Math.clz32:vW,gW=Math.log,yW=Math.LN2;function vW(t){return t>>>=0,t===0?32:31-(gW(t)/yW|0)|0}var Zv=256,eb=4194304;function rd(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function sw(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var s=0,i=t.suspendedLanes,o=t.pingedLanes;t=t.warmLanes;var a=r&134217727;return a!==0?(r=a&~i,r!==0?s=rd(r):(o&=a,o!==0?s=rd(o):n||(n=a&~t,n!==0&&(s=rd(n))))):(a=r&~i,a!==0?s=rd(a):o!==0?s=rd(o):n||(n=r&~t,n!==0&&(s=rd(n)))),s===0?0:e!==0&&e!==s&&!(e&i)&&(i=s&-s,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:s}function Mg(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function bW(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gF(){var t=Zv;return Zv<<=1,!(Zv&4194048)&&(Zv=256),t}function yF(){var t=eb;return eb<<=1,!(eb&62914560)&&(eb=4194304),t}function GE(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fg(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wW(t,e,n,r,s,i){var o=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var a=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=o&~n;0<n;){var d=31-ji(n),h=1<<d;a[d]=0,l[d]=-1;var f=c[d];if(f!==null)for(c[d]=null,d=0;d<f.length;d++){var m=f[d];m!==null&&(m.lane&=-536870913)}n&=~h}r!==0&&vF(t,r,0),i!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=i&~(o&~e))}function vF(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-ji(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function bF(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ji(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}function bN(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function wN(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function wF(){var t=Yt.p;return t!==0?t:(t=window.event,t===void 0?32:V3(t.type))}function _W(t,e){var n=Yt.p;try{return Yt.p=t,e()}finally{Yt.p=n}}var su=Math.random().toString(36).slice(2),Ns="__reactFiber$"+su,fi="__reactProps$"+su,Ff="__reactContainer$"+su,AS="__reactEvents$"+su,TW="__reactListeners$"+su,IW="__reactHandles$"+su,qM="__reactResources$"+su,Ug="__reactMarker$"+su;function _N(t){delete t[Ns],delete t[fi],delete t[AS],delete t[TW],delete t[IW]}function lf(t){var e=t[Ns];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ff]||n[Ns]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Y4(t);t!==null;){if(n=t[Ns])return n;t=Y4(t)}return e}t=n,n=t.parentNode}return null}function Uf(t){if(t=t[Ns]||t[Ff]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function sg(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(J(33))}function vf(t){var e=t[qM];return e||(e=t[qM]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Zr(t){t[Ug]=!0}var _F=new Set,TF={};function yd(t,e){Nf(t,e),Nf(t+"Capture",e)}function Nf(t,e){for(TF[t]=e,t=0;t<e.length;t++)_F.add(e[t])}var xW=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zM={},jM={};function EW(t){return kS.call(jM,t)?!0:kS.call(zM,t)?!1:xW.test(t)?jM[t]=!0:(zM[t]=!0,!1)}function pb(t,e,n){if(EW(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function tb(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Nl(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var $E,GM;function nf(t){if($E===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$E=e&&e[1]||"",GM=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$E+t+GM}var KE=!1;function WE(t,e){if(!t||KE)return"";KE=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(m){var f=m}Reflect.construct(t,[],h)}else{try{h.call()}catch(m){f=m}t.call(h.prototype)}}else{try{throw Error()}catch(m){f=m}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(m){if(m&&f&&typeof m.stack=="string")return[m.stack,f.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),o=i[0],a=i[1];if(o&&a){var l=o.split(`
`),c=a.split(`
`);for(s=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(r===l.length||s===c.length)for(r=l.length-1,s=c.length-1;1<=r&&0<=s&&l[r]!==c[s];)s--;for(;1<=r&&0<=s;r--,s--)if(l[r]!==c[s]){if(r!==1||s!==1)do if(r--,s--,0>s||l[r]!==c[s]){var d=`
`+l[r].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=r&&0<=s);break}}}finally{KE=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?nf(n):""}function SW(t){switch(t.tag){case 26:case 27:case 5:return nf(t.type);case 16:return nf("Lazy");case 13:return nf("Suspense");case 19:return nf("SuspenseList");case 0:case 15:return WE(t.type,!1);case 11:return WE(t.type.render,!1);case 1:return WE(t.type,!0);case 31:return nf("Activity");default:return""}}function $M(t){try{var e="";do e+=SW(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function mo(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function IF(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NW(t){var e=IF(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Rb(t){t._valueTracker||(t._valueTracker=NW(t))}function xF(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=IF(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Lb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var kW=/[\n"\\]/g;function yo(t){return t.replace(kW,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function DS(t,e,n,r,s,i,o,a){t.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.type=o:t.removeAttribute("type"),e!=null?o==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+mo(e)):t.value!==""+mo(e)&&(t.value=""+mo(e)):o!=="submit"&&o!=="reset"||t.removeAttribute("value"),e!=null?CS(t,o,mo(e)):n!=null?CS(t,o,mo(n)):r!=null&&t.removeAttribute("value"),s==null&&i!=null&&(t.defaultChecked=!!i),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.name=""+mo(a):t.removeAttribute("name")}function EF(t,e,n,r,s,i,o,a){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null))return;n=n!=null?""+mo(n):"",e=e!=null?""+mo(e):n,a||e===t.value||(t.value=e),t.defaultValue=e}r=r??s,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=a?t.checked:!!r,t.defaultChecked=!!r,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.name=o)}function CS(t,e,n){e==="number"&&Lb(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function bf(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mo(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function SF(t,e,n){if(e!=null&&(e=""+mo(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+mo(n):""}function NF(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(J(92));if(rg(r)){if(1<r.length)throw Error(J(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=mo(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function kf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var AW=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function KM(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||AW.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function kF(t,e,n){if(e!=null&&typeof e!="object")throw Error(J(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var s in e)r=e[s],e.hasOwnProperty(s)&&n[s]!==r&&KM(t,s,r)}else for(var i in e)e.hasOwnProperty(i)&&KM(t,i,e[i])}function TN(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var DW=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),CW=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gb(t){return CW.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var RS=null;function IN(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cf=null,wf=null;function WM(t){var e=Uf(t);if(e&&(t=e.stateNode)){var n=t[fi]||null;e:switch(t=e.stateNode,e.type){case"input":if(DS(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yo(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=r[fi]||null;if(!s)throw Error(J(90));DS(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&xF(r)}break e;case"textarea":SF(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&bf(t,!!n.multiple,e,!1)}}}var QE=!1;function AF(t,e,n){if(QE)return t(e,n);QE=!0;try{var r=t(e);return r}finally{if(QE=!1,(cf!==null||wf!==null)&&(mw(),cf&&(e=cf,t=wf,wf=cf=null,WM(e),t)))for(e=0;e<t.length;e++)WM(t[e])}}function _g(t,e){var n=t.stateNode;if(n===null)return null;var r=n[fi]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Ul=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),LS=!1;if(Ul)try{Zh={},Object.defineProperty(Zh,"passive",{get:function(){LS=!0}}),window.addEventListener("test",Zh,Zh),window.removeEventListener("test",Zh,Zh)}catch{LS=!1}var Zh,jc=null,xN=null,yb=null;function DF(){if(yb)return yb;var t,e=xN,n=e.length,r,s="value"in jc?jc.value:jc.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return yb=s.slice(t,1<r?1-r:void 0)}function vb(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nb(){return!0}function QM(){return!1}function mi(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?nb:QM,this.isPropagationStopped=QM,this}return Rn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nb)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nb)},persist:function(){},isPersistent:nb}),e}var vd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iw=mi(vd),Vg=Rn({},vd,{view:0,detail:0}),RW=mi(Vg),YE,XE,Qp,ow=Rn({},Vg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:EN,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qp&&(Qp&&t.type==="mousemove"?(YE=t.screenX-Qp.screenX,XE=t.screenY-Qp.screenY):XE=YE=0,Qp=t),YE)},movementY:function(t){return"movementY"in t?t.movementY:XE}}),YM=mi(ow),LW=Rn({},ow,{dataTransfer:0}),PW=mi(LW),OW=Rn({},Vg,{relatedTarget:0}),JE=mi(OW),MW=Rn({},vd,{animationName:0,elapsedTime:0,pseudoElement:0}),FW=mi(MW),UW=Rn({},vd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VW=mi(UW),HW=Rn({},vd,{data:0}),XM=mi(HW),BW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zW[t])?!!e[t]:!1}function EN(){return jW}var GW=Rn({},Vg,{key:function(t){if(t.key){var e=BW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vb(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:EN,charCode:function(t){return t.type==="keypress"?vb(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vb(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$W=mi(GW),KW=Rn({},ow,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JM=mi(KW),WW=Rn({},Vg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:EN}),QW=mi(WW),YW=Rn({},vd,{propertyName:0,elapsedTime:0,pseudoElement:0}),XW=mi(YW),JW=Rn({},ow,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZW=mi(JW),eQ=Rn({},vd,{newState:0,oldState:0}),tQ=mi(eQ),nQ=[9,13,27,32],SN=Ul&&"CompositionEvent"in window,og=null;Ul&&"documentMode"in document&&(og=document.documentMode);var rQ=Ul&&"TextEvent"in window&&!og,CF=Ul&&(!SN||og&&8<og&&11>=og),ZM=" ",e4=!1;function RF(t,e){switch(t){case"keyup":return nQ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LF(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var uf=!1;function sQ(t,e){switch(t){case"compositionend":return LF(e);case"keypress":return e.which!==32?null:(e4=!0,ZM);case"textInput":return t=e.data,t===ZM&&e4?null:t;default:return null}}function iQ(t,e){if(uf)return t==="compositionend"||!SN&&RF(t,e)?(t=DF(),yb=xN=jc=null,uf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CF&&e.locale!=="ko"?null:e.data;default:return null}}var oQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!oQ[t.type]:e==="textarea"}function PF(t,e,n,r){cf?wf?wf.push(r):wf=[r]:cf=r,e=Xb(e,"onChange"),0<e.length&&(n=new iw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ag=null,Tg=null;function aQ(t){S3(t,0)}function aw(t){var e=sg(t);if(xF(e))return t}function n4(t,e){if(t==="change")return e}var OF=!1;Ul&&(Ul?(sb="oninput"in document,sb||(ZE=document.createElement("div"),ZE.setAttribute("oninput","return;"),sb=typeof ZE.oninput=="function"),rb=sb):rb=!1,OF=rb&&(!document.documentMode||9<document.documentMode));var rb,sb,ZE;function r4(){ag&&(ag.detachEvent("onpropertychange",MF),Tg=ag=null)}function MF(t){if(t.propertyName==="value"&&aw(Tg)){var e=[];PF(e,Tg,t,IN(t)),AF(aQ,e)}}function lQ(t,e,n){t==="focusin"?(r4(),ag=e,Tg=n,ag.attachEvent("onpropertychange",MF)):t==="focusout"&&r4()}function cQ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return aw(Tg)}function uQ(t,e){if(t==="click")return aw(e)}function dQ(t,e){if(t==="input"||t==="change")return aw(e)}function hQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ki=typeof Object.is=="function"?Object.is:hQ;function Ig(t,e){if(Ki(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!kS.call(e,s)||!Ki(t[s],e[s]))return!1}return!0}function s4(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i4(t,e){var n=s4(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=s4(n)}}function FF(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?FF(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function UF(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Lb(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lb(t.document)}return e}function NN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var fQ=Ul&&"documentMode"in document&&11>=document.documentMode,df=null,PS=null,lg=null,OS=!1;function o4(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;OS||df==null||df!==Lb(r)||(r=df,"selectionStart"in r&&NN(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lg&&Ig(lg,r)||(lg=r,r=Xb(PS,"onSelect"),0<r.length&&(e=new iw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=df)))}function nd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hf={animationend:nd("Animation","AnimationEnd"),animationiteration:nd("Animation","AnimationIteration"),animationstart:nd("Animation","AnimationStart"),transitionrun:nd("Transition","TransitionRun"),transitionstart:nd("Transition","TransitionStart"),transitioncancel:nd("Transition","TransitionCancel"),transitionend:nd("Transition","TransitionEnd")},eS={},VF={};Ul&&(VF=document.createElement("div").style,"AnimationEvent"in window||(delete hf.animationend.animation,delete hf.animationiteration.animation,delete hf.animationstart.animation),"TransitionEvent"in window||delete hf.transitionend.transition);function bd(t){if(eS[t])return eS[t];if(!hf[t])return t;var e=hf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in VF)return eS[t]=e[n];return t}var HF=bd("animationend"),BF=bd("animationiteration"),qF=bd("animationstart"),mQ=bd("transitionrun"),pQ=bd("transitionstart"),gQ=bd("transitioncancel"),zF=bd("transitionend"),jF=new Map,MS="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");MS.push("scrollEnd");function zo(t,e){jF.set(t,e),yd(e,[t])}var a4=new WeakMap;function vo(t,e){if(typeof t=="object"&&t!==null){var n=a4.get(t);return n!==void 0?n:(e={value:t,source:e,stack:$M(e)},a4.set(t,e),e)}return{value:t,source:e,stack:$M(e)}}var fo=[],ff=0,kN=0;function lw(){for(var t=ff,e=kN=ff=0;e<t;){var n=fo[e];fo[e++]=null;var r=fo[e];fo[e++]=null;var s=fo[e];fo[e++]=null;var i=fo[e];if(fo[e++]=null,r!==null&&s!==null){var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}i!==0&&GF(n,s,i)}}function cw(t,e,n,r){fo[ff++]=t,fo[ff++]=e,fo[ff++]=n,fo[ff++]=r,kN|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function AN(t,e,n,r){return cw(t,e,n,r),Pb(t)}function Vf(t,e){return cw(t,null,null,e),Pb(t)}function GF(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var s=!1,i=t.return;i!==null;)i.childLanes|=n,r=i.alternate,r!==null&&(r.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(s=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,s&&e!==null&&(s=31-ji(n),t=i.hiddenUpdates,r=t[s],r===null?t[s]=[e]:r.push(e),e.lane=n|536870912),i):null}function Pb(t){if(50<vg)throw vg=0,rN=null,Error(J(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var mf={};function yQ(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qi(t,e,n,r){return new yQ(t,e,n,r)}function DN(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ml(t,e){var n=t.alternate;return n===null?(n=qi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function $F(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function bb(t,e,n,r,s,i){var o=0;if(r=t,typeof t=="function")DN(t)&&(o=1);else if(typeof t=="string")o=yY(t,n,pa.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case xS:return t=qi(31,n,e,s),t.elementType=xS,t.lanes=i,t;case of:return ad(n.children,s,i,e);case dF:o=8,s|=24;break;case _S:return t=qi(12,n,e,s|2),t.elementType=_S,t.lanes=i,t;case TS:return t=qi(13,n,e,s),t.elementType=TS,t.lanes=i,t;case IS:return t=qi(19,n,e,s),t.elementType=IS,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case aW:case Cl:o=10;break e;case hF:o=9;break e;case gN:o=11;break e;case yN:o=14;break e;case Fc:o=16,r=null;break e}o=29,n=Error(J(130,t===null?"null":typeof t,"")),r=null}return e=qi(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ad(t,e,n,r){return t=qi(7,t,r,e),t.lanes=n,t}function tS(t,e,n){return t=qi(6,t,null,e),t.lanes=n,t}function nS(t,e,n){return e=qi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var pf=[],gf=0,Ob=null,Mb=0,po=[],go=0,ld=null,Rl=1,Ll="";function sd(t,e){pf[gf++]=Mb,pf[gf++]=Ob,Ob=t,Mb=e}function KF(t,e,n){po[go++]=Rl,po[go++]=Ll,po[go++]=ld,ld=t;var r=Rl;t=Ll;var s=32-ji(r)-1;r&=~(1<<s),n+=1;var i=32-ji(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Rl=1<<32-ji(e)+s|n<<s|r,Ll=i+t}else Rl=1<<i|n<<s|r,Ll=t}function CN(t){t.return!==null&&(sd(t,1),KF(t,1,0))}function RN(t){for(;t===Ob;)Ob=pf[--gf],pf[gf]=null,Mb=pf[--gf],pf[gf]=null;for(;t===ld;)ld=po[--go],po[go]=null,Ll=po[--go],po[go]=null,Rl=po[--go],po[go]=null}var Zs=null,ar=null,Qt=!1,cd=null,fa=!1,FS=Error(J(519));function fd(t){var e=Error(J(418,""));throw xg(vo(e,t)),FS}function l4(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Ns]=t,e[fi]=r,n){case"dialog":Et("cancel",e),Et("close",e);break;case"iframe":case"object":case"embed":Et("load",e);break;case"video":case"audio":for(n=0;n<Ng.length;n++)Et(Ng[n],e);break;case"source":Et("error",e);break;case"img":case"image":case"link":Et("error",e),Et("load",e);break;case"details":Et("toggle",e);break;case"input":Et("invalid",e),EF(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Rb(e);break;case"select":Et("invalid",e);break;case"textarea":Et("invalid",e),NF(e,r.value,r.defaultValue,r.children),Rb(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||k3(e.textContent,n)?(r.popover!=null&&(Et("beforetoggle",e),Et("toggle",e)),r.onScroll!=null&&Et("scroll",e),r.onScrollEnd!=null&&Et("scrollend",e),r.onClick!=null&&(e.onclick=yw),e=!0):e=!1,e||fd(t)}function c4(t){for(Zs=t.return;Zs;)switch(Zs.tag){case 5:case 13:fa=!1;return;case 27:case 3:fa=!0;return;default:Zs=Zs.return}}function Yp(t){if(t!==Zs)return!1;if(!Qt)return c4(t),Qt=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||cN(t.type,t.memoizedProps)),n=!n),n&&ar&&fd(t),c4(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){ar=qo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}ar=null}}else e===27?(e=ar,iu(t.type)?(t=hN,hN=null,ar=t):ar=e):ar=Zs?qo(t.stateNode.nextSibling):null;return!0}function Hg(){ar=Zs=null,Qt=!1}function u4(){var t=cd;return t!==null&&(hi===null?hi=t:hi.push.apply(hi,t),cd=null),t}function xg(t){cd===null?cd=[t]:cd.push(t)}var US=va(null),wd=null,Pl=null;function Vc(t,e,n){qn(US,e._currentValue),e._currentValue=n}function Fl(t){t._currentValue=US.current,ts(US)}function VS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function HS(t,e,n,r){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var i=s.dependencies;if(i!==null){var o=s.child;i=i.firstContext;e:for(;i!==null;){var a=i;i=s;for(var l=0;l<e.length;l++)if(a.context===e[l]){i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),VS(i.return,n,t),r||(o=null);break e}i=a.next}}else if(s.tag===18){if(o=s.return,o===null)throw Error(J(341));o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),VS(o,n,t),o=null}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}}function Bg(t,e,n,r){t=null;for(var s=e,i=!1;s!==null;){if(!i){if(s.flags&524288)i=!0;else if(s.flags&262144)break}if(s.tag===10){var o=s.alternate;if(o===null)throw Error(J(387));if(o=o.memoizedProps,o!==null){var a=s.type;Ki(s.pendingProps.value,o.value)||(t!==null?t.push(a):t=[a])}}else if(s===kb.current){if(o=s.alternate,o===null)throw Error(J(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(Dg):t=[Dg])}s=s.return}t!==null&&HS(e,t,n,r),e.flags|=262144}function Fb(t){for(t=t.firstContext;t!==null;){if(!Ki(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function md(t){wd=t,Pl=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ks(t){return WF(wd,t)}function ib(t,e){return wd===null&&md(t),WF(t,e)}function WF(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Pl===null){if(t===null)throw Error(J(308));Pl=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Pl=Pl.next=e;return n}var vQ=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},bQ=jr.unstable_scheduleCallback,wQ=jr.unstable_NormalPriority,qr={$$typeof:Cl,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function LN(){return{controller:new vQ,data:new Map,refCount:0}}function qg(t){t.refCount--,t.refCount===0&&bQ(wQ,function(){t.controller.abort()})}var cg=null,BS=0,Af=0,_f=null;function _Q(t,e){if(cg===null){var n=cg=[];BS=0,Af=n1(),_f={status:"pending",value:void 0,then:function(r){n.push(r)}}}return BS++,e.then(d4,d4),e}function d4(){if(--BS===0&&cg!==null){_f!==null&&(_f.status="fulfilled");var t=cg;cg=null,Af=0,_f=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function TQ(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(r.status="rejected",r.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),r}var h4=Je.S;Je.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&_Q(t,e),h4!==null&&h4(t,e)};var ud=va(null);function PN(){var t=ud.current;return t!==null?t:Nn.pooledCache}function wb(t,e){e===null?qn(ud,ud.current):qn(ud,e.pool)}function QF(){var t=PN();return t===null?null:{parent:qr._currentValue,pool:t}}var zg=Error(J(460)),YF=Error(J(474)),uw=Error(J(542)),qS={then:function(){}};function f4(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ob(){}function XF(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(ob,ob),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,p4(t),t;default:if(typeof e.status=="string")e.then(ob,ob);else{if(t=Nn,t!==null&&100<t.shellSuspendCounter)throw Error(J(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=r}},function(r){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,p4(t),t}throw ug=e,zg}}var ug=null;function m4(){if(ug===null)throw Error(J(459));var t=ug;return ug=null,t}function p4(t){if(t===zg||t===uw)throw Error(J(483))}var Uc=!1;function ON(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wc(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,an&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,e=Pb(t),GF(t,null,n),e}return cw(t,r,e,n),Pb(t)}function dg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bF(t,n)}}function rS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var jS=!1;function hg(){if(jS){var t=_f;if(t!==null)throw t}}function fg(t,e,n,r){jS=!1;var s=t.updateQueue;Uc=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane&-536870913,m=f!==a.lane;if(m?(Ut&f)===f:(r&f)===f){f!==0&&f===Af&&(jS=!0),d!==null&&(d=d.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var y=t,w=a;f=e;var v=n;switch(w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(v,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(v,h,f):y,f==null)break e;h=Rn({},h,f);break e;case 2:Uc=!0}}f=a.callback,f!==null&&(t.flags|=64,m&&(t.flags|=8192),m=s.callbacks,m===null?s.callbacks=[f]:m.push(f))}else m={lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,i===null&&(s.shared.lanes=0),ru|=o,t.lanes=o,t.memoizedState=h}}function JF(t,e){if(typeof t!="function")throw Error(J(191,t));t.call(e)}function ZF(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)JF(n[t],e)}var Df=va(null),Ub=va(0);function g4(t,e){t=Bl,qn(Ub,t),qn(Df,e),Bl=t|e.baseLanes}function GS(){qn(Ub,Bl),qn(Df,Df.current)}function MN(){Bl=Ub.current,ts(Df),ts(Ub)}var tu=0,yt=null,gn=null,kr=null,Vb=!1,Tf=!1,pd=!1,Hb=0,Eg=0,If=null,IQ=0;function vr(){throw Error(J(321))}function FN(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ki(t[n],e[n]))return!1;return!0}function UN(t,e,n,r,s,i){return tu=i,yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Je.H=t===null||t.memoizedState===null?DU:CU,pd=!1,i=n(r,s),pd=!1,Tf&&(i=tU(e,n,r,s)),eU(t),i}function eU(t){Je.H=Bb;var e=gn!==null&&gn.next!==null;if(tu=0,kr=gn=yt=null,Vb=!1,Eg=0,If=null,e)throw Error(J(300));t===null||es||(t=t.dependencies,t!==null&&Fb(t)&&(es=!0))}function tU(t,e,n,r){yt=t;var s=0;do{if(Tf&&(If=null),Eg=0,Tf=!1,25<=s)throw Error(J(301));if(s+=1,kr=gn=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}Je.H=DQ,i=e(n,r)}while(Tf);return i}function xQ(){var t=Je.H,e=t.useState()[0];return e=typeof e.then=="function"?jg(e):e,t=t.useState()[0],(gn!==null?gn.memoizedState:null)!==t&&(yt.flags|=1024),e}function VN(){var t=Hb!==0;return Hb=0,t}function HN(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function BN(t){if(Vb){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Vb=!1}tu=0,kr=gn=yt=null,Tf=!1,Eg=Hb=0,If=null}function ui(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kr===null?yt.memoizedState=kr=t:kr=kr.next=t,kr}function Ar(){if(gn===null){var t=yt.alternate;t=t!==null?t.memoizedState:null}else t=gn.next;var e=kr===null?yt.memoizedState:kr.next;if(e!==null)kr=e,gn=t;else{if(t===null)throw yt.alternate===null?Error(J(467)):Error(J(310));gn=t,t={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},kr===null?yt.memoizedState=kr=t:kr=kr.next=t}return kr}function qN(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jg(t){var e=Eg;return Eg+=1,If===null&&(If=[]),t=XF(If,t,e),e=yt,(kr===null?e.memoizedState:kr.next)===null&&(e=e.alternate,Je.H=e===null||e.memoizedState===null?DU:CU),t}function dw(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jg(t);if(t.$$typeof===Cl)return ks(t)}throw Error(J(438,String(t)))}function zN(t){var e=null,n=yt.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=yt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=qN(),yt.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=lW;return e.index++,n}function Vl(t,e){return typeof e=="function"?e(t):e}function _b(t){var e=Ar();return jN(e,gn,t)}function jN(t,e,n){var r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=n;var s=t.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}e.baseQueue=s=i,r.pending=null}if(i=t.baseState,s===null)t.memoizedState=i;else{e=s.next;var a=o=null,l=null,c=e,d=!1;do{var h=c.lane&-536870913;if(h!==c.lane?(Ut&h)===h:(tu&h)===h){var f=c.revertLane;if(f===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===Af&&(d=!0);else if((tu&f)===f){c=c.next,f===Af&&(d=!0);continue}else h={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(a=l=h,o=i):l=l.next=h,yt.lanes|=f,ru|=f;h=c.action,pd&&n(i,h),i=c.hasEagerState?c.eagerState:n(i,h)}else f={lane:h,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(a=l=f,o=i):l=l.next=f,yt.lanes|=h,ru|=h;c=c.next}while(c!==null&&c!==e);if(l===null?o=i:l.next=a,!Ki(i,t.memoizedState)&&(es=!0,d&&(n=_f,n!==null)))throw n;t.memoizedState=i,t.baseState=o,t.baseQueue=l,r.lastRenderedState=i}return s===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function sS(t){var e=Ar(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ki(i,e.memoizedState)||(es=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function nU(t,e,n){var r=yt,s=Ar(),i=Qt;if(i){if(n===void 0)throw Error(J(407));n=n()}else n=e();var o=!Ki((gn||s).memoizedState,n);o&&(s.memoizedState=n,es=!0),s=s.queue;var a=iU.bind(null,r,s,t);if(Gg(2048,8,a,[t]),s.getSnapshot!==e||o||kr!==null&&kr.memoizedState.tag&1){if(r.flags|=2048,Cf(9,hw(),sU.bind(null,r,s,n,e),null),Nn===null)throw Error(J(349));i||tu&124||rU(r,e,n)}return n}function rU(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=yt.updateQueue,e===null?(e=qN(),yt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sU(t,e,n,r){e.value=n,e.getSnapshot=r,oU(e)&&aU(t)}function iU(t,e,n){return n(function(){oU(e)&&aU(t)})}function oU(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ki(t,n)}catch{return!0}}function aU(t){var e=Vf(t,2);e!==null&&$i(e,t,2)}function $S(t){var e=ui();if(typeof t=="function"){var n=t;if(t=n(),pd){zc(!0);try{n()}finally{zc(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:t},e}function lU(t,e,n,r){return t.baseState=n,jN(t,gn,typeof r=="function"?r:Vl)}function EQ(t,e,n,r,s){if(fw(t))throw Error(J(485));if(t=e.action,t!==null){var i={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};Je.T!==null?n(!0):i.isTransition=!1,r(i),n=e.pending,n===null?(i.next=e.pending=i,cU(e,i)):(i.next=n.next,e.pending=n.next=i)}}function cU(t,e){var n=e.action,r=e.payload,s=t.state;if(e.isTransition){var i=Je.T,o={};Je.T=o;try{var a=n(s,r),l=Je.S;l!==null&&l(o,a),y4(t,e,a)}catch(c){KS(t,e,c)}finally{Je.T=i}}else try{i=n(s,r),y4(t,e,i)}catch(c){KS(t,e,c)}}function y4(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){v4(t,e,r)},function(r){return KS(t,e,r)}):v4(t,e,n)}function v4(t,e,n){e.status="fulfilled",e.value=n,uU(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,cU(t,n)))}function KS(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,uU(e),e=e.next;while(e!==r)}t.action=null}function uU(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function dU(t,e){return e}function b4(t,e){if(Qt){var n=Nn.formState;if(n!==null){e:{var r=yt;if(Qt){if(ar){t:{for(var s=ar,i=fa;s.nodeType!==8;){if(!i){s=null;break t}if(s=qo(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){ar=qo(s.nextSibling),r=s.data==="F!";break e}}fd(r)}r=!1}r&&(e=n[0])}}return n=ui(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dU,lastRenderedState:e},n.queue=r,n=NU.bind(null,yt,r),r.dispatch=n,r=$S(!1),i=WN.bind(null,yt,!1,r.queue),r=ui(),s={state:e,dispatch:null,action:t,pending:null},r.queue=s,n=EQ.bind(null,yt,s,i,n),s.dispatch=n,r.memoizedState=t,[e,n,!1]}function w4(t){var e=Ar();return hU(e,gn,t)}function hU(t,e,n){if(e=jN(t,e,dU)[0],t=_b(Vl)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=jg(e)}catch(o){throw o===zg?uw:o}else r=e;e=Ar();var s=e.queue,i=s.dispatch;return n!==e.memoizedState&&(yt.flags|=2048,Cf(9,hw(),SQ.bind(null,s,n),null)),[r,i,t]}function SQ(t,e){t.action=e}function _4(t){var e=Ar(),n=gn;if(n!==null)return hU(e,n,t);Ar(),e=e.memoizedState,n=Ar();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Cf(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=yt.updateQueue,e===null&&(e=qN(),yt.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function hw(){return{destroy:void 0,resource:void 0}}function fU(){return Ar().memoizedState}function Tb(t,e,n,r){var s=ui();r=r===void 0?null:r,yt.flags|=t,s.memoizedState=Cf(1|e,hw(),n,r)}function Gg(t,e,n,r){var s=Ar();r=r===void 0?null:r;var i=s.memoizedState.inst;gn!==null&&r!==null&&FN(r,gn.memoizedState.deps)?s.memoizedState=Cf(e,i,n,r):(yt.flags|=t,s.memoizedState=Cf(1|e,i,n,r))}function T4(t,e){Tb(8390656,8,t,e)}function mU(t,e){Gg(2048,8,t,e)}function pU(t,e){return Gg(4,2,t,e)}function gU(t,e){return Gg(4,4,t,e)}function yU(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vU(t,e,n){n=n!=null?n.concat([t]):null,Gg(4,4,yU.bind(null,e,t),n)}function GN(){}function bU(t,e){var n=Ar();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&FN(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function wU(t,e){var n=Ar();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&FN(e,r[1]))return r[0];if(r=t(),pd){zc(!0);try{t()}finally{zc(!1)}}return n.memoizedState=[r,e],r}function $N(t,e,n){return n===void 0||tu&1073741824?t.memoizedState=e:(t.memoizedState=n,t=u3(),yt.lanes|=t,ru|=t,n)}function _U(t,e,n,r){return Ki(n,e)?n:Df.current!==null?(t=$N(t,n,r),Ki(t,e)||(es=!0),t):tu&42?(t=u3(),yt.lanes|=t,ru|=t,e):(es=!0,t.memoizedState=n)}function TU(t,e,n,r,s){var i=Yt.p;Yt.p=i!==0&&8>i?i:8;var o=Je.T,a={};Je.T=a,WN(t,!1,e,n);try{var l=s(),c=Je.S;if(c!==null&&c(a,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=TQ(l,r);mg(t,e,d,Gi(t))}else mg(t,e,r,Gi(t))}catch(h){mg(t,e,{then:function(){},status:"rejected",reason:h},Gi())}finally{Yt.p=i,Je.T=o}}function NQ(){}function WS(t,e,n,r){if(t.tag!==5)throw Error(J(476));var s=IU(t).queue;TU(t,s,e,od,n===null?NQ:function(){return xU(t),n(r)})}function IU(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:od,baseState:od,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:od},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function xU(t){var e=IU(t).next.queue;mg(t,e,{},Gi())}function KN(){return ks(Dg)}function EU(){return Ar().memoizedState}function SU(){return Ar().memoizedState}function kQ(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Gi();t=Wc(n);var r=Qc(e,t,n);r!==null&&($i(r,e,n),dg(r,e,n)),e={cache:LN()},t.payload=e;return}e=e.return}}function AQ(t,e,n){var r=Gi();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},fw(t)?kU(e,n):(n=AN(t,e,n,r),n!==null&&($i(n,t,r),AU(n,e,r)))}function NU(t,e,n){var r=Gi();mg(t,e,n,r)}function mg(t,e,n,r){var s={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(fw(t))kU(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Ki(a,o))return cw(t,e,s,0),Nn===null&&lw(),!1}catch{}finally{}if(n=AN(t,e,s,r),n!==null)return $i(n,t,r),AU(n,e,r),!0}return!1}function WN(t,e,n,r){if(r={lane:2,revertLane:n1(),action:r,hasEagerState:!1,eagerState:null,next:null},fw(t)){if(e)throw Error(J(479))}else e=AN(t,n,r,2),e!==null&&$i(e,t,2)}function fw(t){var e=t.alternate;return t===yt||e!==null&&e===yt}function kU(t,e){Tf=Vb=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function AU(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bF(t,n)}}var Bb={readContext:ks,use:dw,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useLayoutEffect:vr,useInsertionEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useSyncExternalStore:vr,useId:vr,useHostTransitionStatus:vr,useFormState:vr,useActionState:vr,useOptimistic:vr,useMemoCache:vr,useCacheRefresh:vr},DU={readContext:ks,use:dw,useCallback:function(t,e){return ui().memoizedState=[t,e===void 0?null:e],t},useContext:ks,useEffect:T4,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Tb(4194308,4,yU.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Tb(4194308,4,t,e)},useInsertionEffect:function(t,e){Tb(4,2,t,e)},useMemo:function(t,e){var n=ui();e=e===void 0?null:e;var r=t();if(pd){zc(!0);try{t()}finally{zc(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=ui();if(n!==void 0){var s=n(e);if(pd){zc(!0);try{n(e)}finally{zc(!1)}}}else s=e;return r.memoizedState=r.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},r.queue=t,t=t.dispatch=AQ.bind(null,yt,t),[r.memoizedState,t]},useRef:function(t){var e=ui();return t={current:t},e.memoizedState=t},useState:function(t){t=$S(t);var e=t.queue,n=NU.bind(null,yt,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:GN,useDeferredValue:function(t,e){var n=ui();return $N(n,t,e)},useTransition:function(){var t=$S(!1);return t=TU.bind(null,yt,t.queue,!0,!1),ui().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=yt,s=ui();if(Qt){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Nn===null)throw Error(J(349));Ut&124||rU(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,T4(iU.bind(null,r,i,t),[t]),r.flags|=2048,Cf(9,hw(),sU.bind(null,r,i,n,e),null),n},useId:function(){var t=ui(),e=Nn.identifierPrefix;if(Qt){var n=Ll,r=Rl;n=(r&~(1<<32-ji(r)-1)).toString(32)+n,e="\xAB"+e+"R"+n,n=Hb++,0<n&&(e+="H"+n.toString(32)),e+="\xBB"}else n=IQ++,e="\xAB"+e+"r"+n.toString(32)+"\xBB";return t.memoizedState=e},useHostTransitionStatus:KN,useFormState:b4,useActionState:b4,useOptimistic:function(t){var e=ui();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=WN.bind(null,yt,!0,n),n.dispatch=e,[t,e]},useMemoCache:zN,useCacheRefresh:function(){return ui().memoizedState=kQ.bind(null,yt)}},CU={readContext:ks,use:dw,useCallback:bU,useContext:ks,useEffect:mU,useImperativeHandle:vU,useInsertionEffect:pU,useLayoutEffect:gU,useMemo:wU,useReducer:_b,useRef:fU,useState:function(){return _b(Vl)},useDebugValue:GN,useDeferredValue:function(t,e){var n=Ar();return _U(n,gn.memoizedState,t,e)},useTransition:function(){var t=_b(Vl)[0],e=Ar().memoizedState;return[typeof t=="boolean"?t:jg(t),e]},useSyncExternalStore:nU,useId:EU,useHostTransitionStatus:KN,useFormState:w4,useActionState:w4,useOptimistic:function(t,e){var n=Ar();return lU(n,gn,t,e)},useMemoCache:zN,useCacheRefresh:SU},DQ={readContext:ks,use:dw,useCallback:bU,useContext:ks,useEffect:mU,useImperativeHandle:vU,useInsertionEffect:pU,useLayoutEffect:gU,useMemo:wU,useReducer:sS,useRef:fU,useState:function(){return sS(Vl)},useDebugValue:GN,useDeferredValue:function(t,e){var n=Ar();return gn===null?$N(n,t,e):_U(n,gn.memoizedState,t,e)},useTransition:function(){var t=sS(Vl)[0],e=Ar().memoizedState;return[typeof t=="boolean"?t:jg(t),e]},useSyncExternalStore:nU,useId:EU,useHostTransitionStatus:KN,useFormState:_4,useActionState:_4,useOptimistic:function(t,e){var n=Ar();return gn!==null?lU(n,gn,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:zN,useCacheRefresh:SU},xf=null,Sg=0;function ab(t){var e=Sg;return Sg+=1,xf===null&&(xf=[]),XF(xf,t,e)}function Xp(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function lb(t,e){throw e.$$typeof===oW?Error(J(525)):(t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function I4(t){var e=t._init;return e(t._payload)}function RU(t){function e(g,b){if(t){var I=g.deletions;I===null?(g.deletions=[b],g.flags|=16):I.push(b)}}function n(g,b){if(!t)return null;for(;b!==null;)e(g,b),b=b.sibling;return null}function r(g){for(var b=new Map;g!==null;)g.key!==null?b.set(g.key,g):b.set(g.index,g),g=g.sibling;return b}function s(g,b){return g=Ml(g,b),g.index=0,g.sibling=null,g}function i(g,b,I){return g.index=I,t?(I=g.alternate,I!==null?(I=I.index,I<b?(g.flags|=67108866,b):I):(g.flags|=67108866,b)):(g.flags|=1048576,b)}function o(g){return t&&g.alternate===null&&(g.flags|=67108866),g}function a(g,b,I,k){return b===null||b.tag!==6?(b=tS(I,g.mode,k),b.return=g,b):(b=s(b,I),b.return=g,b)}function l(g,b,I,k){var R=I.type;return R===of?d(g,b,I.props.children,k,I.key):b!==null&&(b.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Fc&&I4(R)===b.type)?(b=s(b,I.props),Xp(b,I),b.return=g,b):(b=bb(I.type,I.key,I.props,null,g.mode,k),Xp(b,I),b.return=g,b)}function c(g,b,I,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==I.containerInfo||b.stateNode.implementation!==I.implementation?(b=nS(I,g.mode,k),b.return=g,b):(b=s(b,I.children||[]),b.return=g,b)}function d(g,b,I,k,R){return b===null||b.tag!==7?(b=ad(I,g.mode,k,R),b.return=g,b):(b=s(b,I),b.return=g,b)}function h(g,b,I){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=tS(""+b,g.mode,I),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Jv:return I=bb(b.type,b.key,b.props,null,g.mode,I),Xp(I,b),I.return=g,I;case ng:return b=nS(b,g.mode,I),b.return=g,b;case Fc:var k=b._init;return b=k(b._payload),h(g,b,I)}if(rg(b)||Wp(b))return b=ad(b,g.mode,I,null),b.return=g,b;if(typeof b.then=="function")return h(g,ab(b),I);if(b.$$typeof===Cl)return h(g,ib(g,b),I);lb(g,b)}return null}function f(g,b,I,k){var R=b!==null?b.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return R!==null?null:a(g,b,""+I,k);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Jv:return I.key===R?l(g,b,I,k):null;case ng:return I.key===R?c(g,b,I,k):null;case Fc:return R=I._init,I=R(I._payload),f(g,b,I,k)}if(rg(I)||Wp(I))return R!==null?null:d(g,b,I,k,null);if(typeof I.then=="function")return f(g,b,ab(I),k);if(I.$$typeof===Cl)return f(g,b,ib(g,I),k);lb(g,I)}return null}function m(g,b,I,k,R){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return g=g.get(I)||null,a(b,g,""+k,R);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Jv:return g=g.get(k.key===null?I:k.key)||null,l(b,g,k,R);case ng:return g=g.get(k.key===null?I:k.key)||null,c(b,g,k,R);case Fc:var F=k._init;return k=F(k._payload),m(g,b,I,k,R)}if(rg(k)||Wp(k))return g=g.get(I)||null,d(b,g,k,R,null);if(typeof k.then=="function")return m(g,b,I,ab(k),R);if(k.$$typeof===Cl)return m(g,b,I,ib(b,k),R);lb(b,k)}return null}function y(g,b,I,k){for(var R=null,F=null,S=b,E=b=0,x=null;S!==null&&E<I.length;E++){S.index>E?(x=S,S=null):x=S.sibling;var T=f(g,S,I[E],k);if(T===null){S===null&&(S=x);break}t&&S&&T.alternate===null&&e(g,S),b=i(T,b,E),F===null?R=T:F.sibling=T,F=T,S=x}if(E===I.length)return n(g,S),Qt&&sd(g,E),R;if(S===null){for(;E<I.length;E++)S=h(g,I[E],k),S!==null&&(b=i(S,b,E),F===null?R=S:F.sibling=S,F=S);return Qt&&sd(g,E),R}for(S=r(S);E<I.length;E++)x=m(S,g,E,I[E],k),x!==null&&(t&&x.alternate!==null&&S.delete(x.key===null?E:x.key),b=i(x,b,E),F===null?R=x:F.sibling=x,F=x);return t&&S.forEach(function(N){return e(g,N)}),Qt&&sd(g,E),R}function w(g,b,I,k){if(I==null)throw Error(J(151));for(var R=null,F=null,S=b,E=b=0,x=null,T=I.next();S!==null&&!T.done;E++,T=I.next()){S.index>E?(x=S,S=null):x=S.sibling;var N=f(g,S,T.value,k);if(N===null){S===null&&(S=x);break}t&&S&&N.alternate===null&&e(g,S),b=i(N,b,E),F===null?R=N:F.sibling=N,F=N,S=x}if(T.done)return n(g,S),Qt&&sd(g,E),R;if(S===null){for(;!T.done;E++,T=I.next())T=h(g,T.value,k),T!==null&&(b=i(T,b,E),F===null?R=T:F.sibling=T,F=T);return Qt&&sd(g,E),R}for(S=r(S);!T.done;E++,T=I.next())T=m(S,g,E,T.value,k),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?E:T.key),b=i(T,b,E),F===null?R=T:F.sibling=T,F=T);return t&&S.forEach(function(D){return e(g,D)}),Qt&&sd(g,E),R}function v(g,b,I,k){if(typeof I=="object"&&I!==null&&I.type===of&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Jv:e:{for(var R=I.key;b!==null;){if(b.key===R){if(R=I.type,R===of){if(b.tag===7){n(g,b.sibling),k=s(b,I.props.children),k.return=g,g=k;break e}}else if(b.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Fc&&I4(R)===b.type){n(g,b.sibling),k=s(b,I.props),Xp(k,I),k.return=g,g=k;break e}n(g,b);break}else e(g,b);b=b.sibling}I.type===of?(k=ad(I.props.children,g.mode,k,I.key),k.return=g,g=k):(k=bb(I.type,I.key,I.props,null,g.mode,k),Xp(k,I),k.return=g,g=k)}return o(g);case ng:e:{for(R=I.key;b!==null;){if(b.key===R)if(b.tag===4&&b.stateNode.containerInfo===I.containerInfo&&b.stateNode.implementation===I.implementation){n(g,b.sibling),k=s(b,I.children||[]),k.return=g,g=k;break e}else{n(g,b);break}else e(g,b);b=b.sibling}k=nS(I,g.mode,k),k.return=g,g=k}return o(g);case Fc:return R=I._init,I=R(I._payload),v(g,b,I,k)}if(rg(I))return y(g,b,I,k);if(Wp(I)){if(R=Wp(I),typeof R!="function")throw Error(J(150));return I=R.call(I),w(g,b,I,k)}if(typeof I.then=="function")return v(g,b,ab(I),k);if(I.$$typeof===Cl)return v(g,b,ib(g,I),k);lb(g,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,b!==null&&b.tag===6?(n(g,b.sibling),k=s(b,I),k.return=g,g=k):(n(g,b),k=tS(I,g.mode,k),k.return=g,g=k),o(g)):n(g,b)}return function(g,b,I,k){try{Sg=0;var R=v(g,b,I,k);return xf=null,R}catch(S){if(S===zg||S===uw)throw S;var F=qi(29,S,null,g.mode);return F.lanes=k,F.return=g,F}finally{}}}var Rf=RU(!0),LU=RU(!1),wo=va(null),ya=null;function Hc(t){var e=t.alternate;qn(zr,zr.current&1),qn(wo,t),ya===null&&(e===null||Df.current!==null||e.memoizedState!==null)&&(ya=t)}function PU(t){if(t.tag===22){if(qn(zr,zr.current),qn(wo,t),ya===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(ya=t)}}else Bc(t)}function Bc(){qn(zr,zr.current),qn(wo,wo.current)}function Ol(t){ts(wo),ya===t&&(ya=null),ts(zr)}var zr=va(0);function qb(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||dN(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function iS(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Rn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var QS={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gi(),s=Wc(r);s.payload=e,n!=null&&(s.callback=n),e=Qc(t,s,r),e!==null&&($i(e,t,r),dg(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gi(),s=Wc(r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Qc(t,s,r),e!==null&&($i(e,t,r),dg(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gi(),r=Wc(n);r.tag=2,e!=null&&(r.callback=e),e=Qc(t,r,n),e!==null&&($i(e,t,n),dg(e,t,n))}};function x4(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ig(n,r)||!Ig(s,i):!0}function E4(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&QS.enqueueReplaceState(e,e.state,null)}function gd(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Rn({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}var zb=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function OU(t){zb(t)}function MU(t){console.error(t)}function FU(t){zb(t)}function jb(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function S4(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function YS(t,e,n){return n=Wc(n),n.tag=3,n.payload={element:null},n.callback=function(){jb(t,e)},n}function UU(t){return t=Wc(t),t.tag=3,t}function VU(t,e,n,r){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var i=r.value;t.payload=function(){return s(i)},t.callback=function(){S4(e,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){S4(e,n,r),typeof s!="function"&&(Yc===null?Yc=new Set([this]):Yc.add(this));var a=r.stack;this.componentDidCatch(r.value,{componentStack:a!==null?a:""})})}function CQ(t,e,n,r,s){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Bg(e,n,s,!0),n=wo.current,n!==null){switch(n.tag){case 13:return ya===null?sN():n.alternate===null&&lr===0&&(lr=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===qS?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),gS(t,r,s)),!1;case 22:return n.flags|=65536,r===qS?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),gS(t,r,s)),!1}throw Error(J(435,n.tag))}return gS(t,r,s),sN(),!1}if(Qt)return e=wo.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,r!==FS&&(t=Error(J(422),{cause:r}),xg(vo(t,n)))):(r!==FS&&(e=Error(J(423),{cause:r}),xg(vo(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,r=vo(r,n),s=YS(t.stateNode,r,s),rS(t,s),lr!==4&&(lr=2)),!1;var i=Error(J(520),{cause:r});if(i=vo(i,n),yg===null?yg=[i]:yg.push(i),lr!==4&&(lr=2),e===null)return!0;r=vo(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=YS(n.stateNode,r,t),rS(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Yc===null||!Yc.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,s=UU(s),VU(s,t,n,r),rS(n,s),!1}n=n.return}while(n!==null);return!1}var HU=Error(J(461)),es=!1;function ps(t,e,n,r){e.child=t===null?LU(e,null,n,r):Rf(e,t.child,n,r)}function N4(t,e,n,r,s){n=n.render;var i=e.ref;if("ref"in r){var o={};for(var a in r)a!=="ref"&&(o[a]=r[a])}else o=r;return md(e),r=UN(t,e,n,o,i,s),a=VN(),t!==null&&!es?(HN(t,e,s),Hl(t,e,s)):(Qt&&a&&CN(e),e.flags|=1,ps(t,e,r,s),e.child)}function k4(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!DN(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,BU(t,e,i,r,s)):(t=bb(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!QN(t,s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ig,n(o,r)&&t.ref===e.ref)return Hl(t,e,s)}return e.flags|=1,t=Ml(i,r),t.ref=e.ref,t.return=e,e.child=t}function BU(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ig(i,r)&&t.ref===e.ref)if(es=!1,e.pendingProps=r=i,QN(t,s))t.flags&131072&&(es=!0);else return e.lanes=t.lanes,Hl(t,e,s)}return XS(t,e,n,r,s)}function qU(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if(e.flags&128){if(r=i!==null?i.baseLanes|n:n,t!==null){for(s=e.child=t.child,i=0;s!==null;)i=i|s.lanes|s.childLanes,s=s.sibling;e.childLanes=i&~r}else e.childLanes=0,e.child=null;return A4(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&wb(e,i!==null?i.cachePool:null),i!==null?g4(e,i):GS(),PU(e);else return e.lanes=e.childLanes=536870912,A4(t,e,i!==null?i.baseLanes|n:n,n)}else i!==null?(wb(e,i.cachePool),g4(e,i),Bc(e),e.memoizedState=null):(t!==null&&wb(e,null),GS(),Bc(e));return ps(t,e,s,n),e.child}function A4(t,e,n,r){var s=PN();return s=s===null?null:{parent:qr._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&wb(e,null),GS(),PU(e),t!==null&&Bg(t,e,r,!0),null}function Ib(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(J(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function XS(t,e,n,r,s){return md(e),n=UN(t,e,n,r,void 0,s),r=VN(),t!==null&&!es?(HN(t,e,s),Hl(t,e,s)):(Qt&&r&&CN(e),e.flags|=1,ps(t,e,n,s),e.child)}function D4(t,e,n,r,s,i){return md(e),e.updateQueue=null,n=tU(e,r,n,s),eU(t),r=VN(),t!==null&&!es?(HN(t,e,i),Hl(t,e,i)):(Qt&&r&&CN(e),e.flags|=1,ps(t,e,n,i),e.child)}function C4(t,e,n,r,s){if(md(e),e.stateNode===null){var i=mf,o=n.contextType;typeof o=="object"&&o!==null&&(i=ks(o)),i=new n(r,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=QS,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=r,i.state=e.memoizedState,i.refs={},ON(e),o=n.contextType,i.context=typeof o=="object"&&o!==null?ks(o):mf,i.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(iS(e,n,o,r),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&QS.enqueueReplaceState(i,i.state,null),fg(e,r,i,s),hg(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){i=e.stateNode;var a=e.memoizedProps,l=gd(n,a);i.props=l;var c=i.context,d=n.contextType;o=mf,typeof d=="object"&&d!==null&&(o=ks(d));var h=n.getDerivedStateFromProps;d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function",a=e.pendingProps!==a,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a||c!==o)&&E4(e,i,r,o),Uc=!1;var f=e.memoizedState;i.state=f,fg(e,r,i,s),hg(),c=e.memoizedState,a||f!==c||Uc?(typeof h=="function"&&(iS(e,n,h,r),c=e.memoizedState),(l=Uc||x4(e,n,l,r,f,c,o))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),i.props=r,i.state=c,i.context=o,r=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,zS(t,e),o=e.memoizedProps,d=gd(n,o),i.props=d,h=e.pendingProps,f=i.context,c=n.contextType,l=mf,typeof c=="object"&&c!==null&&(l=ks(c)),a=n.getDerivedStateFromProps,(c=typeof a=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==h||f!==l)&&E4(e,i,r,l),Uc=!1,f=e.memoizedState,i.state=f,fg(e,r,i,s),hg();var m=e.memoizedState;o!==h||f!==m||Uc||t!==null&&t.dependencies!==null&&Fb(t.dependencies)?(typeof a=="function"&&(iS(e,n,a,r),m=e.memoizedState),(d=Uc||x4(e,n,d,r,f,m,l)||t!==null&&t.dependencies!==null&&Fb(t.dependencies))?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,m,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),i.props=r,i.state=m,i.context=l,r=d):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return i=r,Ib(t,e),r=(e.flags&128)!==0,i||r?(i=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&r?(e.child=Rf(e,t.child,null,s),e.child=Rf(e,null,n,s)):ps(t,e,n,s),e.memoizedState=i.state,t=e.child):t=Hl(t,e,s),t}function R4(t,e,n,r){return Hg(),e.flags|=256,ps(t,e,n,r),e.child}var oS={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function aS(t){return{baseLanes:t,cachePool:QF()}}function lS(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=bo),t}function zU(t,e,n){var r=e.pendingProps,s=!1,i=(e.flags&128)!==0,o;if((o=i)||(o=t!==null&&t.memoizedState===null?!1:(zr.current&2)!==0),o&&(s=!0,e.flags&=-129),o=(e.flags&32)!==0,e.flags&=-33,t===null){if(Qt){if(s?Hc(e):Bc(e),Qt){var a=ar,l;if(l=a){e:{for(l=a,a=fa;l.nodeType!==8;){if(!a){a=null;break e}if(l=qo(l.nextSibling),l===null){a=null;break e}}a=l}a!==null?(e.memoizedState={dehydrated:a,treeContext:ld!==null?{id:Rl,overflow:Ll}:null,retryLane:536870912,hydrationErrors:null},l=qi(18,null,null,0),l.stateNode=a,l.return=e,e.child=l,Zs=e,ar=null,l=!0):l=!1}l||fd(e)}if(a=e.memoizedState,a!==null&&(a=a.dehydrated,a!==null))return dN(a)?e.lanes=32:e.lanes=536870912,null;Ol(e)}return a=r.children,r=r.fallback,s?(Bc(e),s=e.mode,a=Gb({mode:"hidden",children:a},s),r=ad(r,s,n,null),a.return=e,r.return=e,a.sibling=r,e.child=a,s=e.child,s.memoizedState=aS(n),s.childLanes=lS(t,o,n),e.memoizedState=oS,r):(Hc(e),JS(e,a))}if(l=t.memoizedState,l!==null&&(a=l.dehydrated,a!==null)){if(i)e.flags&256?(Hc(e),e.flags&=-257,e=cS(t,e,n)):e.memoizedState!==null?(Bc(e),e.child=t.child,e.flags|=128,e=null):(Bc(e),s=r.fallback,a=e.mode,r=Gb({mode:"visible",children:r.children},a),s=ad(s,a,n,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,Rf(e,t.child,null,n),r=e.child,r.memoizedState=aS(n),r.childLanes=lS(t,o,n),e.memoizedState=oS,e=s);else if(Hc(e),dN(a)){if(o=a.nextSibling&&a.nextSibling.dataset,o)var c=o.dgst;o=c,r=Error(J(419)),r.stack="",r.digest=o,xg({value:r,source:null,stack:null}),e=cS(t,e,n)}else if(es||Bg(t,e,n,!1),o=(n&t.childLanes)!==0,es||o){if(o=Nn,o!==null&&(r=n&-n,r=r&42?1:bN(r),r=r&(o.suspendedLanes|n)?0:r,r!==0&&r!==l.retryLane))throw l.retryLane=r,Vf(t,r),$i(o,t,r),HU;a.data==="$?"||sN(),e=cS(t,e,n)}else a.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,ar=qo(a.nextSibling),Zs=e,Qt=!0,cd=null,fa=!1,t!==null&&(po[go++]=Rl,po[go++]=Ll,po[go++]=ld,Rl=t.id,Ll=t.overflow,ld=e),e=JS(e,r.children),e.flags|=4096);return e}return s?(Bc(e),s=r.fallback,a=e.mode,l=t.child,c=l.sibling,r=Ml(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,c!==null?s=Ml(c,s):(s=ad(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a===null?a=aS(n):(l=a.cachePool,l!==null?(c=qr._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=QF(),a={baseLanes:a.baseLanes|n,cachePool:l}),s.memoizedState=a,s.childLanes=lS(t,o,n),e.memoizedState=oS,r):(Hc(e),n=t.child,t=n.sibling,n=Ml(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=n,e.memoizedState=null,n)}function JS(t,e){return e=Gb({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Gb(t,e){return t=qi(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function cS(t,e,n){return Rf(e,t.child,null,n),t=JS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function L4(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),VS(t.return,e,n)}function uS(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function jU(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ps(t,e,r.children,n),r=zr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&L4(t,n,e);else if(t.tag===19)L4(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(qn(zr,r),s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&qb(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),uS(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&qb(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}uS(e,!0,n,null,i);break;case"together":uS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ru|=e.lanes,!(n&e.childLanes))if(t!==null){if(Bg(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=Ml(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ml(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function QN(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Fb(t)))}function RQ(t,e,n){switch(e.tag){case 3:Ab(e,e.stateNode.containerInfo),Vc(e,qr,t.memoizedState.cache),Hg();break;case 27:case 5:NS(e);break;case 4:Ab(e,e.stateNode.containerInfo);break;case 10:Vc(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Hc(e),e.flags|=128,null):n&e.child.childLanes?zU(t,e,n):(Hc(e),t=Hl(t,e,n),t!==null?t.sibling:null);Hc(e);break;case 19:var s=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Bg(t,e,n,!1),r=(n&e.childLanes)!==0),s){if(r)return jU(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qn(zr,zr.current),r)break;return null;case 22:case 23:return e.lanes=0,qU(t,e,n);case 24:Vc(e,qr,t.memoizedState.cache)}return Hl(t,e,n)}function GU(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)es=!0;else{if(!QN(t,n)&&!(e.flags&128))return es=!1,RQ(t,e,n);es=!!(t.flags&131072)}else es=!1,Qt&&e.flags&1048576&&KF(e,Mb,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,s=r._init;if(r=s(r._payload),e.type=r,typeof r=="function")DN(r)?(t=gd(r,t),e.tag=1,e=C4(null,e,r,t,n)):(e.tag=0,e=XS(null,e,r,t,n));else{if(r!=null){if(s=r.$$typeof,s===gN){e.tag=11,e=N4(null,e,r,t,n);break e}else if(s===yN){e.tag=14,e=k4(null,e,r,t,n);break e}}throw e=ES(r)||r,Error(J(306,e,""))}}return e;case 0:return XS(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,s=gd(r,e.pendingProps),C4(t,e,r,s,n);case 3:e:{if(Ab(e,e.stateNode.containerInfo),t===null)throw Error(J(387));r=e.pendingProps;var i=e.memoizedState;s=i.element,zS(t,e),fg(e,r,null,n);var o=e.memoizedState;if(r=o.cache,Vc(e,qr,r),r!==i.cache&&HS(e,[qr],n,!0),hg(),r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=R4(t,e,r,n);break e}else if(r!==s){s=vo(Error(J(424)),e),xg(s),e=R4(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ar=qo(t.firstChild),Zs=e,Qt=!0,cd=null,fa=!0,n=LU(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Hg(),r===s){e=Hl(t,e,n);break e}ps(t,e,r,n)}e=e.child}return e;case 26:return Ib(t,e),t===null?(n=J4(e.type,null,e.pendingProps,null))?e.memoizedState=n:Qt||(n=e.type,t=e.pendingProps,r=Jb(Kc.current).createElement(n),r[Ns]=e,r[fi]=t,ys(r,n,t),Zr(r),e.stateNode=r):e.memoizedState=J4(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return NS(e),t===null&&Qt&&(r=e.stateNode=C3(e.type,e.pendingProps,Kc.current),Zs=e,fa=!0,s=ar,iu(e.type)?(hN=s,ar=qo(r.firstChild)):ar=s),ps(t,e,e.pendingProps.children,n),Ib(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Qt&&((s=r=ar)&&(r=sY(r,e.type,e.pendingProps,fa),r!==null?(e.stateNode=r,Zs=e,ar=qo(r.firstChild),fa=!1,s=!0):s=!1),s||fd(e)),NS(e),s=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,r=i.children,cN(s,i)?r=null:o!==null&&cN(s,o)&&(e.flags|=32),e.memoizedState!==null&&(s=UN(t,e,xQ,null,null,n),Dg._currentValue=s),Ib(t,e),ps(t,e,r,n),e.child;case 6:return t===null&&Qt&&((t=n=ar)&&(n=iY(n,e.pendingProps,fa),n!==null?(e.stateNode=n,Zs=e,ar=null,t=!0):t=!1),t||fd(e)),null;case 13:return zU(t,e,n);case 4:return Ab(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Rf(e,null,r,n):ps(t,e,r,n),e.child;case 11:return N4(t,e,e.type,e.pendingProps,n);case 7:return ps(t,e,e.pendingProps,n),e.child;case 8:return ps(t,e,e.pendingProps.children,n),e.child;case 12:return ps(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Vc(e,e.type,r.value),ps(t,e,r.children,n),e.child;case 9:return s=e.type._context,r=e.pendingProps.children,md(e),s=ks(s),r=r(s),e.flags|=1,ps(t,e,r,n),e.child;case 14:return k4(t,e,e.type,e.pendingProps,n);case 15:return BU(t,e,e.type,e.pendingProps,n);case 19:return jU(t,e,n);case 31:return r=e.pendingProps,n=e.mode,r={mode:r.mode,children:r.children},t===null?(n=Gb(r,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Ml(t.child,r),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return qU(t,e,n);case 24:return md(e),r=ks(qr),t===null?(s=PN(),s===null&&(s=Nn,i=LN(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=n),s=i),e.memoizedState={parent:r,cache:s},ON(e),Vc(e,qr,s)):(t.lanes&n&&(zS(t,e),fg(e,null,null,n),hg()),s=t.memoizedState,i=e.memoizedState,s.parent!==r?(s={parent:r,cache:r},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),Vc(e,qr,r)):(r=i.cache,Vc(e,qr,r),r!==s.cache&&HS(e,[qr],n,!0))),ps(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(J(156,e.tag))}function kl(t){t.flags|=4}function P4(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!P3(e)){if(e=wo.current,e!==null&&((Ut&4194048)===Ut?ya!==null:(Ut&62914560)!==Ut&&!(Ut&536870912)||e!==ya))throw ug=qS,YF;t.flags|=8192}}function cb(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?yF():536870912,t.lanes|=e,Lf|=e)}function Jp(t,e){if(!Qt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&65011712,r|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function LQ(t,e,n){var r=e.pendingProps;switch(RN(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(e),null;case 1:return Yn(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Fl(qr),Sf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Yp(e)?kl(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,u4())),Yn(e),null;case 26:return n=e.memoizedState,t===null?(kl(e),n!==null?(Yn(e),P4(e,n)):(Yn(e),e.flags&=-16777217)):n?n!==t.memoizedState?(kl(e),Yn(e),P4(e,n)):(Yn(e),e.flags&=-16777217):(t.memoizedProps!==r&&kl(e),Yn(e),e.flags&=-16777217),null;case 27:Db(e),n=Kc.current;var s=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&kl(e);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Yn(e),null}t=pa.current,Yp(e)?l4(e,t):(t=C3(s,r,n),e.stateNode=t,kl(e))}return Yn(e),null;case 5:if(Db(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&kl(e);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Yn(e),null}if(t=pa.current,Yp(e))l4(e,t);else{switch(s=Jb(Kc.current),t){case 1:t=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?s.createElement(n,{is:r.is}):s.createElement(n)}}t[Ns]=e,t[fi]=r;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=t;e:switch(ys(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&kl(e)}}return Yn(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&kl(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(t=Kc.current,Yp(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,s=Zs,s!==null)switch(s.tag){case 27:case 5:r=s.memoizedProps}t[Ns]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||k3(t.nodeValue,n)),t||fd(e)}else t=Jb(t).createTextNode(r),t[Ns]=e,e.stateNode=t}return Yn(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=Yp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(J(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[Ns]=e}else Hg(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yn(e),s=!1}else s=u4(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(Ol(e),e):(Ol(e),null)}if(Ol(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,s=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(s=r.alternate.memoizedState.cachePool.pool);var i=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==s&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),cb(e,e.updateQueue),Yn(e),null;case 4:return Sf(),t===null&&r1(e.stateNode.containerInfo),Yn(e),null;case 10:return Fl(e.type),Yn(e),null;case 19:if(ts(zr),s=e.memoizedState,s===null)return Yn(e),null;if(r=(e.flags&128)!==0,i=s.rendering,i===null)if(r)Jp(s,!1);else{if(lr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=qb(t),i!==null){for(e.flags|=128,Jp(s,!1),t=i.updateQueue,e.updateQueue=t,cb(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)$F(n,t),n=n.sibling;return qn(zr,zr.current&1|2),e.child}t=t.sibling}s.tail!==null&&ga()>Kb&&(e.flags|=128,r=!0,Jp(s,!1),e.lanes=4194304)}else{if(!r)if(t=qb(i),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,cb(e,t),Jp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Qt)return Yn(e),null}else 2*ga()-s.renderingStartTime>Kb&&n!==536870912&&(e.flags|=128,r=!0,Jp(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(t=s.last,t!==null?t.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ga(),e.sibling=null,t=zr.current,qn(zr,r?t&1|2:t&1),e):(Yn(e),null);case 22:case 23:return Ol(e),MN(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(Yn(e),e.subtreeFlags&6&&(e.flags|=8192)):Yn(e),n=e.updateQueue,n!==null&&cb(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&ts(ud),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Fl(qr),Yn(e),null;case 25:return null;case 30:return null}throw Error(J(156,e.tag))}function PQ(t,e){switch(RN(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fl(qr),Sf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Db(e),null;case 13:if(Ol(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Hg()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ts(zr),null;case 4:return Sf(),null;case 10:return Fl(e.type),null;case 22:case 23:return Ol(e),MN(),t!==null&&ts(ud),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Fl(qr),null;case 25:return null;default:return null}}function $U(t,e){switch(RN(e),e.tag){case 3:Fl(qr),Sf();break;case 26:case 27:case 5:Db(e);break;case 4:Sf();break;case 13:Ol(e);break;case 19:ts(zr);break;case 10:Fl(e.type);break;case 22:case 23:Ol(e),MN(),t!==null&&ts(ud);break;case 24:Fl(qr)}}function $g(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var s=r.next;n=s;do{if((n.tag&t)===t){r=void 0;var i=n.create,o=n.inst;r=i(),o.destroy=r}n=n.next}while(n!==s)}}catch(a){wn(e,e.return,a)}}function nu(t,e,n){try{var r=e.updateQueue,s=r!==null?r.lastEffect:null;if(s!==null){var i=s.next;r=i;do{if((r.tag&t)===t){var o=r.inst,a=o.destroy;if(a!==void 0){o.destroy=void 0,s=e;var l=n,c=a;try{c()}catch(d){wn(s,l,d)}}}r=r.next}while(r!==i)}}catch(d){wn(e,e.return,d)}}function KU(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{ZF(e,n)}catch(r){wn(t,t.return,r)}}}function WU(t,e,n){n.props=gd(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){wn(t,e,r)}}function pg(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(s){wn(t,e,s)}}function ma(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(s){wn(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){wn(t,e,s)}else n.current=null}function QU(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){wn(t,t.return,s)}}function dS(t,e,n){try{var r=t.stateNode;ZQ(r,t.type,n,e),r[fi]=e}catch(s){wn(t,t.return,s)}}function YU(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&iu(t.type)||t.tag===4}function hS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||YU(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&iu(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ZS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yw));else if(r!==4&&(r===27&&iu(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(ZS(t,e,n),t=t.sibling;t!==null;)ZS(t,e,n),t=t.sibling}function $b(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&iu(t.type)&&(n=t.stateNode),t=t.child,t!==null))for($b(t,e,n),t=t.sibling;t!==null;)$b(t,e,n),t=t.sibling}function XU(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);ys(e,r,n),e[Ns]=t,e[fi]=n}catch(i){wn(t,t.return,i)}}var Dl=!1,br=!1,fS=!1,O4=typeof WeakSet=="function"?WeakSet:Set,Jr=null;function OQ(t,e){if(t=t.containerInfo,aN=nw,t=UF(t),NN(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(lN={focusedElem:t,selectionRange:n},nw=!1,Jr=e;Jr!==null;)if(e=Jr,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Jr=t;else for(;Jr!==null;){switch(e=Jr,i=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,n=e,s=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var y=gd(n.type,s,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(y,i),r.__reactInternalSnapshotBeforeUpdate=t}catch(w){wn(n,n.return,w)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)uN(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":uN(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(J(163))}if(t=e.sibling,t!==null){t.return=e.return,Jr=t;break}Jr=e.return}}function JU(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Oc(t,n),r&4&&$g(5,n);break;case 1:if(Oc(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(o){wn(n,n.return,o)}else{var s=gd(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){wn(n,n.return,o)}}r&64&&KU(n),r&512&&pg(n,n.return);break;case 3:if(Oc(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{ZF(t,e)}catch(o){wn(n,n.return,o)}}break;case 27:e===null&&r&4&&XU(n);case 26:case 5:Oc(t,n),e===null&&r&4&&QU(n),r&512&&pg(n,n.return);break;case 12:Oc(t,n);break;case 13:Oc(t,n),r&4&&t3(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=jQ.bind(null,n),oY(t,n))));break;case 22:if(r=n.memoizedState!==null||Dl,!r){e=e!==null&&e.memoizedState!==null||br,s=Dl;var i=br;Dl=r,(br=e)&&!i?Mc(t,n,(n.subtreeFlags&8772)!==0):Oc(t,n),Dl=s,br=i}break;case 30:break;default:Oc(t,n)}}function ZU(t){var e=t.alternate;e!==null&&(t.alternate=null,ZU(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&_N(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Bn=null,di=!1;function Al(t,e,n){for(n=n.child;n!==null;)e3(t,e,n),n=n.sibling}function e3(t,e,n){if(zi&&typeof zi.onCommitFiberUnmount=="function")try{zi.onCommitFiberUnmount(Og,n)}catch{}switch(n.tag){case 26:br||ma(n,e),Al(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:br||ma(n,e);var r=Bn,s=di;iu(n.type)&&(Bn=n.stateNode,di=!1),Al(t,e,n),bg(n.stateNode),Bn=r,di=s;break;case 5:br||ma(n,e);case 6:if(r=Bn,s=di,Bn=null,Al(t,e,n),Bn=r,di=s,Bn!==null)if(di)try{(Bn.nodeType===9?Bn.body:Bn.nodeName==="HTML"?Bn.ownerDocument.body:Bn).removeChild(n.stateNode)}catch(i){wn(n,e,i)}else try{Bn.removeChild(n.stateNode)}catch(i){wn(n,e,i)}break;case 18:Bn!==null&&(di?(t=Bn,Q4(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Lg(t)):Q4(Bn,n.stateNode));break;case 4:r=Bn,s=di,Bn=n.stateNode.containerInfo,di=!0,Al(t,e,n),Bn=r,di=s;break;case 0:case 11:case 14:case 15:br||nu(2,n,e),br||nu(4,n,e),Al(t,e,n);break;case 1:br||(ma(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&WU(n,e,r)),Al(t,e,n);break;case 21:Al(t,e,n);break;case 22:br=(r=br)||n.memoizedState!==null,Al(t,e,n),br=r;break;default:Al(t,e,n)}}function t3(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Lg(t)}catch(n){wn(e,e.return,n)}}function MQ(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new O4),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new O4),e;default:throw Error(J(435,t.tag))}}function mS(t,e){var n=MQ(t);e.forEach(function(r){var s=GQ.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}function Vi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r],i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 27:if(iu(a.type)){Bn=a.stateNode,di=!1;break e}break;case 5:Bn=a.stateNode,di=!1;break e;case 3:case 4:Bn=a.stateNode.containerInfo,di=!0;break e}a=a.return}if(Bn===null)throw Error(J(160));e3(i,o,s),Bn=null,di=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)n3(e,t),e=e.sibling}var Bo=null;function n3(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vi(e,t),Hi(t),r&4&&(nu(3,t,t.return),$g(3,t),nu(5,t,t.return));break;case 1:Vi(e,t),Hi(t),r&512&&(br||n===null||ma(n,n.return)),r&64&&Dl&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var s=Bo;if(Vi(e,t),Hi(t),r&512&&(br||n===null||ma(n,n.return)),r&4){var i=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":i=s.getElementsByTagName("title")[0],(!i||i[Ug]||i[Ns]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(r),s.head.insertBefore(i,s.querySelector("head > title"))),ys(i,r,n),i[Ns]=t,Zr(i),r=i;break e;case"link":var o=eF("link","href",s).get(r+(n.href||""));if(o){for(var a=0;a<o.length;a++)if(i=o[a],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(a,1);break t}}i=s.createElement(r),ys(i,r,n),s.head.appendChild(i);break;case"meta":if(o=eF("meta","content",s).get(r+(n.content||""))){for(a=0;a<o.length;a++)if(i=o[a],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(a,1);break t}}i=s.createElement(r),ys(i,r,n),s.head.appendChild(i);break;default:throw Error(J(468,r))}i[Ns]=t,Zr(i),r=i}t.stateNode=r}else tF(s,t.type,t.stateNode);else t.stateNode=Z4(s,r,t.memoizedProps);else i!==r?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,r===null?tF(s,t.type,t.stateNode):Z4(s,r,t.memoizedProps)):r===null&&t.stateNode!==null&&dS(t,t.memoizedProps,n.memoizedProps)}break;case 27:Vi(e,t),Hi(t),r&512&&(br||n===null||ma(n,n.return)),n!==null&&r&4&&dS(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Vi(e,t),Hi(t),r&512&&(br||n===null||ma(n,n.return)),t.flags&32){s=t.stateNode;try{kf(s,"")}catch(m){wn(t,t.return,m)}}r&4&&t.stateNode!=null&&(s=t.memoizedProps,dS(t,s,n!==null?n.memoizedProps:s)),r&1024&&(fS=!0);break;case 6:if(Vi(e,t),Hi(t),r&4){if(t.stateNode===null)throw Error(J(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(m){wn(t,t.return,m)}}break;case 3:if(Sb=null,s=Bo,Bo=Zb(e.containerInfo),Vi(e,t),Bo=s,Hi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lg(e.containerInfo)}catch(m){wn(t,t.return,m)}fS&&(fS=!1,r3(t));break;case 4:r=Bo,Bo=Zb(t.stateNode.containerInfo),Vi(e,t),Hi(t),Bo=r;break;case 12:Vi(e,t),Hi(t);break;case 13:Vi(e,t),Hi(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(e1=ga()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,mS(t,r)));break;case 22:s=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=Dl,d=br;if(Dl=c||s,br=d||l,Vi(e,t),br=d,Dl=c,Hi(t),r&8192)e:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||l||Dl||br||id(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(i=l.stateNode,s)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{a=l.stateNode;var h=l.memoizedProps.style,f=h!=null&&h.hasOwnProperty("display")?h.display:null;a.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(m){wn(l,l.return,m)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=s?"":l.memoizedProps}catch(m){wn(l,l.return,m)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,mS(t,n))));break;case 19:Vi(e,t),Hi(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,mS(t,r)));break;case 30:break;case 21:break;default:Vi(e,t),Hi(t)}}function Hi(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(YU(r)){n=r;break}r=r.return}if(n==null)throw Error(J(160));switch(n.tag){case 27:var s=n.stateNode,i=hS(t);$b(t,i,s);break;case 5:var o=n.stateNode;n.flags&32&&(kf(o,""),n.flags&=-33);var a=hS(t);$b(t,a,o);break;case 3:case 4:var l=n.stateNode.containerInfo,c=hS(t);ZS(t,c,l);break;default:throw Error(J(161))}}catch(d){wn(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function r3(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;r3(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Oc(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)JU(t,e.alternate,e),e=e.sibling}function id(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:nu(4,e,e.return),id(e);break;case 1:ma(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&WU(e,e.return,n),id(e);break;case 27:bg(e.stateNode);case 26:case 5:ma(e,e.return),id(e);break;case 22:e.memoizedState===null&&id(e);break;case 30:id(e);break;default:id(e)}t=t.sibling}}function Mc(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,s=t,i=e,o=i.flags;switch(i.tag){case 0:case 11:case 15:Mc(s,i,n),$g(4,i);break;case 1:if(Mc(s,i,n),r=i,s=r.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(c){wn(r,r.return,c)}if(r=i,s=r.updateQueue,s!==null){var a=r.stateNode;try{var l=s.shared.hiddenCallbacks;if(l!==null)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)JF(l[s],a)}catch(c){wn(r,r.return,c)}}n&&o&64&&KU(i),pg(i,i.return);break;case 27:XU(i);case 26:case 5:Mc(s,i,n),n&&r===null&&o&4&&QU(i),pg(i,i.return);break;case 12:Mc(s,i,n);break;case 13:Mc(s,i,n),n&&o&4&&t3(s,i);break;case 22:i.memoizedState===null&&Mc(s,i,n),pg(i,i.return);break;case 30:break;default:Mc(s,i,n)}e=e.sibling}}function YN(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&qg(n))}function XN(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&qg(t))}function ha(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)s3(t,e,n,r),e=e.sibling}function s3(t,e,n,r){var s=e.flags;switch(e.tag){case 0:case 11:case 15:ha(t,e,n,r),s&2048&&$g(9,e);break;case 1:ha(t,e,n,r);break;case 3:ha(t,e,n,r),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&qg(t)));break;case 12:if(s&2048){ha(t,e,n,r),t=e.stateNode;try{var i=e.memoizedProps,o=i.id,a=i.onPostCommit;typeof a=="function"&&a(o,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){wn(e,e.return,l)}}else ha(t,e,n,r);break;case 13:ha(t,e,n,r);break;case 23:break;case 22:i=e.stateNode,o=e.alternate,e.memoizedState!==null?i._visibility&2?ha(t,e,n,r):gg(t,e):i._visibility&2?ha(t,e,n,r):(i._visibility|=2,rf(t,e,n,r,(e.subtreeFlags&10256)!==0)),s&2048&&YN(o,e);break;case 24:ha(t,e,n,r),s&2048&&XN(e.alternate,e);break;default:ha(t,e,n,r)}}function rf(t,e,n,r,s){for(s=s&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var i=t,o=e,a=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:rf(i,o,a,l,s),$g(8,o);break;case 23:break;case 22:var d=o.stateNode;o.memoizedState!==null?d._visibility&2?rf(i,o,a,l,s):gg(i,o):(d._visibility|=2,rf(i,o,a,l,s)),s&&c&2048&&YN(o.alternate,o);break;case 24:rf(i,o,a,l,s),s&&c&2048&&XN(o.alternate,o);break;default:rf(i,o,a,l,s)}e=e.sibling}}function gg(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,s=r.flags;switch(r.tag){case 22:gg(n,r),s&2048&&YN(r.alternate,r);break;case 24:gg(n,r),s&2048&&XN(r.alternate,r);break;default:gg(n,r)}e=e.sibling}}var ig=8192;function ef(t){if(t.subtreeFlags&ig)for(t=t.child;t!==null;)i3(t),t=t.sibling}function i3(t){switch(t.tag){case 26:ef(t),t.flags&ig&&t.memoizedState!==null&&bY(Bo,t.memoizedState,t.memoizedProps);break;case 5:ef(t);break;case 3:case 4:var e=Bo;Bo=Zb(t.stateNode.containerInfo),ef(t),Bo=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=ig,ig=16777216,ef(t),ig=e):ef(t));break;default:ef(t)}}function o3(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Zp(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Jr=r,l3(r,t)}o3(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)a3(t),t=t.sibling}function a3(t){switch(t.tag){case 0:case 11:case 15:Zp(t),t.flags&2048&&nu(9,t,t.return);break;case 3:Zp(t);break;case 12:Zp(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,xb(t)):Zp(t);break;default:Zp(t)}}function xb(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Jr=r,l3(r,t)}o3(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:nu(8,e,e.return),xb(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,xb(e));break;default:xb(e)}t=t.sibling}}function l3(t,e){for(;Jr!==null;){var n=Jr;switch(n.tag){case 0:case 11:case 15:nu(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:qg(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Jr=r;else e:for(n=t;Jr!==null;){r=Jr;var s=r.sibling,i=r.return;if(ZU(r),r===n){Jr=null;break e}if(s!==null){s.return=i,Jr=s;break e}Jr=i}}}var FQ={getCacheForType:function(t){var e=ks(qr),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},UQ=typeof WeakMap=="function"?WeakMap:Map,an=0,Nn=null,St=null,Ut=0,on=0,Bi=null,Gc=!1,Hf=!1,JN=!1,Bl=0,lr=0,ru=0,dd=0,ZN=0,bo=0,Lf=0,yg=null,hi=null,eN=!1,e1=0,Kb=1/0,Wb=null,Yc=null,gs=0,Xc=null,Pf=null,Ef=0,tN=0,nN=null,c3=null,vg=0,rN=null;function Gi(){if(an&2&&Ut!==0)return Ut&-Ut;if(Je.T!==null){var t=Af;return t!==0?t:n1()}return wF()}function u3(){bo===0&&(bo=!(Ut&536870912)||Qt?gF():536870912);var t=wo.current;return t!==null&&(t.flags|=32),bo}function $i(t,e,n){(t===Nn&&(on===2||on===9)||t.cancelPendingCommit!==null)&&(Of(t,0),$c(t,Ut,bo,!1)),Fg(t,n),(!(an&2)||t!==Nn)&&(t===Nn&&(!(an&2)&&(dd|=n),lr===4&&$c(t,Ut,bo,!1)),ba(t))}function d3(t,e,n){if(an&6)throw Error(J(327));var r=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Mg(t,e),s=r?BQ(t,e):pS(t,e,!0),i=r;do{if(s===0){Hf&&!r&&$c(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!VQ(n)){s=pS(t,e,!1),i=!1;continue}if(s===2){if(i=e,t.errorRecoveryDisabledLanes&i)var o=0;else o=t.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){e=o;e:{var a=t;s=yg;var l=a.current.memoizedState.isDehydrated;if(l&&(Of(a,o).flags|=256),o=pS(a,o,!1),o!==2){if(JN&&!l){a.errorRecoveryDisabledLanes|=i,dd|=i,s=4;break e}i=hi,hi=s,i!==null&&(hi===null?hi=i:hi.push.apply(hi,i))}s=o}if(i=!1,s!==2)continue}}if(s===1){Of(t,0),$c(t,e,0,!0);break}e:{switch(r=t,i=s,i){case 0:case 1:throw Error(J(345));case 4:if((e&4194048)!==e)break;case 6:$c(r,e,bo,!Gc);break e;case 2:hi=null;break;case 3:case 5:break;default:throw Error(J(329))}if((e&62914560)===e&&(s=e1+300-ga(),10<s)){if($c(r,e,bo,!Gc),sw(r,0,!0)!==0)break e;r.timeoutHandle=D3(M4.bind(null,r,n,hi,Wb,eN,e,bo,dd,Lf,Gc,i,2,-0,0),s);break e}M4(r,n,hi,Wb,eN,e,bo,dd,Lf,Gc,i,0,-0,0)}}break}while(!0);ba(t)}function M4(t,e,n,r,s,i,o,a,l,c,d,h,f,m){if(t.timeoutHandle=-1,h=e.subtreeFlags,(h&8192||(h&16785408)===16785408)&&(Ag={stylesheets:null,count:0,unsuspend:vY},i3(e),h=wY(),h!==null)){t.cancelPendingCommit=h(U4.bind(null,t,e,i,n,r,s,o,a,l,d,1,f,m)),$c(t,i,o,!c);return}U4(t,e,i,n,r,s,o,a,l)}function VQ(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ki(i(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $c(t,e,n,r){e&=~ZN,e&=~dd,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var s=e;0<s;){var i=31-ji(s),o=1<<i;r[i]=-1,s&=~o}n!==0&&vF(t,n,e)}function mw(){return an&6?!0:(Kg(0,!1),!1)}function t1(){if(St!==null){if(on===0)var t=St.return;else t=St,Pl=wd=null,BN(t),xf=null,Sg=0,t=St;for(;t!==null;)$U(t.alternate,t),t=t.return;St=null}}function Of(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,tY(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),t1(),Nn=t,St=n=Ml(t.current,null),Ut=e,on=0,Bi=null,Gc=!1,Hf=Mg(t,e),JN=!1,Lf=bo=ZN=dd=ru=lr=0,hi=yg=null,eN=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var s=31-ji(r),i=1<<s;e|=t[s],r&=~i}return Bl=e,lw(),n}function h3(t,e){yt=null,Je.H=Bb,e===zg||e===uw?(e=m4(),on=3):e===YF?(e=m4(),on=4):on=e===HU?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Bi=e,St===null&&(lr=1,jb(t,vo(e,t.current)))}function f3(){var t=Je.H;return Je.H=Bb,t===null?Bb:t}function m3(){var t=Je.A;return Je.A=FQ,t}function sN(){lr=4,Gc||(Ut&4194048)!==Ut&&wo.current!==null||(Hf=!0),!(ru&134217727)&&!(dd&134217727)||Nn===null||$c(Nn,Ut,bo,!1)}function pS(t,e,n){var r=an;an|=2;var s=f3(),i=m3();(Nn!==t||Ut!==e)&&(Wb=null,Of(t,e)),e=!1;var o=lr;e:do try{if(on!==0&&St!==null){var a=St,l=Bi;switch(on){case 8:t1(),o=6;break e;case 3:case 2:case 9:case 6:wo.current===null&&(e=!0);var c=on;if(on=0,Bi=null,yf(t,a,l,c),n&&Hf){o=0;break e}break;default:c=on,on=0,Bi=null,yf(t,a,l,c)}}HQ(),o=lr;break}catch(d){h3(t,d)}while(!0);return e&&t.shellSuspendCounter++,Pl=wd=null,an=r,Je.H=s,Je.A=i,St===null&&(Nn=null,Ut=0,lw()),o}function HQ(){for(;St!==null;)p3(St)}function BQ(t,e){var n=an;an|=2;var r=f3(),s=m3();Nn!==t||Ut!==e?(Wb=null,Kb=ga()+500,Of(t,e)):Hf=Mg(t,e);e:do try{if(on!==0&&St!==null){e=St;var i=Bi;t:switch(on){case 1:on=0,Bi=null,yf(t,e,i,1);break;case 2:case 9:if(f4(i)){on=0,Bi=null,F4(e);break}e=function(){on!==2&&on!==9||Nn!==t||(on=7),ba(t)},i.then(e,e);break e;case 3:on=7;break e;case 4:on=5;break e;case 7:f4(i)?(on=0,Bi=null,F4(e)):(on=0,Bi=null,yf(t,e,i,7));break;case 5:var o=null;switch(St.tag){case 26:o=St.memoizedState;case 5:case 27:var a=St;if(!o||P3(o)){on=0,Bi=null;var l=a.sibling;if(l!==null)St=l;else{var c=a.return;c!==null?(St=c,pw(c)):St=null}break t}}on=0,Bi=null,yf(t,e,i,5);break;case 6:on=0,Bi=null,yf(t,e,i,6);break;case 8:t1(),lr=6;break e;default:throw Error(J(462))}}qQ();break}catch(d){h3(t,d)}while(!0);return Pl=wd=null,Je.H=r,Je.A=s,an=n,St!==null?0:(Nn=null,Ut=0,lw(),lr)}function qQ(){for(;St!==null&&!uW();)p3(St)}function p3(t){var e=GU(t.alternate,t,Bl);t.memoizedProps=t.pendingProps,e===null?pw(t):St=e}function F4(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=D4(n,e,e.pendingProps,e.type,void 0,Ut);break;case 11:e=D4(n,e,e.pendingProps,e.type.render,e.ref,Ut);break;case 5:BN(e);default:$U(n,e),e=St=$F(e,Bl),e=GU(n,e,Bl)}t.memoizedProps=t.pendingProps,e===null?pw(t):St=e}function yf(t,e,n,r){Pl=wd=null,BN(e),xf=null,Sg=0;var s=e.return;try{if(CQ(t,s,e,n,Ut)){lr=1,jb(t,vo(n,t.current)),St=null;return}}catch(i){if(s!==null)throw St=s,i;lr=1,jb(t,vo(n,t.current)),St=null;return}e.flags&32768?(Qt||r===1?t=!0:Hf||Ut&536870912?t=!1:(Gc=t=!0,(r===2||r===9||r===3||r===6)&&(r=wo.current,r!==null&&r.tag===13&&(r.flags|=16384))),g3(e,t)):pw(e)}function pw(t){var e=t;do{if(e.flags&32768){g3(e,Gc);return}t=e.return;var n=LQ(e.alternate,e,Bl);if(n!==null){St=n;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);lr===0&&(lr=5)}function g3(t,e){do{var n=PQ(t.alternate,t);if(n!==null){n.flags&=32767,St=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){St=t;return}St=t=n}while(t!==null);lr=6,St=null}function U4(t,e,n,r,s,i,o,a,l){t.cancelPendingCommit=null;do gw();while(gs!==0);if(an&6)throw Error(J(327));if(e!==null){if(e===t.current)throw Error(J(177));if(i=e.lanes|e.childLanes,i|=kN,wW(t,n,i,o,a,l),t===Nn&&(St=Nn=null,Ut=0),Pf=e,Xc=t,Ef=n,tN=i,nN=s,c3=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,$Q(Cb,function(){return _3(!0),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=Je.T,Je.T=null,s=Yt.p,Yt.p=2,o=an,an|=4;try{OQ(t,e,n)}finally{an=o,Yt.p=s,Je.T=r}}gs=1,y3(),v3(),b3()}}function y3(){if(gs===1){gs=0;var t=Xc,e=Pf,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Je.T,Je.T=null;var r=Yt.p;Yt.p=2;var s=an;an|=4;try{n3(e,t);var i=lN,o=UF(t.containerInfo),a=i.focusedElem,l=i.selectionRange;if(o!==a&&a&&a.ownerDocument&&FF(a.ownerDocument.documentElement,a)){if(l!==null&&NN(a)){var c=l.start,d=l.end;if(d===void 0&&(d=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(d,a.value.length);else{var h=a.ownerDocument||document,f=h&&h.defaultView||window;if(f.getSelection){var m=f.getSelection(),y=a.textContent.length,w=Math.min(l.start,y),v=l.end===void 0?w:Math.min(l.end,y);!m.extend&&w>v&&(o=v,v=w,w=o);var g=i4(a,w),b=i4(a,v);if(g&&b&&(m.rangeCount!==1||m.anchorNode!==g.node||m.anchorOffset!==g.offset||m.focusNode!==b.node||m.focusOffset!==b.offset)){var I=h.createRange();I.setStart(g.node,g.offset),m.removeAllRanges(),w>v?(m.addRange(I),m.extend(b.node,b.offset)):(I.setEnd(b.node,b.offset),m.addRange(I))}}}}for(h=[],m=a;m=m.parentNode;)m.nodeType===1&&h.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<h.length;a++){var k=h[a];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}nw=!!aN,lN=aN=null}finally{an=s,Yt.p=r,Je.T=n}}t.current=e,gs=2}}function v3(){if(gs===2){gs=0;var t=Xc,e=Pf,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Je.T,Je.T=null;var r=Yt.p;Yt.p=2;var s=an;an|=4;try{JU(t,e.alternate,e)}finally{an=s,Yt.p=r,Je.T=n}}gs=3}}function b3(){if(gs===4||gs===3){gs=0,dW();var t=Xc,e=Pf,n=Ef,r=c3;e.subtreeFlags&10256||e.flags&10256?gs=5:(gs=0,Pf=Xc=null,w3(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(Yc=null),wN(n),e=e.stateNode,zi&&typeof zi.onCommitFiberRoot=="function")try{zi.onCommitFiberRoot(Og,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=Je.T,s=Yt.p,Yt.p=2,Je.T=null;try{for(var i=t.onRecoverableError,o=0;o<r.length;o++){var a=r[o];i(a.value,{componentStack:a.stack})}}finally{Je.T=e,Yt.p=s}}Ef&3&&gw(),ba(t),s=t.pendingLanes,n&4194090&&s&42?t===rN?vg++:(vg=0,rN=t):vg=0,Kg(0,!1)}}function w3(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,qg(e)))}function gw(t){return y3(),v3(),b3(),_3(t)}function _3(){if(gs!==5)return!1;var t=Xc,e=tN;tN=0;var n=wN(Ef),r=Je.T,s=Yt.p;try{Yt.p=32>n?32:n,Je.T=null,n=nN,nN=null;var i=Xc,o=Ef;if(gs=0,Pf=Xc=null,Ef=0,an&6)throw Error(J(331));var a=an;if(an|=4,a3(i.current),s3(i,i.current,o,n),an=a,Kg(0,!1),zi&&typeof zi.onPostCommitFiberRoot=="function")try{zi.onPostCommitFiberRoot(Og,i)}catch{}return!0}finally{Yt.p=s,Je.T=r,w3(t,e)}}function V4(t,e,n){e=vo(n,e),e=YS(t.stateNode,e,2),t=Qc(t,e,2),t!==null&&(Fg(t,2),ba(t))}function wn(t,e,n){if(t.tag===3)V4(t,t,n);else for(;e!==null;){if(e.tag===3){V4(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yc===null||!Yc.has(r))){t=vo(n,t),n=UU(2),r=Qc(e,n,2),r!==null&&(VU(n,r,e,t),Fg(r,2),ba(r));break}}e=e.return}}function gS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new UQ;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(JN=!0,s.add(n),t=zQ.bind(null,t,e,n),e.then(t,t))}function zQ(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Nn===t&&(Ut&n)===n&&(lr===4||lr===3&&(Ut&62914560)===Ut&&300>ga()-e1?!(an&2)&&Of(t,0):ZN|=n,Lf===Ut&&(Lf=0)),ba(t)}function T3(t,e){e===0&&(e=yF()),t=Vf(t,e),t!==null&&(Fg(t,e),ba(t))}function jQ(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),T3(t,n)}function GQ(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(J(314))}r!==null&&r.delete(e),T3(t,n)}function $Q(t,e){return vN(t,e)}var Qb=null,sf=null,iN=!1,Yb=!1,yS=!1,hd=0;function ba(t){t!==sf&&t.next===null&&(sf===null?Qb=sf=t:sf=sf.next=t),Yb=!0,iN||(iN=!0,WQ())}function Kg(t,e){if(!yS&&Yb){yS=!0;do for(var n=!1,r=Qb;r!==null;){if(!e)if(t!==0){var s=r.pendingLanes;if(s===0)var i=0;else{var o=r.suspendedLanes,a=r.pingedLanes;i=(1<<31-ji(42|t)+1)-1,i&=s&~(o&~a),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,H4(r,i))}else i=Ut,i=sw(r,r===Nn?i:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(i&3)||Mg(r,i)||(n=!0,H4(r,i));r=r.next}while(n);yS=!1}}function KQ(){I3()}function I3(){Yb=iN=!1;var t=0;hd!==0&&(eY()&&(t=hd),hd=0);for(var e=ga(),n=null,r=Qb;r!==null;){var s=r.next,i=x3(r,e);i===0?(r.next=null,n===null?Qb=s:n.next=s,s===null&&(sf=n)):(n=r,(t!==0||i&3)&&(Yb=!0)),r=s}Kg(t,!1)}function x3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var o=31-ji(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=bW(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}if(e=Nn,n=Ut,n=sw(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(on===2||on===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&jE(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Mg(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&jE(r),wN(n)){case 2:case 8:n=mF;break;case 32:n=Cb;break;case 268435456:n=pF;break;default:n=Cb}return r=E3.bind(null,t),n=vN(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&jE(r),t.callbackPriority=2,t.callbackNode=null,2}function E3(t,e){if(gs!==0&&gs!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(gw(!0)&&t.callbackNode!==n)return null;var r=Ut;return r=sw(t,t===Nn?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(d3(t,r,e),x3(t,ga()),t.callbackNode!=null&&t.callbackNode===n?E3.bind(null,t):null)}function H4(t,e){if(gw())return null;d3(t,e,!0)}function WQ(){nY(function(){an&6?vN(fF,KQ):I3()})}function n1(){return hd===0&&(hd=gF()),hd}function B4(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:gb(""+t)}function q4(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function QQ(t,e,n,r,s){if(e==="submit"&&n&&n.stateNode===s){var i=B4((s[fi]||null).action),o=r.submitter;o&&(e=(e=o[fi]||null)?B4(e.formAction):o.getAttribute("formAction"),e!==null&&(i=e,o=null));var a=new iw("action","action",null,r,s);t.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(hd!==0){var l=o?q4(s,o):new FormData(s);WS(n,{pending:!0,data:l,method:s.method,action:i},null,l)}}else typeof i=="function"&&(a.preventDefault(),l=o?q4(s,o):new FormData(s),WS(n,{pending:!0,data:l,method:s.method,action:i},i,l))},currentTarget:s}]})}}for(ub=0;ub<MS.length;ub++)db=MS[ub],z4=db.toLowerCase(),j4=db[0].toUpperCase()+db.slice(1),zo(z4,"on"+j4);var db,z4,j4,ub;zo(HF,"onAnimationEnd");zo(BF,"onAnimationIteration");zo(qF,"onAnimationStart");zo("dblclick","onDoubleClick");zo("focusin","onFocus");zo("focusout","onBlur");zo(mQ,"onTransitionRun");zo(pQ,"onTransitionStart");zo(gQ,"onTransitionCancel");zo(zF,"onTransitionEnd");Nf("onMouseEnter",["mouseout","mouseover"]);Nf("onMouseLeave",["mouseout","mouseover"]);Nf("onPointerEnter",["pointerout","pointerover"]);Nf("onPointerLeave",["pointerout","pointerover"]);yd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yd("onBeforeInput",["compositionend","keypress","textInput","paste"]);yd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ng="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YQ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ng));function S3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;i=a,s.currentTarget=c;try{i(s)}catch(d){zb(d)}s.currentTarget=null,i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;i=a,s.currentTarget=c;try{i(s)}catch(d){zb(d)}s.currentTarget=null,i=l}}}}function Et(t,e){var n=e[AS];n===void 0&&(n=e[AS]=new Set);var r=t+"__bubble";n.has(r)||(N3(e,t,2,!1),n.add(r))}function vS(t,e,n){var r=0;e&&(r|=4),N3(n,t,r,e)}var hb="_reactListening"+Math.random().toString(36).slice(2);function r1(t){if(!t[hb]){t[hb]=!0,_F.forEach(function(n){n!=="selectionchange"&&(YQ.has(n)||vS(n,!1,t),vS(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hb]||(e[hb]=!0,vS("selectionchange",!1,e))}}function N3(t,e,n,r){switch(V3(e)){case 2:var s=IY;break;case 8:s=xY;break;default:s=a1}n=s.bind(null,e,n,t),s=void 0,!LS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function bS(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&o.stateNode.containerInfo===s)return;o=o.return}for(;a!==null;){if(o=lf(a),o===null)return;if(l=o.tag,l===5||l===6||l===26||l===27){r=i=o;continue e}a=a.parentNode}}r=r.return}AF(function(){var c=i,d=IN(n),h=[];e:{var f=jF.get(t);if(f!==void 0){var m=iw,y=t;switch(t){case"keypress":if(vb(n)===0)break e;case"keydown":case"keyup":m=$W;break;case"focusin":y="focus",m=JE;break;case"focusout":y="blur",m=JE;break;case"beforeblur":case"afterblur":m=JE;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=YM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=PW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=QW;break;case HF:case BF:case qF:m=FW;break;case zF:m=XW;break;case"scroll":case"scrollend":m=RW;break;case"wheel":m=ZW;break;case"copy":case"cut":case"paste":m=VW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=JM;break;case"toggle":case"beforetoggle":m=tQ}var w=(e&4)!==0,v=!w&&(t==="scroll"||t==="scrollend"),g=w?f!==null?f+"Capture":null:f;w=[];for(var b=c,I;b!==null;){var k=b;if(I=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||I===null||g===null||(k=_g(b,g),k!=null&&w.push(kg(b,k,I))),v)break;b=b.return}0<w.length&&(f=new m(f,y,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==RS&&(y=n.relatedTarget||n.fromElement)&&(lf(y)||y[Ff]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=c,y=y?lf(y):null,y!==null&&(v=Pg(y),w=y.tag,y!==v||w!==5&&w!==27&&w!==6)&&(y=null)):(m=null,y=c),m!==y)){if(w=YM,k="onMouseLeave",g="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(w=JM,k="onPointerLeave",g="onPointerEnter",b="pointer"),v=m==null?f:sg(m),I=y==null?f:sg(y),f=new w(k,b+"leave",m,n,d),f.target=v,f.relatedTarget=I,k=null,lf(d)===c&&(w=new w(g,b+"enter",y,n,d),w.target=I,w.relatedTarget=v,k=w),v=k,m&&y)t:{for(w=m,g=y,b=0,I=w;I;I=tf(I))b++;for(I=0,k=g;k;k=tf(k))I++;for(;0<b-I;)w=tf(w),b--;for(;0<I-b;)g=tf(g),I--;for(;b--;){if(w===g||g!==null&&w===g.alternate)break t;w=tf(w),g=tf(g)}w=null}else w=null;m!==null&&G4(h,f,m,w,!1),y!==null&&v!==null&&G4(h,v,y,w,!0)}}e:{if(f=c?sg(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var R=n4;else if(t4(f))if(OF)R=dQ;else{R=cQ;var F=lQ}else m=f.nodeName,!m||m.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?c&&TN(c.elementType)&&(R=n4):R=uQ;if(R&&(R=R(t,c))){PF(h,R,n,d);break e}F&&F(t,f,c),t==="focusout"&&c&&f.type==="number"&&c.memoizedProps.value!=null&&CS(f,"number",f.value)}switch(F=c?sg(c):window,t){case"focusin":(t4(F)||F.contentEditable==="true")&&(df=F,PS=c,lg=null);break;case"focusout":lg=PS=df=null;break;case"mousedown":OS=!0;break;case"contextmenu":case"mouseup":case"dragend":OS=!1,o4(h,n,d);break;case"selectionchange":if(fQ)break;case"keydown":case"keyup":o4(h,n,d)}var S;if(SN)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else uf?RF(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(CF&&n.locale!=="ko"&&(uf||E!=="onCompositionStart"?E==="onCompositionEnd"&&uf&&(S=DF()):(jc=d,xN="value"in jc?jc.value:jc.textContent,uf=!0)),F=Xb(c,E),0<F.length&&(E=new XM(E,t,null,n,d),h.push({event:E,listeners:F}),S?E.data=S:(S=LF(n),S!==null&&(E.data=S)))),(S=rQ?sQ(t,n):iQ(t,n))&&(E=Xb(c,"onBeforeInput"),0<E.length&&(F=new XM("onBeforeInput","beforeinput",null,n,d),h.push({event:F,listeners:E}),F.data=S)),QQ(h,t,c,n,d)}S3(h,e)})}function kg(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xb(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=_g(t,n),s!=null&&r.unshift(kg(t,s,i)),s=_g(t,e),s!=null&&r.push(kg(t,s,i))),t.tag===3)return r;t=t.return}return[]}function tf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function G4(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,l!==null&&l===r)break;a!==5&&a!==26&&a!==27||c===null||(l=c,s?(c=_g(n,i),c!=null&&o.unshift(kg(n,c,l))):s||(c=_g(n,i),c!=null&&o.push(kg(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var XQ=/\r\n?/g,JQ=/\u0000|\uFFFD/g;function $4(t){return(typeof t=="string"?t:""+t).replace(XQ,`
`).replace(JQ,"")}function k3(t,e){return e=$4(e),$4(t)===e}function yw(){}function pn(t,e,n,r,s,i){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||kf(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&kf(t,""+r);break;case"className":tb(t,"class",r);break;case"tabIndex":tb(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":tb(t,n,r);break;case"style":kF(t,r,i);break;case"data":if(e!=="object"){tb(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=gb(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&pn(t,e,"name",s.name,s,null),pn(t,e,"formEncType",s.formEncType,s,null),pn(t,e,"formMethod",s.formMethod,s,null),pn(t,e,"formTarget",s.formTarget,s,null)):(pn(t,e,"encType",s.encType,s,null),pn(t,e,"method",s.method,s,null),pn(t,e,"target",s.target,s,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=gb(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=yw);break;case"onScroll":r!=null&&Et("scroll",t);break;case"onScrollEnd":r!=null&&Et("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(J(61));if(n=r.__html,n!=null){if(s.children!=null)throw Error(J(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=gb(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":Et("beforetoggle",t),Et("toggle",t),pb(t,"popover",r);break;case"xlinkActuate":Nl(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Nl(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Nl(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Nl(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Nl(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Nl(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Nl(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Nl(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Nl(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":pb(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=DW.get(n)||n,pb(t,n,r))}}function oN(t,e,n,r,s,i){switch(n){case"style":kF(t,r,i);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(J(61));if(n=r.__html,n!=null){if(s.children!=null)throw Error(J(60));t.innerHTML=n}}break;case"children":typeof r=="string"?kf(t,r):(typeof r=="number"||typeof r=="bigint")&&kf(t,""+r);break;case"onScroll":r!=null&&Et("scroll",t);break;case"onScrollEnd":r!=null&&Et("scrollend",t);break;case"onClick":r!=null&&(t.onclick=yw);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!TF.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),i=t[fi]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,s),typeof r=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,s);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):pb(t,n,r)}}}function ys(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Et("error",t),Et("load",t);var r=!1,s=!1,i;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(o!=null)switch(i){case"src":r=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(J(137,e));default:pn(t,e,i,o,n,null)}}s&&pn(t,e,"srcSet",n.srcSet,n,null),r&&pn(t,e,"src",n.src,n,null);return;case"input":Et("invalid",t);var a=i=o=s=null,l=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"name":s=d;break;case"type":o=d;break;case"checked":l=d;break;case"defaultChecked":c=d;break;case"value":i=d;break;case"defaultValue":a=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(J(137,e));break;default:pn(t,e,r,d,n,null)}}EF(t,i,a,l,c,o,s,!1),Rb(t);return;case"select":Et("invalid",t),r=o=i=null;for(s in n)if(n.hasOwnProperty(s)&&(a=n[s],a!=null))switch(s){case"value":i=a;break;case"defaultValue":o=a;break;case"multiple":r=a;default:pn(t,e,s,a,n,null)}e=i,n=o,t.multiple=!!r,e!=null?bf(t,!!r,e,!1):n!=null&&bf(t,!!r,n,!0);return;case"textarea":Et("invalid",t),i=s=r=null;for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"value":r=a;break;case"defaultValue":s=a;break;case"children":i=a;break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(J(91));break;default:pn(t,e,o,a,n,null)}NF(t,r,s,i),Rb(t);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:pn(t,e,l,r,n,null)}return;case"dialog":Et("beforetoggle",t),Et("toggle",t),Et("cancel",t),Et("close",t);break;case"iframe":case"object":Et("load",t);break;case"video":case"audio":for(r=0;r<Ng.length;r++)Et(Ng[r],t);break;case"image":Et("error",t),Et("load",t);break;case"details":Et("toggle",t);break;case"embed":case"source":case"link":Et("error",t),Et("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(J(137,e));default:pn(t,e,c,r,n,null)}return;default:if(TN(e)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&oN(t,e,d,r,n,void 0));return}}for(a in n)n.hasOwnProperty(a)&&(r=n[a],r!=null&&pn(t,e,a,r,n,null))}function ZQ(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,o=null,a=null,l=null,c=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&h!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=h;default:r.hasOwnProperty(m)||pn(t,e,m,null,r,h)}}for(var f in r){var m=r[f];if(h=n[f],r.hasOwnProperty(f)&&(m!=null||h!=null))switch(f){case"type":i=m;break;case"name":s=m;break;case"checked":c=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":a=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(J(137,e));break;default:m!==h&&pn(t,e,f,m,r,h)}}DS(t,o,a,l,c,d,i,s);return;case"select":m=o=a=f=null;for(i in n)if(l=n[i],n.hasOwnProperty(i)&&l!=null)switch(i){case"value":break;case"multiple":m=l;default:r.hasOwnProperty(i)||pn(t,e,i,null,r,l)}for(s in r)if(i=r[s],l=n[s],r.hasOwnProperty(s)&&(i!=null||l!=null))switch(s){case"value":f=i;break;case"defaultValue":a=i;break;case"multiple":o=i;default:i!==l&&pn(t,e,s,i,r,l)}e=a,n=o,r=m,f!=null?bf(t,!!n,f,!1):!!r!=!!n&&(e!=null?bf(t,!!n,e,!0):bf(t,!!n,n?[]:"",!1));return;case"textarea":m=f=null;for(a in n)if(s=n[a],n.hasOwnProperty(a)&&s!=null&&!r.hasOwnProperty(a))switch(a){case"value":break;case"children":break;default:pn(t,e,a,null,r,s)}for(o in r)if(s=r[o],i=n[o],r.hasOwnProperty(o)&&(s!=null||i!=null))switch(o){case"value":f=s;break;case"defaultValue":m=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(J(91));break;default:s!==i&&pn(t,e,o,s,r,i)}SF(t,f,m);return;case"option":for(var y in n)if(f=n[y],n.hasOwnProperty(y)&&f!=null&&!r.hasOwnProperty(y))switch(y){case"selected":t.selected=!1;break;default:pn(t,e,y,null,r,f)}for(l in r)if(f=r[l],m=n[l],r.hasOwnProperty(l)&&f!==m&&(f!=null||m!=null))switch(l){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:pn(t,e,l,f,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var w in n)f=n[w],n.hasOwnProperty(w)&&f!=null&&!r.hasOwnProperty(w)&&pn(t,e,w,null,r,f);for(c in r)if(f=r[c],m=n[c],r.hasOwnProperty(c)&&f!==m&&(f!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(J(137,e));break;default:pn(t,e,c,f,r,m)}return;default:if(TN(e)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&f!==void 0&&!r.hasOwnProperty(v)&&oN(t,e,v,void 0,r,f);for(d in r)f=r[d],m=n[d],!r.hasOwnProperty(d)||f===m||f===void 0&&m===void 0||oN(t,e,d,f,r,m);return}}for(var g in n)f=n[g],n.hasOwnProperty(g)&&f!=null&&!r.hasOwnProperty(g)&&pn(t,e,g,null,r,f);for(h in r)f=r[h],m=n[h],!r.hasOwnProperty(h)||f===m||f==null&&m==null||pn(t,e,h,f,r,m)}var aN=null,lN=null;function Jb(t){return t.nodeType===9?t:t.ownerDocument}function K4(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A3(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function cN(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wS=null;function eY(){var t=window.event;return t&&t.type==="popstate"?t===wS?!1:(wS=t,!0):(wS=null,!1)}var D3=typeof setTimeout=="function"?setTimeout:void 0,tY=typeof clearTimeout=="function"?clearTimeout:void 0,W4=typeof Promise=="function"?Promise:void 0,nY=typeof queueMicrotask=="function"?queueMicrotask:typeof W4<"u"?function(t){return W4.resolve(null).then(t).catch(rY)}:D3;function rY(t){setTimeout(function(){throw t})}function iu(t){return t==="head"}function Q4(t,e){var n=e,r=0,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(0<r&&8>r){n=r;var o=t.ownerDocument;if(n&1&&bg(o.documentElement),n&2&&bg(o.body),n&4)for(n=o.head,bg(n),o=n.firstChild;o;){var a=o.nextSibling,l=o.nodeName;o[Ug]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=a}}if(s===0){t.removeChild(i),Lg(e);return}s--}else n==="$"||n==="$?"||n==="$!"?s++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Lg(e)}function uN(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":uN(n),_N(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function sY(t,e,n,r){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Ug])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=qo(t.nextSibling),t===null)break}return null}function iY(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=qo(t.nextSibling),t===null))return null;return t}function dN(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function oY(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function qo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var hN=null;function Y4(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function C3(t,e,n){switch(e=Jb(n),t){case"html":if(t=e.documentElement,!t)throw Error(J(452));return t;case"head":if(t=e.head,!t)throw Error(J(453));return t;case"body":if(t=e.body,!t)throw Error(J(454));return t;default:throw Error(J(451))}}function bg(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);_N(t)}var _o=new Map,X4=new Set;function Zb(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ql=Yt.d;Yt.d={f:aY,r:lY,D:cY,C:uY,L:dY,m:hY,X:mY,S:fY,M:pY};function aY(){var t=ql.f(),e=mw();return t||e}function lY(t){var e=Uf(t);e!==null&&e.tag===5&&e.type==="form"?xU(e):ql.r(t)}var Bf=typeof document>"u"?null:document;function R3(t,e,n){var r=Bf;if(r&&typeof e=="string"&&e){var s=yo(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),X4.has(s)||(X4.add(s),t={rel:t,crossOrigin:n,href:e},r.querySelector(s)===null&&(e=r.createElement("link"),ys(e,"link",t),Zr(e),r.head.appendChild(e)))}}function cY(t){ql.D(t),R3("dns-prefetch",t,null)}function uY(t,e){ql.C(t,e),R3("preconnect",t,e)}function dY(t,e,n){ql.L(t,e,n);var r=Bf;if(r&&t&&e){var s='link[rel="preload"][as="'+yo(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+yo(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+yo(n.imageSizes)+'"]')):s+='[href="'+yo(t)+'"]';var i=s;switch(e){case"style":i=Mf(t);break;case"script":i=qf(t)}_o.has(i)||(t=Rn({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),_o.set(i,t),r.querySelector(s)!==null||e==="style"&&r.querySelector(Wg(i))||e==="script"&&r.querySelector(Qg(i))||(e=r.createElement("link"),ys(e,"link",t),Zr(e),r.head.appendChild(e)))}}function hY(t,e){ql.m(t,e);var n=Bf;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+yo(r)+'"][href="'+yo(t)+'"]',i=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=qf(t)}if(!_o.has(i)&&(t=Rn({rel:"modulepreload",href:t},e),_o.set(i,t),n.querySelector(s)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qg(i)))return}r=n.createElement("link"),ys(r,"link",t),Zr(r),n.head.appendChild(r)}}}function fY(t,e,n){ql.S(t,e,n);var r=Bf;if(r&&t){var s=vf(r).hoistableStyles,i=Mf(t);e=e||"default";var o=s.get(i);if(!o){var a={loading:0,preload:null};if(o=r.querySelector(Wg(i)))a.loading=5;else{t=Rn({rel:"stylesheet",href:t,"data-precedence":e},n),(n=_o.get(i))&&s1(t,n);var l=o=r.createElement("link");Zr(l),ys(l,"link",t),l._p=new Promise(function(c,d){l.onload=c,l.onerror=d}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Eb(o,e,r)}o={type:"stylesheet",instance:o,count:1,state:a},s.set(i,o)}}}function mY(t,e){ql.X(t,e);var n=Bf;if(n&&t){var r=vf(n).hoistableScripts,s=qf(t),i=r.get(s);i||(i=n.querySelector(Qg(s)),i||(t=Rn({src:t,async:!0},e),(e=_o.get(s))&&i1(t,e),i=n.createElement("script"),Zr(i),ys(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}}function pY(t,e){ql.M(t,e);var n=Bf;if(n&&t){var r=vf(n).hoistableScripts,s=qf(t),i=r.get(s);i||(i=n.querySelector(Qg(s)),i||(t=Rn({src:t,async:!0,type:"module"},e),(e=_o.get(s))&&i1(t,e),i=n.createElement("script"),Zr(i),ys(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}}function J4(t,e,n,r){var s=(s=Kc.current)?Zb(s):null;if(!s)throw Error(J(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Mf(n.href),n=vf(s).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Mf(n.href);var i=vf(s).hoistableStyles,o=i.get(t);if(o||(s=s.ownerDocument||s,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,o),(i=s.querySelector(Wg(t)))&&!i._p&&(o.instance=i,o.state.loading=5),_o.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},_o.set(t,n),i||gY(s,t,n,o.state))),e&&r===null)throw Error(J(528,""));return o}if(e&&r!==null)throw Error(J(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=qf(n),n=vf(s).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(J(444,t))}}function Mf(t){return'href="'+yo(t)+'"'}function Wg(t){return'link[rel="stylesheet"]['+t+"]"}function L3(t){return Rn({},t,{"data-precedence":t.precedence,precedence:null})}function gY(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),ys(e,"link",n),Zr(e),t.head.appendChild(e))}function qf(t){return'[src="'+yo(t)+'"]'}function Qg(t){return"script[async]"+t}function Z4(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+yo(n.href)+'"]');if(r)return e.instance=r,Zr(r),r;var s=Rn({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Zr(r),ys(r,"style",s),Eb(r,n.precedence,t),e.instance=r;case"stylesheet":s=Mf(n.href);var i=t.querySelector(Wg(s));if(i)return e.state.loading|=4,e.instance=i,Zr(i),i;r=L3(n),(s=_o.get(s))&&s1(r,s),i=(t.ownerDocument||t).createElement("link"),Zr(i);var o=i;return o._p=new Promise(function(a,l){o.onload=a,o.onerror=l}),ys(i,"link",r),e.state.loading|=4,Eb(i,n.precedence,t),e.instance=i;case"script":return i=qf(n.src),(s=t.querySelector(Qg(i)))?(e.instance=s,Zr(s),s):(r=n,(s=_o.get(i))&&(r=Rn({},n),i1(r,s)),t=t.ownerDocument||t,s=t.createElement("script"),Zr(s),ys(s,"link",r),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(J(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,Eb(r,n.precedence,t));return e.instance}function Eb(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,i=s,o=0;o<r.length;o++){var a=r[o];if(a.dataset.precedence===e)i=a;else if(i!==s)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function s1(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function i1(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Sb=null;function eF(t,e,n){if(Sb===null){var r=new Map,s=Sb=new Map;s.set(n,r)}else s=Sb,r=s.get(n),r||(r=new Map,s.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var i=n[s];if(!(i[Ug]||i[Ns]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(e)||"";o=t+o;var a=r.get(o);a?a.push(i):r.set(o,[i])}}return r}function tF(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function yY(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function P3(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Ag=null;function vY(){}function bY(t,e,n){if(Ag===null)throw Error(J(475));var r=Ag;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var s=Mf(n.href),i=t.querySelector(Wg(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=ew.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=i,Zr(i);return}i=t.ownerDocument||t,n=L3(n),(s=_o.get(s))&&s1(n,s),i=i.createElement("link"),Zr(i);var o=i;o._p=new Promise(function(a,l){o.onload=a,o.onerror=l}),ys(i,"link",n),e.instance=i}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=ew.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function wY(){if(Ag===null)throw Error(J(475));var t=Ag;return t.stylesheets&&t.count===0&&fN(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&fN(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function ew(){if(this.count--,this.count===0){if(this.stylesheets)fN(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var tw=null;function fN(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,tw=new Map,e.forEach(_Y,t),tw=null,ew.call(t))}function _Y(t,e){if(!(e.state.loading&4)){var n=tw.get(t);if(n)var r=n.get(null);else{n=new Map,tw.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var o=s[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}s=e.instance,o=s.getAttribute("data-precedence"),i=n.get(o)||r,i===r&&n.set(null,s),n.set(o,s),this.count++,r=ew.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),i?i.parentNode.insertBefore(s,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var Dg={$$typeof:Cl,Provider:null,Consumer:null,_currentValue:od,_currentValue2:od,_threadCount:0};function TY(t,e,n,r,s,i,o,a){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=GE(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=GE(0),this.hiddenUpdates=GE(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function O3(t,e,n,r,s,i,o,a,l,c,d,h){return t=new TY(t,e,n,o,a,l,c,h),e=1,i===!0&&(e|=24),i=qi(3,null,null,e),t.current=i,i.stateNode=t,e=LN(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:e},ON(i),t}function M3(t){return t?(t=mf,t):mf}function F3(t,e,n,r,s,i){s=M3(s),r.context===null?r.context=s:r.pendingContext=s,r=Wc(e),r.payload={element:n},i=i===void 0?null:i,i!==null&&(r.callback=i),n=Qc(t,r,e),n!==null&&($i(n,t,e),dg(n,t,e))}function nF(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function o1(t,e){nF(t,e),(t=t.alternate)&&nF(t,e)}function U3(t){if(t.tag===13){var e=Vf(t,67108864);e!==null&&$i(e,t,67108864),o1(t,67108864)}}var nw=!0;function IY(t,e,n,r){var s=Je.T;Je.T=null;var i=Yt.p;try{Yt.p=2,a1(t,e,n,r)}finally{Yt.p=i,Je.T=s}}function xY(t,e,n,r){var s=Je.T;Je.T=null;var i=Yt.p;try{Yt.p=8,a1(t,e,n,r)}finally{Yt.p=i,Je.T=s}}function a1(t,e,n,r){if(nw){var s=mN(r);if(s===null)bS(t,e,r,rw,n),rF(t,r);else if(SY(s,t,e,n,r))r.stopPropagation();else if(rF(t,r),e&4&&-1<EY.indexOf(t)){for(;s!==null;){var i=Uf(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=rd(i.pendingLanes);if(o!==0){var a=i;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var l=1<<31-ji(o);a.entanglements[1]|=l,o&=~l}ba(i),!(an&6)&&(Kb=ga()+500,Kg(0,!1))}}break;case 13:a=Vf(i,2),a!==null&&$i(a,i,2),mw(),o1(i,2)}if(i=mN(r),i===null&&bS(t,e,r,rw,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else bS(t,e,r,null,n)}}function mN(t){return t=IN(t),l1(t)}var rw=null;function l1(t){if(rw=null,t=lf(t),t!==null){var e=Pg(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=cF(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return rw=t,null}function V3(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hW()){case fF:return 2;case mF:return 8;case Cb:case fW:return 32;case pF:return 268435456;default:return 32}default:return 32}}var pN=!1,Jc=null,Zc=null,eu=null,Cg=new Map,Rg=new Map,qc=[],EY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rF(t,e){switch(t){case"focusin":case"focusout":Jc=null;break;case"dragenter":case"dragleave":Zc=null;break;case"mouseover":case"mouseout":eu=null;break;case"pointerover":case"pointerout":Cg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rg.delete(e.pointerId)}}function eg(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Uf(e),e!==null&&U3(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function SY(t,e,n,r,s){switch(e){case"focusin":return Jc=eg(Jc,t,e,n,r,s),!0;case"dragenter":return Zc=eg(Zc,t,e,n,r,s),!0;case"mouseover":return eu=eg(eu,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Cg.set(i,eg(Cg.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Rg.set(i,eg(Rg.get(i)||null,t,e,n,r,s)),!0}return!1}function H3(t){var e=lf(t.target);if(e!==null){var n=Pg(e);if(n!==null){if(e=n.tag,e===13){if(e=cF(n),e!==null){t.blockedOn=e,_W(t.priority,function(){if(n.tag===13){var r=Gi();r=bN(r);var s=Vf(n,r);s!==null&&$i(s,n,r),o1(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nb(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mN(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);RS=r,n.target.dispatchEvent(r),RS=null}else return e=Uf(n),e!==null&&U3(e),t.blockedOn=n,!1;e.shift()}return!0}function sF(t,e,n){Nb(t)&&n.delete(e)}function NY(){pN=!1,Jc!==null&&Nb(Jc)&&(Jc=null),Zc!==null&&Nb(Zc)&&(Zc=null),eu!==null&&Nb(eu)&&(eu=null),Cg.forEach(sF),Rg.forEach(sF)}function fb(t,e){t.blockedOn===e&&(t.blockedOn=null,pN||(pN=!0,jr.unstable_scheduleCallback(jr.unstable_NormalPriority,NY)))}var mb=null;function iF(t){mb!==t&&(mb=t,jr.unstable_scheduleCallback(jr.unstable_NormalPriority,function(){mb===t&&(mb=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],s=t[e+2];if(typeof r!="function"){if(l1(r||n)===null)continue;break}var i=Uf(n);i!==null&&(t.splice(e,3),e-=3,WS(i,{pending:!0,data:s,method:n.method,action:r},r,s))}}))}function Lg(t){function e(l){return fb(l,t)}Jc!==null&&fb(Jc,t),Zc!==null&&fb(Zc,t),eu!==null&&fb(eu,t),Cg.forEach(e),Rg.forEach(e);for(var n=0;n<qc.length;n++){var r=qc[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<qc.length&&(n=qc[0],n.blockedOn===null);)H3(n),n.blockedOn===null&&qc.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var s=n[r],i=n[r+1],o=s[fi]||null;if(typeof i=="function")o||iF(n);else if(o){var a=null;if(i&&i.hasAttribute("formAction")){if(s=i,o=i[fi]||null)a=o.formAction;else if(l1(s)!==null)continue}else a=o.action;typeof a=="function"?n[r+1]=a:(n.splice(r,3),r-=3),iF(n)}}}function c1(t){this._internalRoot=t}vw.prototype.render=c1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));var n=e.current,r=Gi();F3(n,r,t,e,null,null)};vw.prototype.unmount=c1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;F3(t.current,2,null,t,null,null),mw(),e[Ff]=null}};function vw(t){this._internalRoot=t}vw.prototype.unstable_scheduleHydration=function(t){if(t){var e=wF();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qc.length&&e!==0&&e<qc[n].priority;n++);qc.splice(n,0,t),n===0&&H3(t)}};var oF=aF.version;if(oF!=="19.1.1")throw Error(J(527,oF,"19.1.1"));Yt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=iW(e),t=t!==null?uF(t):null,t=t===null?null:t.stateNode,t};var kY={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Je,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(tg=__REACT_DEVTOOLS_GLOBAL_HOOK__,!tg.isDisabled&&tg.supportsFiber))try{Og=tg.inject(kY),zi=tg}catch{}var tg;bw.createRoot=function(t,e){if(!lF(t))throw Error(J(299));var n=!1,r="",s=OU,i=MU,o=FU,a=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(a=e.unstable_transitionCallbacks)),e=O3(t,1,!1,null,null,n,r,s,i,o,a,null),t[Ff]=e.current,r1(t),new c1(e)};bw.hydrateRoot=function(t,e,n){if(!lF(t))throw Error(J(299));var r=!1,s="",i=OU,o=MU,a=FU,l=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(a=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),e=O3(t,1,!0,e,n??null,r,s,i,o,a,l,c),e.context=M3(null),n=e.current,r=Gi(),r=bN(r),s=Wc(r),s.callback=null,Qc(n,s,r),n=r,e.current.lanes=n,Fg(e,n),ba(e),t[Ff]=e.current,r1(t),new vw(e)};bw.version="19.1.1"});var j3=uo((Jme,z3)=>{"use strict";function q3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(q3)}catch(t){console.error(t)}}q3(),z3.exports=B3()});var $3=uo(ww=>{"use strict";var AY=Symbol.for("react.transitional.element"),DY=Symbol.for("react.fragment");function G3(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:AY,type:t,key:r,ref:e!==void 0?e:null,props:n}}ww.Fragment=DY;ww.jsx=G3;ww.jsxs=G3});var H=uo((epe,K3)=>{"use strict";K3.exports=$3()});var Z={};ua(Z,{ActivityIcon:()=>Jg,AlertCircleIcon:()=>ny,ArrowLeftIcon:()=>ti,AwardIcon:()=>Zg,BarChart2Icon:()=>ey,BellIcon:()=>jo,BookOpenIcon:()=>Ln,BuildingIcon:()=>CY,CalendarIcon:()=>vt,CheckCircleIcon:()=>xd,CheckIcon:()=>zl,CheckSquareIcon:()=>Lt,ChevronDownIcon:()=>As,ChevronLeftIcon:()=>Wi,ChevronRightIcon:()=>Xn,CircleIcon:()=>ni,ClockIcon:()=>Qi,CopyIcon:()=>u1,Edit3Icon:()=>yn,EditIcon:()=>d1,ExternalLinkIcon:()=>w1,FileTextIcon:()=>HY,FilterIcon:()=>b1,FlagIcon:()=>ns,FolderIcon:()=>_w,GripVerticalIcon:()=>UY,HeartIcon:()=>Yg,HomeIcon:()=>RY,InboxIcon:()=>LY,InfoIcon:()=>y1,ListIcon:()=>zn,LogOutIcon:()=>m1,MagicWandIcon:()=>Td,MenuIcon:()=>_d,MoreHorizontalIcon:()=>wr,Next7DaysIcon:()=>PY,PlusIcon:()=>Vt,QuestionIcon:()=>p1,RepeatIcon:()=>zf,SearchIcon:()=>Tw,SmileIcon:()=>OY,SortIcon:()=>h1,StarIcon:()=>_r,SummaryIcon:()=>Xg,SunriseIcon:()=>MY,TagIcon:()=>Go,TargetIcon:()=>Xe,TodayIcon:()=>f1,TomorrowIcon:()=>FY,Trash2Icon:()=>ei,TrendingUpIcon:()=>Id,TrophyIcon:()=>g1,UndoIcon:()=>v1,UserIcon:()=>ty,XIcon:()=>pi,ZapIcon:()=>VY});var M,jo,Ln,CY,vt,Lt,As,Wi,Xn,Qi,u1,yn,d1,ns,_w,_d,Yg,RY,LY,zn,Td,wr,PY,Vt,zf,OY,h1,_r,Xg,MY,Go,Xe,f1,Id,FY,ei,Jg,Zg,xd,ey,m1,ti,ty,p1,ni,g1,pi,ny,zl,y1,UY,v1,VY,HY,b1,Tw,w1,Ve=G(()=>{"use strict";M=L(H(),1),jo=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),(0,M.jsx)("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),Ln=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),(0,M.jsx)("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),CY=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),(0,M.jsx)("path",{d:"M9 22v-4h6v4"}),(0,M.jsx)("path",{d:"M8 6h.01"}),(0,M.jsx)("path",{d:"M16 6h.01"}),(0,M.jsx)("path",{d:"M12 6h.01"}),(0,M.jsx)("path",{d:"M12 10h.01"}),(0,M.jsx)("path",{d:"M12 14h.01"}),(0,M.jsx)("path",{d:"M16 10h.01"}),(0,M.jsx)("path",{d:"M16 14h.01"}),(0,M.jsx)("path",{d:"M8 10h.01"}),(0,M.jsx)("path",{d:"M8 14h.01"})]}),vt=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),(0,M.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),(0,M.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),(0,M.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),Lt=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M9 11l3 3L22 4"}),(0,M.jsx)("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),As=({className:t})=>(0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,M.jsx)("polyline",{points:"6 9 12 15 18 9"})}),Wi=({className:t})=>(0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,M.jsx)("polyline",{points:"15 18 9 12 15 6"})}),Xn=({className:t})=>(0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,M.jsx)("polyline",{points:"9 18 15 12 9 6"})}),Qi=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,M.jsx)("polyline",{points:"12 6 12 12 16 14"})]}),u1=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,M.jsx)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),yn=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M12 20h9"}),(0,M.jsx)("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]}),d1=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,M.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),ns=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),(0,M.jsx)("line",{x1:"4",y1:"22",x2:"4",y2:"15"})]}),_w=({className:t})=>(0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,M.jsx)("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),_d=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),(0,M.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,M.jsx)("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),Yg=({className:t})=>(0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,M.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),RY=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),(0,M.jsx)("polyline",{points:"9 22 9 12 15 12 15 22"})]}),LY=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M22 12h-6l-2 3h-4l-2-3H2"}),(0,M.jsx)("path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"})]}),zn=({className:t})=>(0,M.jsx)("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,M.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),Td=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M15 4V2"}),(0,M.jsx)("path",{d:"M15 16v-2"}),(0,M.jsx)("path",{d:"M12.07 9.5L10 2"}),(0,M.jsx)("path",{d:"M14.5 12.07L22 10"}),(0,M.jsx)("path",{d:"M9.5 12.07L2 14.5"}),(0,M.jsx)("path",{d:"M12.07 14.5L10 22"}),(0,M.jsx)("path",{d:"M17 9.5l2.12-2.12"}),(0,M.jsx)("path",{d:"m4.88 19.12 2.12-2.12"}),(0,M.jsx)("path",{d:"m19.12 19.12-2.12-2.12"}),(0,M.jsx)("path",{d:"m7 4.88-2.12 2.12"})]}),wr=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,M.jsx)("circle",{cx:"19",cy:"12",r:"1"}),(0,M.jsx)("circle",{cx:"5",cy:"12",r:"1"})]}),PY=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M8 2v4"}),(0,M.jsx)("path",{d:"M16 2v4"}),(0,M.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),(0,M.jsx)("path",{d:"M3 10h18"}),(0,M.jsx)("path",{d:"M14 14h-4"}),(0,M.jsx)("path",{d:"M12 14v4"}),(0,M.jsx)("path",{d:"M10 14v4"})]}),Vt=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,M.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),zf=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M17 1l4 4-4 4"}),(0,M.jsx)("path",{d:"M3 11V9a4 4 0 0 1 4-4h14"}),(0,M.jsx)("path",{d:"M7 23l-4-4 4-4"}),(0,M.jsx)("path",{d:"M21 13v2a4 4 0 0 1-4 4H3"})]}),OY=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,M.jsx)("path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}),(0,M.jsx)("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),(0,M.jsx)("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"})]}),h1=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"m3 16 4 4 4-4"}),(0,M.jsx)("path",{d:"M7 20V4"}),(0,M.jsx)("path",{d:"m21 8-4-4-4 4"}),(0,M.jsx)("path",{d:"M17 4v16"})]}),_r=({className:t})=>(0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,M.jsx)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),Xg=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),(0,M.jsx)("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),(0,M.jsx)("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),(0,M.jsx)("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),(0,M.jsx)("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),(0,M.jsx)("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]}),MY=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M12 2v8"}),(0,M.jsx)("path",{d:"M5.25 10.75L4 12"}),(0,M.jsx)("path",{d:"M20 12h-1.25"}),(0,M.jsx)("path",{d:"M17 4l-1.75 1.75"}),(0,M.jsx)("path",{d:"M8.75 5.75L7 4"}),(0,M.jsx)("path",{d:"M2 18h20"}),(0,M.jsx)("path",{d:"M4 22h16"}),(0,M.jsx)("path",{d:"M12 18a4 4 0 00-4-4h8a4 4 0 00-4 4z"})]}),Go=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M12 2H2v10l10 10 10-10L12 2z"}),(0,M.jsx)("path",{d:"M7 7h.01"})]}),Xe=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,M.jsx)("circle",{cx:"12",cy:"12",r:"6"}),(0,M.jsx)("circle",{cx:"12",cy:"12",r:"2"})]}),f1=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),(0,M.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),(0,M.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),(0,M.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),(0,M.jsx)("path",{d:"M8 14h.01"}),(0,M.jsx)("path",{d:"M12 14h.01"}),(0,M.jsx)("path",{d:"M16 14h.01"}),(0,M.jsx)("path",{d:"M8 18h.01"}),(0,M.jsx)("path",{d:"M12 18h.01"}),(0,M.jsx)("path",{d:"M16 18h.01"})]}),Id=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),(0,M.jsx)("polyline",{points:"16 7 22 7 22 13"})]}),FY=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),(0,M.jsx)("path",{d:"m16 8-4 4-4-4"}),(0,M.jsx)("path",{d:"M12 12v8"})]}),ei=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,M.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),(0,M.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,M.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),Jg=({className:t})=>(0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,M.jsx)("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})}),Zg=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("circle",{cx:"12",cy:"8",r:"7"}),(0,M.jsx)("polyline",{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.89"})]}),xd=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,M.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]}),ey=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),(0,M.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),(0,M.jsx)("line",{x1:"6",y1:"20",x2:"6",y2:"14"}),(0,M.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"20"})]}),m1=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,M.jsx)("polyline",{points:"16 17 21 12 16 7"}),(0,M.jsx)("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),ti=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),(0,M.jsx)("polyline",{points:"12 19 5 12 12 5"})]}),ty=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,M.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),p1=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,M.jsx)("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),(0,M.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),ni=({className:t})=>(0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,M.jsx)("circle",{cx:"12",cy:"12",r:"10"})}),g1=({className:t})=>(0,M.jsx)("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,M.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),pi=({className:t})=>(0,M.jsx)("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,M.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),ny=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,M.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),(0,M.jsx)("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),zl=({className:t})=>(0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,M.jsx)("polyline",{points:"20 6 9 17 4 12"})}),y1=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,M.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),(0,M.jsx)("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),UY=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("circle",{cx:"9",cy:"5",r:"1"}),(0,M.jsx)("circle",{cx:"9",cy:"12",r:"1"}),(0,M.jsx)("circle",{cx:"9",cy:"19",r:"1"}),(0,M.jsx)("circle",{cx:"15",cy:"5",r:"1"}),(0,M.jsx)("circle",{cx:"15",cy:"12",r:"1"}),(0,M.jsx)("circle",{cx:"15",cy:"19",r:"1"})]}),v1=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M3 7v6h6"}),(0,M.jsx)("path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"})]}),VY=({className:t})=>(0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,M.jsx)("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),HY=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,M.jsx)("polyline",{points:"14,2 14,8 20,8"}),(0,M.jsx)("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),(0,M.jsx)("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),(0,M.jsx)("polyline",{points:"10,9 9,9 8,9"})]}),b1=({className:t})=>(0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,M.jsx)("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),Tw=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,M.jsx)("path",{d:"m21 21-4.35-4.35"})]}),w1=({className:t})=>(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,M.jsx)("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),(0,M.jsx)("polyline",{points:"15 3 21 3 21 9"}),(0,M.jsx)("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})});var Iw,wa,BY,jn,Yi=G(()=>{"use strict";Iw=L(ge(),1),wa=L(H(),1),BY=({title:t,onClose:e,children:n})=>{let r=(0,Iw.useRef)(null);return(0,Iw.useEffect)(()=>{let s=o=>{o.key==="Escape"&&e()},i=o=>{r.current&&!r.current.contains(o.target)&&e()};return document.addEventListener("keydown",s),document.addEventListener("mousedown",i),()=>{document.removeEventListener("keydown",s),document.removeEventListener("mousedown",i)}},[e]),(0,wa.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:(0,wa.jsxs)("div",{ref:r,className:"bg-white rounded-lg shadow-xl w-full max-w-3xl m-4 flex flex-col max-h-[90vh]",children:[(0,wa.jsxs)("div",{className:"flex items-center justify-between p-4 pl-6 border-b flex-shrink-0",children:[(0,wa.jsx)("h2",{id:"modal-title",className:"text-xl font-bold text-gray-800",children:t}),(0,wa.jsx)("button",{onClick:e,className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors","aria-label":"Close modal",children:(0,wa.jsx)("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,wa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,wa.jsx)("div",{className:"p-4 md:p-6 flex-1 overflow-y-auto",children:n})]})})},jn=BY});var xw,_a,zY,ou,ry=G(()=>{"use strict";xw=L(ge(),1),_a=L(H(),1),zY=({title:t,onClose:e,children:n})=>{let r=(0,xw.useRef)(null);return(0,xw.useEffect)(()=>{let s=o=>{o.key==="Escape"&&e()},i=o=>{r.current&&!r.current.contains(o.target)&&e()};return document.addEventListener("keydown",s),document.addEventListener("mousedown",i),()=>{document.removeEventListener("keydown",s),document.removeEventListener("mousedown",i)}},[e]),(0,_a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:(0,_a.jsxs)("div",{ref:r,className:"bg-white rounded-lg shadow-xl w-full max-w-3xl m-4 flex flex-col max-h-[90vh]",children:[(0,_a.jsxs)("div",{className:"flex items-center justify-between p-4 pl-6 border-b flex-shrink-0",children:[(0,_a.jsx)("h2",{id:"modal-title",className:"text-xl font-bold text-gray-800",children:t}),(0,_a.jsx)("button",{onClick:e,className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors","aria-label":"Close modal",children:(0,_a.jsx)("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,_a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,_a.jsx)("div",{className:"p-6 flex-1 overflow-y-auto",children:n})]})})},ou=zY});function dX(){return h5||(h5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hX(){return f5||(f5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}function fX(t){let e=new Promise((n,r)=>{let s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(xa(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&m5.set(n,t)}).catch(()=>{}),R1.set(e,t),e}function mX(t){if(D1.has(t))return;let e=new Promise((n,r)=>{let s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});D1.set(t,e)}function g5(t){C1=t(C1)}function pX(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Cw(this),e,...n);return p5.set(r,e.sort?e.sort():[e]),xa(r)}:hX().includes(t)?function(...e){return t.apply(Cw(this),e),xa(m5.get(this))}:function(...e){return xa(t.apply(Cw(this),e))}}function gX(t){return typeof t=="function"?pX(t):(t instanceof IDBTransaction&&mX(t),uX(t,dX())?new Proxy(t,C1):t)}function xa(t){if(t instanceof IDBRequest)return fX(t);if(A1.has(t))return A1.get(t);let e=gX(t);return e!==t&&(A1.set(t,e),R1.set(e,t)),e}var uX,h5,f5,m5,D1,p5,A1,R1,C1,Cw,L1=G(()=>{uX=(t,e)=>e.some(n=>t instanceof n);m5=new WeakMap,D1=new WeakMap,p5=new WeakMap,A1=new WeakMap,R1=new WeakMap;C1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return D1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||p5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};Cw=t=>R1.get(t)});function Rw(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){let o=indexedDB.open(t,e),a=xa(o);return r&&o.addEventListener("upgradeneeded",l=>{r(xa(o.result),l.oldVersion,l.newVersion,xa(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function y5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(P1.get(e))return P1.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,s=vX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||yX.includes(n)))return;let i=async function(o,...a){let l=this.transaction(o,s?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return P1.set(e,i),i}var yX,vX,P1,O1=G(()=>{L1();L1();yX=["get","getKey","getAll","getAllKeys","count"],vX=["put","add","delete","clear"],P1=new Map;g5(t=>({...t,get:(e,n,r)=>y5(e,n)||t.get(e,n,r),has:(e,n)=>!!y5(e,n)||t.has(e,n)}))});var vi,to,bi=G(()=>{"use strict";vi=(r=>(r.TEXT="text",r.CHECKLIST="checklist",r.RATING="rating",r))(vi||{}),to={text:{name:"Text",icon:"Edit3Icon"},checklist:{name:"Checklist",icon:"CheckSquareIcon"},rating:{name:"Rating",icon:"StarIcon"}}});var nC={};ua(nC,{initialFoci:()=>tC,initialLogTemplates:()=>Mne,initialLogs:()=>One});var tC,Tu,eC,Pne,One,Mne,fT=G(()=>{"use strict";bi();tC=[{id:"general",name:"General",description:"For everyday thoughts, notes, and musings.",icon:"ListIcon",color:"gray-500",allowedLogTypes:["text","checklist","rating"]},{id:"kary",name:"Kary",description:"Log entries related to tasks and work progress.",icon:"CheckSquareIcon",color:"green-500",allowedLogTypes:["text","checklist","rating"]}],Tu=new Date,eC=new Date;eC.setDate(Tu.getDate()-1);Pne=new Date;Pne.setDate(Tu.getDate()-2);One=[{id:"task-log-1",focusId:"kary",logType:"text",title:"Initial resume draft",description:"Began the process of tailoring my resume. This is a crucial step for the next phase of my career.",logDate:new Date(new Date(eC).setHours(14,0,0)),createdAt:new Date(new Date(eC).setHours(14,0,0)),taskId:"1"},{id:"task-log-2",focusId:"kary",logType:"checklist",title:"Resume Review Checklist",checklist:[{id:"tci-1",text:"Checked for typos",completed:!0},{id:"tci-2",text:"Added latest project",completed:!0},{id:"tci-3",text:"Sent to mentor for review",completed:!1}],logDate:new Date(new Date(Tu).setHours(10,30,0)),createdAt:new Date(new Date(Tu).setHours(10,30,0)),taskId:"1"},{id:"task-log-3",focusId:"kary",logType:"text",title:"Agent Roles Defined",description:"Completed the definitions for the Researcher, Analyst, and Writer agents.",logDate:new Date(new Date(Tu).setHours(16,0,0)),createdAt:new Date(new Date(Tu).setHours(16,0,0)),taskId:"4"},{id:"goal-log-1",focusId:"general",logType:"text",title:"Started Duolingo practice",description:"Completed the first 3 lessons in the A1 section. \xA1Hola, mundo!",logDate:new Date(new Date(Tu).setHours(18,0,0)),createdAt:new Date(new Date(Tu).setHours(18,0,0)),goalId:"goal-2"}],Mne=[{id:"template-standup",name:"Daily Standup",icon:"SunriseIcon",focusId:"kary",logType:"checklist",title:"Standup - {{date}}",description:"My update for today.",checklist:[{text:"What did I do yesterday?",completed:!1},{text:"What will I do today?",completed:!1},{text:"Any blockers?",completed:!1}]},{id:"template-review",name:"Weekly Review",icon:"CalendarIcon",focusId:"general",logType:"text",title:"Weekly Review - {{date}}",description:`1. What went well this week?
2. What didn't go so well?
3. What will I focus on next week?`}]});function Gne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}function vT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$y(JSON.stringify(n)),$y(JSON.stringify(o)),""].join(".")}function as(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(as())}function vB(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wB(){let t=as();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dC(){try{return typeof indexedDB=="object"}catch{return!1}}function _B(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function Yne(t,e){return t.replace(Xne,(n,r)=>{let s=e[r];return s!=null?String(s):`<${r}?>`})}function TB(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wd(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let s of n){if(!r.includes(s))return!1;let i=t[s],o=e[s];if(mB(i)&&mB(o)){if(!Wd(i,o))return!1}else if(i!==o)return!1}for(let s of r)if(!n.includes(s))return!1;return!0}function mB(t){return t!==null&&typeof t=="object"}function Nm(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function km(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Am(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IB(t,e){let n=new iC(t,e);return n.subscribe.bind(n)}function Jne(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rC(){}function Jn(t){return t&&t._delegate?t._delegate:t}var pB,zne,gB,sC,jne,$y,oC,$ne,Kne,Wne,aC,lC,yT,cC,uC,gT,Qne,si,sc,Xne,iC,t0e,Iu=G(()=>{pB=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},zne=function(t){let e=[],n=0,r=0;for(;n<t.length;){let s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){let i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){let i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},gB={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){let i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4,f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zne(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){let i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;let c=s<t.length?n[t.charAt(s)]:64;++s;let h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new sC;let f=i<<2|a>>4;if(r.push(f),c!==64){let m=a<<4&240|c>>2;if(r.push(m),h!==64){let y=c<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},sC=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},jne=function(t){let e=pB(t);return gB.encodeByteArray(e,!0)},$y=function(t){return jne(t).replace(/\./g,"")},oC=function(t){try{return gB.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};$ne=()=>Gne().__FIREBASE_DEFAULTS__,Kne=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Wne=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&oC(t[1]);return e&&JSON.parse(e)},aC=()=>{try{return $ne()||Kne()||Wne()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lC=t=>{var e,n;return(n=(e=aC())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yT=t=>{let e=lC(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cC=()=>{var t;return(t=aC())===null||t===void 0?void 0:t.config},uC=t=>{var e;return(e=aC())===null||e===void 0?void 0:e[`_${t}`]};gT=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};Qne="FirebaseError",si=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Qne,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sc.prototype.create)}},sc=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Yne(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new si(s,a,r)}};Xne=/\{\$([^}]+)}/g;iC=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Jne(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=rC),s.error===void 0&&(s.error=rC),s.complete===void 0&&(s.complete=rC);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};t0e=4*60*60*1e3;});function Zne(t){return t===Qd?void 0:t}function ere(t){return t.instantiationMode==="EAGER"}var _i,Qd,hC,bT,Dm=G(()=>{Iu();_i=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};Qd="[DEFAULT]";hC=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new gT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ere(e))try{this.getOrInitializeService({instanceIdentifier:Qd})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let s=this.normalizeInstanceIdentifier(n);try{let i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Qd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qd){return this.instances.has(e)}getOptions(e=Qd){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[i,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;let s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);let o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zne(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qd){return this.component?this.component.multipleInstances?e:Qd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};bT=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new hC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}});var tre,Bt,nre,rre,sre,ire,xu,Ky=G(()=>{tre=[];(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Bt||(Bt={}));nre={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},rre=Bt.INFO,sre={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},ire=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),s=sre[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},xu=class{constructor(e){this.name=e,this._logLevel=rre,this._logHandler=ire,this._userLogHandler=null,tre.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nre[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}});function ore(t){let e=t.getComponent();return e?.type==="VERSION"}function Lre(t,e){try{t.container.addComponent(e)}catch(n){Yd.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ga(t){let e=t.name;if(yC.has(e))return Yd.debug(`There were multiple attempts to register component ${e}.`),!1;yC.set(e,t);for(let n of wT.values())Lre(n,t);return!0}function Xd(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _C(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:gC,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Eu.create("bad-app-name",{appName:String(s)});if(n||(n=cC()),!n)throw Eu.create("no-options");let i=wT.get(s);if(i){if(Wd(n,i.options)&&Wd(r,i.config))return i;throw Eu.create("duplicate-app",{appName:s})}let o=new bT(s);for(let l of yC.values())o.addComponent(l);let a=new vC(n,r,o);return wT.set(s,a),a}function Cm(t=gC){let e=wT.get(t);if(!e&&t===gC&&cC())return _C();if(!e)throw Eu.create("no-app",{appName:t});return e}function Ti(t,e,n){var r;let s=(r=Rre[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);let i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yd.warn(a.join(" "));return}Ga(new _i(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function kB(){return fC||(fC=Rw(Ore,Mre,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Wy)}}}).catch(t=>{throw Eu.create("idb-open",{originalErrorMessage:t.message})})),fC}async function Fre(t){try{return await(await kB()).transaction(Wy).objectStore(Wy).get(AB(t))}catch(e){if(e instanceof si)Yd.warn(e.message);else{let n=Eu.create("idb-get",{originalErrorMessage:e?.message});Yd.warn(n.message)}}}async function EB(t,e){try{let r=(await kB()).transaction(Wy,"readwrite");await r.objectStore(Wy).put(e,AB(t)),await r.done}catch(n){if(n instanceof si)Yd.warn(n.message);else{let r=Eu.create("idb-set",{originalErrorMessage:n?.message});Yd.warn(r.message)}}}function AB(t){return`${t.name}!${t.options.appId}`}function SB(){return new Date().toISOString().substring(0,10)}function Hre(t,e=Ure){let n=[],r=t.slice();for(let s of t){let i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),NB(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),NB(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}function NB(t){return $y(JSON.stringify({version:2,heartbeats:t})).length}function Bre(t){Ga(new _i("platform-logger",e=>new mC(e),"PRIVATE")),Ga(new _i("heartbeat",e=>new bC(e),"PRIVATE")),Ti(pC,xB,t),Ti(pC,xB,"esm2017"),Ti("fire-js","")}var mC,pC,xB,Yd,are,lre,cre,ure,dre,hre,fre,mre,pre,gre,yre,vre,bre,wre,_re,Tre,Ire,xre,Ere,Sre,Nre,kre,Are,Dre,Cre,gC,Rre,wT,yC,Pre,Eu,vC,$a,Ore,Mre,Wy,fC,Ure,Vre,bC,wC,Jd=G(()=>{Dm();Ky();Iu();Iu();O1();mC=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ore(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};pC="@firebase/app",xB="0.9.13";Yd=new xu("@firebase/app"),are="@firebase/app-compat",lre="@firebase/analytics-compat",cre="@firebase/analytics",ure="@firebase/app-check-compat",dre="@firebase/app-check",hre="@firebase/auth",fre="@firebase/auth-compat",mre="@firebase/database",pre="@firebase/database-compat",gre="@firebase/functions",yre="@firebase/functions-compat",vre="@firebase/installations",bre="@firebase/installations-compat",wre="@firebase/messaging",_re="@firebase/messaging-compat",Tre="@firebase/performance",Ire="@firebase/performance-compat",xre="@firebase/remote-config",Ere="@firebase/remote-config-compat",Sre="@firebase/storage",Nre="@firebase/storage-compat",kre="@firebase/firestore",Are="@firebase/firestore-compat",Dre="firebase",Cre="9.23.0";gC="[DEFAULT]",Rre={[pC]:"fire-core",[are]:"fire-core-compat",[cre]:"fire-analytics",[lre]:"fire-analytics-compat",[dre]:"fire-app-check",[ure]:"fire-app-check-compat",[hre]:"fire-auth",[fre]:"fire-auth-compat",[mre]:"fire-rtdb",[pre]:"fire-rtdb-compat",[gre]:"fire-fn",[yre]:"fire-fn-compat",[vre]:"fire-iid",[bre]:"fire-iid-compat",[wre]:"fire-fcm",[_re]:"fire-fcm-compat",[Tre]:"fire-perf",[Ire]:"fire-perf-compat",[xre]:"fire-rc",[Ere]:"fire-rc-compat",[Sre]:"fire-gcs",[Nre]:"fire-gcs-compat",[kre]:"fire-fst",[Are]:"fire-fst-compat","fire-js":"fire-js",[Dre]:"fire-js-all"};wT=new Map,yC=new Map;Pre={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Eu=new sc("app","Firebase",Pre);vC=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eu.create("app-deleted",{appName:this._name})}};$a=Cre;Ore="firebase-heartbeat-database",Mre=1,Wy="firebase-heartbeat-store",fC=null;Ure=1024,Vre=30*24*60*60*1e3,bC=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new wC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=SB();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let i=new Date(s.date).valueOf();return Date.now()-i<=Vre}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";let e=SB(),{heartbeatsToSend:n,unsentEntries:r}=Hre(this._heartbeatsCache.heartbeats),s=$y(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}};wC=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dC()?_B().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Fre(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){let s=await this.read();return EB(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){let s=await this.read();return EB(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}};Bre("")});function _T(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}var DB=G(()=>{});function $B(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}function qre(t,...e){NT.logLevel<=Bt.WARN&&NT.warn(`Auth (${$a}): ${t}`,...e)}function IT(t,...e){NT.logLevel<=Bt.ERROR&&NT.error(`Auth (${$a}): ${t}`,...e)}function Qo(t,...e){throw HC(t,...e)}function Wa(t,...e){return HC(t,...e)}function zre(t,e,n){let r=Object.assign(Object.assign({},KB()),{[e]:n});return new sc("auth","Firebase",r).create(e,{appName:t.name})}function HC(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return WB.create(t,...e)}function qe(t,e,...n){if(!t)throw HC(e,...n)}function Ka(t){let e="INTERNAL ASSERTION FAILED: "+t;throw IT(e),new Error(e)}function oc(t,e){t||Ka(e)}function EC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function jre(){return CB()==="http:"||CB()==="https:"}function CB(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Gre(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jre()||vB()||"connection"in navigator)?navigator.onLine:!0}function $re(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}function BC(t,e){oc(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}function Ms(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ii(t,e,n,r,s={}){return QB(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});let a=Nm(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),kT.fetch()(YB(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function QB(t,e,n){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Kre),e);try{let s=new SC(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();let o=await i.json();if("needConfirmation"in o)throw Qy(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{let a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qy(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Qy(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Qy(t,"user-disabled",o);let d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw zre(t,d,c);Qo(t,d)}}catch(s){if(s instanceof si)throw s;Qo(t,"network-request-failed",{message:String(s)})}}async function sh(t,e,n,r,s={}){let i=await Ii(t,e,n,r,s);return"mfaPendingCredential"in i&&Qo(t,"multi-factor-auth-required",{_serverResponse:i}),i}function YB(t,e,n,r){let s=`${e}${n}?${r}`;return t.config.emulator?BC(t.config,s):`${t.config.apiScheme}://${s}`}function Qy(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let s=Wa(t,e,r);return s.customData._tokenResponse=n,s}async function Qre(t,e){return Ii(t,"POST","/v1/accounts:delete",e)}async function Yre(t,e){return Ii(t,"POST","/v1/accounts:lookup",e)}function Yy(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XB(t,e=!1){let n=Jn(t),r=await n.getIdToken(e),s=qC(r);qe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");let i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:Yy(TC(s.auth_time)),issuedAtTime:Yy(TC(s.iat)),expirationTime:Yy(TC(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function TC(t){return Number(t)*1e3}function qC(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return IT("JWT malformed, contained fewer than 3 sections"),null;try{let s=oC(n);return s?JSON.parse(s):(IT("Failed to decode base64 JWT payload"),null)}catch(s){return IT("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Xre(t){let e=qC(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Xy(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof si&&Jre(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Jre({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}async function DT(t){var e;let n=t.auth,r=await t.getIdToken(),s=await Xy(t,Yre(n,{idToken:r}));qe(s?.users.length,n,"internal-error");let i=s.users[0];t._notifyReloadListener(i);let o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?ese(i.providerUserInfo):[],a=Zre(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!a?.length,d=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new AT(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function JB(t){let e=Jn(t);await DT(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zre(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function ese(t){return t.map(e=>{var{providerId:n}=e,r=_T(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function tse(t,e){let n=await QB(t,{},async()=>{let r=Nm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=YB(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}function Su(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}function ic(t){oc(t instanceof Function,"Expected a class definition");let e=RB.get(t);return e?(oc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RB.set(t,e),e)}function xT(t,e,n){return`firebase:${t}:${e}:${n}`}function LB(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(t9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(r9(e))return"Blackberry";if(s9(e))return"Webos";if(zC(e))return"Safari";if((e.includes("chrome/")||e9(e))&&!e.includes("edge/"))return"Chrome";if(n9(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function ZB(t=as()){return/firefox\//i.test(t)}function zC(t=as()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function e9(t=as()){return/crios\//i.test(t)}function t9(t=as()){return/iemobile/i.test(t)}function n9(t=as()){return/android/i.test(t)}function r9(t=as()){return/blackberry/i.test(t)}function s9(t=as()){return/webos/i.test(t)}function ZT(t=as()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nse(t=as()){var e;return ZT(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rse(){return wB()&&document.documentMode===10}function i9(t=as()){return ZT(t)||n9(t)||s9(t)||r9(t)||/windows phone/i.test(t)||t9(t)}function sse(){try{return!!(window&&window!==window.top)}catch{return!1}}function o9(t,e=[]){let n;switch(t){case"Browser":n=LB(as());break;case"Worker":n=`${LB(as())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$a}/${r}`}async function a9(t,e){return Ii(t,"GET","/v2/recaptchaConfig",Ms(t,e))}function PB(t){return t!==void 0&&t.enterprise!==void 0}function ise(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function l9(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{let i=Wa("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",ise().appendChild(r)})}function c9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}async function OB(t,e,n,r=!1){let s=new OT(t),i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}function l0(t){return Jn(t)}function u9(t,e){let n=Xd(t,"auth");if(n.isInitialized()){let s=n.getImmediate(),i=n.getOptions();if(Wd(i,e??{}))return s;Qo(s,"already-initialized")}return n.initialize({options:e})}function cse(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ic);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function d9(t,e,n){let r=l0(t);qe(r._canInitEmulator,r,"emulator-config-failed"),qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let s=!!n?.disableWarnings,i=h9(e),{host:o,port:a}=use(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||dse()}function h9(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function use(t){let e=h9(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){let i=s[1];return{host:i,port:MB(r.substr(i.length+1))}}else{let[i,o]=r.split(":");return{host:i,port:MB(o)}}}function MB(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function dse(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}async function hse(t,e){return Ii(t,"POST","/v1/accounts:update",e)}async function IC(t,e){return sh(t,"POST","/v1/accounts:signInWithPassword",Ms(t,e))}async function fse(t,e){return sh(t,"POST","/v1/accounts:signInWithEmailLink",Ms(t,e))}async function mse(t,e){return sh(t,"POST","/v1/accounts:signInWithEmailLink",Ms(t,e))}async function Rm(t,e){return sh(t,"POST","/v1/accounts:signInWithIdp",Ms(t,e))}async function gse(t,e){return Ii(t,"POST","/v1/accounts:sendVerificationCode",Ms(t,e))}async function yse(t,e){return sh(t,"POST","/v1/accounts:signInWithPhoneNumber",Ms(t,e))}async function vse(t,e){let n=await sh(t,"POST","/v1/accounts:signInWithPhoneNumber",Ms(t,e));if(n.temporaryProof)throw Qy(t,"account-exists-with-different-credential",n);return n}async function wse(t,e){let n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return sh(t,"POST","/v1/accounts:signInWithPhoneNumber",Ms(t,n),bse)}function _se(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Tse(t){let e=km(Am(t)).link,n=e?km(Am(e)).deep_link_id:null,r=km(Am(t)).deep_link_id;return(r?km(Am(r)).link:null)||r||n||e||t}function FB(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}function f9(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?CC._fromErrorAndOperation(t,i,e,r):i})}async function Ise(t,e,n=!1){let r=await Xy(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return i0._forOperation(t,"link",r)}async function xse(t,e,n=!1){let{auth:r}=t,s="reauthenticate";try{let i=await Xy(t,f9(r,s,e,t),n);qe(i.idToken,r,"internal-error");let o=qC(i.idToken);qe(o,r,"internal-error");let{sub:a}=o;return qe(t.uid===a,r,"user-mismatch"),i0._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&Qo(r,"user-mismatch"),i}}async function Ese(t,e,n=!1){let r="signIn",s=await f9(t,r,e),i=await i0._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function m9(t,e,n,r){return Jn(t).onIdTokenChanged(e,n,r)}function p9(t,e,n){return Jn(t).beforeAuthStateChanged(e,n)}function jC(t,e,n,r){return Jn(t).onAuthStateChanged(e,n,r)}function GC(t){return Jn(t).signOut()}function Sse(t,e){return Ii(t,"POST","/v2/accounts/mfaEnrollment:start",Ms(t,e))}function Nse(t,e){return Ii(t,"POST","/v2/accounts/mfaEnrollment:finalize",Ms(t,e))}function kse(t,e){return Ii(t,"POST","/v2/accounts/mfaEnrollment:start",Ms(t,e))}function Ase(t,e){return Ii(t,"POST","/v2/accounts/mfaEnrollment:finalize",Ms(t,e))}function Dse(){let t=as();return zC(t)||ZT(t)}function Lse(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}function KC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}function Qa(){return window}function Pse(t){Qa().location.href=t}function y9(){return typeof Qa().WorkerGlobalScope<"u"&&typeof Qa().importScripts=="function"}async function Ose(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Mse(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Fse(){return y9()?self:null}function eI(t,e){return t.transaction([jT],e?"readwrite":"readonly").objectStore(jT)}function Vse(){let t=indexedDB.deleteDatabase(v9);return new rh(t).toPromise()}function LC(){let t=indexedDB.open(v9,Use);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(jT,{keyPath:b9})}catch(s){n(s)}}),t.addEventListener("success",async()=>{let r=t.result;r.objectStoreNames.contains(jT)?e(r):(r.close(),await Vse(),e(await LC()))})})}async function UB(t,e,n){let r=eI(t,!0).put({[b9]:e,value:n});return new rh(r).toPromise()}async function Hse(t,e){let n=eI(t,!1).get(e),r=await new rh(n).toPromise();return r===void 0?null:r.value}function VB(t,e){let n=eI(t,!0).delete(e);return new rh(n).toPromise()}function zse(t,e){return Ii(t,"POST","/v2/accounts/mfaSignIn:start",Ms(t,e))}function jse(t,e){return Ii(t,"POST","/v2/accounts/mfaSignIn:finalize",Ms(t,e))}function Gse(t,e){return Ii(t,"POST","/v2/accounts/mfaSignIn:finalize",Ms(t,e))}async function Kse(t,e,n){var r;let s=await n.verify();try{qe(typeof s=="string",t,"argument-error"),qe(n.type===$se,t,"argument-error");let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){let o=i.session;if("phoneNumber"in i)return qe(o.type==="enroll",t,"internal-error"),(await Sse(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{qe(o.type==="signin",t,"internal-error");let a=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;return qe(a,t,"missing-multi-factor-info"),(await zse(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}else{let{sessionInfo:o}=await gse(t,{phoneNumber:i.phoneNumber,recaptchaToken:s});return o}}finally{n._reset()}}function Wse(t,e){return e?ic(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}function Qse(t){return Ese(t.auth,new a0(t),t.bypassAuthState)}function Yse(t){let{auth:e,user:n}=t;return qe(n,e,"internal-error"),xse(n,new a0(t),t.bypassAuthState)}async function Xse(t){let{auth:e,user:n}=t;return qe(n,e,"internal-error"),Ise(n,new a0(t),t.bypassAuthState)}async function eie(t,e){let n=rie(e),r=nie(t);if(!await r._isAvailable())return!1;let s=await r._get(n)==="true";return await r._remove(n),s}function tie(t,e){ET.set(t._key(),e)}function nie(t){return ic(t._redirectPersistence)}function rie(t){return xT(Zse,t.config.apiKey,t.name)}async function sie(t,e,n=!1){let r=l0(t),s=Wse(r,e),o=await new OC(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}function HB(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _9({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function oie(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _9(t);default:return!1}}async function aie(t,e={}){return Ii(t,"GET","/v1/projects",e)}async function uie(t){if(t.config.emulator)return;let{authorizedDomains:e}=await aie(t);for(let n of e)try{if(die(n))return}catch{}Qo(t,"unauthorized-domain")}function die(t){let e=EC(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!cie.test(n))return!1;if(lie.test(t))return r===t;let s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}function BB(){let t=Qa().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fie(t){return new Promise((e,n)=>{var r,s,i;function o(){BB(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BB(),n(Wa(t,"network-request-failed"))},timeout:hie.get()})}if(!((s=(r=Qa().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Qa().gapi)===null||i===void 0)&&i.load)o();else{let a=c9("iframefcb");return Qa()[a]=()=>{gapi.load?o():n(Wa(t,"network-request-failed"))},l9(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ST=null,e})}function mie(t){return ST=ST||fie(t),ST}function wie(t){let e=t.config;qe(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?BC(e,yie):`https://${t.config.authDomain}/${gie}`,r={apiKey:e.apiKey,appName:t.name,v:$a},s=bie.get(t.config.apiHost);s&&(r.eid=s);let i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Nm(r).slice(1)}`}async function _ie(t){let e=await mie(t),n=Qa().gapi;return qe(n,t,"internal-error"),e.open({where:document.body,url:wie(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vie,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});let o=Wa(t,"network-request-failed"),a=Qa().setTimeout(()=>{i(o)},pie.get());function l(){Qa().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}function Nie(t,e,n,r=Iie,s=xie){let i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},Tie),{width:r.toString(),height:s.toString(),top:i,left:o}),c=as().toLowerCase();n&&(a=e9(c)?Eie:n),ZB(c)&&(e=e||Sie,l.scrollbars="yes");let d=Object.entries(l).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(nse(c)&&a!=="_self")return kie(e||"",a),new KT(null);let h=window.open(e||"",a,d);qe(h,t,"popup-blocked");try{h.focus()}catch{}return new KT(h)}function kie(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}async function qB(t,e,n,r,s,i){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$a,eventId:s};if(e instanceof UT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",TB(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,h]of Object.entries(i||{}))o[d]=h}if(e instanceof nh){let d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let l=await t._getAppCheckToken(),c=l?`#${Cie}=${encodeURIComponent(l)}`:"";return`${Rie(t)}?${Nm(a).slice(1)}${c}`}function Rie({config:t}){return t.emulator?BC(t,Die):`https://${t.authDomain}/${Aie}`}function TT(t){return typeof t>"u"||t?.length===0}function Lie(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Pie(t){Ga(new _i("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;qe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o9(t)},c=new DC(r,s,i,l);return cse(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ga(new _i("auth-internal",e=>{let n=l0(e.getProvider("auth").getImmediate());return(r=>new VC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ti(zB,jB,Lie(t)),Ti(zB,jB,"esm2017")}function WC(t=Cm()){let e=Xd(t,"auth");if(e.isInitialized())return e.getImmediate();let n=u9(t,{popupRedirectResolver:T9,persistence:[w9,g9,$C]}),r=uC("authTokenSyncURL");if(r){let i=Fie(r);p9(n,i,()=>i(n.currentUser)),m9(n,o=>i(o))}let s=lC("auth");return s&&d9(n,`http://${s}`),n}var KB,WB,NT,Zd,kT,Kre,Wre,SC,NC,AT,CT,Jy,RB,RT,kC,LT,PT,ose,ase,lse,OT,AC,DC,MT,eh,Zy,pse,th,bse,e0,FT,Lm,UT,nh,t0,n0,r0,s0,i0,CC,VT,HT,Cse,Rse,BT,g9,qT,$C,zT,RC,v9,Use,jT,b9,rh,Bse,qse,GT,w9,w0e,_0e,$se,o0,a0,$T,Jse,PC,Zse,ET,OC,iie,MC,lie,cie,hie,ST,pie,gie,yie,vie,bie,Tie,Iie,xie,Eie,Sie,KT,Aie,Die,Cie,xC,FC,T9,WT,UC,QT,YT,XT,JT,zB,jB,VC,Oie,Mie,GB,Fie,I9=G(()=>{Iu();Jd();DB();Ky();Dm();KB=$B,WB=new sc("auth","Firebase",$B());NT=new xu("@firebase/auth");Zd=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,oc(n>e,"Short delay should be less than long delay!"),this.isMobile=yB()||bB()}get(){return Gre()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};kT=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Ka("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Ka("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Ka("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};Kre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};Wre=new Zd(3e4,6e4);SC=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wa(this.auth,"network-request-failed")),Wre.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};NC=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};AT=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yy(this.lastLoginAt),this.creationTime=Yy(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};CT=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xre(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return qe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:s,expiresIn:i}=await tse(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new t;return r&&(qe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(qe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(qe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ka("not implemented")}};Jy=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=_T(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new AT(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let n=await Xy(this,this.stsTokenManager.getToken(this.auth,e));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XB(this,e)}reload(){return JB(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await DT(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){let e=await this.getIdToken();return await Xy(this,Qre(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,b=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:I,emailVerified:k,isAnonymous:R,providerData:F,stsTokenManager:S}=n;qe(I&&S,e,"internal-error");let E=CT.fromJSON(this.name,S);qe(typeof I=="string",e,"internal-error"),Su(h,e.name),Su(f,e.name),qe(typeof k=="boolean",e,"internal-error"),qe(typeof R=="boolean",e,"internal-error"),Su(m,e.name),Su(y,e.name),Su(w,e.name),Su(v,e.name),Su(g,e.name),Su(b,e.name);let x=new t({uid:I,auth:e,email:f,emailVerified:k,displayName:h,isAnonymous:R,photoURL:y,phoneNumber:m,tenantId:w,stsTokenManager:E,createdAt:g,lastLoginAt:b});return F&&Array.isArray(F)&&(x.providerData=F.map(T=>Object.assign({},T))),v&&(x._redirectEventId=v),x}static async _fromIdTokenResponse(e,n,r=!1){let s=new CT;s.updateFromServerResponse(n);let i=new t({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await DT(i),i}};RB=new Map;RT=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){let n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}};RT.type="NONE";kC=RT;LT=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:s,name:i}=this.auth;this.fullUserKey=xT(this.userKey,s.apiKey,i),this.fullPersistenceKey=xT("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?Jy._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(ic(kC),e,r);let s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c),i=s[0]||ic(kC),o=xT(r,e.config.apiKey,e.name),a=null;for(let c of n)try{let d=await c._get(o);if(d){let h=Jy._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}let l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new t(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new t(i,e,r))}};PT=class{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}};ose="https://www.google.com/recaptcha/enterprise.js?render=",ase="recaptcha-enterprise",lse="NO_RECAPTCHA",OT=class{constructor(e){this.type=ase,this.auth=l0(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{a9(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new PT(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){let l=window.grecaptcha;PB(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(lse)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&PB(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}l9(ose+a).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}};AC=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=i=>new Promise((o,a)=>{try{let l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);let s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};DC=class{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new MT(this),this.idTokenSubscription=new MT(this),this.beforeStateQueue=new AC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ic(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await LT.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;let r=await this.assertedPersistence.getCurrentUser(),s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s?._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await DT(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$re()}async _delete(){this._deleted=!0}async updateCurrentUser(e){let n=e?Jn(e):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ic(e))})}async initializeRecaptchaConfig(){let e=await a9(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new PT(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new OT(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&ic(e)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await LT.create(this,[ic(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};let i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return qe(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=o9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);let s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;let n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&qre(`Error while retrieving App Check token: ${n.error}`),n?.token}};MT=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=IB(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};eh=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ka("not implemented")}_getIdTokenResponse(e){return Ka("not implemented")}_linkToIdToken(e,n){return Ka("not implemented")}_getReauthenticationResolver(e){return Ka("not implemented")}};Zy=class t extends eh{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":let r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){let s=await OB(e,r,"signInWithPassword");return IC(e,s)}else return IC(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");let i=await OB(e,r,"signInWithPassword");return IC(e,i)}else return Promise.reject(s)});case"emailLink":return fse(e,{email:this._email,oobCode:this._password});default:Qo(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return hse(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return mse(e,{idToken:n,email:this._email,oobCode:this._password});default:Qo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};pse="http://localhost",th=class t extends eh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=_T(n,["providerId","signInMethod"]);if(!r||!s)return null;let o=new t(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return Rm(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Rm(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Rm(e,n)}buildRequest(){let e={requestUri:pse,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nm(n)}return e}};bse={USER_NOT_FOUND:"user-not-found"};e0=class t extends eh{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new t({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new t({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return yse(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return vse(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return wse(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:s}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i}=e;return!r&&!n&&!s&&!i?null:new t({verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i})}};FT=class t{constructor(e){var n,r,s,i,o,a;let l=km(Am(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=_se((s=l.mode)!==null&&s!==void 0?s:null);qe(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Tse(e);try{return new t(n)}catch{return null}}};Lm=class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(e,n){return Zy._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){let r=FT.parseLink(n);return qe(r,"argument-error"),Zy._fromEmailAndCode(e,r.code,r.tenantId)}};Lm.PROVIDER_ID="password";Lm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";UT=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};nh=class extends UT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};t0=class t extends nh{constructor(){super("facebook.com")}static credential(e){return th._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return t.credential(e.oauthAccessToken)}catch{return null}}};t0.FACEBOOK_SIGN_IN_METHOD="facebook.com";t0.PROVIDER_ID="facebook.com";n0=class t extends nh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return th._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return t.credential(n,r)}catch{return null}}};n0.GOOGLE_SIGN_IN_METHOD="google.com";n0.PROVIDER_ID="google.com";r0=class t extends nh{constructor(){super("github.com")}static credential(e){return th._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return t.credential(e.oauthAccessToken)}catch{return null}}};r0.GITHUB_SIGN_IN_METHOD="github.com";r0.PROVIDER_ID="github.com";s0=class t extends nh{constructor(){super("twitter.com")}static credential(e,n){return th._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return t.credential(n,r)}catch{return null}}};s0.TWITTER_SIGN_IN_METHOD="twitter.com";s0.PROVIDER_ID="twitter.com";i0=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){let i=await Jy._fromIdTokenResponse(e,r,s),o=FB(r);return new t({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);let s=FB(r);return new t({user:e,providerId:s,_tokenResponse:r,operationType:n})}};CC=class t extends si{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new t(e,n,r,s)}};VT="__sak";HT=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(VT,"1"),this.storage.removeItem(VT),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};Cse=1e3,Rse=10,BT=class extends HT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Dse()&&sse(),this.fallbackToPolling=i9(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let n of Object.keys(this.listeners)){let r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}let r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}let s=()=>{let o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);rse()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Rse):s()}notifyListeners(e,n){this.localCache[e]=n;let r=this.listeners[e];if(r)for(let s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Cse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){let n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}};BT.type="LOCAL";g9=BT;qT=class extends HT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}};qT.type="SESSION";$C=qT;zT=class t{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;let r=new t(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let a=Array.from(o).map(async c=>c(n.origin,i)),l=await Lse(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};zT.receivers=[];RC=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){let s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{let c=KC("",20);s.port1.start();let d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){let f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};v9="firebaseLocalStorageDb",Use=1,jT="firebaseLocalStorage",b9="fbase_key",rh=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};Bse=800,qse=3,GT=class{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await LC(),this.db)}async _withRetries(e){let n=0;for(;;)try{let r=await this._openDb();return await e(r)}catch(r){if(n++>qse)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return y9()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zT._getInstance(Fse()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Ose(),!this.activeServiceWorker)return;this.sender=new RC(this.activeServiceWorker);let r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Mse()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await LC();return await UB(e,VT,"1"),await VB(e,VT),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>UB(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){let n=await this._withRetries(r=>Hse(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>VB(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(s=>{let i=eI(s,!1).getAll();return new rh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let n=[],r=new Set;for(let{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;let r=this.listeners[e];if(r)for(let s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Bse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};GT.type="LOCAL";w9=GT;w0e=c9("rcb"),_0e=new Zd(3e4,6e4);$se="recaptcha";o0=class t{constructor(e){this.providerId=t.PROVIDER_ID,this.auth=l0(e)}verifyPhoneNumber(e,n){return Kse(this.auth,e,Jn(n))}static credential(e,n){return e0._fromVerification(e,n)}static credentialFromResult(e){let n=e;return t.credentialFromTaggedObject(n)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:n,temporaryProof:r}=e;return n&&r?e0._fromTokenResponse(n,r):null}};o0.PROVIDER_ID="phone";o0.PHONE_SIGN_IN_METHOD="phone";a0=class extends eh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Rm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Rm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};$T=class{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qse;case"linkViaPopup":case"linkViaRedirect":return Xse;case"reauthViaPopup":case"reauthViaRedirect":return Yse;default:Qo(this.auth,"internal-error")}}resolve(e){oc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};Jse=new Zd(2e3,1e4),PC=class t extends $T{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){oc(this.filter.length===1,"Popup operations only handle one event");let e=KC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Jse.get())};e()}};PC.currentPopupAction=null;Zse="pendingRedirect",ET=new Map,OC=class extends $T{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ET.get(this.auth._key());if(!e){try{let r=await eie(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ET.set(this.auth._key(),e)}return this.bypassAuthState||ET.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};iie=10*60*1e3,MC=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oie(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_9(e)){let s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wa(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iie&&this.cachedEventUids.clear(),this.cachedEventUids.has(HB(e))}saveEventToCache(e){this.cachedEventUids.add(HB(e)),this.lastProcessedEventTime=Date.now()}};lie=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cie=/^https?/;hie=new Zd(3e4,6e4);ST=null;pie=new Zd(5e3,15e3),gie="__/auth/iframe",yie="emulator/auth/iframe",vie={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bie=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);Tie={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Iie=500,xie=600,Eie="_blank",Sie="http://localhost",KT=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};Aie="__/auth/handler",Die="emulator/auth/handler",Cie=encodeURIComponent("fac");xC="webStorageSupport",FC=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$C,this._completeRedirectFn=sie,this._overrideRedirectResult=tie}async _openPopup(e,n,r,s){var i;oc((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");let o=await qB(e,n,r,EC(),s);return Nie(e,o,KC())}async _openRedirect(e,n,r,s){await this._originValidation(e);let i=await qB(e,n,r,EC(),s);return Pse(i),new Promise(()=>{})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(oc(i,"If manager is not set, promise should be"),i)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){let n=await _ie(e),r=new MC(e);return n.register("authEvent",s=>(qe(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xC,{type:xC},s=>{var i;let o=(i=s?.[0])===null||i===void 0?void 0:i[xC];o!==void 0&&n(!!o),Qo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uie(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return i9()||zC()||ZT()}},T9=FC,WT=class{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Ka("unexpected MultiFactorSessionType")}}},UC=class t extends WT{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new t(e)}_finalizeEnroll(e,n,r){return Nse(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return jse(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},QT=class{constructor(){}static assertion(e){return UC._fromCredential(e)}};QT.FACTOR_ID="phone";YT=class{static assertionForEnrollment(e,n){return XT._fromSecret(e,n)}static assertionForSignIn(e,n){return XT._fromEnrollmentId(e,n)}static async generateSecret(e){let n=e;qe(typeof n.auth<"u","internal-error");let r=await kse(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});return JT._fromStartTotpMfaEnrollmentResponse(r,n.auth)}};YT.FACTOR_ID="totp";XT=class t extends WT{constructor(e,n,r){super("totp"),this.otp=e,this.enrollmentId=n,this.secret=r}static _fromSecret(e,n){return new t(n,void 0,e)}static _fromEnrollmentId(e,n){return new t(n,e)}async _finalizeEnroll(e,n,r){return qe(typeof this.secret<"u",e,"argument-error"),Ase(e,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,n){qe(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");let r={verificationCode:this.otp};return Gse(e,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r})}},JT=class t{constructor(e,n,r,s,i,o,a){this.sessionInfo=o,this.auth=a,this.secretKey=e,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=s,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,n){return new t(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,n)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,n){var r;let s=!1;return(TT(e)||TT(n))&&(s=!0),s&&(TT(e)&&(e=((r=this.auth.currentUser)===null||r===void 0?void 0:r.email)||"unknownuser"),TT(n)&&(n=this.auth.name)),`otpauth://totp/${n}:${e}?secret=${this.secretKey}&issuer=${n}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}};zB="@firebase/auth",jB="0.23.2";VC=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};Oie=5*60,Mie=uC("authIdTokenMaxAge")||Oie,GB=null,Fie=t=>async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Mie)return;let s=n?.token;GB!==s&&(GB=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};Pie("Browser")});var x9=G(()=>{I9();Iu();Jd();Ky();Dm()});var QC=G(()=>{x9()});function pI(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function T0(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function qie(t){return Object.prototype.hasOwnProperty.call(t,YC)&&t[YC]||(t[YC]=++zie)}function jie(t,e,n){return t.call.apply(t.bind,arguments)}function Gie(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Fs(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Fs=jie:Fs=Gie,Fs.apply(null,arguments)}function tI(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function cs(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Nu(){this.s=this.s,this.o=this.o}function vR(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function E9(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(pI(r)){let s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Us(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function m0(t){return/^[\s\xa0]*$/.test(t)}function gI(){var t=rt.navigator;return t&&(t=t.userAgent)?t:""}function Ya(t){return gI().indexOf(t)!=-1}function bR(t){return bR[" "](t),t}function Wie(t,e){var n=Moe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}function H9(){var t=rt.document;return t?t.documentMode:void 0}function p0(t,e){if(Us.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(V9){e:{try{bR(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Jie[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&p0.$.h.call(this)}}function eoe(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++Zie,this.fa=this.ia=!1}function yI(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function wR(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function toe(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function B9(t){let e={};for(let n in t)e[n]=t[n];return e}function q9(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<S9.length;i++)n=S9[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vI(t){this.src=t,this.g={},this.h=0}function sR(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=F9(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(yI(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function iR(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}function z9(t,e,n,r,s){if(r&&r.once)return G9(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)z9(t,e[i],n,r,s);return null}return n=xR(n),t&&t[I0]?t.O(e,n,T0(r)?!!r.capture:!!r,s):j9(t,e,n,!1,r,s)}function j9(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=T0(s)?!!s.capture:!!s,a=IR(t);if(a||(t[_R]=a=new vI(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=noe(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Kie||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(K9(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function noe(){function t(n){return e.call(t.src,t.listener,n)}let e=roe;return t}function G9(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)G9(t,e[i],n,r,s);return null}return n=xR(n),t&&t[I0]?t.P(e,n,T0(r)?!!r.capture:!!r,s):j9(t,e,n,!0,r,s)}function $9(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)$9(t,e[i],n,r,s);else r=T0(r)?!!r.capture:!!r,n=xR(n),t&&t[I0]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=iR(i,n,r,s),-1<n&&(yI(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=IR(t))&&(e=t.g[e.toString()],t=-1,e&&(t=iR(e,n,r,s)),(n=-1<t?e[t]:null)&&TR(n))}function TR(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[I0])sR(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(K9(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=IR(e))?(sR(n,t),n.h==0&&(n.src=null,e[_R]=null)):yI(t)}}}function K9(t){return t in JC?JC[t]:JC[t]="on"+t}function roe(t,e){if(t.fa)t=!0;else{e=new p0(e,this);var n=t.listener,r=t.la||t.src;t.ia&&TR(t),t=n.call(r,e)}return t}function IR(t){return t=t[_R],t instanceof vI?t:null}function xR(t){return typeof t=="function"?t:(t[ZC]||(t[ZC]=function(e){return t.handleEvent(e)}),t[ZC])}function ls(){Nu.call(this),this.i=new vI(this),this.S=this,this.J=null}function bs(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Us(e,t);else if(e instanceof Us)e.target=e.target||t;else{var s=e;e=new Us(r,t),q9(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=iI(o,r,!0,e)&&s}if(o=e.g=t,s=iI(o,r,!0,e)&&s,s=iI(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=iI(o,r,!1,e)&&s}function iI(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&sR(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}function soe(){var t=SR;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}function ioe(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function ooe(t){rt.setTimeout(()=>{throw t},0)}function bI(t,e){ls.call(this),this.h=t||1,this.g=e||rt,this.j=Fs(this.qb,this),this.l=Date.now()}function NR(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function kR(t,e,n){if(typeof t=="function")n&&(t=Fs(t,n));else if(t&&typeof t.handleEvent=="function")t=Fs(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:rt.setTimeout(t,e||0)}function Y9(t){t.g=kR(()=>{t.g=null,t.i&&(t.i=!1,Y9(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}function v0(t){Nu.call(this),this.h=t,this.g={}}function X9(t,e,n,r){Array.isArray(n)||(n&&(N9[0]=n.toString()),n=N9);for(var s=0;s<n.length;s++){var i=z9(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function J9(t){wR(t.g,function(e,n){this.g.hasOwnProperty(n)&&TR(e)},t),t.g={}}function wI(){this.g=!0}function loe(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var d=c[0];c=c[1];var h=d.split("_");o=2<=h.length&&h[1]=="type"?o+(d+"="+c+"&"):o+(d+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function coe(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Om(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+doe(t,n)+(r?" "+r:"")})}function uoe(t,e){t.info(function(){return"TIMEOUT: "+e})}function doe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return ER(n)}catch{return e}}function _I(){return k9=k9||new ls}function Z9(t){Us.call(this,lh.Ta,t)}function b0(t){let e=_I();bs(e,new Z9(e))}function eq(t,e){Us.call(this,lh.STAT_EVENT,t),this.stat=e}function ii(t){let e=_I();bs(e,new eq(e,t))}function tq(t,e){Us.call(this,lh.Ua,t),this.size=e}function x0(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return rt.setTimeout(function(){t()},e)}function AR(){}function A9(t){return t.h||(t.h=t.i())}function rq(){}function DR(){Us.call(this,"d")}function CR(){Us.call(this,"c")}function II(){}function S0(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new v0(this),this.P=hoe,t=tR?125:void 0,this.V=new bI(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new sq}function sq(){this.i=null,this.g="",this.h=!1}function hR(t,e,n){t.L=1,t.v=EI(lc(e)),t.s=n,t.S=!0,iq(t,null)}function iq(t,e){t.G=Date.now(),N0(t),t.A=lc(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),fq(n.i,"t",r),t.C=0,n=t.l.J,t.h=new sq,t.g=Pq(t.l,n?e:null,!t.s),0<t.O&&(t.M=new cR(Fs(t.Pa,t,t.g),t.O)),X9(t.U,t.g,"readystatechange",t.nb),e=t.I?B9(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),b0(),loe(t.j,t.u,t.A,t.m,t.W,t.s)}function oq(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function aq(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=foe(t,n),s==lI){e==4&&(t.o=4,ii(14),r=!1),Om(t.j,t.m,null,"[Incomplete Response]");break}else if(s==dR){t.o=4,ii(15),Om(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Om(t.j,t.m,s,null),fR(t,s);oq(t)&&s!=lI&&s!=dR&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ii(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),FR(e),e.M=!0,ii(11))):(Om(t.j,t.m,n,"[Invalid Chunked Response]"),ih(t),f0(t))}function foe(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?lI:(n=Number(e.substring(n,r)),isNaN(n)?dR:(r+=1,r+n>e.length?lI:(e=e.slice(r,r+n),t.C=r+n,e)))}function N0(t){t.Y=Date.now()+t.P,lq(t,t.P)}function lq(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=x0(Fs(t.lb,t),e)}function xI(t){t.B&&(rt.clearTimeout(t.B),t.B=null)}function f0(t){t.l.H==0||t.J||Dq(t.l,t)}function ih(t){xI(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,NR(t.V),J9(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function fR(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||mR(n.i,t))){if(!t.K&&mR(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)dI(n),kI(n);else break e;MR(n),ii(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=x0(Fs(n.ib,n),6e3));if(1>=gq(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else oh(n,11)}else if((t.K||n.g==t)&&dI(n),!m0(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];let d=c[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));let h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));let f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let m=t.g;if(m){let y=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var i=r.i;i.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(RR(i,i.h),i.h=null))}if(r.F){let w=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,Pn(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Lq(r,r.J?r.pa:null,r.Y),o.K){yq(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(xI(a),N0(a)),r.g=o}else kq(r);0<n.j.length&&AI(n)}else c[0]!="stop"&&c[0]!="close"||oh(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?oh(n,7):OR(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}b0(4)}catch{}}function moe(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(pI(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function poe(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(pI(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function cq(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(pI(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=poe(t),r=moe(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}function goe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function ah(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ah){this.h=t.h,cI(this,t.j),this.s=t.s,this.g=t.g,uI(this,t.m),this.l=t.l;var e=t.i,n=new w0;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),D9(this,n),this.o=t.o}else t&&(e=String(t).match(uq))?(this.h=!1,cI(this,e[1]||"",!0),this.s=d0(e[2]||""),this.g=d0(e[3]||"",!0),uI(this,e[4]),this.l=d0(e[5]||"",!0),D9(this,e[6]||"",!0),this.o=d0(e[7]||"")):(this.h=!1,this.i=new w0(null,this.h))}function lc(t){return new ah(t)}function cI(t,e,n){t.j=n?d0(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function uI(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function D9(t,e,n){e instanceof w0?(t.i=e,Toe(t.i,t.h)):(n||(e=h0(e,woe)),t.i=new w0(e,t.h))}function Pn(t,e,n){t.i.set(e,n)}function EI(t){return Pn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function d0(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function h0(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,yoe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function yoe(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}function w0(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ku(t){t.g||(t.g=new Map,t.h=0,t.i&&goe(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function dq(t,e){ku(t),e=Um(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function hq(t,e){return ku(t),e=Um(t,e),t.g.has(e)}function fq(t,e,n){dq(t,e),0<n.length&&(t.i=null,t.g.set(Um(t,e),vR(n)),t.h+=n.length)}function Um(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Toe(t,e){e&&!t.j&&(ku(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(dq(this,r),fq(this,s,n))},t)),t.j=e}function mq(t){this.l=t||xoe,rt.PerformanceNavigationTiming?(t=rt.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(rt.g&&rt.g.Ka&&rt.g.Ka()&&rt.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pq(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function gq(t){return t.h?1:t.g?t.g.size:0}function mR(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function RR(t,e){t.g?t.g.add(e):t.h=e}function yq(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function vq(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return vR(t.i)}function Soe(){this.g=new Eoe}function Noe(t,e,n){let r=n||"";try{cq(t,function(s,i){let o=s;T0(s)&&(o=ER(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function koe(t,e){let n=new wI;if(rt.Image){let r=new Image;r.onload=tI(oI,n,r,"TestLoadImage: loaded",!0,e),r.onerror=tI(oI,n,r,"TestLoadImage: error",!1,e),r.onabort=tI(oI,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=tI(oI,n,r,"TestLoadImage: timeout",!1,e),rt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function oI(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function k0(t){this.l=t.fc||null,this.j=t.ob||!1}function SI(t,e){ls.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=LR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}function bq(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function A0(t){t.readyState=4,t.l=null,t.j=null,t.A=null,_0(t)}function _0(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function mr(t){ls.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wq,this.L=this.M=!1}function Roe(t){return Fm&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function R9(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,_q(t),NI(t)}function _q(t){t.F||(t.F=!0,bs(t,"complete"),bs(t,"error"))}function Tq(t){if(t.h&&typeof yR<"u"&&(!t.C[1]||Xa(t)!=4||t.da()!=2)){if(t.v&&Xa(t)==4)kR(t.La,0,t);else if(bs(t,"readystatechange"),Xa(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(uq)[1]||null;!s&&rt.self&&rt.self.location&&(s=rt.self.location.protocol.slice(0,-1)),r=!Doe.test(s?s.toLowerCase():"")}n=r}if(n)bs(t,"complete"),bs(t,"success");else{t.m=6;try{var i=2<Xa(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",_q(t)}}finally{NI(t)}}}}function NI(t,e){if(t.g){Iq(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||bs(t,"ready");try{n.onreadystatechange=r}catch{}}}function Iq(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(rt.clearTimeout(t.A),t.A=null)}function Xa(t){return t.g?t.g.readyState:0}function L9(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case wq:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Loe(t){let e={};t=(t.g&&2<=Xa(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(m0(t[r]))continue;var n=ioe(t[r]);let s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let i=e[s]||[];e[s]=i,i.push(n)}toe(e,function(r){return r.join(", ")})}function xq(t){let e="";return wR(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function PR(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=xq(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Pn(t,e,n))}function c0(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Eq(t){this.Ga=0,this.j=[],this.l=new wI,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=c0("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=c0("baseRetryDelayMs",5e3,t),this.hb=c0("retryDelaySeedMs",1e4,t),this.eb=c0("forwardChannelMaxRetries",2,t),this.xa=c0("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new mq(t&&t.concurrentRequestLimit),this.Ja=new Soe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function OR(t){if(Sq(t),t.H==3){var e=t.W++,n=lc(t.I);if(Pn(n,"SID",t.K),Pn(n,"RID",e),Pn(n,"TYPE","terminate"),D0(t,n),e=new S0(t,t.l,e),e.L=2,e.v=EI(lc(n)),n=!1,rt.navigator&&rt.navigator.sendBeacon)try{n=rt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&rt.Image&&(new Image().src=e.v,n=!0),n||(e.g=Pq(e.l,null),e.g.ha(e.v)),e.G=Date.now(),N0(e)}Rq(t)}function kI(t){t.g&&(FR(t),t.g.cancel(),t.g=null)}function Sq(t){kI(t),t.u&&(rt.clearTimeout(t.u),t.u=null),dI(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&rt.clearTimeout(t.m),t.m=null)}function AI(t){if(!pq(t.i)&&!t.m){t.m=!0;var e=t.Na;g0||Q9(),y0||(g0(),y0=!0),SR.add(e,t),t.C=0}}function Poe(t,e){return gq(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=x0(Fs(t.Na,t,e),Cq(t,t.C)),t.C++,!0)}function P9(t,e){var n;e?n=e.m:n=t.W++;let r=lc(t.I);Pn(r,"SID",t.K),Pn(r,"RID",n),Pn(r,"AID",t.V),D0(t,r),t.o&&t.s&&PR(r,t.o,t.s),n=new S0(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Nq(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),RR(t.i,n),hR(n,r,e)}function D0(t,e){t.na&&wR(t.na,function(n,r){Pn(e,r,n)}),t.h&&cq({},function(n,r){Pn(e,r,n)})}function Nq(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Fs(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){let o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g,d=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{Noe(d,o,"req"+c+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function kq(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;g0||Q9(),y0||(g0(),y0=!0),SR.add(e,t),t.A=0}}function MR(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=x0(Fs(t.Ma,t),Cq(t,t.A)),t.A++,!0)}function FR(t){t.B!=null&&(rt.clearTimeout(t.B),t.B=null)}function Aq(t){t.g=new S0(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=lc(t.wa);Pn(e,"RID","rpc"),Pn(e,"SID",t.K),Pn(e,"AID",t.V),Pn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Pn(e,"TO",t.qa),Pn(e,"TYPE","xmlhttp"),D0(t,e),t.o&&t.s&&PR(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=EI(lc(e)),n.s=null,n.S=!0,iq(n,t)}function dI(t){t.v!=null&&(rt.clearTimeout(t.v),t.v=null)}function Dq(t,e){var n=null;if(t.g==e){dI(t),FR(t),t.g=null;var r=2}else if(mR(t.i,e))n=e.F,yq(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=_I(),bs(r,new tq(r,n)),AI(t)}else kq(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&Poe(t,e)||r==2&&MR(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:oh(t,5);break;case 4:oh(t,10);break;case 3:oh(t,6);break;default:oh(t,2)}}}function Cq(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function oh(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Fs(t.pb,t);n||(n=new ah("//www.google.com/images/cleardot.gif"),rt.location&&rt.location.protocol=="http"||cI(n,"https"),EI(n)),koe(n.toString(),r)}else ii(2);t.H=0,t.h&&t.h.za(e),Rq(t),Sq(t)}function Rq(t){if(t.H=0,t.ma=[],t.h){let e=vq(t.i);(e.length!=0||t.j.length!=0)&&(E9(t.ma,e),E9(t.ma,t.j),t.i.i.length=0,vR(t.j),t.j.length=0),t.h.ya()}}function Lq(t,e,n){var r=n instanceof ah?lc(n):new ah(n);if(r.g!="")e&&(r.g=e+"."+r.g),uI(r,r.m);else{var s=rt.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new ah(null);r&&cI(i,r),e&&(i.g=e),s&&uI(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&Pn(r,n,e),Pn(r,"VER",t.ra),D0(t,r),r}function Pq(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new mr(new k0({ob:!0})):new mr(t.va),e.Oa(t.J),e}function Oq(){}function hI(){if(Fm&&!(10<=Number(Xie)))throw Error("Environmental error: no available transport.")}function no(t,e){ls.call(this),this.g=new Eq(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!m0(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!m0(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Vm(this)}function Mq(t){DR.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Fq(){CR.call(this),this.status=1}function Vm(t){this.g=t}function Ooe(){this.blockSize=-1}function Yo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function eR(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}function ln(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}function UR(t){return-128<=t&&128>t?Wie(t,function(e){return new ln([e|0],0>e?-1:0)}):new ln([t|0],0>t?-1:0)}function Ja(t){if(isNaN(t)||!isFinite(t))return Mm;if(0>t)return vs(Ja(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=pR;return new ln(e,0)}function Uq(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return vs(Uq(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ja(Math.pow(e,8)),r=Mm,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Ja(Math.pow(e,i)),r=r.R(i).add(Ja(o))):(r=r.R(n),r=r.add(Ja(o)))}return r}function ac(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Eo(t){return t.h==-1}function vs(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ln(n,~t.h).add(gR)}function fI(t,e){return t.add(vs(e))}function aI(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function u0(t,e){this.g=t,this.h=e}function mI(t,e){if(ac(e))throw Error("division by zero");if(ac(t))return new u0(Mm,Mm);if(Eo(t))return e=mI(vs(t),e),new u0(vs(e.g),vs(e.h));if(Eo(e))return e=mI(t,vs(e)),new u0(vs(e.g),e.h);if(30<t.g.length){if(Eo(t)||Eo(e))throw Error("slowDivide_ only works with positive integers.");for(var n=gR,r=e;0>=r.X(t);)n=M9(n),r=M9(r);var s=Pm(n,1),i=Pm(r,1);for(r=Pm(r,2),n=Pm(n,2);!ac(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=Pm(r,1),n=Pm(n,1)}return e=fI(t,s.R(e)),new u0(s,e)}for(s=Mm;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Ja(n),o=i.R(e);Eo(o)||0<o.X(t);)n-=r,i=Ja(n),o=i.R(e);ac(i)&&(i=gR),s=s.add(i),t=fI(t,o)}return new u0(s,t)}function M9(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ln(n,t.h)}function Pm(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new ln(s,t.h)}var Bie,Xo,ye,yR,rt,YC,zie,$ie,F9,Kie,Qie,Fm,U9,tR,V9,Yie,nR,nI,rI,sI,rR,XC,Xie,Jie,I0,Zie,S9,_R,JC,ZC,ER,oR,aR,W9,lR,g0,y0,SR,Q9,aoe,cR,N9,lh,k9,TI,nq,E0,uR,hoe,dR,lI,uq,C9,voe,boe,woe,_oe,Ioe,xoe,Eoe,LR,Aoe,wq,Doe,Coe,Moe,pR,Mm,gR,O9,Vq,Hq,DI,Bq,qq,VR,zq,C0,jq,Gq,ch,$q=G(()=>{Bie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xo={},yR=yR||{},rt=Bie||self;YC="closure_uid_"+(1e9*Math.random()>>>0),zie=0;$ie=0;Nu.prototype.s=!1;Nu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),$ie!=0)&&qie(this)};Nu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};F9=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};Us.prototype.h=function(){this.defaultPrevented=!0};Kie=function(){if(!rt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{rt.addEventListener("test",()=>{},e),rt.removeEventListener("test",()=>{},e)}catch{}return t}();bR[" "]=function(){};Qie=Ya("Opera"),Fm=Ya("Trident")||Ya("MSIE"),U9=Ya("Edge"),tR=U9||Fm,V9=Ya("Gecko")&&!(gI().toLowerCase().indexOf("webkit")!=-1&&!Ya("Edge"))&&!(Ya("Trident")||Ya("MSIE"))&&!Ya("Edge"),Yie=gI().toLowerCase().indexOf("webkit")!=-1&&!Ya("Edge");e:{if(nI="",rI=function(){var t=gI();if(V9)return/rv:([^\);]+)(\)|;)/.exec(t);if(U9)return/Edge\/([\d\.]+)/.exec(t);if(Fm)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Yie)return/WebKit\/(\S+)/.exec(t);if(Qie)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),rI&&(nI=rI?rI[1]:""),Fm&&(sI=H9(),sI!=null&&sI>parseFloat(nI))){nR=String(sI);break e}nR=nI}rt.document&&Fm?(XC=H9(),rR=XC||parseInt(nR,10)||void 0):rR=void 0;Xie=rR;cs(p0,Us);Jie={2:"touch",3:"pen",4:"mouse"};p0.prototype.h=function(){p0.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};I0="closure_listenable_"+(1e6*Math.random()|0),Zie=0;S9="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");vI.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=iR(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new eoe(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};_R="closure_lm_"+(1e6*Math.random()|0),JC={};ZC="__closure_events_fn_"+(1e9*Math.random()>>>0);cs(ls,Nu);ls.prototype[I0]=!0;ls.prototype.removeEventListener=function(t,e,n,r){$9(this,t,e,n,r)};ls.prototype.N=function(){if(ls.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)yI(n[r]);delete t.g[e],t.h--}}this.J=null};ls.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ls.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};ER=rt.JSON.stringify,oR=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};aR=class{constructor(){this.h=this.g=null}add(e,n){let r=W9.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},W9=new oR(()=>new lR,t=>t.reset()),lR=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};y0=!1,SR=new aR,Q9=()=>{let t=rt.Promise.resolve(void 0);g0=()=>{t.then(aoe)}},aoe=()=>{for(var t;t=soe();){try{t.h.call(t.g)}catch(n){ooe(n)}var e=W9;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}y0=!1};cs(bI,ls);ye=bI.prototype;ye.ga=!1;ye.T=null;ye.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),bs(this,"tick"),this.ga&&(NR(this),this.start()))}};ye.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};ye.N=function(){bI.$.N.call(this),NR(this),delete this.g};cR=class extends Nu{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Y9(this)}N(){super.N(),this.g&&(rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};cs(v0,Nu);N9=[];v0.prototype.N=function(){v0.$.N.call(this),J9(this)};v0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};wI.prototype.Ea=function(){this.g=!1};wI.prototype.info=function(){};lh={},k9=null;lh.Ta="serverreachability";cs(Z9,Us);lh.STAT_EVENT="statevent";cs(eq,Us);lh.Ua="timingevent";cs(tq,Us);TI={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},nq={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};AR.prototype.h=null;E0={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};cs(DR,Us);cs(CR,Us);cs(II,AR);II.prototype.g=function(){return new XMLHttpRequest};II.prototype.i=function(){return{}};uR=new II;hoe=45e3,dR={},lI={};ye=S0.prototype;ye.setTimeout=function(t){this.P=t};ye.nb=function(t){t=t.target;let e=this.M;e&&Xa(t)==3?e.l():this.Pa(t)};ye.Pa=function(t){try{if(t==this.g)e:{let d=Xa(this.g);var e=this.g.Ia();let h=this.g.da();if(!(3>d)&&(d!=3||tR||this.g&&(this.h.h||this.g.ja()||L9(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?b0(3):b0(2)),xI(this);var n=this.g.da();this.ca=n;t:if(oq(this)){var r=L9(this.g);t="";var s=r.length,i=Xa(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ih(this),f0(this);var o="";break t}this.h.i=new rt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,coe(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m0(a)){var c=a;break t}}c=null}if(n=c)Om(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fR(this,n);else{this.i=!1,this.o=3,ii(12),ih(this),f0(this);break e}}this.S?(aq(this,d,o),tR&&this.i&&d==3&&(X9(this.U,this.V,"tick",this.mb),this.V.start())):(Om(this.j,this.m,o,null),fR(this,o)),d==4&&ih(this),this.i&&!this.J&&(d==4?Dq(this.l,this):(this.i=!1,N0(this)))}else Loe(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ii(12)):(this.o=0,ii(13)),ih(this),f0(this)}}}catch{}finally{}};ye.mb=function(){if(this.g){var t=Xa(this.g),e=this.g.ja();this.C<e.length&&(xI(this),aq(this,t,e),this.i&&t!=4&&N0(this))}};ye.cancel=function(){this.J=!0,ih(this)};ye.lb=function(){this.B=null;let t=Date.now();0<=t-this.Y?(uoe(this.j,this.A),this.L!=2&&(b0(),ii(17)),ih(this),this.o=2,f0(this)):lq(this,this.Y-t)};uq=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");ah.prototype.toString=function(){var t=[],e=this.j;e&&t.push(h0(e,C9,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(h0(e,C9,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(h0(n,n.charAt(0)=="/"?boe:voe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",h0(n,_oe)),t.join("")};C9=/[#\/\?@]/g,voe=/[#\?:]/g,boe=/[#\?]/g,woe=/[#\?@]/g,_oe=/#/g;ye=w0.prototype;ye.add=function(t,e){ku(this),this.i=null,t=Um(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};ye.forEach=function(t,e){ku(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};ye.ta=function(){ku(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};ye.Z=function(t){ku(this);let e=[];if(typeof t=="string")hq(this,t)&&(e=e.concat(this.g.get(Um(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ye.set=function(t,e){return ku(this),this.i=null,t=Um(this,t),hq(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ye.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};Ioe=class{constructor(t,e){this.g=t,this.map=e}};xoe=10;mq.prototype.cancel=function(){if(this.i=vq(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};Eoe=class{stringify(t){return rt.JSON.stringify(t,void 0)}parse(t){return rt.JSON.parse(t,void 0)}};cs(k0,AR);k0.prototype.g=function(){return new SI(this.l,this.j)};k0.prototype.i=function(t){return function(){return t}}({});cs(SI,ls);LR=0;ye=SI.prototype;ye.open=function(t,e){if(this.readyState!=LR)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,_0(this)};ye.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||rt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,A0(this)),this.readyState=LR};ye.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,_0(this)),this.g&&(this.readyState=3,_0(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof rt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bq(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};ye.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?A0(this):_0(this),this.readyState==3&&bq(this)}};ye.Za=function(t){this.g&&(this.response=this.responseText=t,A0(this))};ye.Ya=function(t){this.g&&(this.response=t,A0(this))};ye.ka=function(){this.g&&A0(this)};ye.setRequestHeader=function(t,e){this.v.append(t,e)};ye.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ye.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};Object.defineProperty(SI.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});Aoe=rt.JSON.parse;cs(mr,ls);wq="",Doe=/^https?$/i,Coe=["POST","PUT"];ye=mr.prototype;ye.Oa=function(t){this.M=t};ye.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():uR.g(),this.C=this.u?A9(this.u):A9(uR),this.g.onreadystatechange=Fs(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){R9(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=rt.FormData&&t instanceof rt.FormData,!(0<=F9(Coe,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Iq(this),0<this.B&&((this.L=Roe(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fs(this.ua,this)):this.A=kR(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){R9(this,i)}};ye.ua=function(){typeof yR<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bs(this,"timeout"),this.abort(8))};ye.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,bs(this,"complete"),bs(this,"abort"),NI(this))};ye.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),NI(this,!0)),mr.$.N.call(this)};ye.La=function(){this.s||(this.G||this.v||this.l?Tq(this):this.kb())};ye.kb=function(){Tq(this)};ye.isActive=function(){return!!this.g};ye.da=function(){try{return 2<Xa(this)?this.g.status:-1}catch{return-1}};ye.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ye.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Aoe(e)}};ye.Ia=function(){return this.m};ye.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};ye=Eq.prototype;ye.ra=8;ye.H=1;ye.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let s=new S0(this,this.l,t),i=this.s;if(this.U&&(i?(i=B9(i),q9(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Nq(this,s,e),n=lc(this.I),Pn(n,"RID",t),Pn(n,"CVER",22),this.F&&Pn(n,"X-HTTP-Session-Id",this.F),D0(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(xq(i)))+"&"+e:this.o&&PR(n,this.o,i)),RR(this.i,s),this.bb&&Pn(n,"TYPE","init"),this.P?(Pn(n,"$req",e),Pn(n,"SID","null"),s.aa=!0,hR(s,n,null)):hR(s,n,e),this.H=2}}else this.H==3&&(t?P9(this,t):this.j.length==0||pq(this.i)||P9(this))};ye.Ma=function(){if(this.u=null,Aq(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=x0(Fs(this.jb,this),t)}};ye.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ii(10),kI(this),Aq(this))};ye.ib=function(){this.v!=null&&(this.v=null,kI(this),MR(this),ii(19))};ye.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ii(2)):(this.l.info("Failed to ping google.com"),ii(1))};ye.isActive=function(){return!!this.h&&this.h.isActive(this)};ye=Oq.prototype;ye.Ba=function(){};ye.Aa=function(){};ye.za=function(){};ye.ya=function(){};ye.isActive=function(){return!0};ye.Va=function(){};hI.prototype.g=function(t,e){return new no(t,e)};cs(no,ls);no.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ii(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Lq(t,null,t.Y),AI(t)};no.prototype.close=function(){OR(this.g)};no.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=ER(t),t=n);e.j.push(new Ioe(e.fb++,t)),e.H==3&&AI(e)};no.prototype.N=function(){this.g.h=null,delete this.j,OR(this.g),delete this.g,no.$.N.call(this)};cs(Mq,DR);cs(Fq,CR);cs(Vm,Oq);Vm.prototype.Ba=function(){bs(this.g,"a")};Vm.prototype.Aa=function(t){bs(this.g,new Mq(t))};Vm.prototype.za=function(t){bs(this.g,new Fq)};Vm.prototype.ya=function(){bs(this.g,"b")};cs(Yo,Ooe);Yo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};Yo.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)eR(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){eR(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){eR(this,r),s=0;break}}this.h=s,this.i+=e};Yo.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};Moe={};pR=4294967296,Mm=UR(0),gR=UR(1),O9=UR(16777216);ye=ln.prototype;ye.ea=function(){if(Eo(this))return-vs(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:pR+r)*e,e*=pR}return t};ye.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ac(this))return"0";if(Eo(this))return"-"+vs(this).toString(t);for(var e=Ja(Math.pow(t,6)),n=this,r="";;){var s=mI(n,e).g;n=fI(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,ac(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};ye.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};ye.X=function(t){return t=fI(this,t),Eo(t)?-1:ac(t)?0:1};ye.abs=function(){return Eo(this)?vs(this):this};ye.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new ln(n,n[n.length-1]&-2147483648?-1:0)};ye.R=function(t){if(ac(this)||ac(t))return Mm;if(Eo(this))return Eo(t)?vs(this).R(vs(t)):vs(vs(this).R(t));if(Eo(t))return vs(this.R(vs(t)));if(0>this.X(O9)&&0>t.X(O9))return Ja(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,aI(n,2*r+2*s),n[2*r+2*s+1]+=i*l,aI(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,aI(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,aI(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ln(n,0)};ye.gb=function(t){return mI(this,t).h};ye.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ln(n,this.h&t.h)};ye.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ln(n,this.h|t.h)};ye.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ln(n,this.h^t.h)};hI.prototype.createWebChannel=hI.prototype.g;no.prototype.send=no.prototype.u;no.prototype.open=no.prototype.m;no.prototype.close=no.prototype.close;TI.NO_ERROR=0;TI.TIMEOUT=8;TI.HTTP_ERROR=6;nq.COMPLETE="complete";rq.EventType=E0;E0.OPEN="a";E0.CLOSE="b";E0.ERROR="c";E0.MESSAGE="d";ls.prototype.listen=ls.prototype.O;mr.prototype.listenOnce=mr.prototype.P;mr.prototype.getLastError=mr.prototype.Sa;mr.prototype.getLastErrorCode=mr.prototype.Ia;mr.prototype.getStatus=mr.prototype.da;mr.prototype.getResponseJson=mr.prototype.Wa;mr.prototype.getResponseText=mr.prototype.ja;mr.prototype.send=mr.prototype.ha;mr.prototype.setWithCredentials=mr.prototype.Oa;Yo.prototype.digest=Yo.prototype.l;Yo.prototype.reset=Yo.prototype.reset;Yo.prototype.update=Yo.prototype.j;ln.prototype.add=ln.prototype.add;ln.prototype.multiply=ln.prototype.R;ln.prototype.modulo=ln.prototype.gb;ln.prototype.compare=ln.prototype.X;ln.prototype.toNumber=ln.prototype.ea;ln.prototype.toString=ln.prototype.toString;ln.prototype.getBits=ln.prototype.D;ln.fromNumber=Ja;ln.fromString=Uq;Vq=Xo.createWebChannelTransport=function(){return new hI},Hq=Xo.getStatEventTarget=function(){return _I()},DI=Xo.ErrorCode=TI,Bq=Xo.EventType=nq,qq=Xo.Event=lh,VR=Xo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},zq=Xo.FetchXmlHttpFactory=k0,C0=Xo.WebChannel=rq,jq=Xo.XhrIo=mr,Gq=Xo.Md5=Yo,ch=Xo.Integer=ln});function Wq(){return fh.logLevel}function Fe(t,...e){if(fh.logLevel<=Bt.DEBUG){let n=e.map(xL);fh.debug(`Firestore (${sp}): ${t}`,...n)}}function uc(t,...e){if(fh.logLevel<=Bt.ERROR){let n=e.map(xL);fh.error(`Firestore (${sp}): ${t}`,...n)}}function $m(t,...e){if(fh.logLevel<=Bt.WARN){let n=e.map(xL);fh.warn(`Firestore (${sp}): ${t}`,...n)}}function xL(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}var e}function tt(t="Unexpected state"){let e=`FIRESTORE (${sp}) INTERNAL ASSERTION FAILED: `+t;throw uc(e),new Error(e)}function On(t,e){t||tt()}function ct(t,e){return t}function Foe(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function Xt(t,e){return t<e?-1:t>e?1:0}function Km(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}function Voe(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=lt.fromTimestamp(r===1e9?new ws(n+1,0):new ws(n,r));return new mh(s,$e.empty(),e)}function Hoe(t){return new mh(t.readTime,t.key,-1)}function Boe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$e.comparator(t.documentKey,e.documentKey),n!==0?n:Xt(t.largestBatchId,e.largestBatchId))}async function Y0(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==qoe)throw t;Fe("LocalStore","Unexpectedly lost primary lease")}function X0(t){return t.name==="IndexedDbTransactionError"}function px(t){return t==null}function F0(t){return t===0&&1/t==-1/0}function zoe(t){return typeof t=="number"&&Number.isInteger(t)&&!F0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Qq(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bh(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xz(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Cu(t){if(On(!!t),typeof t=="string"){let e=0,n=Koe.exec(t);if(On(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pr(t.seconds),nanos:pr(t.nanos)}}function pr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ru(t){return typeof t=="string"?ai.fromBase64String(t):ai.fromUint8Array(t)}function EL(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function SL(t){let e=t.mapValue.fields.__previous_value__;return EL(e)?SL(e):e}function U0(t){let e=Cu(t.mapValue.fields.__local_write_time__.timestampValue);return new ws(e.seconds,e.nanos)}function ph(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?EL(t)?4:Ez(t)?9007199254740991:10:tt()}function sl(t,e){if(t===e)return!0;let n=ph(t);if(n!==ph(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return U0(t).isEqual(U0(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let i=Cu(r.timestampValue),o=Cu(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Ru(r.bytesValue).isEqual(Ru(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return pr(r.geoPointValue.latitude)===pr(s.geoPointValue.latitude)&&pr(r.geoPointValue.longitude)===pr(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return pr(r.integerValue)===pr(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let i=pr(r.doubleValue),o=pr(s.doubleValue);return i===o?F0(i)===F0(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return Km(t.arrayValue.values||[],e.arrayValue.values||[],sl);case 10:return function(r,s){let i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(Qq(i)!==Qq(o))return!1;for(let a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!sl(i[a],o[a])))return!1;return!0}(t,e);default:return tt()}}function V0(t,e){return(t.values||[]).find(n=>sl(n,e))!==void 0}function Wm(t,e){if(t===e)return 0;let n=ph(t),r=ph(e);if(n!==r)return Xt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xt(t.booleanValue,e.booleanValue);case 2:return function(s,i){let o=pr(s.integerValue||s.doubleValue),a=pr(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Yq(t.timestampValue,e.timestampValue);case 4:return Yq(U0(t),U0(e));case 5:return Xt(t.stringValue,e.stringValue);case 6:return function(s,i){let o=Ru(s),a=Ru(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,i){let o=s.split("/"),a=i.split("/");for(let l=0;l<o.length&&l<a.length;l++){let c=Xt(o[l],a[l]);if(c!==0)return c}return Xt(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,i){let o=Xt(pr(s.latitude),pr(i.latitude));return o!==0?o:Xt(pr(s.longitude),pr(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,i){let o=s.values||[],a=i.values||[];for(let l=0;l<o.length&&l<a.length;++l){let c=Wm(o[l],a[l]);if(c)return c}return Xt(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,i){if(s===CI.mapValue&&i===CI.mapValue)return 0;if(s===CI.mapValue)return 1;if(i===CI.mapValue)return-1;let o=s.fields||{},a=Object.keys(o),l=i.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let d=0;d<a.length&&d<c.length;++d){let h=Xt(a[d],c[d]);if(h!==0)return h;let f=Wm(o[a[d]],l[c[d]]);if(f!==0)return f}return Xt(a.length,c.length)}(t.mapValue,e.mapValue);default:throw tt()}}function Yq(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xt(t,e);let n=Cu(t),r=Cu(e),s=Xt(n.seconds,r.seconds);return s!==0?s:Xt(n.nanos,r.nanos)}function Qm(t){return e2(t)}function e2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){let s=Cu(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ru(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,$e.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",i=!0;for(let o of r.values||[])i?i=!1:s+=",",s+=e2(o);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){let s=Object.keys(r.fields||{}).sort(),i="{",o=!0;for(let a of s)o?o=!1:i+=",",i+=`${a}:${e2(r.fields[a])}`;return i+"}"}(t.mapValue):tt();var e,n}function Xq(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function t2(t){return!!t&&"integerValue"in t}function NL(t){return!!t&&"arrayValue"in t}function Jq(t){return!!t&&"nullValue"in t}function Zq(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function PI(t){return!!t&&"mapValue"in t}function L0(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return bh(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=L0(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=L0(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ez(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function Sz(t){let e=[];return bh(t.fields,(n,r)=>{let s=new No([n]);if(PI(r)){let i=Sz(r.mapValue).fields;if(i.length===0)e.push(s);else for(let o of i)e.push(s.child(o))}else e.push(s)}),new So(e)}function ez(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){let i=e[s],o=t.position[s];if(i.field.isKeyField()?r=$e.comparator($e.fromName(o.referenceValue),n.key):r=Wm(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function tz(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!sl(t.position[n],e.position[n]))return!1;return!0}function Woe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Nz(t){return t.op==="and"}function kz(t){return Qoe(t)&&Nz(t)}function Qoe(t){for(let e of t.filters)if(e instanceof Zo)return!1;return!0}function n2(t){if(t instanceof Fr)return t.field.canonicalString()+t.op.toString()+Qm(t.value);if(kz(t))return t.filters.map(e=>n2(e)).join(",");{let e=t.filters.map(n=>n2(n)).join(",");return`${t.op}(${e})`}}function Az(t,e){return t instanceof Fr?function(n,r){return r instanceof Fr&&n.op===r.op&&n.field.isEqual(r.field)&&sl(n.value,r.value)}(t,e):t instanceof Zo?function(n,r){return r instanceof Zo&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,i,o)=>s&&Az(i,r.filters[o]),!0):!1}(t,e):void tt()}function Dz(t){return t instanceof Fr?function(e){return`${e.field.canonicalString()} ${e.op} ${Qm(e.value)}`}(t):t instanceof Zo?function(e){return e.op.toString()+" {"+e.getFilters().map(Dz).join(" ,")+"}"}(t):"Filter"}function Cz(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>$e.fromName(r.referenceValue))}function nz(t,e=null,n=[],r=[],s=null,i=null,o=null){return new u2(t,e,n,r,s,i,o)}function kL(t){let e=ct(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>n2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),px(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qm(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qm(r)).join(",")),e.dt=n}return e.dt}function AL(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Woe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Az(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tz(t.startAt,e.startAt)&&tz(t.endAt,e.endAt)}function d2(t){return $e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Yoe(t,e,n,r,s,i,o,a){return new Lu(t,e,n,r,s,i,o,a)}function DL(t){return new Lu(t)}function rz(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function CL(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function gx(t){for(let e of t.filters){let n=e.getFirstInequalityField();if(n!==null)return n}return null}function Rz(t){return t.collectionGroup!==null}function zm(t){let e=ct(t);if(e.wt===null){e.wt=[];let n=gx(e),r=CL(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Au(n)),e.wt.push(new Au(No.keyField(),"asc"));else{let s=!1;for(let i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(s=!0);if(!s){let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Au(No.keyField(),i))}}}return e.wt}function dc(t){let e=ct(t);if(!e._t)if(e.limitType==="F")e._t=nz(e.path,e.collectionGroup,zm(e),e.filters,e.limit,e.startAt,e.endAt);else{let n=[];for(let i of zm(e)){let o=i.dir==="desc"?"asc":"desc";n.push(new Au(i.field,o))}let r=e.endAt?new Ym(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Ym(e.startAt.position,e.startAt.inclusive):null;e._t=nz(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e._t}function h2(t,e){e.getFirstInequalityField(),gx(t);let n=t.filters.concat([e]);return new Lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function f2(t,e,n){return new Lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yx(t,e){return AL(dc(t),dc(e))&&t.limitType===e.limitType}function Lz(t){return`${kL(dc(t))}|lt:${t.limitType}`}function m2(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>Dz(r)).join(", ")}]`),px(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qm(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qm(r)).join(",")),`Target(${n})`}(dc(t))}; limitType=${t.limitType})`}function vx(t,e){return e.isFoundDocument()&&function(n,r){let s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):$e.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(let s of zm(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(let s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,i,o){let a=ez(s,i,o);return s.inclusive?a<=0:a<0}(n.startAt,zm(n),r)||n.endAt&&!function(s,i,o){let a=ez(s,i,o);return s.inclusive?a>=0:a>0}(n.endAt,zm(n),r))}(t,e)}function Xoe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Pz(t){return(e,n)=>{let r=!1;for(let s of zm(t)){let i=Joe(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Joe(t,e,n){let r=t.field.isKeyField()?$e.comparator(e.key,n.key):function(s,i,o){let a=i.data.field(s),l=o.data.field(s);return a!==null&&l!==null?Wm(a,l):tt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return tt()}}function hc(){return Zoe}function R0(...t){let e=Oz;for(let n of t)e=e.insert(n.key,n);return e}function Mz(t){let e=Oz;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function uh(){return P0()}function Fz(){return P0()}function P0(){return new Pu(t=>t.toString(),(t,e)=>t.isEqual(e))}function At(...t){let e=tae;for(let n of t)e=e.add(n);return e}function rae(){return nae}function Uz(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:F0(e)?"-0":e}}function Vz(t){return{integerValue:""+t}}function sae(t,e){return zoe(e)?Vz(e):Uz(t,e)}function iae(t,e,n){return t instanceof Jm?function(r,s){let i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&EL(s)&&(s=SL(s)),s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,e):t instanceof gh?Bz(t,e):t instanceof yh?qz(t,e):function(r,s){let i=Hz(r,s),o=sz(i)+sz(r.gt);return t2(i)&&t2(r.gt)?Vz(o):Uz(r.serializer,o)}(t,e)}function oae(t,e,n){return t instanceof gh?Bz(t,e):t instanceof yh?qz(t,e):n}function Hz(t,e){return t instanceof Zm?t2(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}function Bz(t,e){let n=zz(e);for(let r of t.elements)n.some(s=>sl(s,r))||n.push(r);return{arrayValue:{values:n}}}function qz(t,e){let n=zz(e);for(let r of t.elements)n=n.filter(s=>!sl(s,r));return{arrayValue:{values:n}}}function sz(t){return pr(t.integerValue||t.doubleValue)}function zz(t){return NL(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function aae(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof gh&&r instanceof gh||n instanceof yh&&r instanceof yh?Km(n.elements,r.elements,sl):n instanceof Zm&&r instanceof Zm?sl(n.gt,r.gt):n instanceof Jm&&r instanceof Jm}(t.transform,e.transform)}function OI(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}function jz(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new H0(t.key,cc.none()):new vh(t.key,t.data,cc.none());{let n=t.data,r=ro.empty(),s=new oi(No.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new il(t.key,r,new So(s.toArray()),cc.none())}}function lae(t,e,n){t instanceof vh?function(r,s,i){let o=r.value.clone(),a=oz(r.fieldTransforms,s,i.transformResults);o.setAll(a),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof il?function(r,s,i){if(!OI(r.precondition,s))return void s.convertToUnknownDocument(i.version);let o=oz(r.fieldTransforms,s,i.transformResults),a=s.data;a.setAll(Gz(r)),a.setAll(o),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function O0(t,e,n,r){return t instanceof vh?function(s,i,o,a){if(!OI(s.precondition,i))return o;let l=s.value.clone(),c=az(s.fieldTransforms,a,i);return l.setAll(c),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof il?function(s,i,o,a){if(!OI(s.precondition,i))return o;let l=az(s.fieldTransforms,a,i),c=i.data;return c.setAll(Gz(s)),c.setAll(l),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,i,o){return OI(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function cae(t,e){let n=null;for(let r of t.fieldTransforms){let s=e.data.field(r.field),i=Hz(r.transform,s||null);i!=null&&(n===null&&(n=ro.empty()),n.set(r.field,i))}return n||null}function iz(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Km(n,r,(s,i)=>aae(s,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Gz(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function oz(t,e,n){let r=new Map;On(t.length===n.length);for(let s=0;s<n.length;s++){let i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,oae(o,a,n[s]))}return r}function az(t,e,n){let r=new Map;for(let s of t){let i=s.transform,o=n.data.field(s.field);r.set(s.field,iae(i,o,e))}return r}function uae(t){switch(t){default:return tt();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function $z(t){if(t===void 0)return uc("GRPC error has no .code"),X.UNKNOWN;switch(t){case Or.OK:return X.OK;case Or.CANCELLED:return X.CANCELLED;case Or.UNKNOWN:return X.UNKNOWN;case Or.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Or.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Or.INTERNAL:return X.INTERNAL;case Or.UNAVAILABLE:return X.UNAVAILABLE;case Or.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Or.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Or.NOT_FOUND:return X.NOT_FOUND;case Or.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Or.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Or.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Or.ABORTED:return X.ABORTED;case Or.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Or.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Or.DATA_LOSS:return X.DATA_LOSS;default:return tt()}}function dae(){return new TextEncoder}function lz(t){let e=dae().encode(t),n=new Gq;return n.update(e),new Uint8Array(n.digest())}function cz(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ch([n,r],0),new ch([s,i],0)]}function uz(){return new gr($e.comparator)}function dz(){return new gr($e.comparator)}function E2(t,e){return t.useProto3Json||px(e)?e:{value:e}}function KI(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kz(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gae(t,e){return KI(t,e.toTimestamp())}function nl(t){return On(!!t),lt.fromTimestamp(function(e){let n=Cu(e);return new ws(n.seconds,n.nanos)}(t))}function RL(t,e){return function(n){return new Zn(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Wz(t){let e=Zn.fromString(t);return On(Jz(e)),e}function S2(t,e){return RL(t.databaseId,e.path)}function HR(t,e){let n=Wz(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $e(Qz(n))}function N2(t,e){return RL(t.databaseId,e)}function yae(t){let e=Wz(t);return e.length===4?Zn.emptyPath():Qz(e)}function k2(t){return new Zn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Qz(t){return On(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function hz(t,e,n){return{name:S2(t,e),fields:n.value.mapValue.fields}}function vae(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:tt()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(l,c){return l.useProto3Json?(On(c===void 0||typeof c=="string"),ai.fromBase64String(c||"")):(On(c===void 0||c instanceof Uint8Array),ai.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let c=l.code===void 0?X.UNKNOWN:$z(l.code);return new Te(c,l.message||"")}(o);n=new GI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let s=HR(t,r.document.name),i=nl(r.document.updateTime),o=r.document.createTime?nl(r.document.createTime):lt.min(),a=new ro({mapValue:{fields:r.document.fields}}),l=Jo.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new jm(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let s=HR(t,r.document),i=r.readTime?nl(r.readTime):lt.min(),o=Jo.newNoDocument(s,i),a=r.removedTargetIds||[];n=new jm([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let s=HR(t,r.document),i=r.removedTargetIds||[];n=new jm([],i,s,null)}else{if(!("filter"in e))return tt();{e.filter;let r=e.filter;r.targetId;let{count:s=0,unchangedNames:i}=r,o=new w2(s,i),a=r.targetId;n=new jI(a,o)}}return n}function bae(t,e){let n;if(e instanceof vh)n={update:hz(t,e.key,e.value)};else if(e instanceof H0)n={delete:S2(t,e.key)};else if(e instanceof il)n={update:hz(t,e.key,e.data),updateMask:kae(e.fieldMask)};else{if(!(e instanceof g2))return tt();n={verify:S2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,i){let o=i.transform;if(o instanceof Jm)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof gh)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof yh)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Zm)return{fieldPath:i.field.canonicalString(),increment:o.gt};throw tt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:gae(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:tt()}(t,e.precondition)),n}function wae(t,e){return t&&t.length>0?(On(e!==void 0),t.map(n=>function(r,s){let i=r.updateTime?nl(r.updateTime):nl(s);return i.isEqual(lt.min())&&(i=nl(s)),new p2(i,r.transformResults||[])}(n,e))):[]}function _ae(t,e){return{documents:[N2(t,e.path)]}}function Tae(t,e){let n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=N2(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=N2(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);let s=function(l){if(l.length!==0)return Xz(Zo.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let i=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:Hm(d.field),direction:Eae(d.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);let o=E2(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function Iae(t){let e=yae(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,s=null;if(r>0){On(r===1);let d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(d){let h=Yz(d);return h instanceof Zo&&kz(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(d=>function(h){return new Au(Bm(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(d)));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,px(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){let h=!!d.before,f=d.values||[];return new Ym(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){let h=!d.before,f=d.values||[];return new Ym(f,h)}(n.endAt)),Yoe(e,s,o,i,a,"F",l,c)}function xae(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Yz(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":let n=Bm(e.unaryFilter.field);return Fr.create(n,"==",{doubleValue:NaN});case"IS_NULL":let r=Bm(e.unaryFilter.field);return Fr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Bm(e.unaryFilter.field);return Fr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=Bm(e.unaryFilter.field);return Fr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}(t):t.fieldFilter!==void 0?function(e){return Fr.create(Bm(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Zo.create(e.compositeFilter.filters.map(n=>Yz(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return tt()}}(e.compositeFilter.op))}(t):tt()}function Eae(t){return fae[t]}function Sae(t){return mae[t]}function Nae(t){return pae[t]}function Hm(t){return{fieldPath:t.canonicalString()}}function Bm(t){return No.fromServerFormat(t.fieldPath)}function Xz(t){return t instanceof Fr?function(e){if(e.op==="=="){if(Zq(e.value))return{unaryFilter:{field:Hm(e.field),op:"IS_NAN"}};if(Jq(e.value))return{unaryFilter:{field:Hm(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Zq(e.value))return{unaryFilter:{field:Hm(e.field),op:"IS_NOT_NAN"}};if(Jq(e.value))return{unaryFilter:{field:Hm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hm(e.field),op:Sae(e.op),value:e.value}}}(t):t instanceof Zo?function(e){let n=e.getFilters().map(r=>Xz(r));return n.length===1?n[0]:{compositeFilter:{op:Nae(e.op),filters:n}}}(t):tt()}function kae(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Jz(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Aae(t){let e=Iae({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?f2(e,e.limit,"L"):e}function Dae(t,e,n,r){return new $2(t,e,n,r)}async function Zz(t,e){let n=ct(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{let o=[],a=[],l=At();for(let c of s){o.push(c.batchId);for(let d of c.mutations)l=l.add(d.key)}for(let c of i){a.push(c.batchId);for(let d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}function Cae(t,e){let n=ct(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let s=e.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){let d=l.batch,h=d.keys(),f=me.resolve();return h.forEach(m=>{f=f.next(()=>c.getEntry(a,m)).next(y=>{let w=l.docVersions.get(m);On(w!==null),y.version.compareTo(w)<0&&(d.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),c.addEntry(y)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=At();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function ej(t){let e=ct(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Rae(t,e){let n=ct(t),r=e.snapshotVersion,s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{let o=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;let a=[];e.targetChanges.forEach((d,h)=>{let f=s.get(h);if(!f)return;a.push(n.Bs.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(i,d.addedDocuments,h)));let m=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(ai.EMPTY_BYTE_STRING,lt.min()).withLastLimboFreeSnapshotVersion(lt.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(h,m),function(y,w,v){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,m,d)&&a.push(n.Bs.updateTargetData(i,m))});let l=hc(),c=At();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(Lae(i,o,e.documentUpdates).next(d=>{l=d.nr,c=d.sr})),!r.isEqual(lt.min())){let d=n.Bs.getLastRemoteSnapshotVersion(i).next(h=>n.Bs.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return me.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ji=s,i))}function Lae(t,e,n){let r=At(),s=At();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=hc();return n.forEach((a,l)=>{let c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(lt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Fe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:s}})}function Pae(t,e){let n=ct(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Oae(t,e){let n=ct(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Bs.getTargetData(r,e).next(i=>i?(s=i,me.resolve(s)):n.Bs.allocateTargetId(r).next(o=>(s=new q0(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{let s=n.Ji.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function K2(t,e,n){let r=ct(t),s=r.Ji.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!X0(o))throw o;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}function fz(t,e,n){let r=ct(t),s=lt.min(),i=At();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){let d=ct(a),h=d.Yi.get(c);return h!==void 0?me.resolve(d.Ji.get(h)):d.Bs.getTargetData(l,c)}(r,o,dc(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?s:lt.min(),n?i:At())).next(a=>(Mae(r,Xoe(e),a),{documents:a,ir:i})))}function Mae(t,e,n){let r=t.Xi.get(e)||lt.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Xi.set(e,r)}function BR(){return LI===null?LI=268435456+Math.round(2147483648*Math.random()):LI++,"0x"+LI.toString(16)}function qR(){return typeof document<"u"?document:null}function bx(t){return new x2(t,!0)}async function wx(t){if(wh(t))for(let e of t.Ru)await e(!0)}async function J0(t){for(let e of t.Ru)await e(!1)}function tj(t,e){let n=ct(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),OL(n)?PL(n):ip(n).Ko()&&LL(n,e))}function nj(t,e){let n=ct(t),r=ip(n);n.Au.delete(e),r.Ko()&&rj(n,e),n.Au.size===0&&(r.Ko()?r.jo():wh(n)&&n.bu.set("Unknown"))}function LL(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(lt.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ip(t).su(e)}function rj(t,e){t.Vu.qt(e),ip(t).iu(e)}function PL(t){t.Vu=new I2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),ip(t).start(),t.bu.gu()}function OL(t){return wh(t)&&!ip(t).Uo()&&t.Au.size>0}function wh(t){return ct(t).vu.size===0}function sj(t){t.Vu=void 0}async function Uae(t){t.Au.forEach((e,n)=>{LL(t,e)})}async function Vae(t,e){sj(t),OL(t)?(t.bu.Iu(e),PL(t)):t.bu.set("Unknown")}async function Hae(t,e,n){if(t.bu.set("Online"),e instanceof GI&&e.state===2&&e.cause)try{await async function(r,s){let i=s.cause;for(let o of s.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,i),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ZI(t,r)}else if(e instanceof jm?t.Vu.Ht(e):e instanceof jI?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(lt.min()))try{let r=await ej(t.localStore);n.compareTo(r)>=0&&await function(s,i){let o=s.Vu.ce(i);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){let c=s.Au.get(l);c&&s.Au.set(l,c.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach((a,l)=>{let c=s.Au.get(a);if(!c)return;s.Au.set(a,c.withResumeToken(ai.EMPTY_BYTE_STRING,c.snapshotVersion)),rj(s,a);let d=new q0(c.target,a,l,c.sequenceNumber);LL(s,d)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Fe("RemoteStore","Failed to raise snapshot:",r),await ZI(t,r)}}async function ZI(t,e,n){if(!X0(e))throw e;t.vu.add(1),await J0(t),t.bu.set("Offline"),n||(n=()=>ej(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Fe("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await wx(t)})}function ij(t,e){return e().catch(n=>ZI(t,n,e))}async function _x(t){let e=ct(t),n=Ou(e),r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Bae(e);)try{let s=await Pae(e.localStore,r);if(s===null){e.Eu.length===0&&n.jo();break}r=s.batchId,qae(e,s)}catch(s){await ZI(e,s)}oj(e)&&aj(e)}function Bae(t){return wh(t)&&t.Eu.length<10}function qae(t,e){t.Eu.push(e);let n=Ou(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function oj(t){return wh(t)&&!Ou(t).Uo()&&t.Eu.length>0}function aj(t){Ou(t).start()}async function zae(t){Ou(t).hu()}async function jae(t){let e=Ou(t);for(let n of t.Eu)e.uu(n.mutations)}async function Gae(t,e,n){let r=t.Eu.shift(),s=v2.from(r,e,n);await ij(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await _x(t)}async function $ae(t,e){e&&Ou(t).ou&&await async function(n,r){if(s=r.code,uae(s)&&s!==X.ABORTED){let i=n.Eu.shift();Ou(n).Qo(),await ij(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await _x(n)}var s}(t,e),oj(t)&&aj(t)}async function mz(t,e){let n=ct(t);n.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");let r=wh(n);n.vu.add(3),await J0(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await wx(n)}async function Kae(t,e){let n=ct(t);e?(n.vu.delete(2),await wx(n)):e||(n.vu.add(2),await J0(n),n.bu.set("Unknown"))}function ip(t){return t.Su||(t.Su=function(e,n,r){let s=ct(e);return s.fu(),new J2(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:Uae.bind(null,t),ao:Vae.bind(null,t),nu:Hae.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),OL(t)?PL(t):t.bu.set("Unknown")):(await t.Su.stop(),sj(t))})),t.Su}function Ou(t){return t.Du||(t.Du=function(e,n,r){let s=ct(e);return s.fu(),new Z2(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:zae.bind(null,t),ao:$ae.bind(null,t),au:jae.bind(null,t),cu:Gae.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await _x(t)):(await t.Du.stop(),t.Eu.length>0&&(Fe("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}function ML(t,e){if(uc("AsyncQueue",`${e}: ${t}`),X0(t))return new Te(X.UNAVAILABLE,`${e}: ${t}`);throw t}async function lj(t,e){let n=ct(t),r=e.query,s=!1,i=n.queries.get(r);if(i||(s=!0,i=new sL),s)try{i.Nu=await n.onListen(r)}catch(o){let a=ML(o,`Initialization of query '${m2(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.Mu(n.onlineState),i.Nu&&e.$u(i.Nu)&&FL(n)}async function cj(t,e){let n=ct(t),r=e.query,s=!1,i=n.queries.get(r);if(i){let o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function Wae(t,e){let n=ct(t),r=!1;for(let s of e){let i=s.query,o=n.queries.get(i);if(o){for(let a of o.listeners)a.$u(s)&&(r=!0);o.Nu=s}}r&&FL(n)}function Qae(t,e,n){let r=ct(t),s=r.queries.get(e);if(s)for(let i of s.listeners)i.onError(n);r.queries.delete(e)}function FL(t){t.ku.forEach(e=>{e.next()})}async function Yae(t,e){let n=ole(t),r,s,i=n.wc.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.lc();else{let o=await Oae(n.localStore,dc(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await Xae(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&tj(n.remoteStore,o)}return s}async function Xae(t,e,n,r,s){t.Rc=(h,f,m)=>async function(y,w,v,g){let b=w.view.sc(v);b.zi&&(b=await fz(y.localStore,w.query,!1).then(({documents:R})=>w.view.sc(R,b)));let I=g&&g.targetChanges.get(w.targetId),k=w.view.applyChanges(b,y.isPrimaryClient,I);return gz(y,w.targetId,k.cc),k.snapshot}(t,h,f,m);let i=await fz(t.localStore,e,!0),o=new oL(e,i.ir),a=o.sc(i.documents),l=B0.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);gz(t,n,c.cc);let d=new aL(e,n,o);return t.wc.set(e,d),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function Jae(t,e){let n=ct(t),r=n.wc.get(e),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter(i=>!yx(i,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await K2(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),nj(n.remoteStore,r.targetId),uL(n,r.targetId)}).catch(Y0)):(uL(n,r.targetId),await K2(n.localStore,r.targetId,!0))}async function Zae(t,e,n){let r=ale(t);try{let s=await function(i,o){let a=ct(i),l=ws.now(),c=o.reduce((f,m)=>f.add(m.key),At()),d,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=hc(),y=At();return a.Zi.getEntries(f,c).next(w=>{m=w,m.forEach((v,g)=>{g.isValidDocument()||(y=y.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,m)).next(w=>{d=w;let v=[];for(let g of o){let b=cae(g,d.get(g.key).overlayedDocument);b!=null&&v.push(new il(g.key,b,Sz(b.value.mapValue),cc.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,v,o)}).next(w=>{h=w;let v=w.applyToLocalDocumentSet(d,y);return a.documentOverlayCache.saveOverlays(f,w.batchId,v)})}).then(()=>({batchId:h.batchId,changes:Mz(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,o,a){let l=i.Tc[i.currentUser.toKey()];l||(l=new gr(Xt)),l=l.insert(o,a),i.Tc[i.currentUser.toKey()]=l}(r,s.batchId,n),await Z0(r,s.changes),await _x(r.remoteStore)}catch(s){let i=ML(s,"Failed to persist write");n.reject(i)}}async function uj(t,e){let n=ct(t);try{let r=await Rae(n.localStore,e);e.targetChanges.forEach((s,i)=>{let o=n.yc.get(i);o&&(On(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.fc=!0:s.modifiedDocuments.size>0?On(o.fc):s.removedDocuments.size>0&&(On(o.fc),o.fc=!1))}),await Z0(n,r,e)}catch(r){await Y0(r)}}function pz(t,e,n){let r=ct(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let s=[];r.wc.forEach((i,o)=>{let a=o.view.Mu(e);a.snapshot&&s.push(a.snapshot)}),function(i,o){let a=ct(i);a.onlineState=o;let l=!1;a.queries.forEach((c,d)=>{for(let h of d.listeners)h.Mu(o)&&(l=!0)}),l&&FL(a)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ele(t,e,n){let r=ct(t);r.sharedClientState.updateQueryState(e,"rejected",n);let s=r.yc.get(e),i=s&&s.key;if(i){let o=new gr($e.comparator);o=o.insert(i,Jo.newNoDocument(i,lt.min()));let a=At().add(i),l=new zI(lt.min(),new Map,new gr(Xt),o,a);await uj(r,l),r.gc=r.gc.remove(i),r.yc.delete(e),UL(r)}else await K2(r.localStore,e,!1).then(()=>uL(r,e,n)).catch(Y0)}async function tle(t,e){let n=ct(t),r=e.batch.batchId;try{let s=await Cae(n.localStore,e);hj(n,r,null),dj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Z0(n,s)}catch(s){await Y0(s)}}async function nle(t,e,n){let r=ct(t);try{let s=await function(i,o){let a=ct(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(d=>(On(d!==null),c=d.keys(),a.mutationQueue.removeMutationBatch(l,d))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);hj(r,e,n),dj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Z0(r,s)}catch(s){await Y0(s)}}function dj(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function hj(t,e,n){let r=ct(t),s=r.Tc[r.currentUser.toKey()];if(s){let i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function uL(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||fj(t,r)})}function fj(t,e){t.mc.delete(e.path.canonicalString());let n=t.gc.get(e);n!==null&&(nj(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),UL(t))}function gz(t,e,n){for(let r of n)r instanceof rx?(t.Ic.addReference(r.key,e),rle(t,r)):r instanceof sx?(Fe("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||fj(t,r.key)):tt()}function rle(t,e){let n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(Fe("SyncEngine","New document in limbo: "+n),t.mc.add(r),UL(t))}function UL(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){let e=t.mc.values().next().value;t.mc.delete(e);let n=new $e(Zn.fromString(e)),r=t.Ac.next();t.yc.set(r,new lL(n)),t.gc=t.gc.insert(n,r),tj(t.remoteStore,new q0(dc(DL(n.path)),r,"TargetPurposeLimboResolution",M0.ct))}}async function Z0(t,e,n){let r=ct(t),s=[],i=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){s.push(c);let d=j2.Li(l.targetId,c);i.push(d)}}))}),await Promise.all(o),r.dc.nu(s),await async function(a,l){let c=ct(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>me.forEach(l,h=>me.forEach(h.Fi,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>me.forEach(h.Bi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!X0(d))throw d;Fe("LocalStore","Failed to update sequence numbers: "+d)}for(let d of l){let h=d.targetId;if(!d.fromCache){let f=c.Ji.get(h),m=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(m);c.Ji=c.Ji.insert(h,y)}}}(r.localStore,i))}async function sle(t,e){let n=ct(t);if(!n.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());let r=await Zz(n.localStore,e);n.currentUser=e,function(s,i){s.Ec.forEach(o=>{o.forEach(a=>{a.reject(new Te(X.CANCELLED,i))})}),s.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Z0(n,r.er)}}function ile(t,e){let n=ct(t),r=n.yc.get(e);if(r&&r.fc)return At().add(r.key);{let s=At(),i=n._c.get(e);if(!i)return s;for(let o of i){let a=n.wc.get(o);s=s.unionWith(a.view.nc)}return s}}function ole(t){let e=ct(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ile.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ele.bind(null,e),e.dc.nu=Wae.bind(null,e.eventManager),e.dc.Pc=Qae.bind(null,e.eventManager),e}function ale(t){let e=ct(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tle.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nle.bind(null,e),e}async function zR(t,e){t.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");let n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Zz(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function yz(t,e){t.asyncQueue.verifyOperationInProgress();let n=await cle(t);Fe("FirestoreClient","Initializing OnlineComponentProvider");let r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>mz(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>mz(e.remoteStore,i)),t._onlineComponents=e}function lle(t){return t.name==="FirebaseError"?t.code===X.FAILED_PRECONDITION||t.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function cle(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await zR(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!lle(n))throw n;$m("Error using user provided cache. Falling back to memory cache: "+n),await zR(t,new ix)}}else Fe("FirestoreClient","Using default OfflineComponentProvider"),await zR(t,new ix);return t._offlineComponents}async function mj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Fe("FirestoreClient","Using user provided OnlineComponentProvider"),await yz(t,t._uninitializedComponentsProvider._online)):(Fe("FirestoreClient","Using default OnlineComponentProvider"),await yz(t,new dL))),t._onlineComponents}function ule(t){return mj(t).then(e=>e.syncEngine)}async function fL(t){let e=await mj(t),n=e.eventManager;return n.onListen=Yae.bind(null,e.syncEngine),n.onUnlisten=Jae.bind(null,e.syncEngine),n}function dle(t,e,n={}){let r=new el;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,l){let c=new ox({next:h=>{i.enqueueAndForget(()=>cj(s,d)),h.fromCache&&a.source==="server"?l.reject(new Te(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new nx(o,c,{includeMetadataChanges:!0,Ku:!0});return lj(s,d)}(await fL(t),t.asyncQueue,e,n,r)),r.promise}function pj(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}function gj(t,e,n){if(!n)throw new Te(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hle(t,e,n,r){if(e===!0&&r===!0)throw new Te(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bz(t){if(!$e.isDocumentKey(t))throw new Te(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wz(t){if($e.isDocumentKey(t))throw new Te(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Tx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":tt()}function rl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Tx(t);throw new Te(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function fle(t,e,n,r={}){var s;let i=(t=rl(t,np))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&$m("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=us.MOCK_USER;else{a=vT(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);let c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Te(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new us(c)}t._authCredentials=new GR(new MI(a,l))}}function yj(t,e,...n){if(t=Jn(t),gj("collection","path",e),t instanceof np){let r=Zn.fromString(e,...n);return wz(r),new Du(t,null,r)}{if(!(t instanceof xi||t instanceof Du))throw new Te(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Zn.fromString(e,...n));return wz(r),new Du(t.firestore,null,r)}}function cn(t,e,...n){if(t=Jn(t),arguments.length===1&&(e=FI.A()),gj("doc","path",e),t instanceof np){let r=Zn.fromString(e,...n);return bz(r),new xi(t,null,new $e(r))}{if(!(t instanceof xi||t instanceof Du))throw new Te(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Zn.fromString(e,...n));return bz(r),new xi(t.firestore,t instanceof Du?t.converter:null,new $e(r))}}function _z(t){return function(e,n){if(typeof e!="object"||e===null)return!1;let r=e;for(let s of n)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}function vj(t,e){let n=typeof t=="object"?t:Cm(),r=typeof t=="string"?t:e||"(default)",s=Xd(n,"firestore").getImmediate({identifier:r});if(!s._initialized){let i=yT("firestore");i&&fle(s,...i)}return s}function VL(t){return t._firestoreClient||bj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function bj(t){var e,n,r;let s=t._freezeSettings(),i=function(o,a,l,c){return new ZR(o,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,pj(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new hL(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}function wj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}function HL(t){let e=t._freezeSettings(),n=bx(t._databaseId);return new yL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ple(t,e,n,r,s,i={}){let o=t.ya(i.merge||i.mergeFields?2:0,e,n,s);BL("Data must be an object, but it was:",o,r);let a=_j(r,o),l,c;if(i.merge)l=new So(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){let d=[];for(let h of i.mergeFields){let f=vL(e,h,n);if(!o.contains(f))throw new Te(X.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Ij(d,f)||d.push(f)}l=new So(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new pL(new ro(a),l,c)}function gle(t,e,n,r){let s=t.ya(1,e,n);BL("Data must be an object, but it was:",s,r);let i=[],o=ro.empty();bh(r,(l,c)=>{let d=qL(e,l,n);c=Jn(c);let h=s.da(d);if(c instanceof cx)i.push(d);else{let f=ev(c,h);f!=null&&(i.push(d),o.set(d,f))}});let a=new So(i);return new lx(o,a,s.fieldTransforms)}function yle(t,e,n,r,s,i){let o=t.ya(1,e,n),a=[vL(e,r,n)],l=[s];if(i.length%2!=0)throw new Te(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(vL(e,i[f])),l.push(i[f+1]);let c=[],d=ro.empty();for(let f=a.length-1;f>=0;--f)if(!Ij(c,a[f])){let m=a[f],y=l[f];y=Jn(y);let w=o.da(m);if(y instanceof cx)c.push(m);else{let v=ev(y,w);v!=null&&(c.push(m),d.set(m,v))}}let h=new So(c);return new lx(d,h,o.fieldTransforms)}function vle(t,e,n,r=!1){return ev(n,t.ya(r?4:3,e))}function ev(t,e){if(Tj(t=Jn(t)))return BL("Unsupported field value:",e,t),_j(t,e);if(t instanceof $0)return function(n,r){if(!wj(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);let s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){let s=[],i=0;for(let o of n){let a=ev(o,r.wa(i));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),i++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=Jn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return sae(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){let s=ws.fromDate(n);return{timestampValue:KI(r.serializer,s)}}if(n instanceof ws){let s=new ws(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:KI(r.serializer,s)}}if(n instanceof K0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof G0)return{bytesValue:Kz(r.serializer,n._byteString)};if(n instanceof xi){let s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r._a(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:RL(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Tx(n)}`)}(t,e)}function _j(t,e){let n={};return xz(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bh(t,(r,s)=>{let i=ev(s,e.ha(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Tj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ws||t instanceof K0||t instanceof G0||t instanceof xi||t instanceof $0)}function BL(t,e,n){if(!Tj(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let r=Tx(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function vL(t,e,n){if((e=Jn(e))instanceof rp)return e._internalPath;if(typeof e=="string")return qL(t,e);throw ux("Field path arguments must be of type string or ",t,!1,void 0,n)}function qL(t,e,n){if(e.search(ble)>=0)throw ux(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rp(...e.split("."))._internalPath}catch{throw ux(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ux(t,e,n,r,s){let i=r&&!r.isEmpty(),o=s!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Te(X.INVALID_ARGUMENT,a+t+l)}function Ij(t,e){return t.some(n=>n.isEqual(e))}function zL(t,e){return typeof e=="string"?qL(t,e):e instanceof rp?e._internalPath:e._delegate._internalPath}function xj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function er(t,e,...n){let r=[];e instanceof W0&&r.push(e),r=r.concat(n),function(s){let i=s.filter(a=>a instanceof _L).length,o=s.filter(a=>a instanceof wL).length;if(i>1||i>0&&o>0)throw new Te(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let s of r)t=s._apply(t);return t}function $r(t,e="asc"){let n=e,r=zL("orderBy",t);return TL._create(r,n)}function Tz(t,e,n){if(typeof(n=Jn(n))=="string"){if(n==="")throw new Te(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rz(e)&&n.indexOf("/")!==-1)throw new Te(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Zn.fromString(n));if(!$e.isDocumentKey(r))throw new Te(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xq(t,new $e(r))}if(n instanceof xi)return Xq(t,n._key);throw new Te(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tx(n)}.`)}function Iz(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ej(t,e){if(e.isInequality()){let r=gx(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new Te(X.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);let i=CL(t);i!==null&&Sj(t,s,i)}let n=function(r,s){for(let i of r)for(let o of i.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Te(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Sj(t,e,n){if(!n.isEqual(e))throw new Te(X.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}function wle(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function _le(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}function Ei(t){t=rl(t,Mu);let e=rl(t.firestore,fc),n=VL(e),r=new Q0(e);return xj(t._query),dle(n,t._query).then(s=>new mx(e,r,t,s))}function Si(t,e,n,...r){t=rl(t,xi);let s=rl(t.firestore,fc),i=HL(s),o;return o=typeof(e=Jn(e))=="string"||e instanceof rp?yle(i,"updateDoc",t._key,e,n,r):gle(i,"updateDoc",t._key,e),jL(s,[o.toMutation(t._key,cc.exists(!0))])}function Ni(t){return jL(rl(t.firestore,fc),[new H0(t._key,cc.none())])}function ki(t,e){let n=rl(t.firestore,fc),r=cn(t),s=wle(t.converter,e);return jL(n,[ple(HL(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,cc.exists(!1))]).then(()=>r)}function Ai(t,...e){var n,r,s;t=Jn(t);let i={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||_z(e[o])||(i=e[o],o++);let a={includeMetadataChanges:i.includeMetadataChanges};if(_z(e[o])){let h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,c,d;if(t instanceof xi)c=rl(t.firestore,fc),d=DL(t._key.path),l={next:h=>{e[o]&&e[o](Tle(c,t,h))},error:e[o+1],complete:e[o+2]};else{let h=rl(t,Mu);c=rl(h.firestore,fc),d=h._query;let f=new Q0(c);l={next:m=>{e[o]&&e[o](new mx(c,f,h,m))},error:e[o+1],complete:e[o+2]},xj(t._query)}return function(h,f,m,y){let w=new ox(y),v=new nx(f,w,m);return h.asyncQueue.enqueueAndForget(async()=>lj(await fL(h),v)),()=>{w.Dc(),h.asyncQueue.enqueueAndForget(async()=>cj(await fL(h),v))}}(VL(c),d,a,l)}function jL(t,e){return function(n,r){let s=new el;return n.asyncQueue.enqueueAndForget(async()=>Zae(await ule(n),r,s)),s.promise}(VL(t),e)}function Tle(t,e,n){let r=n.docs.get(e._key),s=new Q0(t);return new fx(t,s,e._key,r,new hh(n.hasPendingWrites,n.fromCache),e.converter)}var Kq,us,sp,fh,X,Te,el,MI,jR,GR,$R,KR,WR,QR,YR,FI,ws,lt,UI,Zn,Uoe,No,$e,XR,mh,qoe,JR,me,M0,joe,Fve,Goe,$oe,Uve,gr,qm,tl,oi,VI,So,HI,ai,Koe,ZR,BI,CI,ro,Jo,Ym,Au,qI,Fr,Zo,r2,s2,i2,o2,a2,l2,c2,u2,Lu,Pu,Zoe,Oz,eae,tae,nae,Xm,Jm,gh,yh,Zm,p2,cc,ep,vh,il,H0,g2,y2,v2,b2,w2,Or,qt,_2,RI,hae,T2,dh,zI,B0,jm,jI,GI,$I,I2,fae,mae,pae,x2,q0,A2,WI,D2,C2,Vve,Za,z0,R2,L2,P2,O2,M2,j0,Mr,F2,U2,V2,H2,B2,q2,z2,j2,G2,$2,QI,W2,Q2,YI,LI,Fae,Y2,Vs,X2,XI,JI,J2,Z2,eL,tL,nL,rL,ex,tx,tp,sL,iL,nx,rx,sx,oL,aL,lL,cL,ix,dL,ox,hL,vz,ax,np,xi,Mu,Du,mL,fc,G0,rp,$0,K0,mle,pL,lx,gL,yL,cx,ble,dx,bL,W0,hx,wL,_L,TL,IL,hh,fx,Gm,mx,Q0,Nj=G(()=>{Jd();Dm();Ky();Iu();$q();Kq="@firebase/firestore";us=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};us.UNAUTHENTICATED=new us(null),us.GOOGLE_CREDENTIALS=new us("google-credentials-uid"),us.FIRST_PARTY=new us("first-party-uid"),us.MOCK_USER=new us("mock-user");sp="9.23.0";fh=new xu("@firebase/firestore");X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Te=class extends si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};el=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};MI=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},jR=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(us.UNAUTHENTICATED))}shutdown(){}},GR=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},$R=class{constructor(e){this.t=e,this.currentUser=us.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve(),i=new el;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new el,e.enqueueRetryable(()=>s(this.currentUser))};let o=()=>{let l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new el)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(On(typeof r.accessToken=="string"),new MI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return On(e===null||typeof e=="string"),new us(e)}},KR=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=us.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);let e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}},WR=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new KR(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(us.FIRST_PARTY))}shutdown(){}invalidateToken(){}},QR=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},YR=class{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){let r=i=>{i.error!=null&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);let o=i.token!==this.T;return this.T=i.token,Fe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};let s=i=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.I.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){let i=this.I.getImmediate({optional:!0});i?s(i):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(On(typeof n.token=="string"),this.T=n.token,new QR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};FI=class{static A(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let s=Foe(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}};ws=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Te(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xt(this.nanoseconds,e.nanoseconds):Xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};lt=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ws(0,0))}static max(){return new t(new ws(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};UI=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&tt(),r===void 0?r=e.length-n:r>e.length-n&&tt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let s=0;s<r;s++){let i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Zn=class t extends UI{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Te(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new t(n)}static emptyPath(){return new t([])}},Uoe=/^[_a-zA-Z][_a-zA-Z0-9]*$/,No=class t extends UI{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Uoe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",s=0,i=()=>{if(r.length===0)throw new Te(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;s<e.length;){let a=e[s];if(a==="\\"){if(s+1===e.length)throw new Te(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Te(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Te(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};$e=class t{constructor(e){this.path=e}static fromPath(e){return new t(Zn.fromString(e))}static fromName(e){return new t(Zn.fromString(e).popFirst(5))}static empty(){return new t(Zn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Zn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Zn(e.slice()))}};XR=class{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}};XR.UNKNOWN_ID=-1;mh=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(lt.min(),$e.empty(),-1)}static max(){return new t(lt.max(),$e.empty(),-1)}};qoe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",JR=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};me=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(s=>s?t.resolve(s):r());return n}static forEach(e,n){let r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new t((r,s)=>{let i=e.length,o=new Array(i),a=0;for(let l=0;l<i;l++){let c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new t((r,s)=>{let i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}};M0=class{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ut&&this.ut(e),e}};M0.ct=-1;joe=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Fve=[...joe,"documentOverlays"],Goe=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$oe=Goe,Uve=[...$oe,"indexConfiguration","indexState","indexEntries"];gr=class t{constructor(e,n){this.comparator=e,this.root=n||tl.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tl.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tl.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qm(this.root,e,this.comparator,!1)}getReverseIterator(){return new qm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qm(this.root,e,this.comparator,!0)}},qm=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},tl=class t{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??t.RED,this.left=s??t.EMPTY,this.right=i??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new t(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this,i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();let e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}};tl.EMPTY=null,tl.RED=!0,tl.BLACK=!1;tl.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(t,e,n,r,s){return this}insert(t,e,n){return new tl(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};oi=class t{constructor(e){this.comparator=e,this.data=new gr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VI(this.data.getIterator())}getIteratorFrom(e){return new VI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},VI=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};So=class t{constructor(e){this.fields=e,e.sort(No.comparator)}static empty(){return new t([])}unionWith(e){let n=new oi(No.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Km(this.fields,e.fields,(n,r)=>n.isEqual(r))}};HI=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};ai=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new HI("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){let n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ai.EMPTY_BYTE_STRING=new ai("");Koe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);ZR=class{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}},BI=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};CI={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};ro=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!PI(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=L0(n)}setAll(e){let n=No.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=L0(o):s.push(a.lastSegment())});let i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){let n=this.field(e.popLast());PI(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return sl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];PI(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){bh(n,(s,i)=>e[s]=i);for(let s of r)delete e[s]}clone(){return new t(L0(this.value))}};Jo=class t{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,lt.min(),lt.min(),lt.min(),ro.empty(),0)}static newFoundDocument(e,n,r,s){return new t(e,1,n,lt.min(),r,s,0)}static newNoDocument(e,n){return new t(e,2,n,lt.min(),lt.min(),ro.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,lt.min(),lt.min(),ro.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ro.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ro.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};Ym=class{constructor(e,n){this.position=e,this.inclusive=n}};Au=class{constructor(e,n="asc"){this.field=e,this.dir=n}};qI=class{},Fr=class t extends qI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new r2(e,n,r):n==="array-contains"?new o2(e,r):n==="in"?new a2(e,r):n==="not-in"?new l2(e,r):n==="array-contains-any"?new c2(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new s2(e,r):new i2(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wm(n,this.value)):n!==null&&ph(this.value)===ph(n)&&this.matchesComparison(Wm(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}},Zo=class t extends qI{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new t(e,n)}matches(e){return Nz(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){let e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(let n of this.getFlattenedFilters())if(e(n))return n;return null}};r2=class extends Fr{constructor(e,n,r){super(e,n,r),this.key=$e.fromName(r.referenceValue)}matches(e){let n=$e.comparator(e.key,this.key);return this.matchesComparison(n)}},s2=class extends Fr{constructor(e,n){super(e,"in",n),this.keys=Cz("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},i2=class extends Fr{constructor(e,n){super(e,"not-in",n),this.keys=Cz("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};o2=class extends Fr{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return NL(n)&&V0(n.arrayValue,this.value)}},a2=class extends Fr{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&V0(this.value.arrayValue,n)}},l2=class extends Fr{constructor(e,n){super(e,"not-in",n)}matches(e){if(V0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!V0(this.value.arrayValue,n)}},c2=class extends Fr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!NL(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>V0(this.value.arrayValue,r))}};u2=class{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}};Lu=class{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}};Pu=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){bh(this.inner,(n,r)=>{for(let[s,i]of r)e(s,i)})}isEmpty(){return xz(this.inner)}size(){return this.innerSize}};Zoe=new gr($e.comparator);Oz=new gr($e.comparator);eae=new gr($e.comparator),tae=new oi($e.comparator);nae=new oi(Xt);Xm=class{constructor(){this._=void 0}};Jm=class extends Xm{},gh=class extends Xm{constructor(e){super(),this.elements=e}};yh=class extends Xm{constructor(e){super(),this.elements=e}};Zm=class extends Xm{constructor(e,n){super(),this.serializer=e,this.gt=n}};p2=class{constructor(e,n){this.version=e,this.transformResults=n}},cc=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};ep=class{};vh=class extends ep{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}},il=class extends ep{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}};H0=class extends ep{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},g2=class extends ep{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};y2=class{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){let i=this.mutations[s];i.key.isEqual(e.key)&&lae(i,e,r[s])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=O0(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=O0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Fz();return this.mutations.forEach(s=>{let i=e.get(s.key),o=i.overlayedDocument,a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;let l=jz(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(lt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),At())}isEqual(e){return this.batchId===e.batchId&&Km(this.mutations,e.mutations,(n,r)=>iz(n,r))&&Km(this.baseMutations,e.baseMutations,(n,r)=>iz(n,r))}},v2=class t{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){On(e.mutations.length===r.length);let s=eae,i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new t(e,n,r,s)}};b2=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};w2=class{constructor(e,n){this.count=e,this.unchangedNames=n}};(qt=Or||(Or={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";_2=class t{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return RI}static getOrCreateInstance(){return RI===null&&(RI=new t),RI}onExistenceFilterMismatch(e){let n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}},RI=null;hae=new ch([4294967295,4294967295],0);T2=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new dh(`Invalid padding: ${n}`);if(r<0)throw new dh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new dh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new dh(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ch.fromNumber(this.It)}Et(e,n,r){let s=e.add(n.multiply(ch.fromNumber(r)));return s.compare(hae)===1&&(s=new ch([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;let n=lz(e),[r,s]=cz(n);for(let i=0;i<this.hashCount;i++){let o=this.Et(r,s,i);if(!this.At(o))return!1}return!0}static create(e,n,r){let s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new t(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;let n=lz(e),[r,s]=cz(n);for(let i=0;i<this.hashCount;i++){let o=this.Et(r,s,i);this.Rt(o)}}Rt(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},dh=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};zI=class t{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let s=new Map;return s.set(e,B0.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(lt.min(),s,new gr(Xt),hc(),At())}},B0=class t{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,At(),At(),At())}};jm=class{constructor(e,n,r,s){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=s}},jI=class{constructor(e,n){this.targetId=e,this.Vt=n}},GI=class{constructor(e,n,r=ai.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}},$I=class{constructor(){this.St=0,this.Dt=dz(),this.Ct=ai.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=At(),n=At(),r=At();return this.Dt.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:tt()}}),new B0(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=dz()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}},I2=class{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=hc(),this.zt=uz(),this.Wt=new gr(Xt)}Ht(e){for(let n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(let n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{let r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:tt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,s)=>{this.te(s)&&n(s)})}ne(e){var n;let r=e.targetId,s=e.Vt.count,i=this.se(r);if(i){let o=i.target;if(d2(o))if(s===0){let a=new $e(o.path);this.Yt(r,a,Jo.newNoDocument(a,lt.min()))}else On(s===1);else{let a=this.ie(r);if(a!==s){let l=this.re(e,a);if(l!==0){this.ee(r);let c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,c)}(n=_2.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,d,h){var f,m,y,w,v,g;let b={localCacheCount:d,existenceFilterCount:h.count},I=h.unchangedNames;return I&&(b.bloomFilter={applied:c===0,hashCount:(f=I?.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(w=(y=(m=I?.bits)===null||m===void 0?void 0:m.bitmap)===null||y===void 0?void 0:y.length)!==null&&w!==void 0?w:0,padding:(g=(v=I?.bits)===null||v===void 0?void 0:v.padding)!==null&&g!==void 0?g:0}),b}(l,a,e.Vt))}}}}re(e,n){let{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;let{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=r,l,c;try{l=Ru(i).toUint8Array()}catch(d){if(d instanceof HI)return $m("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw d}try{c=new T2(l,o,a)}catch(d){return $m(d instanceof dh?"BloomFilter error: ":"Applying bloom filter failed: ",d),1}return c.It===0?1:s!==n-this.oe(e.targetId,c)?2:0}oe(e,n){let r=this.Gt.getRemoteKeysForTarget(e),s=0;return r.forEach(i=>{let o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;n.vt(a)||(this.Yt(e,i,null),s++)}),s}ce(e){let n=new Map;this.Qt.forEach((i,o)=>{let a=this.se(o);if(a){if(i.current&&d2(a.target)){let l=new $e(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,Jo.newNoDocument(l,e))}i.Mt&&(n.set(o,i.Ot()),i.Ft())}});let r=At();this.zt.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{let c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.jt.forEach((i,o)=>o.setReadTime(e));let s=new zI(e,n,this.Wt,this.jt,r);return this.jt=hc(),this.zt=uz(),this.Wt=new gr(Xt),s}Jt(e,n){if(!this.te(e))return;let r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;let s=this.Zt(e);this.ae(e,n)?s.Bt(n,1):s.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){let n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new $I,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new oi(Xt),this.zt=this.zt.insert(e,n)),n}te(e){let n=this.se(e)!==null;return n||Fe("WatchChangeAggregator","Detected inactive target",e),n}se(e){let n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new $I),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}};fae={asc:"ASCENDING",desc:"DESCENDING"},mae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pae={and:"AND",or:"OR"},x2=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};q0=class t{constructor(e,n,r,s,i=lt.min(),o=lt.min(),a=ai.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};A2=class{constructor(e){this.fe=e}};WI=class{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(pr(e.integerValue));else if("doubleValue"in e){let r=pr(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),F0(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ye(n,20),typeof r=="string"?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Ru(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?Ez(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):tt()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){let r=e.fields||{};this.ye(n,55);for(let s of Object.keys(r))this.Te(s,n),this.me(r[s],n)}Pe(e,n){let r=e.values||[];this.ye(n,50);for(let s of r)this.me(s,n)}ve(e,n){this.ye(n,37),$e.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}};WI.Ve=new WI;D2=class{constructor(){this.rn=new C2}addToCollectionParentIndex(e,n){return this.rn.add(n),me.resolve()}getCollectionParents(e,n){return me.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return me.resolve()}deleteFieldIndex(e,n){return me.resolve()}getDocumentsMatchingTarget(e,n){return me.resolve(null)}getIndexType(e,n){return me.resolve(0)}getFieldIndexes(e,n){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,n){return me.resolve(mh.min())}getMinOffsetFromCollectionGroup(e,n){return me.resolve(mh.min())}updateCollectionGroup(e,n,r){return me.resolve()}updateIndexEntries(e,n){return me.resolve()}},C2=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new oi(Zn.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){let n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new oi(Zn.comparator)).toArray()}};Vve=new Uint8Array(0);Za=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Za.DEFAULT_COLLECTION_PERCENTILE=10,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Za.DEFAULT=new Za(41943040,Za.DEFAULT_COLLECTION_PERCENTILE,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Za.DISABLED=new Za(-1,0,0);z0=class t{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new t(0)}static Mn(){return new t(-1)}};R2=class{constructor(){this.changes=new Pu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jo.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?me.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};L2=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};P2=class{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&O0(r.mutation,s,So.empty(),ws.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,At()).next(()=>r))}getLocalViewOfDocuments(e,n,r=At()){let s=uh();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=R0();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=uh();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,At()))}populateOverlays(e,n,r){let s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=hc(),o=P0(),a=P0();return n.forEach((l,c)=>{let d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof il)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),O0(d.mutation,c,d.mutation.getFieldMask(),ws.now())):o.set(c.key,So.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new L2(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){let r=P0(),s=new gr((o,a)=>o-a),i=At();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(l=>{let c=n.get(l);if(c===null)return;let d=r.get(l)||So.empty();d=a.applyToLocalView(c,d),r.set(l,d);let h=(s.get(a.batchId)||At()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{let o=[],a=s.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),c=l.key,d=l.value,h=Fz();d.forEach(f=>{if(!i.has(f)){let m=jz(n.get(f),r.get(f));m!==null&&h.set(f,m),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return me.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return $e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Rz(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{let o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):me.resolve(uh()),a=-1,l=i;return o.next(c=>me.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?me.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,At())).next(d=>({batchId:a,changes:Mz(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $e(n)).next(r=>{let s=R0();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){let s=n.collectionGroup,i=R0();return this.indexManager.getCollectionParents(e,s).next(o=>me.forEach(o,a=>{let l=function(c,d){return new Lu(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((d,h)=>{i=i.insert(d,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(i=>{s.forEach((a,l)=>{let c=l.getKey();i.get(c)===null&&(i=i.insert(c,Jo.newInvalidDocument(c)))});let o=R0();return i.forEach((a,l)=>{let c=s.get(a);c!==void 0&&O0(c.mutation,l,So.empty(),ws.now()),vx(n,l)&&(o=o.insert(a,l))}),o})}};O2=class{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return me.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:nl(r.createTime)}),me.resolve()}getNamedQuery(e,n){return me.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:Aae(r.bundledQuery),readTime:nl(r.readTime)}}(n)),me.resolve()}};M2=class{constructor(){this.overlays=new gr($e.comparator),this.ls=new Map}getOverlay(e,n){return me.resolve(this.overlays.get(n))}getOverlays(e,n){let r=uh();return me.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.we(e,n,i)}),me.resolve()}removeOverlaysForBatchId(e,n,r){let s=this.ls.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.ls.delete(r)),me.resolve()}getOverlaysForCollection(e,n,r){let s=uh(),i=n.length+1,o=new $e(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return me.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new gr((c,d)=>c-d),o=this.overlays.getIterator();for(;o.hasNext();){let c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=uh(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}let a=uh(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return me.resolve(a)}we(e,n,r){let s=this.overlays.get(r.key);if(s!==null){let o=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new b2(n,r));let i=this.ls.get(n);i===void 0&&(i=At(),this.ls.set(n,i)),this.ls.set(n,i.add(r.key))}};j0=class{constructor(){this.fs=new oi(Mr.ds),this.ws=new oi(Mr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){let r=new Mr(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Mr(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){let n=new $e(new Zn([])),r=new Mr(n,e),s=new Mr(n,e+1),i=[];return this.ws.forEachInRange([r,s],o=>{this.ys(o),i.push(o.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){let n=new $e(new Zn([])),r=new Mr(n,e),s=new Mr(n,e+1),i=At();return this.ws.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){let n=new Mr(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Mr=class{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return $e.comparator(e.key,n.key)||Xt(e.As,n.As)}static _s(e,n){return Xt(e.As,n.As)||$e.comparator(e.key,n.key)}};F2=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new oi(Mr.ds)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){let i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new y2(i,n,r,s);this.mutationQueue.push(o);for(let a of s)this.Rs=this.Rs.add(new Mr(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return me.resolve(o)}lookupMutationBatch(e,n){return me.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,s=this.bs(r),i=s<0?0:s;return me.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Mr(n,0),s=new Mr(n,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([r,s],o=>{let a=this.Ps(o.As);i.push(a)}),me.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new oi(Xt);return n.forEach(s=>{let i=new Mr(s,0),o=new Mr(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([i,o],a=>{r=r.add(a.As)})}),me.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,s=r.length+1,i=r;$e.isDocumentKey(i)||(i=i.child(""));let o=new Mr(new $e(i),0),a=new oi(Xt);return this.Rs.forEachWhile(l=>{let c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.As)),!0)},o),me.resolve(this.Vs(a))}Vs(e){let n=[];return e.forEach(r=>{let s=this.Ps(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){On(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return me.forEach(n.mutations,s=>{let i=new Mr(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){let r=new Mr(n,0),s=this.Rs.firstAfterOrEqual(r);return me.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){let n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};U2=class{constructor(e){this.Ds=e,this.docs=new gr($e.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return me.resolve(r?r.document.mutableCopy():Jo.newInvalidDocument(n))}getEntries(e,n){let r=hc();return n.forEach(s=>{let i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Jo.newInvalidDocument(s))}),me.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=hc(),o=n.path,a=new $e(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Boe(Hoe(d),r)<=0||(s.has(d.key)||vx(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return me.resolve(i)}getAllFromCollectionGroup(e,n,r,s){tt()}Cs(e,n){return me.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new V2(this)}getSize(e){return me.resolve(this.size)}},V2=class extends R2{constructor(e){super(),this.os=e}applyChanges(e){let n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),me.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}};H2=class{constructor(e){this.persistence=e,this.xs=new Pu(n=>kL(n),AL),this.lastRemoteSnapshotVersion=lt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new j0,this.targetCount=0,this.Ms=z0.kn()}forEachTarget(e,n){return this.xs.forEach((r,s)=>n(s)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),me.resolve()}Fn(e){this.xs.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Ms=new z0(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,me.resolve()}updateTargetData(e,n){return this.Fn(n),me.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,n,r){let s=0,i=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),me.waitFor(i).next(()=>s)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,n){let r=this.xs.get(n)||null;return me.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),me.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);let s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),me.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),me.resolve()}getMatchingKeysForTargetId(e,n){let r=this.ks.Es(n);return me.resolve(r)}containsKey(e,n){return me.resolve(this.ks.containsKey(n))}};B2=class{constructor(e,n){this.$s={},this.overlays={},this.Os=new M0(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new H2(this),this.indexManager=new D2,this.remoteDocumentCache=function(r){return new U2(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new A2(n),this.qs=new O2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new M2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new F2(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){Fe("MemoryPersistence","Starting transaction:",e);let s=new q2(this.Os.next());return this.referenceDelegate.Us(),r(s).next(i=>this.referenceDelegate.Ks(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gs(e,n){return me.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}},q2=class extends JR{constructor(e){super(),this.currentSequenceNumber=e}},z2=class t{constructor(e){this.persistence=e,this.Qs=new j0,this.js=null}static zs(e){return new t(e)}get Ws(){if(this.js)return this.js;throw tt()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),me.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),me.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(s=>this.Ws.add(s.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Ws.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Ws,r=>{let s=$e.fromPath(r);return this.Hs(e,s).next(i=>{i||n.removeEntry(s,lt.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return me.or([()=>me.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}};j2=class t{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=s}static Li(e,n){let r=At(),s=At();for(let i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new t(e,n.fromCache,r,s)}};G2=class{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ki(e,n).next(i=>i||this.Gi(e,n,s,r)).next(i=>i||this.Qi(e,n))}Ki(e,n){if(rz(n))return me.resolve(null);let r=dc(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=f2(n,null,"F"),r=dc(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{let o=At(...i);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let c=this.ji(n,a);return this.zi(n,c,o,l.readTime)?this.Ki(e,f2(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,r,s){return rz(n)||s.isEqual(lt.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(i=>{let o=this.ji(n,i);return this.zi(n,o,r,s)?this.Qi(e,n):(Wq()<=Bt.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),m2(n)),this.Wi(e,o,n,Voe(s,-1)))})}ji(e,n){let r=new oi(Pz(e));return n.forEach((s,i)=>{vx(e,i)&&(r=r.add(i))}),r}zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Qi(e,n){return Wq()<=Bt.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",m2(n)),this.Ui.getDocumentsMatchingQuery(e,n,mh.min())}Wi(e,n,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}};$2=class{constructor(e,n,r,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new gr(Xt),this.Yi=new Pu(i=>kL(i),AL),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new P2(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}};QI=class{constructor(){this.activeTargetIds=rae()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},W2=class{constructor(){this.Hr=new QI,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new QI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};Q2=class{Yr(e){}shutdown(){}};YI=class{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.so)e(0)}no(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};LI=null;Fae={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};Y2=class{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}};Vs="WebChannelConnection",X2=class extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,s,i){let o=BR(),a=this.To(e,n);Fe("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);let l={};return this.Eo(l,s,i),this.Ao(e,a,l,r).then(c=>(Fe("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw $m("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,s,i,o){return this.Io(e,n,r,s,i)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+sp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}To(e,n){let r=Fae[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,s){let i=BR();return new Promise((o,a)=>{let l=new jq;l.setWithCredentials(!0),l.listenOnce(Bq.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case DI.NO_ERROR:let d=l.getResponseJson();Fe(Vs,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case DI.TIMEOUT:Fe(Vs,`RPC '${e}' ${i} timed out`),a(new Te(X.DEADLINE_EXCEEDED,"Request time out"));break;case DI.HTTP_ERROR:let h=l.getStatus();if(Fe(Vs,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);let m=f?.error;if(m&&m.status&&m.message){let y=function(w){let v=w.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(v)>=0?v:X.UNKNOWN}(m.status);a(new Te(y,m.message))}else a(new Te(X.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Te(X.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{Fe(Vs,`RPC '${e}' ${i} completed.`)}});let c=JSON.stringify(s);Fe(Vs,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Ro(e,n,r){let s=BR(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Vq(),a=Hq(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new zq({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;let d=i.join("");Fe(Vs,`Creating RPC '${e}' stream ${s}: ${d}`,l);let h=o.createWebChannel(d,l),f=!1,m=!1,y=new Y2({ro:v=>{m?Fe(Vs,`Not sending because RPC '${e}' stream ${s} is closed:`,v):(f||(Fe(Vs,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),Fe(Vs,`RPC '${e}' stream ${s} sending:`,v),h.send(v))},oo:()=>h.close()}),w=(v,g,b)=>{v.listen(g,I=>{try{b(I)}catch(k){setTimeout(()=>{throw k},0)}})};return w(h,C0.EventType.OPEN,()=>{m||Fe(Vs,`RPC '${e}' stream ${s} transport opened.`)}),w(h,C0.EventType.CLOSE,()=>{m||(m=!0,Fe(Vs,`RPC '${e}' stream ${s} transport closed`),y.wo())}),w(h,C0.EventType.ERROR,v=>{m||(m=!0,$m(Vs,`RPC '${e}' stream ${s} transport errored:`,v),y.wo(new Te(X.UNAVAILABLE,"The operation could not be completed")))}),w(h,C0.EventType.MESSAGE,v=>{var g;if(!m){let b=v.data[0];On(!!b);let I=b,k=I.error||((g=I[0])===null||g===void 0?void 0:g.error);if(k){Fe(Vs,`RPC '${e}' stream ${s} received error:`,k);let R=k.status,F=function(E){let x=Or[E];if(x!==void 0)return $z(x)}(R),S=k.message;F===void 0&&(F=X.INTERNAL,S="Unknown error status: "+R+" with message "+k.message),m=!0,y.wo(new Te(F,S)),h.close()}else Fe(Vs,`RPC '${e}' stream ${s} received:`,b),y._o(b)}}),w(a,qq.STAT_EVENT,v=>{v.stat===VR.PROXY?Fe(Vs,`RPC '${e}' stream ${s} detected buffering proxy`):v.stat===VR.NOPROXY&&Fe(Vs,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.fo()},0),y}};XI=class{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=s,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();let n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,n-r);s>0&&Fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}};JI=class{constructor(e,n,r,s,i,o,a,l){this.ii=e,this.$o=r,this.Oo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new XI(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(uc(n.toString()),uc("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;let e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===n&&this.Zo(r,s)},r=>{e(()=>{let s=new Te(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,n){let r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},J2=class extends JI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();let n=vae(this.serializer,e),r=function(s){if(!("targetChange"in s))return lt.min();let i=s.targetChange;return i.targetIds&&i.targetIds.length?lt.min():i.readTime?nl(i.readTime):lt.min()}(e);return this.listener.nu(n,r)}su(e){let n={};n.database=k2(this.serializer),n.addTarget=function(s,i){let o,a=i.target;if(o=d2(a)?{documents:_ae(s,a)}:{query:Tae(s,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=Kz(s,i.resumeToken);let l=E2(s,i.expectedCount);l!==null&&(o.expectedCount=l)}else if(i.snapshotVersion.compareTo(lt.min())>0){o.readTime=KI(s,i.snapshotVersion.toTimestamp());let l=E2(s,i.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);let r=xae(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){let n={};n.database=k2(this.serializer),n.removeTarget=e,this.Wo(n)}},Z2=class extends JI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(On(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();let n=wae(e.writeResults,e.commitTime),r=nl(e.commitTime);return this.listener.cu(r,n)}return On(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){let e={};e.database=k2(this.serializer),this.Wo(e)}uu(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>bae(this.serializer,r))};this.Wo(n)}};eL=class extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new Te(X.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Io(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Te(X.UNKNOWN,s.toString())})}vo(e,n,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.vo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Te(X.UNKNOWN,i.toString())})}terminate(){this.lu=!0}},tL=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(uc(n),this.mu=!1):Fe("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}};nL=class{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{wh(this)&&(Fe("RemoteStore","Restarting streams for network reachability change."),await async function(a){let l=ct(a);l.vu.add(4),await J0(l),l.bu.set("Unknown"),l.vu.delete(4),await wx(l)}(this))})}),this.bu=new tL(r,s)}};rL=class t{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new el,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,s,i){let o=Date.now()+r,a=new t(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};ex=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||$e.comparator(n.key,r.key):(n,r)=>$e.comparator(n.key,r.key),this.keyedMap=R0(),this.sortedSet=new gr(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};tx=class{constructor(){this.Cu=new gr($e.comparator)}track(e){let n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):tt():this.Cu=this.Cu.insert(n,e)}xu(){let e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}},tp=class t{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,ex.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}};sL=class{constructor(){this.Nu=void 0,this.listeners=[]}},iL=class{constructor(){this.queries=new Pu(e=>Lz(e),yx),this.onlineState="Unknown",this.ku=new Set}};nx=class{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){let r=[];for(let s of e.docChanges)s.type!==3&&r.push(s);e=new tp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;let n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=tp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}};rx=class{constructor(e){this.key=e}},sx=class{constructor(e){this.key=e}},oL=class{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=At(),this.mutatedKeys=At(),this.tc=Pz(e),this.ec=new ex(this.tc)}get nc(){return this.Yu}sc(e,n){let r=n?n.ic:new tx,s=n?n.ec:this.ec,i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1,l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{let f=s.get(d),m=vx(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),v=!1;f&&m?f.data.isEqual(m.data)?y!==w&&(r.track({type:3,doc:m}),v=!0):this.rc(f,m)||(r.track({type:2,doc:m}),v=!0,(l&&this.tc(m,l)>0||c&&this.tc(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),v=!0):f&&!m&&(r.track({type:1,doc:f}),v=!0,(l||c)&&(a=!0)),v&&(m?(o=o.add(m),i=w?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{ec:o,ic:r,zi:a,mutatedKeys:i}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){let s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;let i=e.ic.xu();i.sort((c,d)=>function(h,f){let m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return m(h)-m(f)}(c.type,d.type)||this.tc(c.doc,d.doc)),this.oc(r);let o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,i.length!==0||l?{snapshot:new tp(this.query,e.ec,s,i,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new tx,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];let e=this.Zu;this.Zu=At(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});let n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new sx(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new rx(r))}),n}hc(e){this.Yu=e.ir,this.Zu=At();let n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return tp.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}},aL=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},lL=class{constructor(e){this.key=e,this.fc=!1}},cL=class{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Pu(a=>Lz(a),yx),this._c=new Map,this.mc=new Set,this.gc=new gr($e.comparator),this.yc=new Map,this.Ic=new j0,this.Tc={},this.Ec=new Map,this.Ac=z0.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}};ix=class{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=bx(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Dae(this.persistence,new G2,e.initialUser,this.serializer)}createPersistence(e){return new B2(z2.zs,this.serializer)}createSharedClientState(e){return new W2}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}},dL=class{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pz(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sle.bind(null,this.syncEngine),await Kae(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new iL}createDatastore(e){let n=bx(e.databaseInfo.databaseId),r=(s=e.databaseInfo,new X2(s));var s;return function(i,o,a,l){return new eL(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,i=a=>pz(this.syncEngine,a,0),o=YI.D()?new YI:new Q2,new nL(n,r,s,i,o);var n,r,s,i,o}createSyncEngine(e,n){return function(r,s,i,o,a,l,c){let d=new cL(r,s,i,o,a,l);return c&&(d.vc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){let n=ct(e);Fe("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await J0(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}};ox=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):uc("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};hL=class{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=us.UNAUTHENTICATED,this.clientId=FI.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{Fe("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(Fe("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Te(X.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new el;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=ML(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};vz=new Map;ax=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Te(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hle("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pj((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Te(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Te(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Te(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}},np=class{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ax({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Te(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Te(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ax(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new jR;switch(n.type){case"firstParty":return new WR(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Te(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let n=vz.get(e);n&&(Fe("ComponentProvider","Removing Datastore"),vz.delete(e),n.terminate())}(this),Promise.resolve()}};xi=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Du(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Mu=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Du=class t extends Mu{constructor(e,n,r){super(e,n,DL(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new xi(this.firestore,null,new $e(e))}withConverter(e){return new t(this.firestore,e,this._path)}};mL=class{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new XI(this,"async_queue_retry"),this.Xc=()=>{let n=qR();n&&Fe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};let e=qR();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;let n=qR();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});let n=new el;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!X0(e))throw e;Fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){let n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;let s=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(r);throw uc("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);let s=rL.createAndSchedule(this,e,n,r,i=>this.na(i));return this.zc.push(s),s}Zc(){this.Wc&&tt()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(let n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){let n=this.zc.indexOf(e);this.zc.splice(n,1)}};fc=class extends np{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new mL,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||bj(this),this._firestoreClient.terminate()}};G0=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ai.fromBase64String(e))}catch(n){throw new Te(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};rp=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new No(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};$0=class{constructor(e){this._methodName=e}};K0=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xt(this._lat,e._lat)||Xt(this._long,e._long)}};mle=/^__.*__$/,pL=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new il(e,this.data,this.fieldMask,n,this.fieldTransforms):new vh(e,this.data,n,this.fieldTransforms)}},lx=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new il(e,this.data,this.fieldMask,n,this.fieldTransforms)}};gL=class t{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return ux(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(wj(this.ca)&&mle.test(e))throw this._a('Document fields cannot begin and end with "__"')}},yL=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bx(e)}ya(e,n,r,s=!1){return new gL({ca:e,methodName:n,ga:r,path:No.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};cx=class t extends $0{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};ble=new RegExp("[~\\*/\\[\\]]");dx=class{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new xi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new bL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(zL("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},bL=class extends dx{data(){return super.data()}};W0=class{},hx=class extends W0{};wL=class t extends hx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return Ej(e._query,n),new Mu(e.firestore,e.converter,h2(e._query,n))}_parse(e){let n=HL(e.firestore);return function(s,i,o,a,l,c,d){let h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Te(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Iz(d,c);let f=[];for(let m of d)f.push(Tz(a,s,m));h={arrayValue:{values:f}}}else h=Tz(a,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Iz(d,c),h=vle(o,i,d,c==="in"||c==="not-in");return Fr.create(l,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}},_L=class t extends W0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Zo.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let i=r,o=s.getFlattenedFilters();for(let a of o)Ej(i,a),i=h2(i,a)}(e._query,n),new Mu(e.firestore,e.converter,h2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}},TL=class t extends hx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(r,s,i){if(r.startAt!==null)throw new Te(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Te(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");let o=new Au(s,i);return function(a,l){if(CL(a)===null){let c=gx(a);c!==null&&Sj(a,c,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new Mu(e.firestore,e.converter,function(r,s){let i=r.explicitOrderBy.concat([s]);return new Lu(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};IL=class{convertValue(e,n="none"){switch(ph(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ru(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw tt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return bh(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new K0(pr(e.latitude),pr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=SL(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(U0(e));default:return null}}convertTimestamp(e){let n=Cu(e);return new ws(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Zn.fromString(e);On(Jz(r));let s=new BI(r.get(1),r.get(3)),i=new $e(r.popFirst(5));return s.isEqual(n)||uc(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}};hh=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},fx=class extends dx{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Gm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(zL("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Gm=class extends fx{data(e={}){return super.data(e)}},mx=class{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new hh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gm(this._firestore,this._userDataWriter,r.key,r,new hh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map(o=>{let a=new Gm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new hh(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{let a=new Gm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new hh(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,c=-1;return o.type!==0&&(l=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),c=i.indexOf(o.doc.key)),{type:_le(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};Q0=class extends IL{constructor(e){super(),this.firestore=e}convertBytes(e){return new G0(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new xi(this.firestore,null,n)}};(function(t,e=!0){(function(n){sp=n})($a),Ga(new _i("firestore",(n,{instanceIdentifier:r,options:s})=>{let i=n.getProvider("app").getImmediate(),o=new fc(new $R(n.getProvider("auth-internal")),new YR(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Te(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new BI(a.options.projectId,l)}(i,r),i);return s=Object.assign({useFetchStreams:e},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Ti(Kq,"3.13.0",t),Ti(Kq,"3.13.0","esm2017")})()});var Ix=G(()=>{Nj()});var Ile,xle,kj=G(()=>{Jd();Jd();Ile="firebase",xle="9.23.0";Ti(Ile,xle,"app")});function GL(t){return"storage/"+t}function kle(){let t="An unknown error occurred, please check the error payload for server response.";return new ol(al.UNKNOWN,t)}function Ale(){return new ol(al.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Dle(){return new ol(al.CANCELED,"User canceled the upload/download.")}function Cle(t){return new ol(al.INVALID_URL,"Invalid URL '"+t+"'.")}function Rle(t){return new ol(al.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Aj(t){return new ol(al.INVALID_ARGUMENT,t)}function Oj(){return new ol(al.APP_DELETED,"The Firebase app was deleted.")}function Lle(t){return new ol(al.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ple(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...v){c||(c=!0,e.apply(null,v))}function h(v){s=setTimeout(()=>{s=null,t(m,l())},v)}function f(){i&&clearTimeout(i)}function m(v,...g){if(c){f();return}if(v){f(),d.call(null,v,...g);return}if(l()||o){f(),d.call(null,v,...g);return}r<64&&(r*=2);let I;a===1?(a=2,I=0):I=(r+Math.random())*1e3,h(I)}let y=!1;function w(v){y||(y=!0,f(),!c&&(s!==null?(v||(a=2),clearTimeout(s),h(0)):v||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,w(!0)},n),w}function Ole(t){t(!1)}function Mle(t){return t!==void 0}function Dj(t,e,n,r){if(r<e)throw Aj(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Aj(`Invalid value for '${t}'. Expected ${n} or less.`)}function Fle(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}function Ule(t,e){let n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}function Vle(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Hle(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ble(t,e){e&&(t["X-Firebase-GMPID"]=e)}function qle(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function zle(t,e,n,r,s,i,o=!0){let a=Fle(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Ble(c,e),Vle(c,n),Hle(c,i),qle(c,r),new KL(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}function jle(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Gle(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function Cj(t,e){let n=e?.[Ele];return n==null?null:mc.makeFromBucketSpec(n,t)}function $le(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:vT(s,t.app.options.projectId))}function Fj(t=Cm(),e){t=Jn(t);let r=Xd(t,Mj).getImmediate({identifier:e}),s=yT("storage");return s&&Kle(r,...s),r}function Kle(t,e,n,r={}){$le(t,e,n,r)}function Wle(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new QL(n,r,s,e,$a)}function Qle(){Ga(new _i(Mj,Wle,"PUBLIC").setMultipleInstances(!0)),Ti(Rj,Lj,""),Ti(Rj,Lj,"esm2017")}var Pj,Ele,Sle,Nle,ol,al,mc,$L,xx,KL,op,Zve,WL,QL,Rj,Lj,Mj,Uj=G(()=>{Jd();Iu();Dm();Pj="firebasestorage.googleapis.com",Ele="storageBucket",Sle=2*60*1e3,Nle=10*60*1e3;ol=class t extends si{constructor(e,n,r=0){super(GL(e),`Firebase Storage: ${n} (${GL(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return GL(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}};(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(al||(al={}));mc=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw Rle(e)}static makeFromUrl(e,n){let r=null,s="([A-Za-z0-9.\\-_]+)";function i(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(k){k.path_=decodeURIComponent(k.path)}let d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${s}/o${f}`,"i"),y={bucket:1,path:3},w=n===Pj?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",g=new RegExp(`^https?://${w}/${s}/${v}`,"i"),I=[{regex:a,indices:l,postModify:i},{regex:m,indices:y,postModify:c},{regex:g,indices:{bucket:1,path:2},postModify:c}];for(let k=0;k<I.length;k++){let R=I[k],F=R.regex.exec(e);if(F){let S=F[R.indices.bucket],E=F[R.indices.path];E||(E=""),r=new t(S,E),R.postModify(r);break}}if(r==null)throw Cle(e);return r}},$L=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(xx||(xx={}));KL=class{constructor(e,n,r,s,i,o,a,l,c,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,y)=>{this.resolve_=m,this.reject_=y,this.start_()})}start_(){let e=(r,s)=>{if(s){r(!1,new op(!1,null,!0));return}let i=this.connectionFactory_();this.pendingConnection_=i;let o=a=>{let l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;let a=i.getErrorCode()===xx.NO_ERROR,l=i.getStatus();if(!a||Ule(l,this.additionalRetryCodes_)&&this.retry){let d=i.getErrorCode()===xx.ABORT;r(!1,new op(!1,null,d));return}let c=this.successCodes_.indexOf(l)!==-1;r(!0,new op(c,i))})},n=(r,s)=>{let i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());Mle(l)?i(l):i()}catch(l){o(l)}else if(a!==null){let l=kle();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){let l=this.appDelete_?Oj():Dle();o(l)}else{let l=Ale();o(l)}};this.canceled_?n(!1,new op(!1,null,!0)):this.backoffId_=Ple(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Ole(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},op=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};Zve=256*1024;WL=class t{constructor(e,n){this._service=e,n instanceof mc?this._location=n:this._location=mc.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new mc(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Gle(this._location.path)}get storage(){return this._service}get parent(){let e=jle(this._location.path);if(e===null)return null;let n=new mc(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Lle(e)}};QL=class{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=Pj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Sle,this._maxUploadRetryTime=Nle,this._requests=new Set,s!=null?this._bucket=mc.makeFromBucketSpec(s,this._host):this._bucket=Cj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=mc.makeFromBucketSpec(this._url,e):this._bucket=Cj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Dj("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Dj("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new WL(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new $L(Oj());{let o=zle(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){let[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}},Rj="@firebase/storage",Lj="0.11.2";Mj="storage";Qle()});var Vj=G(()=>{Uj()});var Yle,YL,ap,un,abe,XL=G(()=>{"use strict";kj();QC();Ix();Vj();Yle={apiKey:"AIzaSyAtc3vYe6tV14w37NEJkaDfTR096fb7q1Y",authDomain:"jeevan-saathi-39bf5.firebaseapp.com",projectId:"jeevan-saathi-39bf5",storageBucket:"jeevan-saathi-39bf5.firebasestorage.app",messagingSenderId:"65030332753",appId:"1:65030332753:web:e4eb572e4a4c3ca772b370",measurementId:"G-274K2278C1"},YL=_C(Yle),ap=WC(YL),un=vj(YL),abe=Fj(YL)});var Hj=G(()=>{"use strict"});var Bj=G(()=>{"use strict"});var ll,cl,JL=G(()=>{"use strict";ll=(s=>(s.BINARY="binary",s.COUNT="count",s.DURATION="duration",s.CHECKLIST="checklist",s))(ll||{}),cl=(o=>(o.DONE="done",o.PARTIAL="partial",o.NONE="none",o.COMPLETED="done",o.SKIPPED="none",o.FAILED="none",o))(cl||{})});var qj=G(()=>{"use strict";Hj();Bj();JL()});var Ne,bt,Kr,ko,Hs,ul,dl,hl,Ao,fl,Do,ml,pl,gl,Co,Ro,pc=G(()=>{"use strict";Ix();XL();qj();Ne=()=>ap.currentUser,bt=t=>{let e=Ne();if(!e)throw new Error("User not authenticated");return yj(un,"users",e.uid,t)},Kr=t=>(t&&typeof t=="object"&&Object.keys(t).forEach(e=>{t[e]&&typeof t[e]=="object"&&t[e].toDate?t[e]=t[e].toDate():t[e]&&typeof t[e]=="object"&&(t[e]=Kr(t[e]))}),t),ko={add:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");let n={...t,createdAt:new Date,userId:e.uid,parentId:t.parentId||null,completionDate:t.completionDate||null,dueDate:t.dueDate||null,reminder:t.reminder||!1,tags:t.tags||[],description:t.description||"",priority:t.priority||null,source:t.source||null};return(await ki(bt("tasks"),n)).id},update:async(t,e)=>{let n=Ne();if(!n)throw new Error("User not authenticated");let r=cn(un,"users",n.uid,"tasks",t);return Si(r,e)},delete:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");let n=cn(un,"users",e.uid,"tasks",t);return Ni(n)},getAll:async()=>{if(!Ne())throw new Error("User not authenticated");let e=er(bt("tasks"),$r("createdAt","desc"));return(await Ei(e)).docs.map(r=>Kr({id:r.id,...r.data()}))},subscribe:t=>{if(!Ne())throw new Error("User not authenticated");let n=er(bt("tasks"),$r("createdAt","desc"));return Ai(n,r=>{let s=r.docs.map(i=>Kr({id:i.id,...i.data()}));t(s)})}},Hs={add:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");let n={...t,createdAt:new Date,userId:e.uid,folderId:t.folderId||null};return(await ki(bt("lists"),n)).id},update:async(t,e)=>{let n=Ne();if(!n)throw new Error("User not authenticated");let r=cn(un,"users",n.uid,"lists",t);return Si(r,e)},delete:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");let n=cn(un,"users",e.uid,"lists",t);return Ni(n)},getAll:async()=>{if(!Ne())throw new Error("User not authenticated");let e=er(bt("lists"),$r("createdAt","desc"));return(await Ei(e)).docs.map(r=>Kr({id:r.id,...r.data()}))},subscribe:t=>{if(!Ne())throw new Error("User not authenticated");let n=er(bt("lists"),$r("createdAt","desc"));return Ai(n,r=>{let s=r.docs.map(i=>Kr({id:i.id,...i.data()}));t(s)})}},ul={add:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");return(await ki(bt("tags"),{...t,createdAt:new Date,userId:e.uid})).id},update:async(t,e)=>{let n=Ne();if(!n)throw new Error("User not authenticated");let r=cn(un,"users",n.uid,"tags",t);return Si(r,e)},delete:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");let n=cn(un,"users",e.uid,"tags",t);return Ni(n)},getAll:async()=>{if(!Ne())throw new Error("User not authenticated");let e=er(bt("tags"),$r("createdAt","desc"));return(await Ei(e)).docs.map(r=>Kr({id:r.id,...r.data()}))},subscribe:t=>{if(!Ne())throw new Error("User not authenticated");let n=er(bt("tags"),$r("createdAt","desc"));return Ai(n,r=>{let s=r.docs.map(i=>Kr({id:i.id,...i.data()}));t(s)})}},dl={add:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");return(await ki(bt("listFolders"),{...t,userId:e.uid})).id},update:async(t,e)=>{let n=Ne();if(!n)throw new Error("User not authenticated");let r=cn(un,"users",n.uid,"listFolders",t);return Si(r,e)},delete:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");let n=cn(un,"users",e.uid,"listFolders",t);return Ni(n)},getAll:async()=>{if(!Ne())throw new Error("User not authenticated");return(await Ei(bt("listFolders"))).docs.map(n=>{let r=n.data();return{id:n.id,name:r.name||"Unnamed Folder",...r}})},subscribe:t=>{if(!Ne())throw new Error("User not authenticated");let n=er(bt("listFolders"));return Ai(n,r=>{let s=r.docs.map(i=>{let o=i.data();return{id:i.id,name:o.name||"Unnamed Folder",...o}});t(s)})}},hl={add:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");return(await ki(bt("tagFolders"),{...t,userId:e.uid})).id},update:async(t,e)=>{let n=Ne();if(!n)throw new Error("User not authenticated");let r=cn(un,"users",n.uid,"tagFolders",t);return Si(r,e)},delete:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");let n=cn(un,"users",e.uid,"tagFolders",t);return Ni(n)},getAll:async()=>{if(!Ne())throw new Error("User not authenticated");return(await Ei(bt("tagFolders"))).docs.map(n=>{let r=n.data();return{id:n.id,name:r.name||"Unnamed Folder",...r}})},subscribe:t=>{if(!Ne())throw new Error("User not authenticated");let n=er(bt("tagFolders"));return Ai(n,r=>{let s=r.docs.map(i=>{let o=i.data();return{id:i.id,name:o.name||"Unnamed Folder",...o}});t(s)})}},Ao={add:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");return(await ki(bt("logs"),{...t,createdAt:new Date,userId:e.uid})).id},update:async(t,e)=>{let n=Ne();if(!n)throw new Error("User not authenticated");let r=cn(un,"users",n.uid,"logs",t);return Si(r,e)},delete:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");let n=cn(un,"users",e.uid,"logs",t);return Ni(n)},getAll:async()=>{if(!Ne())throw new Error("User not authenticated");let e=er(bt("logs"),$r("logDate","desc"));return(await Ei(e)).docs.map(r=>Kr({id:r.id,...r.data()}))},subscribe:t=>{if(!Ne())throw new Error("User not authenticated");let n=er(bt("logs"),$r("logDate","desc"));return Ai(n,r=>{let s=r.docs.map(i=>Kr({id:i.id,...i.data()}));t(s)})}},fl={add:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");let n={...t,userId:e.uid,checklist:t.checklist||null,rating:t.rating||null};return(await ki(bt("logTemplates"),n)).id},update:async(t,e)=>{let n=Ne();if(!n)throw new Error("User not authenticated");let r=cn(un,"users",n.uid,"logTemplates",t);return Si(r,e)},delete:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");let n=cn(un,"users",e.uid,"logTemplates",t);return Ni(n)},getAll:async()=>{if(!Ne())throw new Error("User not authenticated");return(await Ei(bt("logTemplates"))).docs.map(n=>({id:n.id,...n.data()}))},subscribe:t=>{if(!Ne())throw new Error("User not authenticated");let n=er(bt("logTemplates"));return Ai(n,r=>{let s=r.docs.map(i=>({id:i.id,...i.data()}));t(s)})}},Do={add:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");return(await ki(bt("foci"),{...t,userId:e.uid})).id},update:async(t,e)=>{let n=Ne();if(!n)throw new Error("User not authenticated");let r=cn(un,"users",n.uid,"foci",t);return Si(r,e)},delete:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");let n=cn(un,"users",e.uid,"foci",t);return Ni(n)},getAll:async()=>{if(!Ne())throw new Error("User not authenticated");return(await Ei(bt("foci"))).docs.map(r=>({id:r.id,...r.data()}))},subscribe:t=>{if(!Ne())throw new Error("User not authenticated");let n=er(bt("foci"));return Ai(n,r=>{let s=r.docs.map(i=>({id:i.id,...i.data()}));t(s)})}},ml={add:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");let n={...t,startDate:new Date,userId:e.uid,targetEndDate:t.targetEndDate||null};return(await ki(bt("goals"),n)).id},update:async(t,e)=>{let n=Ne();if(!n)throw new Error("User not authenticated");let r=cn(un,"users",n.uid,"goals",t);return Si(r,e)},delete:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");let n=cn(un,"users",e.uid,"goals",t);return Ni(n)},getAll:async()=>{if(!Ne())throw new Error("User not authenticated");let e=er(bt("goals"),$r("startDate","desc"));return(await Ei(e)).docs.map(r=>Kr({id:r.id,...r.data()}))},subscribe:t=>{if(!Ne())throw new Error("User not authenticated");let n=er(bt("goals"),$r("startDate","desc"));return Ai(n,r=>{let s=r.docs.map(i=>Kr({id:i.id,...i.data()}));t(s)})}},pl={add:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");let n={...t,userId:e.uid,description:t.description||"",targetEndDate:t.targetEndDate||null,focusAreaId:t.focusAreaId||null};return(await ki(bt("milestones"),n)).id},update:async(t,e)=>{let n=Ne();if(!n)throw new Error("User not authenticated");let r=cn(un,"users",n.uid,"milestones",t);return Si(r,e)},delete:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");let n=cn(un,"users",e.uid,"milestones",t);return Ni(n)},getAll:async()=>{if(!Ne())throw new Error("User not authenticated");let e=er(bt("milestones"),$r("startDate","desc"));return(await Ei(e)).docs.map(r=>Kr({id:r.id,...r.data()}))},subscribe:t=>{if(!Ne())throw new Error("User not authenticated");let n=er(bt("milestones"),$r("startDate","desc"));return Ai(n,r=>{let s=r.docs.map(i=>Kr({id:i.id,...i.data()}));t(s)})}},gl={add:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");return(await ki(bt("quickWins"),{...t,createdAt:new Date,userId:e.uid})).id},update:async(t,e)=>{let n=Ne();if(!n)throw new Error("User not authenticated");let r=cn(un,"users",n.uid,"quickWins",t);return Si(r,e)},delete:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");let n=cn(un,"users",e.uid,"quickWins",t);return Ni(n)},getAll:async()=>{if(!Ne())throw new Error("User not authenticated");let e=er(bt("quickWins"),$r("createdAt","desc"));return(await Ei(e)).docs.map(r=>Kr({id:r.id,...r.data()}))},subscribe:t=>{if(!Ne())throw new Error("User not authenticated");let n=er(bt("quickWins"),$r("createdAt","desc"));return Ai(n,r=>{let s=r.docs.map(i=>Kr({id:i.id,...i.data()}));t(s)})}},Co={add:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");let n={...t,createdAt:new Date,userId:e.uid,dailyTarget:t.dailyTarget||null,dailyTargetComparison:t.dailyTargetComparison||null,totalTarget:t.totalTarget||null,totalTargetComparison:t.totalTargetComparison||null,checklist:t.checklist||[],milestoneId:t.milestoneId||null,goalId:t.goalId||null,focusAreaId:t.focusAreaId||null,endDate:t.endDate||null,reminders:t.reminders||[]};return(await ki(bt("habits"),n)).id},update:async(t,e)=>{let n=Ne();if(!n)throw new Error("User not authenticated");let r=cn(un,"users",n.uid,"habits",t),s={};for(let i in e){let o=e[i];o!==void 0&&(s[i]=o)}return Si(r,s)},delete:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");let n=cn(un,"users",e.uid,"habits",t);return Ni(n)},getAll:async()=>{if(!Ne())throw new Error("User not authenticated");let e=er(bt("habits"),$r("createdAt","desc"));return(await Ei(e)).docs.map(r=>Kr({id:r.id,...r.data()}))},subscribe:t=>{if(!Ne())throw new Error("User not authenticated");let n=er(bt("habits"),$r("createdAt","desc"));return Ai(n,r=>{let s=r.docs.map(i=>Kr({id:i.id,...i.data()}));t(s)})}},Ro={add:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");let n={...t,userId:e.uid,value:t.value||null,completedChecklistItems:t.completedChecklistItems||[],count:t.count||1,status:t.status||"done",notes:t.notes||null,createdAt:new Date,updatedAt:new Date};return(await ki(bt("habitLogs"),n)).id},update:async(t,e)=>{let n=Ne();if(!n)throw new Error("User not authenticated");let r=cn(un,"users",n.uid,"habitLogs",t),s={...e,updatedAt:new Date};return Si(r,s)},delete:async t=>{let e=Ne();if(!e)throw new Error("User not authenticated");let n=cn(un,"users",e.uid,"habitLogs",t);return Ni(n)},getAll:async()=>{if(!Ne())throw new Error("User not authenticated");let e=er(bt("habitLogs"),$r("date","desc"));return(await Ei(e)).docs.map(r=>Kr({id:r.id,...r.data()}))},subscribe:t=>{if(!Ne())throw new Error("User not authenticated");let n=er(bt("habitLogs"),$r("date","desc"));return Ai(n,r=>{let s=r.docs.map(i=>Kr({id:i.id,...i.data()}));t(s)})}}});var zj,jj,Gj,ZL=G(()=>{"use strict";QC();Ix();XL();pc();zj=()=>GC(ap),jj=t=>jC(ap,t),Gj=()=>ap.currentUser});var $j,Kj,eP=G(()=>{$j=t=>{let e,n=new Set,r=(c,d)=>{let h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){let f=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(m=>m(e,f))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,s,a);return a},Kj=t=>t?$j(t):$j});var iG=uo(pt=>{"use strict";var nP=Symbol.for("react.transitional.element"),Xle=Symbol.for("react.portal"),Jle=Symbol.for("react.fragment"),Zle=Symbol.for("react.strict_mode"),ece=Symbol.for("react.profiler"),tce=Symbol.for("react.consumer"),nce=Symbol.for("react.context"),rce=Symbol.for("react.forward_ref"),sce=Symbol.for("react.suspense"),ice=Symbol.for("react.memo"),Zj=Symbol.for("react.lazy"),Wj=Symbol.iterator;function oce(t){return t===null||typeof t!="object"?null:(t=Wj&&t[Wj]||t["@@iterator"],typeof t=="function"?t:null)}var eG={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tG=Object.assign,nG={};function cp(t,e,n){this.props=t,this.context=e,this.refs=nG,this.updater=n||eG}cp.prototype.isReactComponent={};cp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rG(){}rG.prototype=cp.prototype;function rP(t,e,n){this.props=t,this.context=e,this.refs=nG,this.updater=n||eG}var sP=rP.prototype=new rG;sP.constructor=rP;tG(sP,cp.prototype);sP.isPureReactComponent=!0;var Qj=Array.isArray,Kn={H:null,A:null,T:null,S:null,V:null},sG=Object.prototype.hasOwnProperty;function iP(t,e,n,r,s,i){return n=i.ref,{$$typeof:nP,type:t,key:e,ref:n!==void 0?n:null,props:i}}function ace(t,e){return iP(t.type,e,void 0,void 0,void 0,t.props)}function oP(t){return typeof t=="object"&&t!==null&&t.$$typeof===nP}function lce(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Yj=/\/+/g;function tP(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lce(""+t.key):e.toString(36)}function Xj(){}function cce(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Xj,Xj):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function lp(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nP:case Xle:o=!0;break;case Zj:return o=t._init,lp(o(t._payload),e,n,r,s)}}if(o)return s=s(t),o=r===""?"."+tP(t,0):r,Qj(s)?(n="",o!=null&&(n=o.replace(Yj,"$&/")+"/"),lp(s,e,n,"",function(c){return c})):s!=null&&(oP(s)&&(s=ace(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(Yj,"$&/")+"/")+o)),e.push(s)),1;o=0;var a=r===""?".":r+":";if(Qj(t))for(var l=0;l<t.length;l++)r=t[l],i=a+tP(r,l),o+=lp(r,e,n,i,s);else if(l=oce(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,i=a+tP(r,l++),o+=lp(r,e,n,i,s);else if(i==="object"){if(typeof t.then=="function")return lp(cce(t),e,n,r,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return o}function Ex(t,e,n){if(t==null)return t;var r=[],s=0;return lp(t,r,"","",function(i){return e.call(n,i,s++)}),r}function uce(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jj=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function dce(){}pt.Children={map:Ex,forEach:function(t,e,n){Ex(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ex(t,function(){e++}),e},toArray:function(t){return Ex(t,function(e){return e})||[]},only:function(t){if(!oP(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pt.Component=cp;pt.Fragment=Jle;pt.Profiler=ece;pt.PureComponent=rP;pt.StrictMode=Zle;pt.Suspense=sce;pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Kn;pt.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Kn.H.useMemoCache(t)}};pt.cache=function(t){return function(){return t.apply(null,arguments)}};pt.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=tG({},t.props),s=t.key,i=void 0;if(e!=null)for(o in e.ref!==void 0&&(i=void 0),e.key!==void 0&&(s=""+e.key),e)!sG.call(e,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&e.ref===void 0||(r[o]=e[o]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];r.children=a}return iP(t.type,s,void 0,void 0,i,r)};pt.createContext=function(t){return t={$$typeof:nce,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:tce,_context:t},t};pt.createElement=function(t,e,n){var r,s={},i=null;if(e!=null)for(r in e.key!==void 0&&(i=""+e.key),e)sG.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];s.children=a}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return iP(t,i,void 0,void 0,null,s)};pt.createRef=function(){return{current:null}};pt.forwardRef=function(t){return{$$typeof:rce,render:t}};pt.isValidElement=oP;pt.lazy=function(t){return{$$typeof:Zj,_payload:{_status:-1,_result:t},_init:uce}};pt.memo=function(t,e){return{$$typeof:ice,type:t,compare:e===void 0?null:e}};pt.startTransition=function(t){var e=Kn.T,n={};Kn.T=n;try{var r=t(),s=Kn.S;s!==null&&s(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(dce,Jj)}catch(i){Jj(i)}finally{Kn.T=e}};pt.unstable_useCacheRefresh=function(){return Kn.H.useCacheRefresh()};pt.use=function(t){return Kn.H.use(t)};pt.useActionState=function(t,e,n){return Kn.H.useActionState(t,e,n)};pt.useCallback=function(t,e){return Kn.H.useCallback(t,e)};pt.useContext=function(t){return Kn.H.useContext(t)};pt.useDebugValue=function(){};pt.useDeferredValue=function(t,e){return Kn.H.useDeferredValue(t,e)};pt.useEffect=function(t,e,n){var r=Kn.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};pt.useId=function(){return Kn.H.useId()};pt.useImperativeHandle=function(t,e,n){return Kn.H.useImperativeHandle(t,e,n)};pt.useInsertionEffect=function(t,e){return Kn.H.useInsertionEffect(t,e)};pt.useLayoutEffect=function(t,e){return Kn.H.useLayoutEffect(t,e)};pt.useMemo=function(t,e){return Kn.H.useMemo(t,e)};pt.useOptimistic=function(t,e){return Kn.H.useOptimistic(t,e)};pt.useReducer=function(t,e,n){return Kn.H.useReducer(t,e,n)};pt.useRef=function(t){return Kn.H.useRef(t)};pt.useState=function(t){return Kn.H.useState(t)};pt.useSyncExternalStore=function(t,e,n){return Kn.H.useSyncExternalStore(t,e,n)};pt.useTransition=function(){return Kn.H.useTransition()};pt.version="19.1.0"});var aG=uo((Fbe,oG)=>{"use strict";oG.exports=iG()});function fce(t,e=hce){let n=tv.default.useSyncExternalStore(t.subscribe,tv.default.useCallback(()=>e(t.getState()),[t,e]),tv.default.useCallback(()=>e(t.getInitialState()),[t,e]));return tv.default.useDebugValue(n),n}var tv,hce,lG,Di,cG=G(()=>{tv=L(aG(),1);eP();hce=t=>t;lG=t=>{let e=Kj(t),n=r=>fce(e,r);return Object.assign(n,e),n},Di=t=>t?lG(t):lG});var Fu=G(()=>{eP();cG()});var nv,Sx,mce,pce,gce,yce,Ci,aP,Uu=G(()=>{nv=new Map,Sx=t=>{let e=nv.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([n,r])=>[n,r.getState()])):{}},mce=(t,e,n)=>{if(t===void 0)return{type:"untracked",connection:e.connect(n)};let r=nv.get(n.name);if(r)return{type:"tracked",store:t,...r};let s={connection:e.connect(n),stores:{}};return nv.set(n.name,s),{type:"tracked",store:t,...s}},pce=(t,e)=>{if(e===void 0)return;let n=nv.get(t);n&&(delete n.stores[e],Object.keys(n.stores).length===0&&nv.delete(t))},gce=t=>{var e,n;if(!t)return;let r=t.split(`
`),s=r.findIndex(o=>o.includes("api.setState"));if(s<0)return;let i=((e=r[s+1])==null?void 0:e.trim())||"";return(n=/.+ (.+) .+/.exec(i))==null?void 0:n[1]},yce=(t,e={})=>(n,r,s)=>{let{enabled:i,anonymousActionType:o,store:a,...l}=e,c;try{c=(i??(import.meta.env?import.meta.env.MODE:void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!c)return t(n,r,s);let{connection:d,...h}=mce(a,c,l),f=!0;s.setState=(w,v,g)=>{let b=n(w,v);if(!f)return b;let I=g===void 0?{type:o||gce(new Error().stack)||"anonymous"}:typeof g=="string"?{type:g}:g;return a===void 0?(d?.send(I,r()),b):(d?.send({...I,type:`${a}/${I.type}`},{...Sx(l.name),[a]:s.getState()}),b)},s.devtools={cleanup:()=>{d&&typeof d.unsubscribe=="function"&&d.unsubscribe(),pce(l.name,a)}};let m=(...w)=>{let v=f;f=!1,n(...w),f=v},y=t(s.setState,r,s);if(h.type==="untracked"?d?.init(y):(h.stores[h.store]=s,d?.init(Object.fromEntries(Object.entries(h.stores).map(([w,v])=>[w,w===h.store?y:v.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){let w=!1,v=s.dispatch;s.dispatch=(...g)=>{(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&g[0].type==="__setState"&&!w&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),w=!0),v(...g)}}return d.subscribe(w=>{var v;switch(w.type){case"ACTION":if(typeof w.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return aP(w.payload,g=>{if(g.type==="__setState"){if(a===void 0){m(g.state);return}Object.keys(g.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let b=g.state[a];if(b==null)return;JSON.stringify(s.getState())!==JSON.stringify(b)&&m(b);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(g)});case"DISPATCH":switch(w.payload.type){case"RESET":return m(y),a===void 0?d?.init(s.getState()):d?.init(Sx(l.name));case"COMMIT":if(a===void 0){d?.init(s.getState());return}return d?.init(Sx(l.name));case"ROLLBACK":return aP(w.state,g=>{if(a===void 0){m(g),d?.init(s.getState());return}m(g[a]),d?.init(Sx(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return aP(w.state,g=>{if(a===void 0){m(g);return}JSON.stringify(s.getState())!==JSON.stringify(g[a])&&m(g[a])});case"IMPORT_STATE":{let{nextLiftedState:g}=w.payload,b=(v=g.computedStates.slice(-1)[0])==null?void 0:v.state;if(!b)return;m(a===void 0?b:b[a]),d?.send(null,g);return}case"PAUSE_RECORDING":return f=!f}return}}),y},Ci=yce,aP=(t,e)=>{let n;try{n=JSON.parse(t)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&e(n)}});var uG={};ua(uG,{useKaryStore:()=>rv});var rv,Nx=G(()=>{"use strict";Fu();Uu();pc();rv=Di()(Ci((t,e)=>({tasks:[],lists:[],tags:[],listFolders:[],tagFolders:[],loading:!1,error:null,searchQuery:"",filterOption:"all",sortOption:"created",sortDirection:"desc",fetchKaryData:async()=>{t({loading:!0,error:null});try{let[n,r,s,i,o]=await Promise.all([ko.getAll(),Hs.getAll(),ul.getAll(),dl.getAll(),hl.getAll()]);t({tasks:n,lists:r,tags:s,listFolders:i,tagFolders:o,loading:!1})}catch(n){t({error:n.message,loading:!1})}},addTask:async n=>{let r={...n,id:`temp-${Date.now()}`,createdAt:new Date},s=e().tasks;t({tasks:[...s,r]});try{let i=await ko.add(n);t(o=>({tasks:o.tasks.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,tasks:s})}},updateTask:async(n,r)=>{let s=e().tasks,i=s.map(o=>o.id===n?{...o,...r}:o);t({tasks:i});try{await ko.update(n,r)}catch(o){t({error:o.message,tasks:s})}},deleteTask:async n=>{let r=e().tasks,s=r.filter(i=>i.id!==n);t({tasks:s});try{await ko.delete(n)}catch(i){t({error:i.message,tasks:r})}},addList:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().lists;if(s.find(a=>a.name.toLowerCase()===n.name.toLowerCase())){t({error:`A list with the name "${n.name}" already exists`});return}let o=[...s,r];n.isDefault&&(o=o.map(a=>({...a,isDefault:a.id===r.id}))),t({lists:o});try{let a=await Hs.add(n);t(l=>({lists:l.lists.map(c=>c.id===r.id?{...c,id:a}:c)}))}catch(a){t({error:a.message,lists:s})}},updateList:async(n,r)=>{let s=e().lists,i=s.map(o=>o.id===n?{...o,...r}:o);r.isDefault&&(i=i.map(o=>({...o,isDefault:o.id===n}))),t({lists:i});try{await Hs.update(n,r)}catch(o){t({error:o.message,lists:s})}},deleteList:async n=>{let r=e().lists,s=r.filter(i=>i.id!==n);t({lists:s});try{await Hs.delete(n)}catch(i){t({error:i.message,lists:r})}},addTag:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().tags;t({tags:[...s,r]});try{let i=await ul.add(n);t(o=>({tags:o.tags.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,tags:s})}},updateTag:async(n,r)=>{let s=e().tags,i=s.map(o=>o.id===n?{...o,...r}:o);t({tags:i});try{await ul.update(n,r)}catch(o){t({error:o.message,tags:s})}},deleteTag:async n=>{let r=e().tags,s=r.filter(i=>i.id!==n);t({tags:s});try{await ul.delete(n)}catch(i){t({error:i.message,tags:r})}},addListFolder:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().listFolders;t({listFolders:[...s,r]});try{let i=await dl.add(n);t(o=>({listFolders:o.listFolders.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,listFolders:s})}},updateListFolder:async(n,r)=>{let s=e().listFolders,i=s.map(o=>o.id===n?{...o,...r}:o);t({listFolders:i});try{await dl.update(n,r)}catch(o){t({error:o.message,listFolders:s})}},deleteListFolder:async n=>{let r=e().listFolders,s=r.filter(i=>i.id!==n);t({listFolders:s});try{await dl.delete(n)}catch(i){t({error:i.message,listFolders:r})}},addTagFolder:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().tagFolders;t({tagFolders:[...s,r]});try{let i=await hl.add(n);t(o=>({tagFolders:o.tagFolders.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,tagFolders:s})}},updateTagFolder:async(n,r)=>{let s=e().tagFolders,i=s.map(o=>o.id===n?{...o,...r}:o);t({tagFolders:i});try{await hl.update(n,r)}catch(o){t({error:o.message,tagFolders:s})}},deleteTagFolder:async n=>{let r=e().tagFolders,s=r.filter(i=>i.id!==n);t({tagFolders:s});try{await hl.delete(n)}catch(i){t({error:i.message,tagFolders:r})}},getDefaultList:()=>e().lists.find(r=>r.isDefault)||null,setDefaultList:async n=>{let r=e().lists,s=r.map(i=>({...i,isDefault:i.id===n}));t({lists:s});try{let i=r.map(o=>Hs.update(o.id,{isDefault:o.id===n}));await Promise.all(i)}catch(i){t({error:i.message,lists:r})}},cleanupDuplicateInboxes:async()=>{let n=e().lists,r=n.filter(s=>s.id==="inbox");if(r.length>1){let[s,...i]=r;try{await Promise.all(i.map(a=>Hs.delete(a.id)));let o=n.filter(a=>a.id!=="inbox"||a.id===s.id);t({lists:o})}catch(o){t({error:o.message})}}},cleanupDuplicateLists:async()=>{let n=e().lists,r=new Map;n.forEach(o=>{let a=o.name.toLowerCase();r.has(a)||r.set(a,[]),r.get(a).push(o)});let s=[],i=[];for(let[o,a]of r)if(a.length>1){let[l,...c]=a;i.push(l),s.push(...c)}else i.push(a[0]);if(s.length>0)try{await Promise.all(s.map(o=>Hs.delete(o.id))),t({lists:i}),console.log(`Cleaned up ${s.length} duplicate lists`)}catch(o){t({error:o.message})}},setSearchQuery:n=>t({searchQuery:n}),setFilterOption:n=>t({filterOption:n}),setSortOption:n=>t({sortOption:n}),setSortDirection:n=>t({sortDirection:n}),getFilteredAndSortedTasks:(n,r,s,i,o)=>{let a=e(),l=r??a.searchQuery,c=s??a.filterOption,d=i??a.sortOption,h=o??a.sortDirection,f=n;if(l.trim()){let y=l.toLowerCase();f=n.filter(w=>w.title.toLowerCase().includes(y)||w.description?.toLowerCase().includes(y))}switch(c){case"completed":f=f.filter(v=>v.completed);break;case"uncompleted":f=f.filter(v=>!v.completed);break;case"overdue":f=f.filter(v=>v.dueDate&&new Date(v.dueDate).setHours(0,0,0,0)<new Date().setHours(0,0,0,0)&&!v.completed);break;case"dueToday":f=f.filter(v=>v.dueDate&&new Date(v.dueDate).toDateString()===new Date().toDateString());break;case"dueThisWeek":let y=new Date,w=new Date(y);w.setDate(y.getDate()+7),f=f.filter(v=>v.dueDate&&new Date(v.dueDate)>=y&&new Date(v.dueDate)<=w);break;default:break}return[...f].sort((y,w)=>{let v=0;switch(d){case"created":v=new Date(y.createdAt).getTime()-new Date(w.createdAt).getTime();break;case"dueDate":!y.dueDate&&!w.dueDate?v=0:y.dueDate?w.dueDate?v=new Date(y.dueDate).getTime()-new Date(w.dueDate).getTime():v=-1:v=1;break;case"priority":let g=y.priority||0;v=(w.priority||0)-g;break;case"title":v=y.title.localeCompare(w.title);break}return h==="asc"?v:-v})}}),{name:"kary-store"}))});var dG={};ua(dG,{useDainandiniStore:()=>sv});var sv,kx=G(()=>{"use strict";Fu();Uu();pc();sv=Di()(Ci((t,e)=>({logs:[],logTemplates:[],foci:[],loading:!1,error:null,fetchDainandiniData:async()=>{t({loading:!0,error:null});try{let[n,r,s]=await Promise.all([Ao.getAll(),fl.getAll(),Do.getAll()]);t({logs:n,logTemplates:r,foci:s,loading:!1})}catch(n){t({error:n.message,loading:!1})}},addLog:async n=>{let r={...n,id:`temp-${Date.now()}`,createdAt:new Date},s=e().logs;t({logs:[...s,r]});try{let i=await Ao.add(n);t(o=>({logs:o.logs.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,logs:s})}},updateLog:async(n,r)=>{let s=e().logs,i=s.map(o=>o.id===n?{...o,...r}:o);t({logs:i});try{await Ao.update(n,r)}catch(o){t({error:o.message,logs:s})}},deleteLog:async n=>{let r=e().logs,s=r.filter(i=>i.id!==n);t({logs:s});try{await Ao.delete(n)}catch(i){t({error:i.message,logs:r})}},addLogTemplate:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().logTemplates;t({logTemplates:[...s,r]});try{let i=await fl.add(n);t(o=>({logTemplates:o.logTemplates.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,logTemplates:s})}},updateLogTemplate:async(n,r)=>{let s=e().logTemplates,i=s.map(o=>o.id===n?{...o,...r}:o);t({logTemplates:i});try{await fl.update(n,r)}catch(o){t({error:o.message,logTemplates:s})}},deleteLogTemplate:async n=>{let r=e().logTemplates,s=r.filter(i=>i.id!==n);t({logTemplates:s});try{await fl.delete(n)}catch(i){t({error:i.message,logTemplates:r})}},addFocus:async n=>{let r=e().foci;if(r.find(o=>o.name===n.name)){console.warn(`Focus with name "${n.name}" already exists`);return}let i={...n,id:`temp-${Date.now()}`};t({foci:[...r,i]});try{let o=await Do.add(n);t(a=>({foci:a.foci.map(l=>l.id===i.id?{...l,id:o}:l)}))}catch(o){t({error:o.message,foci:r})}},updateFocus:async(n,r)=>{let s=e().foci,i=s.map(o=>o.id===n?{...o,...r}:o);t({foci:i});try{await Do.update(n,r)}catch(o){t({error:o.message,foci:s})}},deleteFocus:async n=>{let r=e().foci,s=r.filter(i=>i.id!==n);t({foci:s});try{await Do.delete(n)}catch(i){t({error:i.message,foci:r})}}}),{name:"dainandini-store"}))});var bG={};ua(bG,{useAbhyasaStore:()=>uP});var uP,dP=G(()=>{"use strict";Fu();Uu();pc();uP=Di()(Ci((t,e)=>({habits:[],habitLogs:[],goals:[],milestones:[],quickWins:[],loading:!1,error:null,fetchAbhyasaData:async()=>{t({loading:!0,error:null});try{let[n,r,s,i,o]=await Promise.all([Co.getAll(),Ro.getAll(),ml.getAll(),pl.getAll(),gl.getAll()]);t({habits:n,habitLogs:r,goals:s,milestones:i,quickWins:o,loading:!1})}catch(n){t({error:n.message,loading:!1})}},addHabit:async n=>{let r={...n,id:`temp-${Date.now()}`,createdAt:new Date},s=e().habits;t({habits:[...s,r]});try{let i=await Co.add(n);t(o=>({habits:o.habits.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,habits:s})}},updateHabit:async(n,r)=>{let s=e().habits,i=s.map(o=>o.id===n?{...o,...r}:o);t({habits:i});try{await Co.update(n,r)}catch(o){t({error:o.message,habits:s})}},deleteHabit:async n=>{let r=e().habits,s=r.filter(i=>i.id!==n);t({habits:s});try{await Co.delete(n)}catch(i){t({error:i.message,habits:r})}},addHabitLog:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().habitLogs;t({habitLogs:[...s,r]});try{let i=await Ro.add(n);t(o=>({habitLogs:o.habitLogs.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,habitLogs:s})}},updateHabitLog:async(n,r)=>{let s=e().habitLogs,i=s.map(o=>o.id===n?{...o,...r}:o);t({habitLogs:i});try{await Ro.update(n,r)}catch(o){t({error:o.message,habitLogs:s})}},deleteHabitLog:async n=>{let r=e().habitLogs,s=r.filter(i=>i.id!==n);t({habitLogs:s});try{await Ro.delete(n)}catch(i){t({error:i.message,habitLogs:r})}},addGoal:async n=>{let r={...n,id:`temp-${Date.now()}`,startDate:new Date},s=e().goals;t({goals:[...s,r]});try{let i=await ml.add(n);t(o=>({goals:o.goals.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,goals:s})}},updateGoal:async(n,r)=>{let s=e().goals,i=s.map(o=>o.id===n?{...o,...r}:o);t({goals:i});try{await ml.update(n,r)}catch(o){t({error:o.message,goals:s})}},deleteGoal:async n=>{let r=e().goals,s=r.filter(i=>i.id!==n);t({goals:s});try{await ml.delete(n)}catch(i){t({error:i.message,goals:r})}},addMilestone:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().milestones;t({milestones:[...s,r]});try{let i=await pl.add(n);t(o=>({milestones:o.milestones.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,milestones:s})}},updateMilestone:async(n,r)=>{let s=e().milestones,i=s.map(o=>o.id===n?{...o,...r}:o);t({milestones:i});try{await pl.update(n,r)}catch(o){t({error:o.message,milestones:s})}},deleteMilestone:async n=>{let r=e().milestones,s=r.filter(i=>i.id!==n);t({milestones:s});try{await pl.delete(n)}catch(i){t({error:i.message,milestones:r})}},addQuickWin:async n=>{let r={...n,id:`temp-${Date.now()}`,createdAt:new Date},s=e().quickWins;t({quickWins:[...s,r]});try{let i=await gl.add(n);t(o=>({quickWins:o.quickWins.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,quickWins:s})}},updateQuickWin:async(n,r)=>{let s=e().quickWins,i=s.map(o=>o.id===n?{...o,...r}:o);t({quickWins:i});try{await gl.update(n,r)}catch(o){t({error:o.message,quickWins:s})}},deleteQuickWin:async n=>{let r=e().quickWins,s=r.filter(i=>i.id!==n);t({quickWins:s});try{await gl.delete(n)}catch(i){t({error:i.message,quickWins:r})}}}),{name:"abhyasa-store"}))});function oue(){let[t,e]=(0,Rx.useState)({width:void 0,height:void 0});return(0,Rx.useEffect)(()=>{function n(){e({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),t}var Rx,Bu,lv=G(()=>{"use strict";Rx=L(ge(),1);Bu=oue});var ea,uv=G(()=>{"use strict";Fu();Uu();pc();ZL();ea=Di()(Ci((t,e)=>({tasks:[],lists:[],tags:[],listFolders:[],tagFolders:[],loading:!1,error:null,searchQuery:"",filterOption:"all",sortOption:"created",sortDirection:"desc",fetchKaryData:async()=>{t({loading:!0,error:null});try{let n=Gj();if(!n||!n.uid){console.warn("Cannot fetch kary data: user not authenticated"),t({loading:!1,error:"User not authenticated"});return}let[r,s,i,o,a]=await Promise.all([ko.getAll(),Hs.getAll(),ul.getAll(),dl.getAll(),hl.getAll()]);t({tasks:r,lists:s,tags:i,listFolders:o,tagFolders:a,loading:!1})}catch(n){console.error("Error fetching kary data:",n);let r=n instanceof Error?n.message:"Unknown error occurred";t({error:r,loading:!1})}},addTask:async n=>{let r={...n,id:`temp-${Date.now()}`,createdAt:new Date},s=e().tasks;t({tasks:[...s,r]});try{let i=await ko.add(n);t(o=>({tasks:o.tasks.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,tasks:s})}},updateTask:async(n,r)=>{let s=e().tasks,i=s.map(o=>o.id===n?{...o,...r}:o);t({tasks:i});try{await ko.update(n,r)}catch(o){t({error:o.message,tasks:s})}},deleteTask:async n=>{let r=e().tasks,s=r.filter(i=>i.id!==n);t({tasks:s});try{await ko.delete(n)}catch(i){t({error:i.message,tasks:r})}},addList:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().lists;if(s.find(a=>a.name.toLowerCase()===n.name.toLowerCase())){t({error:`A list with the name "${n.name}" already exists`});return}let o=[...s,r];n.isDefault&&(o=o.map(a=>({...a,isDefault:a.id===r.id}))),t({lists:o});try{let a=await Hs.add(n);t(l=>({lists:l.lists.map(c=>c.id===r.id?{...c,id:a}:c)}))}catch(a){t({error:a.message,lists:s})}},updateList:async(n,r)=>{let s=e().lists,i=s.map(o=>o.id===n?{...o,...r}:o);r.isDefault&&(i=i.map(o=>({...o,isDefault:o.id===n}))),t({lists:i});try{await Hs.update(n,r)}catch(o){t({error:o.message,lists:s})}},deleteList:async n=>{let r=e().lists,s=r.filter(i=>i.id!==n);t({lists:s});try{await Hs.delete(n)}catch(i){t({error:i.message,lists:r})}},addTag:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().tags;t({tags:[...s,r]});try{let i=await ul.add(n);t(o=>({tags:o.tags.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,tags:s})}},updateTag:async(n,r)=>{let s=e().tags,i=s.map(o=>o.id===n?{...o,...r}:o);t({tags:i});try{await ul.update(n,r)}catch(o){t({error:o.message,tags:s})}},deleteTag:async n=>{let r=e().tags,s=r.filter(i=>i.id!==n);t({tags:s});try{await ul.delete(n)}catch(i){t({error:i.message,tags:r})}},addListFolder:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().listFolders;t({listFolders:[...s,r]});try{let i=await dl.add(n);t(o=>({listFolders:o.listFolders.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,listFolders:s})}},updateListFolder:async(n,r)=>{let s=e().listFolders,i=s.map(o=>o.id===n?{...o,...r}:o);t({listFolders:i});try{await dl.update(n,r)}catch(o){t({error:o.message,listFolders:s})}},deleteListFolder:async n=>{let r=e().listFolders,s=r.filter(i=>i.id!==n);t({listFolders:s});try{await dl.delete(n)}catch(i){t({error:i.message,listFolders:r})}},addTagFolder:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().tagFolders;t({tagFolders:[...s,r]});try{let i=await hl.add(n);t(o=>({tagFolders:o.tagFolders.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,tagFolders:s})}},updateTagFolder:async(n,r)=>{let s=e().tagFolders,i=s.map(o=>o.id===n?{...o,...r}:o);t({tagFolders:i});try{await hl.update(n,r)}catch(o){t({error:o.message,tagFolders:s})}},deleteTagFolder:async n=>{let r=e().tagFolders,s=r.filter(i=>i.id!==n);t({tagFolders:s});try{await hl.delete(n)}catch(i){t({error:i.message,tagFolders:r})}},getDefaultList:()=>e().lists.find(r=>r.isDefault)||null,setDefaultList:async n=>{let r=e().lists,s=r.map(i=>({...i,isDefault:i.id===n}));t({lists:s});try{let i=r.map(o=>Hs.update(o.id,{isDefault:o.id===n}));await Promise.all(i)}catch(i){t({error:i.message,lists:r})}},cleanupDuplicateInboxes:async()=>{let n=e().lists,r=n.filter(s=>s.id==="inbox");if(r.length>1){let[s,...i]=r;try{await Promise.all(i.map(a=>Hs.delete(a.id)));let o=n.filter(a=>a.id!=="inbox"||a.id===s.id);t({lists:o})}catch(o){t({error:o.message})}}},cleanupDuplicateLists:async()=>{let n=e().lists,r=new Map;n.forEach(o=>{let a=o.name.toLowerCase();r.has(a)||r.set(a,[]),r.get(a).push(o)});let s=[],i=[];for(let[o,a]of r)if(a.length>1){let[l,...c]=a;i.push(l),s.push(...c)}else i.push(a[0]);if(s.length>0)try{await Promise.all(s.map(o=>Hs.delete(o.id))),t({lists:i}),console.log(`Cleaned up ${s.length} duplicate lists`)}catch(o){t({error:o.message})}},setSearchQuery:n=>t({searchQuery:n}),setFilterOption:n=>t({filterOption:n}),setSortOption:n=>t({sortOption:n}),setSortDirection:n=>t({sortDirection:n}),getFilteredAndSortedTasks:(n,r,s,i,o)=>{let a=e(),l=r??a.searchQuery,c=s??a.filterOption,d=i??a.sortOption,h=o??a.sortDirection,f=n;if(l.trim()){let y=l.toLowerCase();f=n.filter(w=>w.title.toLowerCase().includes(y)||w.description?.toLowerCase().includes(y))}switch(c){case"completed":f=f.filter(v=>v.completed);break;case"uncompleted":f=f.filter(v=>!v.completed);break;case"overdue":f=f.filter(v=>v.dueDate&&new Date(v.dueDate).setHours(0,0,0,0)<new Date().setHours(0,0,0,0)&&!v.completed);break;case"dueToday":f=f.filter(v=>v.dueDate&&new Date(v.dueDate).toDateString()===new Date().toDateString());break;case"dueThisWeek":let y=new Date,w=new Date(y);w.setDate(y.getDate()+7),f=f.filter(v=>v.dueDate&&new Date(v.dueDate)>=y&&new Date(v.dueDate)<=w);break;default:break}return[...f].sort((y,w)=>{let v=0;switch(d){case"created":v=new Date(y.createdAt).getTime()-new Date(w.createdAt).getTime();break;case"dueDate":!y.dueDate&&!w.dueDate?v=0:y.dueDate?w.dueDate?v=new Date(y.dueDate).getTime()-new Date(w.dueDate).getTime():v=-1:v=1;break;case"priority":let g=y.priority||0;v=(w.priority||0)-g;break;case"title":v=y.title.localeCompare(w.title);break}return h==="asc"?v:-v})}}),{name:"kary-store"}))});var IG,ta,hp=G(()=>{"use strict";Fu();Uu();pc();IG=t=>({target:"TargetIcon",trophy:"TrophyIcon",star:"StarIcon",flag:"FlagIcon",FitnessIcon:"ActivityIcon",BookIcon:"BookOpenIcon",MindIcon:"ActivityIcon",WaterIcon:"ActivityIcon",PlanIcon:"FileTextIcon",HeartIcon:"HeartIcon",Edit3Icon:"Edit3Icon",CheckSquareIcon:"CheckSquareIcon",StarIcon:"StarIcon",leaf:"ActivityIcon",book:"BookOpenIcon",calendar:"CalendarIcon",list:"ListIcon",tag:"TagIcon",plus:"PlusIcon",home:"HomeIcon",inbox:"InboxIcon",clock:"ClockIcon",today:"TodayIcon",tomorrow:"TomorrowIcon"})[t]||"CircleIcon",ta=Di()(Ci((t,e)=>({habits:[],habitLogs:[],goals:[],milestones:[],quickWins:[],loading:!1,error:null,fetchAbhyasaData:async()=>{t({loading:!0,error:null});try{let[n,r,s,i,o]=await Promise.all([Co.getAll(),Ro.getAll(),ml.getAll(),pl.getAll(),gl.getAll()]),a=n.map(c=>({...c,icon:IG(c.icon)})),l=s.map(c=>({...c,icon:IG(c.icon)}));t({habits:a,habitLogs:r,goals:l,milestones:i,quickWins:o,loading:!1})}catch(n){t({error:n.message,loading:!1})}},addHabit:async n=>{let r={...n,id:`temp-${Date.now()}`,createdAt:new Date},s=e().habits;t({habits:[...s,r]});try{let i=await Co.add(n);t(o=>({habits:o.habits.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,habits:s})}},updateHabit:async(n,r)=>{let s=e().habits,i=s.map(o=>o.id===n?{...o,...r}:o);t({habits:i});try{await Co.update(n,r)}catch(o){t({error:o.message,habits:s})}},deleteHabit:async n=>{let r=e().habits,s=r.filter(i=>i.id!==n);t({habits:s});try{await Co.delete(n)}catch(i){t({error:i.message,habits:r})}},addHabitLog:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().habitLogs;t({habitLogs:[...s,r]});try{let i=await Ro.add(n);t(o=>({habitLogs:o.habitLogs.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,habitLogs:s})}},updateHabitLog:async(n,r)=>{let s=e().habitLogs,i=s.map(o=>o.id===n?{...o,...r}:o);t({habitLogs:i});try{await Ro.update(n,r)}catch(o){t({error:o.message,habitLogs:s})}},deleteHabitLog:async n=>{let r=e().habitLogs,s=r.filter(i=>i.id!==n);t({habitLogs:s});try{await Ro.delete(n)}catch(i){t({error:i.message,habitLogs:r})}},addGoal:async n=>{let r={...n,id:`temp-${Date.now()}`,startDate:new Date},s=e().goals;t({goals:[...s,r]});try{let i=await ml.add(n);t(o=>({goals:o.goals.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,goals:s})}},updateGoal:async(n,r)=>{let s=e().goals,i=s.map(o=>o.id===n?{...o,...r}:o);t({goals:i});try{await ml.update(n,r)}catch(o){t({error:o.message,goals:s})}},deleteGoal:async n=>{let r=e().goals,s=r.filter(i=>i.id!==n);t({goals:s});try{await ml.delete(n)}catch(i){t({error:i.message,goals:r})}},addMilestone:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().milestones;t({milestones:[...s,r]});try{let i=await pl.add(n);t(o=>({milestones:o.milestones.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,milestones:s})}},updateMilestone:async(n,r)=>{let s=e().milestones,i=s.map(o=>o.id===n?{...o,...r}:o);t({milestones:i});try{await pl.update(n,r)}catch(o){t({error:o.message,milestones:s})}},deleteMilestone:async n=>{let r=e().milestones,s=r.filter(i=>i.id!==n);t({milestones:s});try{await pl.delete(n)}catch(i){t({error:i.message,milestones:r})}},addQuickWin:async n=>{let r={...n,id:`temp-${Date.now()}`,createdAt:new Date},s=e().quickWins;t({quickWins:[...s,r]});try{let i=await gl.add(n);t(o=>({quickWins:o.quickWins.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,quickWins:s})}},updateQuickWin:async(n,r)=>{let s=e().quickWins,i=s.map(o=>o.id===n?{...o,...r}:o);t({quickWins:i});try{await gl.update(n,r)}catch(o){t({error:o.message,quickWins:s})}},deleteQuickWin:async n=>{let r=e().quickWins,s=r.filter(i=>i.id!==n);t({quickWins:s});try{await gl.delete(n)}catch(i){t({error:i.message,quickWins:r})}}}),{name:"abhyasa-store"}))});var Wr,vc=G(()=>{"use strict";Fu();Uu();pc();Wr=Di()(Ci((t,e)=>({logs:[],logTemplates:[],foci:[],loading:!1,error:null,fetchDainandiniData:async()=>{t({loading:!0,error:null});try{let[n,r,s]=await Promise.all([Ao.getAll(),fl.getAll(),Do.getAll()]);if(s.length===0){let{initialFoci:i}=await Promise.resolve().then(()=>(fT(),nC)),o=s.map(l=>l.name),a=i.filter(l=>!o.includes(l.name));if(a.length>0){await Promise.all(a.map(d=>Do.add(d)));let c=(await Do.getAll()).filter((d,h,f)=>h===f.findIndex(m=>m.id===d.id));t({logs:n,logTemplates:r,foci:c,loading:!1})}else t({logs:n,logTemplates:r,foci:s,loading:!1})}else{let i=s.filter((o,a,l)=>a===l.findIndex(c=>c.id===o.id));t({logs:n,logTemplates:r,foci:i,loading:!1})}}catch(n){t({error:n.message,loading:!1})}},addLog:async n=>{let r={...n,id:`temp-${Date.now()}`,createdAt:new Date},s=e().logs;t({logs:[...s,r]});try{let i=await Ao.add(n);t(o=>({logs:o.logs.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,logs:s})}},updateLog:async(n,r)=>{let s=e().logs,i=s.map(o=>o.id===n?{...o,...r}:o);t({logs:i});try{await Ao.update(n,r)}catch(o){t({error:o.message,logs:s})}},deleteLog:async n=>{let r=e().logs,s=r.filter(i=>i.id!==n);t({logs:s});try{await Ao.delete(n)}catch(i){t({error:i.message,logs:r})}},addLogTemplate:async n=>{let r={...n,id:`temp-${Date.now()}`},s=e().logTemplates;t({logTemplates:[...s,r]});try{let i=await fl.add(n);t(o=>({logTemplates:o.logTemplates.map(a=>a.id===r.id?{...a,id:i}:a)}))}catch(i){t({error:i.message,logTemplates:s})}},updateLogTemplate:async(n,r)=>{let s=e().logTemplates,i=s.map(o=>o.id===n?{...o,...r}:o);t({logTemplates:i});try{await fl.update(n,r)}catch(o){t({error:o.message,logTemplates:s})}},deleteLogTemplate:async n=>{let r=e().logTemplates,s=r.filter(i=>i.id!==n);t({logTemplates:s});try{await fl.delete(n)}catch(i){t({error:i.message,logTemplates:r})}},addFocus:async n=>{let r=e().foci;if(r.find(o=>o.name===n.name)){console.warn(`Focus with name "${n.name}" already exists`);return}let i={...n,id:`temp-${Date.now()}`};t({foci:[...r,i]});try{let o=await Do.add(n);t(a=>({foci:a.foci.map(l=>l.id===i.id?{...l,id:o}:l)}))}catch(o){t({error:o.message,foci:r})}},updateFocus:async(n,r)=>{let s=e().foci,i=s.map(o=>o.id===n?{...o,...r}:o);t({foci:i});try{await Do.update(n,r)}catch(o){t({error:o.message,foci:s})}},deleteFocus:async n=>{let r=e().foci,s=r.filter(i=>i.id!==n);t({foci:s});try{await Do.delete(n)}catch(i){t({error:i.message,foci:r})}}}),{name:"dainandini-store"}))});var qu=G(()=>{"use strict"});var _s=G(()=>{"use strict";JL()});var Lx,xG,uue,EG,Px=G(()=>{"use strict";_s();qu();Lx=(t,e,n)=>{let r=n.toISOString().split("T")[0],s=e.filter(o=>o.habitId===t.id&&o.date===r),i=s.length>0?s[s.length-1]:null;if(!i)return!1;if(t.type==="binary")return!0;if(t.type==="checklist"){let o=i.completedChecklistItems||[];return(t.checklist?.length||0)===0?!1:(t.checklist?.map(d=>d.id)||[]).every(d=>o.includes(d))}else if(t.type==="count"||t.type==="duration"){let o=i.value||0,a=t.dailyTarget||0;return a>0&&o>=a}return!1},xG=(t,e,n,r,s=[],i=[])=>{let o=[];return t.forEach(a=>{if(a.dueDate){let l=s.find(c=>c.id===a.listId);o.push({id:`task-${a.id}`,type:"task",title:a.title,description:l?l.name:"Inbox",date:new Date(a.dueDate),color:"blue-500",icon:"CheckSquareIcon",completed:a.completed,originalData:a})}}),e.forEach(a=>{if(a.status!=="In Progress")return;let l=i.find(b=>b.id===a.focusAreaId),c=new Date(a.startDate),d=a.endDate?new Date(a.endDate):null,h=new Date,f,m;d?(f=new Date(c),m=new Date(d)):(f=new Date(Math.max(c.getTime(),h.getTime())),m=new Date(h),m.setFullYear(h.getFullYear()+1));let y=new Date(h);y.setHours(0,0,0,0);let w=new Date(f);if(w.setHours(0,0,0,0),w>y)return;let v=new Date(m);if(v.setHours(0,0,0,0),w>v)return;let g=new Date(f);for(;g<=m;){let b=new Date(g);if(b.setHours(0,0,0,0),b>=y)if(a.reminders&&a.reminders.length>0)a.reminders.forEach((I,k)=>{let[R,F]=I.split(":").map(Number),S=new Date(g);S.setHours(R,F,0,0);let E=Lx(a,n,g);o.push({id:`habit-${a.id}-${g.toISOString().split("T")[0]}-${k}`,type:"habit",title:a.title,description:l?l.name:a.description,date:S,color:a.color||"green-500",icon:a.icon,completed:E,originalData:a})});else{let I=new Date(g);I.setHours(9,0,0,0);let k=Lx(a,n,g);o.push({id:`habit-${a.id}-${g.toISOString().split("T")[0]}`,type:"habit",title:a.title,description:l?l.name:a.description,date:I,color:a.color||"green-500",icon:a.icon,completed:k,originalData:a})}g.setDate(g.getDate()+1)}}),r.forEach(a=>{o.push({id:`log-${a.id}`,type:"log",title:a.title,description:a.description,date:new Date(a.logDate),color:"purple-500",icon:"Edit3Icon",completed:a.completed||!1,originalData:a})}),o.sort((a,l)=>a.date.getTime()-l.date.getTime())},uue=(t,e,n)=>t.filter(r=>{let s=new Date(r.date);return s>=e&&s<=n}),EG=(t,e)=>{let n=new Date(e);n.setHours(0,0,0,0);let r=new Date(e);return r.setHours(23,59,59,999),uue(t,n,r)}});var Mn,na=G(()=>{"use strict";Fu();Uu();uv();hp();vc();pc();qu();Px();Mn=Di()(Ci((t,e)=>({calendarItems:[],selectedItem:null,selectedDate:new Date,loading:!1,error:null,dragHistory:[],isDragging:!1,timeSlots:[],showTimeSlots:!1,itemTypeFilters:new Set(["task","habit","log"]),realTimeSyncDisabled:!1,fetchHomeData:async()=>{t({loading:!0,error:null});try{let n=ea.getState(),r=ta.getState(),s=Wr.getState();await Promise.all([n.tasks.length===0?n.fetchKaryData():Promise.resolve(),r.habits.length===0?r.fetchAbhyasaData():Promise.resolve(),s.logs.length===0?s.fetchDainandiniData():Promise.resolve()]);let i=ea.getState(),o=ta.getState(),a=Wr.getState(),l=xG(i.tasks,o.habits,o.habitLogs,a.logs,i.lists,a.foci||[]);t({calendarItems:l,loading:!1})}catch(n){t({error:n.message,loading:!1})}},selectItem:n=>{t({selectedItem:n})},selectDate:n=>{t({selectedDate:n})},setCalendarItems:n=>{t({calendarItems:n})},refreshData:async()=>{let{loading:n,realTimeSyncDisabled:r}=e();!n&&!r&&await e().fetchHomeData()},setRealTimeSyncDisabled:n=>{t({realTimeSyncDisabled:n})},setupRealTimeSync:()=>{let n=ko.subscribe(()=>{setTimeout(()=>e().refreshData(),100)}),r=Co.subscribe(()=>{setTimeout(()=>e().refreshData(),100)}),s=Ro.subscribe(()=>{setTimeout(()=>e().refreshData(),100)}),i=Ao.subscribe(()=>{setTimeout(()=>e().refreshData(),100)});return()=>{n(),r(),s(),i()}},startDrag:()=>{t({isDragging:!0})},endDrag:()=>{t({isDragging:!1})},moveItemToDate:async(n,r)=>{let{calendarItems:s,dragHistory:i}=e(),o=s.find(d=>d.id===n);if(!o)return;let a=o.date,l={itemId:n,originalDate:a,newDate:r,timestamp:Date.now()},c=s.map(d=>d.id===n?{...d,date:r}:d);try{switch(o.type){case"task":let d=ea.getState(),h=o.originalData;h&&h.id&&await d.updateTask(h.id,{dueDate:r});break;case"habit":break;case"log":let f=Wr.getState(),m=o.originalData;m&&m.id&&await f.updateLog(m.id,{logDate:r});break}t({calendarItems:c,dragHistory:[...i,l].slice(-10)}),setTimeout(()=>e().fetchHomeData(),200)}catch(d){console.error("Failed to update item date:",d),t({calendarItems:s})}},undoLastDrag:async()=>{let{dragHistory:n,calendarItems:r}=e();if(n.length===0)return;let s=n[n.length-1],{itemId:i,originalDate:o}=s,a=r.map(l=>l.id===i?{...l,date:o}:l);try{let l=r.find(c=>c.id===i);if(l)switch(l.type){case"task":let c=ea.getState(),d=l.originalData;d&&d.id&&await c.updateTask(d.id,{dueDate:o});break;case"habit":break;case"log":let h=Wr.getState(),f=l.originalData;f&&f.id&&await h.updateLog(f.id,{logDate:o});break}t({calendarItems:a,dragHistory:n.slice(0,-1)}),setTimeout(()=>e().fetchHomeData(),200)}catch(l){console.error("Failed to undo drag operation:",l)}},clearDragHistory:()=>{t({dragHistory:[]})},updateItemTime:async(n,r,s)=>{let{calendarItems:i}=e(),o=i.map(a=>a.id===n?{...a,startTime:r,endTime:s,duration:e().calculateDuration(r,s),timeSlot:{startTime:r,endTime:s,duration:e().calculateDuration(r,s)}}:a);t({calendarItems:o}),setTimeout(()=>e().fetchHomeData(),200)},toggleTimeSlots:()=>{let{showTimeSlots:n}=e();t({showTimeSlots:!n})},generateTimeSlots:(n,r,s)=>{let i=[];for(let o=n;o<r;o++)for(let a=0;a<60;a+=s){let l=`${o.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`,c=a+s,d=o+Math.floor(c/60),h=c%60,f=`${d.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}`;i.push({startTime:l,endTime:f,duration:s})}t({timeSlots:i})},checkTimeConflicts:(n,r,s,i)=>{let{calendarItems:o}=e(),a=o.filter(c=>new Date(c.date).toDateString()===n.toDateString()&&c.id!==i&&c.startTime&&c.endTime),l=[];for(let c of a)if(c.startTime&&c.endTime){let d=c.startTime,h=c.endTime;(r<h&&s>d||d<s&&h>r)&&l.push(c)}return l},calculateDuration:(n,r)=>{let[s,i]=n.split(":").map(Number),[o,a]=r.split(":").map(Number),l=s*60+i,c=o*60+a;return Math.max(0,c-l)},toggleItemTypeFilter:n=>{let{itemTypeFilters:r}=e(),s=new Set(r);s.has(n)?s.delete(n):s.add(n),t({itemTypeFilters:s})}}),{name:"home-store"}))});var Ox,ra,due,SG,NG=G(()=>{"use strict";Ox=L(ge(),1),ra=L(H(),1),due=({children:t,isMobile:e})=>e?(0,ra.jsx)("div",{className:"flex flex-col h-full",children:(0,ra.jsx)("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent hover:scrollbar-thumb-gray-400",children:t})}):(0,ra.jsxs)("div",{className:"flex h-full bg-gray-50",children:[(0,ra.jsx)("div",{className:"w-1/4 min-w-0 border-r border-gray-200 bg-white",children:(0,ra.jsx)("div",{className:"h-full overflow-y-auto p-4 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent hover:scrollbar-thumb-gray-400",children:Ox.default.Children.toArray(t)[0]})}),(0,ra.jsx)("div",{className:"w-2/5 min-w-0 border-r border-gray-200 bg-white",children:(0,ra.jsx)("div",{className:"h-full overflow-y-auto p-4 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent hover:scrollbar-thumb-gray-400",children:Ox.default.Children.toArray(t)[1]})}),(0,ra.jsx)("div",{className:"w-2/5 min-w-0 bg-white",children:(0,ra.jsx)("div",{className:"h-full overflow-y-auto p-4 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent hover:scrollbar-thumb-gray-400",children:Ox.default.Children.toArray(t)[2]})})]}),SG=due});function xh(t){let e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Mx(t){return"nodeType"in t}function Bs(t){var e,n;return t?xh(t)?t:Mx(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Fx(t){let{Document:e}=Bs(t);return t instanceof e}function gp(t){return xh(t)?!1:t instanceof Bs(t).HTMLElement}function mP(t){return t instanceof Bs(t).SVGElement}function Eh(t){return t?xh(t)?t.document:Mx(t)?Fx(t)?t:gp(t)||mP(t)?t.ownerDocument:document:document:document}function hv(t){let e=(0,Ur.useRef)(t);return bc(()=>{e.current=t}),(0,Ur.useCallback)(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function AG(){let t=(0,Ur.useRef)(null),e=(0,Ur.useCallback)((r,s)=>{t.current=setInterval(r,s)},[]),n=(0,Ur.useCallback)(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function pP(t,e){e===void 0&&(e=[t]);let n=(0,Ur.useRef)(t);return bc(()=>{n.current!==t&&(n.current=t)},e),n}function yp(t,e){let n=(0,Ur.useRef)();return(0,Ur.useMemo)(()=>{let r=t(n.current);return n.current=r,r},[...e])}function DG(t){let e=hv(t),n=(0,Ur.useRef)(null),r=(0,Ur.useCallback)(s=>{s!==n.current&&e?.(s,n.current),n.current=s},[]);return[n,r]}function fv(t){let e=(0,Ur.useRef)();return(0,Ur.useEffect)(()=>{e.current=t},[t]),e.current}function gP(t,e){return(0,Ur.useMemo)(()=>{if(e)return e;let n=fP[t]==null?0:fP[t]+1;return fP[t]=n,t+"-"+n},[t,e])}function CG(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((i,o)=>{let a=Object.entries(o);for(let[l,c]of a){let d=i[l];d!=null&&(i[l]=d+t*c)}return i},{...e})}}function hue(t){return"clientX"in t&&"clientY"in t}function Ux(t){if(!t)return!1;let{KeyboardEvent:e}=Bs(t.target);return e&&t instanceof e}function fue(t){if(!t)return!1;let{TouchEvent:e}=Bs(t.target);return e&&t instanceof e}function pv(t){if(fue(t)){if(t.touches&&t.touches.length){let{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){let{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return hue(t)?{x:t.clientX,y:t.clientY}:null}function RG(t){return t.matches(kG)?t:t.querySelector(kG)}var Ur,dv,bc,fP,Sh,mv,pp,kG,LG=G(()=>{Ur=L(ge()),dv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";bc=dv?Ur.useLayoutEffect:Ur.useEffect;fP={};Sh=CG(1),mv=CG(-1);pp=Object.freeze({Translate:{toString(t){if(!t)return;let{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;let{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[pp.Translate.toString(t),pp.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),kG="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]"});function PG(t){let{id:e,value:n}=t;return Nh.default.createElement("div",{id:e,style:mue},n)}function OG(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t,s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Nh.default.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function MG(){let[t,e]=(0,Nh.useState)("");return{announce:(0,Nh.useCallback)(r=>{r!=null&&e(r)},[]),announcement:t}}var Nh,mue,FG=G(()=>{Nh=L(ge()),mue={display:"none"}});function pue(t){let e=(0,Q.useContext)(WG);(0,Q.useEffect)(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function gue(){let[t]=(0,Q.useState)(()=>new Set),e=(0,Q.useCallback)(r=>(t.add(r),()=>t.delete(r)),[t]);return[(0,Q.useCallback)(r=>{let{type:s,event:i}=r;t.forEach(o=>{var a;return(a=o[s])==null?void 0:a.call(o,i)})},[t]),e]}function bue(t){let{announcements:e=vue,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=yue}=t,{announce:i,announcement:o}=MG(),a=gP("DndLiveRegion"),[l,c]=(0,Q.useState)(!1);if((0,Q.useEffect)(()=>{c(!0)},[]),pue((0,Q.useMemo)(()=>({onDragStart(h){let{active:f}=h;i(e.onDragStart({active:f}))},onDragMove(h){let{active:f,over:m}=h;e.onDragMove&&i(e.onDragMove({active:f,over:m}))},onDragOver(h){let{active:f,over:m}=h;i(e.onDragOver({active:f,over:m}))},onDragEnd(h){let{active:f,over:m}=h;i(e.onDragEnd({active:f,over:m}))},onDragCancel(h){let{active:f,over:m}=h;i(e.onDragCancel({active:f,over:m}))}}),[i,e])),!l)return null;let d=Q.default.createElement(Q.default.Fragment,null,Q.default.createElement(PG,{id:r,value:s.draggable}),Q.default.createElement(OG,{id:a,announcement:o}));return n?(0,kh.createPortal)(d,n):d}function Hx(){}function QG(t,e){return(0,Q.useMemo)(()=>({sensor:t,options:e??{}}),[t,e])}function YG(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,Q.useMemo)(()=>[...e].filter(r=>r!=null),[...e])}function wue(t,e){let n=pv(t);if(!n)return"0 0";let r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function _ue(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function Tue(t,e){if(!t||t.length===0)return null;let[n]=t;return e?n[e]:n}function Iue(t,e){let n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),o=s-r,a=i-n;if(r<s&&n<i){let l=e.width*e.height,c=t.width*t.height,d=o*a,h=d/(l+c-d);return Number(h.toFixed(4))}return 0}function Eue(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function XG(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:sa}function Sue(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...n})}}function JG(t){if(t.startsWith("matrix3d(")){let e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){let e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function kue(t,e,n){let r=JG(e);if(!r)return t;let{scaleX:s,scaleY:i,x:o,y:a}=r,l=t.left-o-(1-s)*parseFloat(n),c=t.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=s?t.width/s:t.width,h=i?t.height/i:t.height;return{width:d,height:h,top:c,right:l+d,bottom:c+h,left:l}}function wv(t,e){e===void 0&&(e=Aue);let n=t.getBoundingClientRect();if(e.ignoreTransform){let{transform:c,transformOrigin:d}=Bs(t).getComputedStyle(t);c&&(n=kue(n,c,d))}let{top:r,left:s,width:i,height:o,bottom:a,right:l}=n;return{top:r,left:s,width:i,height:o,bottom:a,right:l}}function UG(t){return wv(t,{ignoreTransform:!0})}function Due(t){let e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function Cue(t,e){return e===void 0&&(e=Bs(t).getComputedStyle(t)),e.position==="fixed"}function Rue(t,e){e===void 0&&(e=Bs(t).getComputedStyle(t));let n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{let i=e[s];return typeof i=="string"?n.test(i):!1})}function EP(t,e){let n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(Fx(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!gp(s)||mP(s)||n.includes(s))return n;let i=Bs(t).getComputedStyle(s);return s!==t&&Rue(s,i)&&n.push(s),Cue(s,i)?n:r(s.parentNode)}return t?r(t):n}function ZG(t){let[e]=EP(t,1);return e??null}function yP(t){return!dv||!t?null:xh(t)?t:Mx(t)?Fx(t)||t===Eh(t).scrollingElement?window:gp(t)?t:null:null}function e8(t){return xh(t)?t.scrollX:t.scrollLeft}function t8(t){return xh(t)?t.scrollY:t.scrollTop}function wP(t){return{x:e8(t),y:t8(t)}}function n8(t){return!dv||!t?!1:t===document.scrollingElement}function r8(t){let e={x:0,y:0},n=n8(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}function Pue(t,e,n,r,s){let{top:i,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),s===void 0&&(s=Lue);let{isTop:c,isBottom:d,isLeft:h,isRight:f}=r8(t),m={x:0,y:0},y={x:0,y:0},w={height:e.height*s.y,width:e.width*s.x};return!c&&i<=e.top+w.height?(m.y=hs.Backward,y.y=r*Math.abs((e.top+w.height-i)/w.height)):!d&&l>=e.bottom-w.height&&(m.y=hs.Forward,y.y=r*Math.abs((e.bottom-w.height-l)/w.height)),!f&&a>=e.right-w.width?(m.x=hs.Forward,y.x=r*Math.abs((e.right-w.width-a)/w.width)):!h&&o<=e.left+w.width&&(m.x=hs.Backward,y.x=r*Math.abs((e.left+w.width-o)/w.width)),{direction:m,speed:y}}function Oue(t){if(t===document.scrollingElement){let{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}let{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function s8(t){return t.reduce((e,n)=>Sh(e,wP(n)),sa)}function Mue(t){return t.reduce((e,n)=>e+e8(n),0)}function Fue(t){return t.reduce((e,n)=>e+t8(n),0)}function i8(t,e){if(e===void 0&&(e=wv),!t)return;let{top:n,left:r,bottom:s,right:i}=e(t);ZG(t)&&(s<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}function Vue(t){let{EventTarget:e}=Bs(t);return t instanceof e?t:Eh(t)}function vP(t,e){let n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}function VG(t){t.preventDefault()}function Hue(t){t.stopPropagation()}function HG(t){return!!(t&&"distance"in t)}function BG(t){return!!(t&&"delay"in t)}function jue(t){let{acceleration:e,activator:n=gv.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:o=5,order:a=qx.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:d,delta:h,threshold:f}=t,m=$ue({delta:h,disabled:!i}),[y,w]=AG(),v=(0,Q.useRef)({x:0,y:0}),g=(0,Q.useRef)({x:0,y:0}),b=(0,Q.useMemo)(()=>{switch(n){case gv.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case gv.DraggableRect:return s}},[n,s,l]),I=(0,Q.useRef)(null),k=(0,Q.useCallback)(()=>{let F=I.current;if(!F)return;let S=v.current.x*g.current.x,E=v.current.y*g.current.y;F.scrollBy(S,E)},[]),R=(0,Q.useMemo)(()=>a===qx.TreeOrder?[...c].reverse():c,[a,c]);(0,Q.useEffect)(()=>{if(!i||!c.length||!b){w();return}for(let F of R){if(r?.(F)===!1)continue;let S=c.indexOf(F),E=d[S];if(!E)continue;let{direction:x,speed:T}=Pue(F,E,b,e,f);for(let N of["x","y"])m[N][x[N]]||(T[N]=0,x[N]=0);if(T.x>0||T.y>0){w(),I.current=F,y(k,o),v.current=T,g.current=x;return}}v.current={x:0,y:0},g.current={x:0,y:0},w()},[e,k,r,w,i,o,JSON.stringify(b),JSON.stringify(m),y,c,R,d,JSON.stringify(f)])}function $ue(t){let{delta:e,disabled:n}=t,r=fv(e);return yp(s=>{if(n||!r||!s)return Gue;let i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[hs.Backward]:s.x[hs.Backward]||i.x===-1,[hs.Forward]:s.x[hs.Forward]||i.x===1},y:{[hs.Backward]:s.y[hs.Backward]||i.y===-1,[hs.Forward]:s.y[hs.Forward]||i.y===1}}},[n,e,r])}function Kue(t,e){let n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return yp(s=>{var i;return e==null?null:(i=r??s)!=null?i:null},[r,e])}function Wue(t,e){return(0,Q.useMemo)(()=>t.reduce((n,r)=>{let{sensor:s}=r,i=s.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...i]},[]),[t,e])}function Que(t,e){let{dragging:n,dependencies:r,config:s}=e,[i,o]=(0,Q.useState)(null),{frequency:a,measure:l,strategy:c}=s,d=(0,Q.useRef)(t),h=v(),f=pP(h),m=(0,Q.useCallback)(function(g){g===void 0&&(g=[]),!f.current&&o(b=>b===null?g:b.concat(g.filter(I=>!b.includes(I))))},[f]),y=(0,Q.useRef)(null),w=yp(g=>{if(h&&!n)return qG;if(!g||g===qG||d.current!==t||i!=null){let b=new Map;for(let I of t){if(!I)continue;if(i&&i.length>0&&!i.includes(I.id)&&I.rect.current){b.set(I.id,I.rect.current);continue}let k=I.node.current,R=k?new yv(l(k),k):null;I.rect.current=R,R&&b.set(I.id,R)}return b}return g},[t,i,n,h,l]);return(0,Q.useEffect)(()=>{d.current=t},[t]),(0,Q.useEffect)(()=>{h||m()},[n,h]),(0,Q.useEffect)(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),(0,Q.useEffect)(()=>{h||typeof a!="number"||y.current!==null||(y.current=setTimeout(()=>{m(),y.current=null},a))},[a,h,m,...r]),{droppableRects:w,measureDroppableContainers:m,measuringScheduled:i!=null};function v(){switch(c){case bv.Always:return!1;case bv.BeforeDragging:return n;default:return!n}}}function SP(t,e){return yp(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function Yue(t,e){return SP(t,e)}function Xue(t){let{callback:e,disabled:n}=t,r=hv(e),s=(0,Q.useMemo)(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;let{MutationObserver:i}=window;return new i(r)},[r,n]);return(0,Q.useEffect)(()=>()=>s?.disconnect(),[s]),s}function NP(t){let{callback:e,disabled:n}=t,r=hv(e),s=(0,Q.useMemo)(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;let{ResizeObserver:i}=window;return new i(r)},[n]);return(0,Q.useEffect)(()=>()=>s?.disconnect(),[s]),s}function Jue(t){return new yv(wv(t),t)}function zG(t,e,n){e===void 0&&(e=Jue);let[r,s]=(0,Q.useState)(null);function i(){s(l=>{if(!t)return null;if(t.isConnected===!1){var c;return(c=l??n)!=null?c:null}let d=e(t);return JSON.stringify(l)===JSON.stringify(d)?l:d})}let o=Xue({callback(l){if(t)for(let c of l){let{type:d,target:h}=c;if(d==="childList"&&h instanceof HTMLElement&&h.contains(t)){i();break}}}}),a=NP({callback:i});return bc(()=>{i(),t?(a?.observe(t),o?.observe(document.body,{childList:!0,subtree:!0})):(a?.disconnect(),o?.disconnect())},[t]),r}function Zue(t){let e=SP(t);return XG(t,e)}function ede(t){let e=(0,Q.useRef)(t),n=yp(r=>t?r&&r!==jG&&t&&e.current&&t.parentNode===e.current.parentNode?r:EP(t):jG,[t]);return(0,Q.useEffect)(()=>{e.current=t},[t]),n}function tde(t){let[e,n]=(0,Q.useState)(null),r=(0,Q.useRef)(t),s=(0,Q.useCallback)(i=>{let o=yP(i.target);o&&n(a=>a?(a.set(o,wP(o)),new Map(a)):null)},[]);return(0,Q.useEffect)(()=>{let i=r.current;if(t!==i){o(i);let a=t.map(l=>{let c=yP(l);return c?(c.addEventListener("scroll",s,{passive:!0}),[c,wP(c)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{o(t),o(i)};function o(a){a.forEach(l=>{let c=yP(l);c?.removeEventListener("scroll",s)})}},[s,t]),(0,Q.useMemo)(()=>t.length?e?Array.from(e.values()).reduce((i,o)=>Sh(i,o),sa):s8(t):sa,[t,e])}function GG(t,e){e===void 0&&(e=[]);let n=(0,Q.useRef)(null);return(0,Q.useEffect)(()=>{n.current=null},e),(0,Q.useEffect)(()=>{let r=t!==sa;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?mv(t,n.current):sa}function nde(t){(0,Q.useEffect)(()=>{if(!dv)return;let e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(let n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function a8(t){return(0,Q.useMemo)(()=>t?Due(t):null,[t])}function rde(t,e){e===void 0&&(e=wv);let[n]=t,r=a8(n?Bs(n):null),[s,i]=(0,Q.useState)($G);function o(){i(()=>t.length?t.map(l=>n8(l)?r:new yv(e(l),l)):$G)}let a=NP({callback:o});return bc(()=>{a?.disconnect(),o(),t.forEach(l=>a?.observe(l))},[t]),s}function l8(t){if(!t)return null;if(t.children.length>1)return t;let e=t.children[0];return gp(e)?e:t}function sde(t){let{measure:e}=t,[n,r]=(0,Q.useState)(null),s=(0,Q.useCallback)(c=>{for(let{target:d}of c)if(gp(d)){r(h=>{let f=e(d);return h?{...h,width:f.width,height:f.height}:f});break}},[e]),i=NP({callback:s}),o=(0,Q.useCallback)(c=>{let d=l8(c);i?.disconnect(),d&&i?.observe(d),r(d?e(d):null)},[e,i]),[a,l]=DG(o);return(0,Q.useMemo)(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}function lde(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Dh}}}function cde(t,e){switch(e.type){case qs.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case qs.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case qs.DragEnd:case qs.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case qs.RegisterDroppable:{let{element:n}=e,{id:r}=n,s=new Dh(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case qs.SetDroppableDisabled:{let{id:n,key:r,disabled:s}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;let o=new Dh(t.droppable.containers);return o.set(n,{...i,disabled:s}),{...t,droppable:{...t.droppable,containers:o}}}case qs.UnregisterDroppable:{let{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;let i=new Dh(t.droppable.containers);return i.delete(n),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function ude(t){let{disabled:e}=t,{active:n,activatorEvent:r,draggableNodes:s}=(0,Q.useContext)(kP),i=fv(r),o=fv(n?.id);return(0,Q.useEffect)(()=>{if(!e&&!r&&i&&o!=null){if(!Ux(i)||document.activeElement===i.target)return;let a=s.get(o);if(!a)return;let{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(let d of[l.current,c.current]){if(!d)continue;let h=RG(d);if(h){h.focus();break}}})}},[r,e,s,o,i]),null}function d8(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,i)=>i({transform:s,...r}),n):n}function dde(t){return(0,Q.useMemo)(()=>({draggable:{...Vx.draggable,...t?.draggable},droppable:{...Vx.droppable,...t?.droppable},dragOverlay:{...Vx.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function hde(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t,i=(0,Q.useRef)(!1),{x:o,y:a}=typeof s=="boolean"?{x:s,y:s}:s;bc(()=>{if(!o&&!a||!e){i.current=!1;return}if(i.current||!r)return;let c=e?.node.current;if(!c||c.isConnected===!1)return;let d=n(c),h=XG(d,r);if(o||(h.x=0),a||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){let f=ZG(c);f&&f.scrollBy({top:h.y,left:h.x})}},[e,o,a,r,n])}function fde(){return(0,Q.useContext)(u8)}function mde(t){let{animation:e,children:n}=t,[r,s]=(0,Q.useState)(null),[i,o]=(0,Q.useState)(null),a=fv(n);return!n&&!r&&a&&s(a),bc(()=>{if(!i)return;let l=r?.key,c=r?.props.id;if(l==null||c==null){s(null);return}Promise.resolve(e(c,i)).then(()=>{s(null)})},[e,r,i]),Q.default.createElement(Q.default.Fragment,null,n,r?(0,Q.cloneElement)(r,{ref:o}):null)}function gde(t){let{children:e}=t;return Q.default.createElement(kP.Provider,{value:c8},Q.default.createElement(AP.Provider,{value:pde},e))}function Ide(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:s}=t;return hv((i,o)=>{if(e===null)return;let a=n.get(i);if(!a)return;let l=a.node.current;if(!l)return;let c=l8(o);if(!c)return;let{transform:d}=Bs(o).getComputedStyle(o),h=JG(d);if(!h)return;let f=typeof e=="function"?e:xde(e);return i8(l,s.draggable.measure),f({active:{id:i,data:a.data,node:l,rect:s.draggable.measure(l)},draggableNodes:n,dragOverlay:{node:o,rect:s.dragOverlay.measure(c)},droppableContainers:r,measuringConfiguration:s,transform:h})})}function xde(t){let{duration:e,easing:n,sideEffects:r,keyframes:s}={...Tde,...t};return i=>{let{active:o,dragOverlay:a,transform:l,...c}=i;if(!e)return;let d={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},h={scaleX:l.scaleX!==1?o.rect.width*l.scaleX/a.rect.width:1,scaleY:l.scaleY!==1?o.rect.height*l.scaleY/a.rect.height:1},f={x:l.x-d.x,y:l.y-d.y,...h},m=s({...c,active:o,dragOverlay:a,transform:{initial:l,final:f}}),[y]=m,w=m[m.length-1];if(JSON.stringify(y)===JSON.stringify(w))return;let v=r?.({active:o,dragOverlay:a,...c}),g=a.node.animate(m,{duration:e,easing:n,fill:"forwards"});return new Promise(b=>{g.onfinish=()=>{v?.(),b()}})}}function Ede(t){return(0,Q.useMemo)(()=>{if(t!=null)return KG++,KG},[t])}var Q,kh,WG,yue,vue,qs,sa,xue,Nue,Aue,hs,Lue,Uue,yv,Ah,Lo,Tn,o8,Bue,Bx,vv,que,vp,zue,_P,TP,bP,IP,gv,qx,Gue,bv,xP,qG,jG,$G,ide,ode,Vx,Dh,ade,c8,kP,u8,AP,zu,h8,pde,yde,vde,bde,wde,_de,Tde,KG,f8,m8=G(()=>{Q=L(ge()),kh=L(zE());LG();FG();WG=(0,Q.createContext)(null);yue={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},vue={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(qs||(qs={}));sa=Object.freeze({x:0,y:0});xue=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t,s=[];for(let i of r){let{id:o}=i,a=n.get(o);if(a){let l=Iue(a,e);l>0&&s.push({id:o,data:{droppableContainer:i,value:l}})}}return s.sort(_ue)};Nue=Sue(1);Aue={ignoreTransform:!1};(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(hs||(hs={}));Lue={x:.2,y:.2};Uue=[["x",["left","right"],Mue],["y",["top","bottom"],Fue]],yv=class{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let r=EP(n),s=s8(r);this.rect={...e},this.width=e.width,this.height=e.height;for(let[i,o,a]of Uue)for(let l of o)Object.defineProperty(this,l,{get:()=>{let c=a(r),d=s[i]-c;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}},Ah=class{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}};(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Lo||(Lo={}));(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Tn||(Tn={}));o8={start:[Tn.Space,Tn.Enter],cancel:[Tn.Esc],end:[Tn.Space,Tn.Enter,Tn.Tab]},Bue=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Tn.Right:return{...n,x:n.x+25};case Tn.Left:return{...n,x:n.x-25};case Tn.Down:return{...n,y:n.y+25};case Tn.Up:return{...n,y:n.y-25}}},Bx=class{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;let{event:{target:n}}=e;this.props=e,this.listeners=new Ah(Eh(n)),this.windowListeners=new Ah(Bs(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Lo.Resize,this.handleCancel),this.windowListeners.add(Lo.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Lo.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&i8(r),n(sa)}handleKeyDown(e){if(Ux(e)){let{active:n,context:r,options:s}=this.props,{keyboardCodes:i=o8,coordinateGetter:o=Bue,scrollBehavior:a="smooth"}=s,{code:l}=e;if(i.end.includes(l)){this.handleEnd(e);return}if(i.cancel.includes(l)){this.handleCancel(e);return}let{collisionRect:c}=r.current,d=c?{x:c.left,y:c.top}:sa;this.referenceCoordinates||(this.referenceCoordinates=d);let h=o(e,{active:n,context:r.current,currentCoordinates:d});if(h){let f=mv(h,d),m={x:0,y:0},{scrollableAncestors:y}=r.current;for(let w of y){let v=e.code,{isTop:g,isRight:b,isLeft:I,isBottom:k,maxScroll:R,minScroll:F}=r8(w),S=Oue(w),E={x:Math.min(v===Tn.Right?S.right-S.width/2:S.right,Math.max(v===Tn.Right?S.left:S.left+S.width/2,h.x)),y:Math.min(v===Tn.Down?S.bottom-S.height/2:S.bottom,Math.max(v===Tn.Down?S.top:S.top+S.height/2,h.y))},x=v===Tn.Right&&!b||v===Tn.Left&&!I,T=v===Tn.Down&&!k||v===Tn.Up&&!g;if(x&&E.x!==h.x){let N=w.scrollLeft+f.x,D=v===Tn.Right&&N<=R.x||v===Tn.Left&&N>=F.x;if(D&&!f.y){w.scrollTo({left:N,behavior:a});return}D?m.x=w.scrollLeft-N:m.x=v===Tn.Right?w.scrollLeft-R.x:w.scrollLeft-F.x,m.x&&w.scrollBy({left:-m.x,behavior:a});break}else if(T&&E.y!==h.y){let N=w.scrollTop+f.y,D=v===Tn.Down&&N<=R.y||v===Tn.Up&&N>=F.y;if(D&&!f.x){w.scrollTo({top:N,behavior:a});return}D?m.y=w.scrollTop-N:m.y=v===Tn.Down?w.scrollTop-R.y:w.scrollTop-F.y,m.y&&w.scrollBy({top:-m.y,behavior:a});break}}this.handleMove(e,Sh(mv(h,this.referenceCoordinates),m))}}}handleMove(e,n){let{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){let{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){let{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};Bx.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=o8,onActivation:s}=e,{active:i}=n,{code:o}=t.nativeEvent;if(r.start.includes(o)){let a=i.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),s?.({event:t.nativeEvent}),!0)}return!1}}];vv=class{constructor(e,n,r){var s;r===void 0&&(r=Vue(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;let{event:i}=e,{target:o}=i;this.props=e,this.events=n,this.document=Eh(o),this.documentListeners=new Ah(this.document),this.listeners=new Ah(r),this.windowListeners=new Ah(Bs(o)),this.initialCoordinates=(s=pv(i))!=null?s:sa,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Lo.Resize,this.handleCancel),this.windowListeners.add(Lo.DragStart,VG),this.windowListeners.add(Lo.VisibilityChange,this.handleCancel),this.windowListeners.add(Lo.ContextMenu,VG),this.documentListeners.add(Lo.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(BG(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(HG(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){let{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,n)}handleStart(){let{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Lo.Click,Hue,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Lo.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;let{activated:r,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!s)return;let l=(n=pv(e))!=null?n:sa,c=mv(s,l);if(!r&&a){if(HG(a)){if(a.tolerance!=null&&vP(c,a.tolerance))return this.handleCancel();if(vP(c,a.distance))return this.handleStart()}if(BG(a)&&vP(c,a.tolerance))return this.handleCancel();this.handlePending(a,c);return}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){let{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){let{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Tn.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}},que={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}},vp=class extends vv{constructor(e){let{event:n}=e,r=Eh(n.target);super(e,que,r)}};vp.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];zue={move:{name:"mousemove"},end:{name:"mouseup"}};(function(t){t[t.RightClick=2]="RightClick"})(_P||(_P={}));TP=class extends vv{constructor(e){super(e,zue,Eh(e.event.target))}};TP.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===_P.RightClick?!1:(r?.({event:n}),!0)}}];bP={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}},IP=class extends vv{constructor(e){super(e,bP)}static setup(){return window.addEventListener(bP.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(bP.move.name,e)};function e(){}}};IP.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e,{touches:s}=n;return s.length>1?!1:(r?.({event:n}),!0)}}];(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(gv||(gv={}));(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(qx||(qx={}));Gue={x:{[hs.Backward]:!1,[hs.Forward]:!1},y:{[hs.Backward]:!1,[hs.Forward]:!1}};(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(bv||(bv={}));(function(t){t.Optimized="optimized"})(xP||(xP={}));qG=new Map;jG=[];$G=[];ide=[{sensor:vp,options:{}},{sensor:Bx,options:{}}],ode={current:{}},Vx={draggable:{measure:UG},droppable:{measure:UG,strategy:bv.WhileDragging,frequency:xP.Optimized},dragOverlay:{measure:wv}},Dh=class extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}},ade={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Dh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Hx},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Vx,measureDroppableContainers:Hx,windowRect:null,measuringScheduled:!1},c8={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Hx,draggableNodes:new Map,over:null,measureDroppableContainers:Hx},kP=(0,Q.createContext)(c8),u8=(0,Q.createContext)(ade);AP=(0,Q.createContext)({...sa,scaleX:1,scaleY:1});(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(zu||(zu={}));h8=(0,Q.memo)(function(e){var n,r,s,i;let{id:o,accessibility:a,autoScroll:l=!0,children:c,sensors:d=ide,collisionDetection:h=xue,measuring:f,modifiers:m,...y}=e,w=(0,Q.useReducer)(cde,void 0,lde),[v,g]=w,[b,I]=gue(),[k,R]=(0,Q.useState)(zu.Uninitialized),F=k===zu.Initialized,{draggable:{active:S,nodes:E,translate:x},droppable:{containers:T}}=v,N=S!=null?E.get(S):null,D=(0,Q.useRef)({initial:null,translated:null}),A=(0,Q.useMemo)(()=>{var oe;return S!=null?{id:S,data:(oe=N?.data)!=null?oe:ode,rect:D}:null},[S,N]),V=(0,Q.useRef)(null),[q,$]=(0,Q.useState)(null),[he,ie]=(0,Q.useState)(null),Se=pP(y,Object.values(y)),Le=gP("DndDescribedBy",o),Pe=(0,Q.useMemo)(()=>T.getEnabled(),[T]),Y=dde(f),{droppableRects:P,measureDroppableContainers:ee,measuringScheduled:W}=Que(Pe,{dragging:F,dependencies:[x.x,x.y],config:Y.droppable}),U=Kue(E,S),te=(0,Q.useMemo)(()=>he?pv(he):null,[he]),_e=Gh(),Ke=Yue(U,Y.draggable.measure);hde({activeNode:S!=null?E.get(S):null,config:_e.layoutShiftCompensation,initialRect:Ke,measure:Y.draggable.measure});let Ft=zG(U,Y.draggable.measure,Ke),En=zG(U?U.parentElement:null),fn=(0,Q.useRef)({activatorEvent:null,active:null,activeNode:U,collisionRect:null,collisions:null,droppableRects:P,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),de=T.getNodeFor((n=fn.current.over)==null?void 0:n.id),Ie=sde({measure:Y.dragOverlay.measure}),ir=(r=Ie.nodeRef.current)!=null?r:U,Sr=F?(s=Ie.rect)!=null?s:Ft:null,Is=!!(Ie.nodeRef.current&&Ie.rect),ce=Zue(Is?null:Ft),Ae=a8(ir?Bs(ir):null),Qe=ede(F?de??U:null),sn=rde(Qe),en=d8(m,{transform:{x:x.x-ce.x,y:x.y-ce.y,scaleX:1,scaleY:1},activatorEvent:he,active:A,activeNodeRect:Ft,containerNodeRect:En,draggingNodeRect:Sr,over:fn.current.over,overlayNodeRect:Ie.rect,scrollableAncestors:Qe,scrollableAncestorRects:sn,windowRect:Ae}),z=te?Sh(te,x):null,Be=tde(Qe),We=GG(Be),be=GG(Be,[Ft]),ke=Sh(en,We),it=Sr?Nue(Sr,en):null,Fn=A&&it?h({active:A,collisionRect:it,droppableRects:P,droppableContainers:Pe,pointerCoordinates:z}):null,Oi=Tue(Fn,"id"),[Yr,zh]=(0,Q.useState)(null),Wt=Is?en:Sh(en,be),Qs=Eue(Wt,(i=Yr?.rect)!=null?i:null,Ft),Uo=(0,Q.useRef)(null),Nc=(0,Q.useCallback)((oe,se)=>{let{sensor:$t,options:Sn}=se;if(V.current==null)return;let mn=E.get(V.current);if(!mn)return;let Xr=oe.nativeEvent,Mi=new $t({active:V.current,activeNode:mn,event:Xr,options:Sn,context:fn,onAbort(Nr){if(!E.get(Nr))return;let{onDragAbort:Fi}=Se.current,Ys={id:Nr};Fi?.(Ys),b({type:"onDragAbort",event:Ys})},onPending(Nr,Un,Fi,Ys){if(!E.get(Nr))return;let{onDragPending:Ju}=Se.current,ca={id:Nr,constraint:Un,initialCoordinates:Fi,offset:Ys};Ju?.(ca),b({type:"onDragPending",event:ca})},onStart(Nr){let Un=V.current;if(Un==null)return;let Fi=E.get(Un);if(!Fi)return;let{onDragStart:Ys}=Se.current,Vo={activatorEvent:Xr,active:{id:Un,data:Fi.data,rect:D}};(0,kh.unstable_batchedUpdates)(()=>{Ys?.(Vo),R(zu.Initializing),g({type:qs.DragStart,initialCoordinates:Nr,active:Un}),b({type:"onDragStart",event:Vo}),$(Uo.current),ie(Xr)})},onMove(Nr){g({type:qs.DragMove,coordinates:Nr})},onEnd:lo(qs.DragEnd),onCancel:lo(qs.DragCancel)});Uo.current=Mi;function lo(Nr){return async function(){let{active:Fi,collisions:Ys,over:Vo,scrollAdjustedTranslate:Ju}=fn.current,ca=null;if(Fi&&Ju){let{cancelDrop:co}=Se.current;ca={activatorEvent:Xr,active:Fi,collisions:Ys,delta:Ju,over:Vo},Nr===qs.DragEnd&&typeof co=="function"&&await Promise.resolve(co(ca))&&(Nr=qs.DragCancel)}V.current=null,(0,kh.unstable_batchedUpdates)(()=>{g({type:Nr}),R(zu.Uninitialized),zh(null),$(null),ie(null),Uo.current=null;let co=Nr===qs.DragEnd?"onDragEnd":"onDragCancel";if(ca){let Pp=Se.current[co];Pp?.(ca),b({type:co,event:ca})}})}}},[E]),Xu=(0,Q.useCallback)((oe,se)=>($t,Sn)=>{let mn=$t.nativeEvent,Xr=E.get(Sn);if(V.current!==null||!Xr||mn.dndKit||mn.defaultPrevented)return;let Mi={active:Xr};oe($t,se.options,Mi)===!0&&(mn.dndKit={capturedBy:se.sensor},V.current=Sn,Nc($t,se))},[E,Nc]),kc=Wue(d,Xu);nde(d),bc(()=>{Ft&&k===zu.Initializing&&R(zu.Initialized)},[Ft,k]),(0,Q.useEffect)(()=>{let{onDragMove:oe}=Se.current,{active:se,activatorEvent:$t,collisions:Sn,over:mn}=fn.current;if(!se||!$t)return;let Xr={active:se,activatorEvent:$t,collisions:Sn,delta:{x:ke.x,y:ke.y},over:mn};(0,kh.unstable_batchedUpdates)(()=>{oe?.(Xr),b({type:"onDragMove",event:Xr})})},[ke.x,ke.y]),(0,Q.useEffect)(()=>{let{active:oe,activatorEvent:se,collisions:$t,droppableContainers:Sn,scrollAdjustedTranslate:mn}=fn.current;if(!oe||V.current==null||!se||!mn)return;let{onDragOver:Xr}=Se.current,Mi=Sn.get(Oi),lo=Mi&&Mi.rect.current?{id:Mi.id,rect:Mi.rect.current,data:Mi.data,disabled:Mi.disabled}:null,Nr={active:oe,activatorEvent:se,collisions:$t,delta:{x:mn.x,y:mn.y},over:lo};(0,kh.unstable_batchedUpdates)(()=>{zh(lo),Xr?.(Nr),b({type:"onDragOver",event:Nr})})},[Oi]),bc(()=>{fn.current={activatorEvent:he,active:A,activeNode:U,collisionRect:it,collisions:Fn,droppableRects:P,draggableNodes:E,draggingNode:ir,draggingNodeRect:Sr,droppableContainers:T,over:Yr,scrollableAncestors:Qe,scrollAdjustedTranslate:ke},D.current={initial:Sr,translated:it}},[A,U,Fn,it,E,ir,Sr,P,T,Yr,Qe,ke]),jue({..._e,delta:x,draggingRect:it,pointerCoordinates:z,scrollableAncestors:Qe,scrollableAncestorRects:sn});let Ac=(0,Q.useMemo)(()=>({active:A,activeNode:U,activeNodeRect:Ft,activatorEvent:he,collisions:Fn,containerNodeRect:En,dragOverlay:Ie,draggableNodes:E,droppableContainers:T,droppableRects:P,over:Yr,measureDroppableContainers:ee,scrollableAncestors:Qe,scrollableAncestorRects:sn,measuringConfiguration:Y,measuringScheduled:W,windowRect:Ae}),[A,U,Ft,he,Fn,En,Ie,E,T,P,Yr,ee,Qe,sn,Y,W,Ae]),jh=(0,Q.useMemo)(()=>({activatorEvent:he,activators:kc,active:A,activeNodeRect:Ft,ariaDescribedById:{draggable:Le},dispatch:g,draggableNodes:E,over:Yr,measureDroppableContainers:ee}),[he,kc,A,Ft,g,Le,E,Yr,ee]);return Q.default.createElement(WG.Provider,{value:I},Q.default.createElement(kP.Provider,{value:jh},Q.default.createElement(u8.Provider,{value:Ac},Q.default.createElement(AP.Provider,{value:Qs},c)),Q.default.createElement(ude,{disabled:a?.restoreFocus===!1})),Q.default.createElement(bue,{...a,hiddenTextDescribedById:Le}));function Gh(){let oe=q?.autoScrollEnabled===!1,se=typeof l=="object"?l.enabled===!1:l===!1,$t=F&&!oe&&!se;return typeof l=="object"?{...l,enabled:$t}:{enabled:$t}}});pde={x:0,y:0,scaleX:1,scaleY:1};yde={position:"fixed",touchAction:"none"},vde=t=>Ux(t)?"transform 250ms ease":void 0,bde=(0,Q.forwardRef)((t,e)=>{let{as:n,activatorEvent:r,adjustScale:s,children:i,className:o,rect:a,style:l,transform:c,transition:d=vde}=t;if(!a)return null;let h=s?c:{...c,scaleX:1,scaleY:1},f={...yde,width:a.width,height:a.height,top:a.top,left:a.left,transform:pp.Transform.toString(h),transformOrigin:s&&r?wue(r,a):void 0,transition:typeof d=="function"?d(r):d,...l};return Q.default.createElement(n,{className:o,style:f,ref:e},i)}),wde=t=>e=>{let{active:n,dragOverlay:r}=e,s={},{styles:i,className:o}=t;if(i!=null&&i.active)for(let[a,l]of Object.entries(i.active))l!==void 0&&(s[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,l));if(i!=null&&i.dragOverlay)for(let[a,l]of Object.entries(i.dragOverlay))l!==void 0&&r.node.style.setProperty(a,l);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(let[l,c]of Object.entries(s))n.node.style.setProperty(l,c);o!=null&&o.active&&n.node.classList.remove(o.active)}},_de=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:pp.Transform.toString(e)},{transform:pp.Transform.toString(n)}]},Tde={duration:250,easing:"ease",keyframes:_de,sideEffects:wde({styles:{active:{opacity:"0"}}})};KG=0;f8=Q.default.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:s,transition:i,modifiers:o,wrapperElement:a="div",className:l,zIndex:c=999}=t,{activatorEvent:d,active:h,activeNodeRect:f,containerNodeRect:m,draggableNodes:y,droppableContainers:w,dragOverlay:v,over:g,measuringConfiguration:b,scrollableAncestors:I,scrollableAncestorRects:k,windowRect:R}=fde(),F=(0,Q.useContext)(AP),S=Ede(h?.id),E=d8(o,{activatorEvent:d,active:h,activeNodeRect:f,containerNodeRect:m,draggingNodeRect:v.rect,over:g,overlayNodeRect:v.rect,scrollableAncestors:I,scrollableAncestorRects:k,transform:F,windowRect:R}),x=SP(f),T=Ide({config:r,draggableNodes:y,droppableContainers:w,measuringConfiguration:b}),N=x?v.setRef:void 0;return Q.default.createElement(gde,null,Q.default.createElement(mde,{animation:T},h&&S?Q.default.createElement(bde,{key:S,id:h.id,ref:N,as:a,activatorEvent:d,adjustScale:e,className:l,transition:i,rect:x,style:{zIndex:c,...s},transform:E},n):null))})});var zx,gt,Sde,Nde,kde,Ade,DP,p8=G(()=>{"use strict";zx=L(ge(),1);Ve();qu();Px();hp();vc();bi();gt=L(H(),1),Sde=({rating:t=0})=>(0,gt.jsx)("div",{className:"flex items-center",children:[1,2,3,4,5].map(e=>(0,gt.jsx)(_r,{className:`w-3 h-3 text-yellow-400 ${t>=e?"fill-current":"fill-transparent stroke-current"}`},e))}),Nde=({items:t=[]})=>{let e=t.filter(n=>n.completed).length;return(0,gt.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[(0,gt.jsx)(Lt,{className:"w-3 h-3"}),(0,gt.jsxs)("span",{children:[e,"/",t.length," completed"]})]})},kde=({item:t,onClick:e,isSelected:n})=>{let r=ta(),s=Wr(),i=zx.default.useMemo(()=>{if(t.type==="habit"){if(t.completed!==void 0)return t.completed;let h=t.originalData,f=new Date(t.date);return f.setHours(0,0,0,0),Lx(h,r.habitLogs,f)}return t.completed},[t.type,t.originalData?.id,t.date,t.completed,r.habitLogs]),o=zx.default.useMemo(()=>{if(t.type==="log"){let h=t.originalData;return s.foci.find(f=>f.id===h.focusId)}return null},[t.type,t.originalData,s.foci]),a=h=>{let f=Z[h]||ni;return(0,gt.jsx)(f,{className:"w-4 h-4"})},l=h=>{switch(h){case"task":return(0,gt.jsx)(Lt,{className:"w-4 h-4"});case"habit":return(0,gt.jsx)(Xe,{className:"w-4 h-4"});case"habit_log":return(0,gt.jsx)(Yg,{className:"w-4 h-4"});case"log":return(0,gt.jsx)(yn,{className:"w-4 h-4"});default:return(0,gt.jsx)(ni,{className:"w-4 h-4"})}},c=(h,f,m)=>{if(f==="task"&&m){let y=m;if(y.dueDate){let w=new Date(y.dueDate);if(w.getHours()===0&&w.getMinutes()===0&&w.getSeconds()===0)return null}}return f==="habit"?h.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):h.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},d=()=>{if(t.type!=="log")return null;let h=t.originalData;return(0,gt.jsxs)("div",{className:"space-y-2 mt-2",children:[o&&(0,gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,gt.jsx)(Xe,{className:"w-3 h-3 text-purple-500"}),(0,gt.jsx)("span",{className:`text-xs px-2 py-1 rounded ${o.color==="blue-500"?"text-blue-500 bg-blue-500/10":o.color==="green-500"?"text-green-500 bg-green-500/10":o.color==="purple-500"?"text-purple-500 bg-purple-500/10":o.color==="red-500"?"text-red-500 bg-red-500/10":o.color==="yellow-500"?"text-yellow-500 bg-yellow-500/10":o.color==="indigo-500"?"text-indigo-500 bg-indigo-500/10":o.color==="pink-500"?"text-pink-500 bg-pink-500/10":"text-gray-500 bg-gray-500/10"}`,children:o.name})]}),h.description&&(0,gt.jsx)("p",{className:"text-xs text-gray-600 truncate",children:h.description}),h.logType==="rating"&&h.rating&&(0,gt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,gt.jsx)(Sde,{rating:h.rating}),(0,gt.jsxs)("span",{className:"text-xs text-gray-500",children:[h.rating,"/5"]})]}),h.logType==="checklist"&&h.checklist&&(0,gt.jsx)(Nde,{items:h.checklist})]})};return(0,gt.jsx)("div",{onClick:()=>e(t),className:`
        p-4 rounded-lg border transition-all duration-200 cursor-pointer
        ${n?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 bg-white hover:border-gray-300 hover:shadow-sm"}
      `,children:(0,gt.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,gt.jsx)("div",{className:"flex items-center text-gray-500 flex-shrink-0",children:a(t.icon)}),(0,gt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,gt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,gt.jsx)("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:(0,gt.jsx)("h4",{className:"text-sm font-medium text-gray-900 truncate",children:t.title})}),(0,gt.jsxs)("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[c(t.date,t.type,t.originalData)&&(0,gt.jsx)("span",{className:"text-xs text-gray-500",children:c(t.date,t.type,t.originalData)}),t.type==="task"&&t.originalData?.priority&&(0,gt.jsx)(ns,{className:`w-3 h-3 ${t.originalData.priority===1?"text-red-600":t.originalData.priority===2?"text-orange-500":t.originalData.priority===3?"text-blue-500":"text-gray-500"}`}),l(t.type),i&&(0,gt.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:(0,gt.jsx)(zl,{className:"w-2.5 h-2.5 text-white"})})]})]}),t.type==="habit"?(0,gt.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,gt.jsx)(Xe,{className:"w-3 h-3 text-purple-500"}),(0,gt.jsx)("span",{className:"text-xs text-purple-600 bg-purple-50 px-2 py-1 rounded",children:t.description||"Wellness"})]}):null,t.type==="task"&&(0,gt.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,gt.jsx)(zn,{className:"w-3 h-3 text-blue-500"}),(0,gt.jsx)("span",{className:"text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded",children:t.description||"Inbox"})]}),d()]})]})})},Ade=zx.default.memo(kde,(t,e)=>t.item.id===e.item.id&&t.isSelected===e.isSelected&&t.item.completed===e.item.completed&&t.item.date.getTime()===e.item.date.getTime()),DP=Ade});var bp,Dde,Cde,g8,y8=G(()=>{"use strict";Ve();qu();bp=L(H(),1),Dde=[{type:"task",label:"Tasks",icon:"CheckSquareIcon",color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"},{type:"habit",label:"Habits",icon:"TargetIcon",color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"},{type:"log",label:"Journal",icon:"BookOpenIcon",color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200"}],Cde=({activeFilters:t,onFilterChange:e})=>{let n=r=>{let s=Z[r];return s?(0,bp.jsx)(s,{className:"w-4 h-4"}):null};return(0,bp.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg",children:[(0,bp.jsx)("span",{className:"text-sm font-medium text-gray-700 mr-2",children:"Show:"}),Dde.map(r=>{let s=t.has(r.type);return(0,bp.jsxs)("button",{onClick:()=>e(r.type,!s),className:`flex items-center gap-1 px-3 py-1.5 text-sm rounded-md border transition-colors ${s?`${r.bgColor} ${r.borderColor} ${r.color}`:"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[n(r.icon),r.label]},r.type)})]})},g8=Cde});var _v,dn,Rde,v8,b8=G(()=>{"use strict";_v=L(ge(),1);m8();Ve();Px();p8();na();y8();dn=L(H(),1),Rde=({items:t,selectedDate:e,selectedItem:n,onItemSelect:r,onDateSelect:s})=>{let[i,o]=(0,_v.useState)(null),{startDrag:a,endDrag:l,moveItemToDate:c,dragHistory:d,undoLastDrag:h,itemTypeFilters:f,toggleItemTypeFilter:m}=Mn(),y=YG(QG(vp,{activationConstraint:{distance:8}})),w=S=>{let{active:E}=S,x=t.find(T=>T.id===E.id);x&&(o(x),a())},v=async S=>{let{active:E,over:x}=S;if(x&&E.id!==x.id){let T=t.find(D=>D.id===E.id),N=x.data.current?.date;T&&N&&await c(T.id,N)}o(null),l()},g=(0,_v.useMemo)(()=>{let S=t;return f.size>0&&(S=t.filter(E=>f.has(E.type))),EG(S,e)},[t,e,f]),b=(0,_v.useMemo)(()=>g,[g]),I=()=>{s(new Date)},k=()=>{let S=new Date(e);S.setDate(S.getDate()-1),s(S)},R=()=>{let S=new Date(e);S.setDate(S.getDate()+1),s(S)},F=e.toDateString()===new Date().toDateString();return(0,dn.jsxs)(h8,{sensors:y,onDragStart:w,onDragEnd:v,children:[(0,dn.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 h-full",children:[(0,dn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,dn.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Calendar"}),(0,dn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,dn.jsx)(g8,{activeFilters:f,onFilterChange:m}),d.length>0&&(0,dn.jsx)("button",{onClick:h,className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",title:"Undo last move",children:(0,dn.jsx)(v1,{className:"w-4 h-4"})})]})]}),(0,dn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,dn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,dn.jsx)("button",{onClick:k,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Previous day",children:(0,dn.jsx)(Wi,{className:"w-5 h-5 text-gray-600"})}),(0,dn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),(0,dn.jsx)("button",{onClick:R,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Next day",children:(0,dn.jsx)(Xn,{className:"w-5 h-5 text-gray-600"})})]}),(0,dn.jsx)("button",{onClick:I,className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${F?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Today"})]}),g.length===0?(0,dn.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,dn.jsx)(vt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,dn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No items for today"}),(0,dn.jsx)("p",{className:"text-gray-600",children:"Add some tasks, habits, or journal entries to get started"})]}):(0,dn.jsx)("div",{className:"space-y-6",children:(0,dn.jsxs)("div",{className:"relative",children:[(0,dn.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Today's Items"}),(0,dn.jsx)("div",{className:"space-y-3",children:b.map(S=>(0,dn.jsx)(DP,{item:S,onClick:r,isSelected:n?.id===S.id},S.id))})]})})]}),(0,dn.jsx)(f8,{children:i?(0,dn.jsx)(DP,{item:i,onClick:()=>{},isSelected:!1}):null})]})},v8=Rde});var CP,Ue,Lde,w8,_8=G(()=>{"use strict";CP=L(ge(),1);Ve();na();qu();Ue=L(H(),1),Lde=({onAddTask:t,onAddHabitLog:e,onAddJournalEntry:n})=>{let{selectedDate:r,calendarItems:s}=Mn(),i=(0,CP.useMemo)(()=>{let c=new Date(r);c.setHours(0,0,0,0);let d=new Date(r);return d.setHours(23,59,59,999),s.filter(h=>{let f=new Date(h.date);return f>=c&&f<=d})},[s,r]),o=(0,CP.useMemo)(()=>{let c=i.filter(v=>v.type==="task"),d=i.filter(v=>v.type==="habit"),h=i.filter(v=>v.type==="log"),f=c.filter(v=>v.completed).length,m=d.filter(v=>v.completed).length,y=c.length,w=d.length;return{tasksCompleted:f,totalTasks:y,tasksProgress:y>0?f/y*100:0,habitsCompleted:m,totalHabits:w,habitsProgress:w>0?m/w*100:0,journalEntries:h.length}},[i]),a=[{label:"Add Task",icon:"PlusIcon",onClick:t,color:"blue"},{label:"Log Habit",icon:"CheckSquareIcon",onClick:e,color:"green"},{label:"Add Entry",icon:"Edit3Icon",onClick:n,color:"purple"}],l=c=>{let d=Z[c]||Vt;return(0,Ue.jsx)(d,{className:"w-5 h-5"})};return(0,Ue.jsxs)("div",{className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,Ue.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Ue.jsx)(Xe,{className:"w-4 h-4 mr-2 text-blue-600"}),"Today's Focus"]}),i.length===0?(0,Ue.jsxs)("div",{className:"text-center py-4 text-gray-500",children:[(0,Ue.jsx)(vt,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,Ue.jsx)("p",{className:"text-sm",children:"No items scheduled for today"}),(0,Ue.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Add some tasks or habits to get started"})]}):(0,Ue.jsxs)("div",{className:"space-y-2",children:[i.slice(0,3).map(c=>(0,Ue.jsxs)("div",{className:"flex items-center p-2 rounded-md hover:bg-gray-50 cursor-pointer",children:[(0,Ue.jsx)("div",{className:`w-2 h-2 rounded-full mr-3 bg-${c.color}`}),(0,Ue.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ue.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:c.title}),(0,Ue.jsx)("p",{className:"text-xs text-gray-500",children:c.type==="task"?"Task":c.type==="habit"?"Habit":"Journal"})]}),c.completed&&(0,Ue.jsx)(zl,{className:"w-4 h-4 text-green-500 ml-2"})]},c.id)),i.length>3&&(0,Ue.jsxs)("p",{className:"text-xs text-gray-500 text-center pt-2",children:["+",i.length-3," more items"]})]})]}),(0,Ue.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,Ue.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Ue.jsx)(Id,{className:"w-4 h-4 mr-2 text-green-600"}),"Today's Progress"]}),(0,Ue.jsxs)("div",{className:"space-y-3",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,Ue.jsx)("span",{className:"text-xs font-medium text-gray-700",children:"Tasks"}),(0,Ue.jsxs)("span",{className:"text-xs text-gray-500",children:[o.tasksCompleted,"/",o.totalTasks]})]}),(0,Ue.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Ue.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${o.tasksProgress}%`}})})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,Ue.jsx)("span",{className:"text-xs font-medium text-gray-700",children:"Habits"}),(0,Ue.jsxs)("span",{className:"text-xs text-gray-500",children:[o.habitsCompleted,"/",o.totalHabits]})]}),(0,Ue.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Ue.jsx)("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${o.habitsProgress}%`}})})]}),(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("span",{className:"text-xs font-medium text-gray-700",children:"Journal Entries"}),(0,Ue.jsx)("span",{className:"text-xs text-gray-500",children:o.journalEntries})]})]})]}),(0,Ue.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,Ue.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Ue.jsx)(Td,{className:"w-4 h-4 mr-2 text-yellow-600"}),"Quick Actions"]}),(0,Ue.jsx)("div",{className:"space-y-2",children:a.map(c=>(0,Ue.jsxs)("button",{onClick:c.onClick,className:`w-full flex items-center p-3 rounded-md border border-gray-200 hover:border-${c.color}-300 hover:bg-${c.color}-50 transition-colors duration-200`,children:[(0,Ue.jsx)("div",{className:`w-8 h-8 rounded-md bg-${c.color}-100 flex items-center justify-center mr-3`,children:l(c.icon)}),(0,Ue.jsx)("span",{className:"text-sm font-medium text-gray-900",children:c.label})]},c.label))})]}),(0,Ue.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,Ue.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Ue.jsx)(Yg,{className:"w-4 h-4 mr-2 text-orange-600"}),"Current Streaks"]}),(0,Ue.jsxs)("div",{className:"space-y-2",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("span",{className:"text-xs text-gray-700",children:"Task Completion"}),(0,Ue.jsx)("span",{className:"text-xs font-medium text-orange-600",children:"7 days"})]}),(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("span",{className:"text-xs text-gray-700",children:"Habit Tracking"}),(0,Ue.jsx)("span",{className:"text-xs font-medium text-orange-600",children:"5 days"})]}),(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("span",{className:"text-xs text-gray-700",children:"Journal Writing"}),(0,Ue.jsx)("span",{className:"text-xs font-medium text-orange-600",children:"3 days"})]})]})]})]})},w8=Lde});var T8,Ch,Pde,Vr,ia=G(()=>{"use strict";T8=L(ge(),1),Ch=L(H(),1),Pde=({checked:t,onChange:e,label:n,id:r,disabled:s=!1})=>{let i=r||T8.default.useId();return(0,Ch.jsxs)("div",{className:"flex items-center",children:[(0,Ch.jsx)("button",{id:i,type:"button",role:"checkbox","aria-checked":t,onClick:o=>{s||(o.stopPropagation(),e())},disabled:s,className:`w-5 h-5 flex-shrink-0 rounded border-2 flex items-center justify-center transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500 ${t?"bg-blue-600 border-blue-600":"bg-transparent border-gray-400 hover:border-blue-500"} ${s?"cursor-not-allowed opacity-50":""}`,children:t&&(0,Ch.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"3.5",children:(0,Ch.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),n&&(0,Ch.jsx)("label",{htmlFor:i,className:"ml-2 text-sm text-gray-700 cursor-pointer",children:n})]})},Vr=Pde});var oa,It,Ode,I8,x8,Mde,Fde,Li,ju=G(()=>{"use strict";oa=L(ge(),1);Ve();It=L(H(),1),Ode=t=>t.toLocaleDateString("en-US",{month:"long",year:"numeric"}),I8=(t,e)=>!t||!e?!1:t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate(),x8=t=>{(!t||typeof t!="object"||!(t instanceof Date)||isNaN(t.getTime()))&&(t=new Date);let e=t.getFullYear(),n=t.getMonth(),r=new Date(e,n,1),s=new Date(e,n+1,0),i=r.getDay(),o=[];for(let a=0;a<i;a++){let l=new Date(r);l.setDate(l.getDate()-(i-a)),o.push(l)}for(let a=1;a<=s.getDate();a++)o.push(new Date(e,n,a));for(;o.length<42;){let a=o[o.length-1],l=new Date(a);l.setDate(a.getDate()+1),o.push(l)}return o},Mde=({className:t})=>(0,It.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"3",children:(0,It.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),Fde=({currentDate:t,onSelect:e,onClear:n})=>{let r=x=>!x||!(x instanceof Date)||isNaN(x.getTime())?new Date:x,[s,i]=(0,oa.useState)(r(t)),[o,a]=(0,oa.useState)(r(t)),[l,c]=(0,oa.useState)("12:00"),[d,h]=(0,oa.useState)("PM"),[f,m]=(0,oa.useState)(!1);(0,oa.useEffect)(()=>{let x=t,T=x&&(x.getHours()!==0||x.getMinutes()!==0);if(m(T),T&&x){let D=x.getHours(),A=x.getMinutes(),V=D>=12?"PM":"AM";D=D%12,D=D||12,c(`${String(D).padStart(2,"0")}:${String(A).padStart(2,"0")}`),h(V)}else c("12:00"),h("PM");let N=r(t);a(N),i(N)},[t]);let y=(0,oa.useMemo)(()=>{let x=[];for(let T=0;T<24*2;T++){let N=Math.floor(T/2),D=T%2*30,A=N>=12?"PM":"AM",V=N%12;V===0&&(V=12);let q=`${String(V).padStart(2,"0")}:${String(D).padStart(2,"0")}`;x.push({time:q,period:A})}return x},[]),w=(0,oa.useMemo)(()=>!s||typeof s!="object"||!(s instanceof Date)||isNaN(s.getTime())?x8(new Date):x8(s),[s]),v=()=>i(x=>x?new Date(x.getFullYear(),x.getMonth()-1,1):new Date),g=()=>i(x=>x?new Date(x.getFullYear(),x.getMonth()+1,1):new Date),b=()=>{let x=new Date;i(x),a(x)},I=x=>a(x),k=x=>{let N=x.target.value.replace(/[^0-9]/g,"").slice(0,4);if(N.length===0){c("");return}let D=N;if(N.length>2){let A=N.slice(0,-2),V=N.slice(-2);D=`${A}:${V}`}c(D)},R=()=>{if(!l.trim()){c("12:00");return}let x=l.replace(/[^0-9]/g,""),T,N;x.length<=2?(T=parseInt(x,10)||12,N=0):(T=parseInt(x.slice(0,-2),10)||12,N=parseInt(x.slice(-2),10)||0),T>12&&(T=12),T===0&&(T=12),N>59&&(N=59),c(`${String(T).padStart(2,"0")}:${String(N).padStart(2,"0")}`)},F=(x,T)=>{c(x),h(T)},S=()=>{if(!o)return;let x=new Date(o);if(x.setHours(0,0,0,0),f&&l){let T=l.split(":"),N=parseInt(T[0],10),D=parseInt(T[1]||"0",10);!isNaN(N)&&!isNaN(D)&&(d==="PM"&&N<12?N+=12:d==="AM"&&N===12&&(N=0),x.setHours(N,D,0,0))}e(x)},E=()=>{m(!1),c("12:00"),h("PM")};return(0,It.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-200 w-80 p-4 font-sans text-gray-800",children:[(0,It.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,It.jsx)("span",{className:"text-lg font-semibold",children:Ode(s)}),(0,It.jsxs)("div",{className:"flex items-center space-x-2 text-gray-500",children:[(0,It.jsx)("button",{onClick:v,className:"p-1 rounded-full hover:bg-gray-100",children:(0,It.jsx)(Wi,{className:"w-5 h-5"})}),(0,It.jsx)("button",{onClick:b,title:"Go to Today",className:"w-5 h-5 border border-gray-400 rounded-full hover:bg-gray-100"}),(0,It.jsx)("button",{onClick:g,className:"p-1 rounded-full hover:bg-gray-100",children:(0,It.jsx)(Xn,{className:"w-5 h-5"})})]})]}),(0,It.jsxs)("div",{className:"grid grid-cols-7 gap-y-1 text-center text-sm",children:[["S","M","T","W","T","F","S"].map(x=>(0,It.jsx)("div",{className:"w-9 h-9 flex items-center justify-center text-gray-400 font-semibold",children:x},x)),w.map((x,T)=>{let N=x.getMonth()===s.getMonth(),D=I8(x,o),A=I8(x,new Date),V="w-9 h-9 flex items-center justify-center rounded-full transition-colors duration-150";return D?V+=" bg-blue-600 text-white font-semibold":A?V+=" border-2 border-blue-600 text-blue-600 font-semibold hover:bg-blue-50":N?V+=" text-gray-700 hover:bg-gray-100":V+=" text-gray-300 hover:bg-gray-100",(0,It.jsx)("div",{className:"flex justify-center items-center",children:(0,It.jsx)("button",{onClick:()=>I(x),className:V,children:x.getDate()})},x.toISOString())})]}),(0,It.jsx)("div",{className:"mt-4 border-t border-gray-200 pt-3",children:f?(0,It.jsxs)("div",{children:[(0,It.jsxs)("div",{className:"p-2 rounded-md bg-gray-50 border relative",children:[(0,It.jsxs)("div",{className:"flex items-center gap-2",children:[(0,It.jsx)(Qi,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),(0,It.jsx)("input",{type:"text",value:l,onChange:k,onBlur:R,placeholder:"12:00",className:"font-medium bg-transparent outline-none w-24 text-lg text-blue-600"}),(0,It.jsxs)("div",{className:"flex border border-gray-300 rounded-md ml-auto",children:[(0,It.jsx)("button",{type:"button",onClick:()=>h("AM"),className:`px-3 py-1 text-sm font-semibold rounded-l-md transition-colors ${d==="AM"?"bg-blue-600 text-white":"bg-white text-blue-600 hover:bg-gray-100"}`,children:"AM"}),(0,It.jsx)("button",{type:"button",onClick:()=>h("PM"),className:`px-3 py-1 text-sm font-semibold rounded-r-md transition-colors border-l border-gray-300 ${d==="PM"?"bg-blue-600 text-white":"bg-white text-blue-600 hover:bg-gray-100"}`,children:"PM"})]})]}),(0,It.jsx)("button",{type:"button",onClick:E,className:"absolute -top-2 -right-2 w-5 h-5 bg-gray-400 text-white rounded-full flex items-center justify-center text-xs hover:bg-gray-600",title:"Remove time",children:"\xD7"})]}),(0,It.jsx)("ul",{className:"max-h-36 overflow-y-auto mt-2",children:y.map(({time:x,period:T})=>{let N=x===l&&T===d;return(0,It.jsx)("li",{children:(0,It.jsxs)("button",{type:"button",onClick:()=>F(x,T),className:`w-full flex justify-between items-center text-left px-3 py-1.5 text-sm rounded-md ${N?"bg-blue-50 text-blue-700 font-semibold":"hover:bg-gray-100 text-gray-800"}`,children:[(0,It.jsxs)("span",{children:[x," ",(0,It.jsx)("span",{className:N?"text-blue-600":"text-gray-500",children:T})]}),N&&(0,It.jsx)(Mde,{className:"w-4 h-4 text-blue-600"})]})},`${x}-${T}`)})})]}):(0,It.jsxs)("button",{type:"button",onClick:()=>m(!0),className:"w-full flex items-center justify-center gap-2 p-2 rounded-md bg-gray-50 hover:bg-gray-100 text-sm text-blue-600 font-semibold",children:[(0,It.jsx)(Qi,{className:"w-5 h-5"}),"Add time"]})}),(0,It.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,It.jsx)("button",{onClick:n,className:"px-4 py-2 text-sm font-semibold text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-gray-300",children:"Clear"}),(0,It.jsx)("button",{onClick:S,className:"px-4 py-2 text-sm font-semibold text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500",children:"OK"})]})]})},Li=Fde});var yl,Ude,E8,S8=G(()=>{"use strict";ia();Ve();yl=L(H(),1),Ude=({task:t,onToggleComplete:e,onSelect:n})=>{let r=s=>{if(!s)return"";let i=new Date(s),o=new Date,a=new Date;a.setDate(o.getDate()+1),o.setHours(0,0,0,0);let l=new Date(i);return l.setHours(0,0,0,0),l.getTime()===o.getTime()?"Today":l.getTime()===a.getTime()?"Tomorrow":i.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return(0,yl.jsxs)("li",{className:"flex items-center gap-1 py-2 px-2 rounded-md hover:bg-gray-100 group transition-colors duration-200 cursor-pointer border border-gray-200 hover:border-gray-300",onClick:()=>n(t.id),children:[(0,yl.jsx)("div",{className:"flex items-center justify-center w-5 h-5",children:(0,yl.jsx)(Vr,{checked:t.completed,onChange:()=>e(t.id)})}),(0,yl.jsx)("span",{className:`flex-1 text-sm truncate ${t.completed?"text-gray-400 line-through":"text-gray-700"}`,children:t.title}),t.dueDate&&(0,yl.jsxs)("span",{className:"flex items-center gap-1 text-xs text-blue-600 font-medium",children:[(0,yl.jsx)(Qi,{className:"w-3.5 h-3.5"}),r(t.dueDate)]}),(0,yl.jsx)("button",{onClick:s=>{s.stopPropagation()},className:"p-1 text-gray-400 hover:text-gray-600 opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"More options",children:(0,yl.jsx)(wr,{className:"w-4 h-4"})})]})},E8=Ude});var wc,Vde,N8,k8=G(()=>{"use strict";bi();Ve();wc=L(H(),1),Vde=({log:t})=>{let e=to[t.logType],n=e?Z[e.icon]:yn,r=s=>{let i=new Date(s),o=new Date,a=new Date;a.setDate(o.getDate()-1),o.setHours(0,0,0,0);let l=new Date(i);return l.setHours(0,0,0,0),l.getTime()===o.getTime()?`Today at ${i.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`:l.getTime()===a.getTime()?`Yesterday at ${i.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`:i.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return(0,wc.jsxs)("li",{className:"flex items-start gap-3 p-2.5 rounded-md bg-gray-50/70 border border-gray-200/80",children:[(0,wc.jsx)("div",{className:"pt-0.5",children:(0,wc.jsx)(n,{className:"w-5 h-5 text-gray-500"})}),(0,wc.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wc.jsx)("p",{className:"text-sm font-medium text-gray-800",children:t.title}),t.description&&(0,wc.jsx)("p",{className:"text-xs text-gray-500 truncate mt-0.5",children:t.description})]}),(0,wc.jsx)("div",{className:"text-xs text-gray-500 flex-shrink-0 pt-0.5",children:r(t.logDate)})]})},N8=Vde});function MP(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}function P8(t){Lh=t}function nn(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(s,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(li.caret,"$1"),n=n.replace(s,o),r},getRegex:()=>new RegExp(n,e)};return r}function vl(t,e){if(e){if(li.escapeTest.test(t))return t.replace(li.escapeReplace,D8)}else if(li.escapeTestNoEncode.test(t))return t.replace(li.escapeReplaceNoEncode,D8);return t}function C8(t){try{t=encodeURI(t).replace(li.percentDecode,"%")}catch{return null}return t}function R8(t,e){let n=t.replace(li.findPipe,(i,o,a)=>{let l=!1,c=o;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),r=n.split(li.splitPipe),s=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(li.slashPipe,"|");return r}function Iv(t,e,n){let r=t.length;if(r===0)return"";let s=0;for(;s<r;){let i=t.charAt(r-s-1);if(i===e&&!n)s++;else if(i!==e&&n)s++;else break}return t.slice(0,r-s)}function bhe(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function L8(t,e,n,r,s){let i=e.href,o=e.title||null,a=t[1].replace(s.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:i,title:o,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}function whe(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let s=r[1];return e.split(`
`).map(i=>{let o=i.match(n.other.beginningSpace);if(o===null)return i;let[a]=o;return a.length>=s.length?i.slice(s.length):i}).join(`
`)}function zt(t,e){return Rh.parse(t,e)}var Lh,xv,li,Hde,Bde,qde,Ev,zde,FP,O8,M8,jde,UP,Gde,VP,$de,Kde,Qx,HP,Wde,F8,Qde,BP,A8,Yde,Xde,Jde,Zde,U8,ehe,Yx,qP,V8,the,H8,nhe,rhe,she,B8,ihe,ohe,q8,ahe,lhe,che,uhe,dhe,hhe,fhe,$x,mhe,z8,j8,phe,zP,ghe,LP,yhe,jx,Tv,vhe,D8,Kx,_c,Wx,jP,Tc,RP,Gx,_he,Rh,E_e,S_e,N_e,k_e,A_e,D_e,C_e,GP=G(()=>{Lh=MP();xv={exec:()=>null};li={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},Hde=/^(?:[ \t]*(?:\n|$))+/,Bde=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,qde=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ev=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,zde=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,FP=/(?:[*+-]|\d{1,9}[.)])/,O8=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,M8=nn(O8).replace(/bull/g,FP).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),jde=nn(O8).replace(/bull/g,FP).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),UP=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Gde=/^[^\n]+/,VP=/(?!\s*\])(?:\\.|[^\[\]\\])+/,$de=nn(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",VP).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Kde=nn(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,FP).getRegex(),Qx="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",HP=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Wde=nn("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",HP).replace("tag",Qx).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),F8=nn(UP).replace("hr",Ev).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Qx).getRegex(),Qde=nn(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",F8).getRegex(),BP={blockquote:Qde,code:Bde,def:$de,fences:qde,heading:zde,hr:Ev,html:Wde,lheading:M8,list:Kde,newline:Hde,paragraph:F8,table:xv,text:Gde},A8=nn("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ev).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Qx).getRegex(),Yde={...BP,lheading:jde,table:A8,paragraph:nn(UP).replace("hr",Ev).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",A8).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Qx).getRegex()},Xde={...BP,html:nn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",HP).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:xv,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:nn(UP).replace("hr",Ev).replace("heading",` *#{1,6} *[^
]`).replace("lheading",M8).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Jde=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Zde=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,U8=/^( {2,}|\\)\n(?!\s*$)/,ehe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Yx=/[\p{P}\p{S}]/u,qP=/[\s\p{P}\p{S}]/u,V8=/[^\s\p{P}\p{S}]/u,the=nn(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,qP).getRegex(),H8=/(?!~)[\p{P}\p{S}]/u,nhe=/(?!~)[\s\p{P}\p{S}]/u,rhe=/(?:[^\s\p{P}\p{S}]|~)/u,she=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,B8=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,ihe=nn(B8,"u").replace(/punct/g,Yx).getRegex(),ohe=nn(B8,"u").replace(/punct/g,H8).getRegex(),q8="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",ahe=nn(q8,"gu").replace(/notPunctSpace/g,V8).replace(/punctSpace/g,qP).replace(/punct/g,Yx).getRegex(),lhe=nn(q8,"gu").replace(/notPunctSpace/g,rhe).replace(/punctSpace/g,nhe).replace(/punct/g,H8).getRegex(),che=nn("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,V8).replace(/punctSpace/g,qP).replace(/punct/g,Yx).getRegex(),uhe=nn(/\\(punct)/,"gu").replace(/punct/g,Yx).getRegex(),dhe=nn(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),hhe=nn(HP).replace("(?:-->|$)","-->").getRegex(),fhe=nn("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",hhe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),$x=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,mhe=nn(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",$x).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),z8=nn(/^!?\[(label)\]\[(ref)\]/).replace("label",$x).replace("ref",VP).getRegex(),j8=nn(/^!?\[(ref)\](?:\[\])?/).replace("ref",VP).getRegex(),phe=nn("reflink|nolink(?!\\()","g").replace("reflink",z8).replace("nolink",j8).getRegex(),zP={_backpedal:xv,anyPunctuation:uhe,autolink:dhe,blockSkip:she,br:U8,code:Zde,del:xv,emStrongLDelim:ihe,emStrongRDelimAst:ahe,emStrongRDelimUnd:che,escape:Jde,link:mhe,nolink:j8,punctuation:the,reflink:z8,reflinkSearch:phe,tag:fhe,text:ehe,url:xv},ghe={...zP,link:nn(/^!?\[(label)\]\((.*?)\)/).replace("label",$x).getRegex(),reflink:nn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",$x).getRegex()},LP={...zP,emStrongRDelimAst:lhe,emStrongLDelim:ohe,url:nn(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},yhe={...LP,br:nn(U8).replace("{2,}","*").getRegex(),text:nn(LP.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},jx={normal:BP,gfm:Yde,pedantic:Xde},Tv={normal:zP,gfm:LP,breaks:yhe,pedantic:ghe},vhe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},D8=t=>vhe[t];Kx=class{constructor(t){bn(this,"options");bn(this,"rules");bn(this,"lexer");this.options=t||Lh}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let n=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Iv(n,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let n=e[0],r=whe(n,e[3]||"",this.rules);return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let n=e[2].trim();if(this.rules.other.endingHash.test(n)){let r=Iv(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:Iv(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let n=Iv(e[0],`
`).split(`
`),r="",s="",i=[];for(;n.length>0;){let o=!1,a=[],l;for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))a.push(n[l]),o=!0;else if(!o)a.push(n[l]);else break;n=n.slice(l);let c=a.join(`
`),d=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${c}`:c,s=s?`${s}
${d}`:d;let h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,i,!0),this.lexer.state.top=h,n.length===0)break;let f=i.at(-1);if(f?.type==="code")break;if(f?.type==="blockquote"){let m=f,y=m.raw+`
`+n.join(`
`),w=this.blockquote(y);i[i.length-1]=w,r=r.substring(0,r.length-m.raw.length)+w.raw,s=s.substring(0,s.length-m.text.length)+w.text;break}else if(f?.type==="list"){let m=f,y=m.raw+`
`+n.join(`
`),w=this.list(y);i[i.length-1]=w,r=r.substring(0,r.length-f.raw.length)+w.raw,s=s.substring(0,s.length-m.raw.length)+w.raw,n=y.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:i,text:s}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n=e[1].trim(),r=n.length>1,s={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let i=this.rules.other.listItemRegex(n),o=!1;for(;t;){let l=!1,c="",d="";if(!(e=i.exec(t))||this.rules.block.hr.test(t))break;c=e[0],t=t.substring(c.length);let h=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,g=>" ".repeat(3*g.length)),f=t.split(`
`,1)[0],m=!h.trim(),y=0;if(this.options.pedantic?(y=2,d=h.trimStart()):m?y=e[1].length+1:(y=e[2].search(this.rules.other.nonSpaceChar),y=y>4?1:y,d=h.slice(y),y+=e[1].length),m&&this.rules.other.blankLine.test(f)&&(c+=f+`
`,t=t.substring(f.length+1),l=!0),!l){let g=this.rules.other.nextBulletRegex(y),b=this.rules.other.hrRegex(y),I=this.rules.other.fencesBeginRegex(y),k=this.rules.other.headingBeginRegex(y),R=this.rules.other.htmlBeginRegex(y);for(;t;){let F=t.split(`
`,1)[0],S;if(f=F,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),S=f):S=f.replace(this.rules.other.tabCharGlobal,"    "),I.test(f)||k.test(f)||R.test(f)||g.test(f)||b.test(f))break;if(S.search(this.rules.other.nonSpaceChar)>=y||!f.trim())d+=`
`+S.slice(y);else{if(m||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||I.test(h)||k.test(h)||b.test(h))break;d+=`
`+f}!m&&!f.trim()&&(m=!0),c+=F+`
`,t=t.substring(F.length+1),h=S.slice(y)}}s.loose||(o?s.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(o=!0));let w=null,v;this.options.gfm&&(w=this.rules.other.listIsTask.exec(d),w&&(v=w[0]!=="[ ] ",d=d.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:c,task:!!w,checked:v,loose:!1,text:d,tokens:[]}),s.raw+=c}let a=s.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let l=0;l<s.items.length;l++)if(this.lexer.state.top=!1,s.items[l].tokens=this.lexer.blockTokens(s.items[l].text,[]),!s.loose){let c=s.items[l].tokens.filter(h=>h.type==="space"),d=c.length>0&&c.some(h=>this.rules.other.anyLine.test(h.raw));s.loose=d}if(s.loose)for(let l=0;l<s.items.length;l++)s.items[l].loose=!0;return s}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let n=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:r,title:s}}}table(t){let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let n=R8(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let o of r)this.rules.other.tableAlignRight.test(o)?i.align.push("right"):this.rules.other.tableAlignCenter.test(o)?i.align.push("center"):this.rules.other.tableAlignLeft.test(o)?i.align.push("left"):i.align.push(null);for(let o=0;o<n.length;o++)i.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:i.align[o]});for(let o of s)i.rows.push(R8(o,i.header.length).map((a,l)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:i.align[l]})));return i}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let n=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let n=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let i=Iv(n.slice(0,-1),"\\");if((n.length-i.length)%2===0)return}else{let i=bhe(e[2],"()");if(i===-2)return;if(i>-1){let o=(e[0].indexOf("!")===0?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,o).trim(),e[3]=""}}let r=e[2],s="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(r);i&&(r=i[1],s=i[3])}else s=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),L8(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=e[r.toLowerCase()];if(!s){let i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return L8(n,s,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!n||this.rules.inline.punctuation.exec(n))){let s=[...r[0]].length-1,i,o,a=s,l=0,c=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,e=e.slice(-1*t.length+s);(r=c.exec(e))!=null;){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(o=[...i].length,r[3]||r[4]){a+=o;continue}else if((r[5]||r[6])&&s%3&&!((s+o)%3)){l+=o;continue}if(a-=o,a>0)continue;o=Math.min(o,o+a+l);let d=[...r[0]][0].length,h=t.slice(0,s+r.index+d+o);if(Math.min(s,o)%2){let m=h.slice(1,-1);return{type:"em",raw:h,text:m,tokens:this.lexer.inlineTokens(m)}}let f=h.slice(2,-2);return{type:"strong",raw:h,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let n=e[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:e[0],text:n}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let n,r;return e[2]==="@"?(n=e[1],r="mailto:"+n):(n=e[1],r=n),{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let n,r;if(e[2]==="@")n=e[0],r="mailto:"+n;else{let s;do s=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(s!==e[0]);n=e[0],e[1]==="www."?r="http://"+e[0]:r=e[0]}return{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let n=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:n}}}},_c=class PP{constructor(e){bn(this,"tokens");bn(this,"options");bn(this,"state");bn(this,"tokenizer");bn(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Lh,this.options.tokenizer=this.options.tokenizer||new Kx,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:li,block:jx.normal,inline:Tv.normal};this.options.pedantic?(n.block=jx.pedantic,n.inline=Tv.pedantic):this.options.gfm&&(n.block=jx.gfm,this.options.breaks?n.inline=Tv.breaks:n.inline=Tv.gfm),this.tokenizer.rules=n}static get rules(){return{block:jx,inline:Tv}}static lex(e,n){return new PP(n).lex(e)}static lexInline(e,n){return new PP(n).inlineTokens(e)}lex(e){e=e.replace(li.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){for(this.options.pedantic&&(e=e.replace(li.tabCharGlobal,"    ").replace(li.spaceLine,""));e;){let s;if(this.options.extensions?.block?.some(o=>(s=o.call({lexer:this},e,n))?(e=e.substring(s.raw.length),n.push(s),!0):!1))continue;if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length);let o=n.at(-1);s.raw.length===1&&o!==void 0?o.raw+=`
`:n.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length);let o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+s.raw,o.text+=`
`+s.text,this.inlineQueue.at(-1).src=o.text):n.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length);let o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+s.raw,o.text+=`
`+s.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),n.push(s);continue}let i=e;if(this.options.extensions?.startBlock){let o=1/0,a=e.slice(1),l;this.options.extensions.startBlock.forEach(c=>{l=c.call({lexer:this},a),typeof l=="number"&&l>=0&&(o=Math.min(o,l))}),o<1/0&&o>=0&&(i=e.substring(0,o+1))}if(this.state.top&&(s=this.tokenizer.paragraph(i))){let o=n.at(-1);r&&o?.type==="paragraph"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+s.raw,o.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(s),r=i.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length);let o=n.at(-1);o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+s.raw,o.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(s);continue}if(e){let o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r=e,s=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)a.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,s.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(s=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let i=!1,o="";for(;e;){i||(o=""),i=!1;let a;if(this.options.extensions?.inline?.some(c=>(a=c.call({lexer:this},e,n))?(e=e.substring(a.raw.length),n.push(a),!0):!1))continue;if(a=this.tokenizer.escape(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.tag(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.link(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(a.raw.length);let c=n.at(-1);a.type==="text"&&c?.type==="text"?(c.raw+=a.raw,c.text+=a.text):n.push(a);continue}if(a=this.tokenizer.emStrong(e,r,o)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.codespan(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.br(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.del(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.autolink(e)){e=e.substring(a.raw.length),n.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(e))){e=e.substring(a.raw.length),n.push(a);continue}let l=e;if(this.options.extensions?.startInline){let c=1/0,d=e.slice(1),h;this.options.extensions.startInline.forEach(f=>{h=f.call({lexer:this},d),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(l=e.substring(0,c+1))}if(a=this.tokenizer.inlineText(l)){e=e.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(o=a.raw.slice(-1)),i=!0;let c=n.at(-1);c?.type==="text"?(c.raw+=a.raw,c.text+=a.text):n.push(a);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}},Wx=class{constructor(t){bn(this,"options");bn(this,"parser");this.options=t||Lh}space(t){return""}code({text:t,lang:e,escaped:n}){let r=(e||"").match(li.notSpaceStart)?.[0],s=t.replace(li.endingNewline,"")+`
`;return r?'<pre><code class="language-'+vl(r)+'">'+(n?s:vl(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:vl(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,n=t.start,r="";for(let o=0;o<t.items.length;o++){let a=t.items[o];r+=this.listitem(a)}let s=e?"ol":"ul",i=e&&n!==1?' start="'+n+'"':"";return"<"+s+i+`>
`+r+"</"+s+`>
`}listitem(t){let e="";if(t.task){let n=this.checkbox({checked:!!t.checked});t.loose?t.tokens[0]?.type==="paragraph"?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=n+" "+vl(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):e+=n+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",n="";for(let s=0;s<t.header.length;s++)n+=this.tablecell(t.header[s]);e+=this.tablerow({text:n});let r="";for(let s=0;s<t.rows.length;s++){let i=t.rows[s];n="";for(let o=0;o<i.length;o++)n+=this.tablecell(i[o]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${vl(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){let r=this.parser.parseInline(n),s=C8(t);if(s===null)return r;t=s;let i='<a href="'+t+'"';return e&&(i+=' title="'+vl(e)+'"'),i+=">"+r+"</a>",i}image({href:t,title:e,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let s=C8(t);if(s===null)return vl(n);t=s;let i=`<img src="${t}" alt="${n}"`;return e&&(i+=` title="${vl(e)}"`),i+=">",i}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:vl(t.text)}},jP=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},Tc=class OP{constructor(e){bn(this,"options");bn(this,"renderer");bn(this,"textRenderer");this.options=e||Lh,this.options.renderer=this.options.renderer||new Wx,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new jP}static parse(e,n){return new OP(n).parse(e)}static parseInline(e,n){return new OP(n).parseInline(e)}parse(e,n=!0){let r="";for(let s=0;s<e.length;s++){let i=e[s];if(this.options.extensions?.renderers?.[i.type]){let a=i,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){r+=l||"";continue}}let o=i;switch(o.type){case"space":{r+=this.renderer.space(o);continue}case"hr":{r+=this.renderer.hr(o);continue}case"heading":{r+=this.renderer.heading(o);continue}case"code":{r+=this.renderer.code(o);continue}case"table":{r+=this.renderer.table(o);continue}case"blockquote":{r+=this.renderer.blockquote(o);continue}case"list":{r+=this.renderer.list(o);continue}case"html":{r+=this.renderer.html(o);continue}case"paragraph":{r+=this.renderer.paragraph(o);continue}case"text":{let a=o,l=this.renderer.text(a);for(;s+1<e.length&&e[s+1].type==="text";)a=e[++s],l+=`
`+this.renderer.text(a);n?r+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):r+=l;continue}default:{let a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}parseInline(e,n=this.renderer){let r="";for(let s=0;s<e.length;s++){let i=e[s];if(this.options.extensions?.renderers?.[i.type]){let a=this.options.extensions.renderers[i.type].call({parser:this},i);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=a||"";continue}}let o=i;switch(o.type){case"escape":{r+=n.text(o);break}case"html":{r+=n.html(o);break}case"link":{r+=n.link(o);break}case"image":{r+=n.image(o);break}case"strong":{r+=n.strong(o);break}case"em":{r+=n.em(o);break}case"codespan":{r+=n.codespan(o);break}case"br":{r+=n.br(o);break}case"del":{r+=n.del(o);break}case"text":{r+=n.text(o);break}default:{let a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}},Gx=(RP=class{constructor(t){bn(this,"options");bn(this,"block");this.options=t||Lh}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?_c.lex:_c.lexInline}provideParser(){return this.block?Tc.parse:Tc.parseInline}},bn(RP,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),RP),_he=class{constructor(...t){bn(this,"defaults",MP());bn(this,"options",this.setOptions);bn(this,"parse",this.parseMarkdown(!0));bn(this,"parseInline",this.parseMarkdown(!1));bn(this,"Parser",Tc);bn(this,"Renderer",Wx);bn(this,"TextRenderer",jP);bn(this,"Lexer",_c);bn(this,"Tokenizer",Kx);bn(this,"Hooks",Gx);this.use(...t)}walkTokens(t,e){let n=[];for(let r of t)switch(n=n.concat(e.call(this,r)),r.type){case"table":{let s=r;for(let i of s.header)n=n.concat(this.walkTokens(i.tokens,e));for(let i of s.rows)for(let o of i)n=n.concat(this.walkTokens(o.tokens,e));break}case"list":{let s=r;n=n.concat(this.walkTokens(s.items,e));break}default:{let s=r;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(i=>{let o=s[i].flat(1/0);n=n.concat(this.walkTokens(o,e))}):s.tokens&&(n=n.concat(this.walkTokens(s.tokens,e)))}}return n}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let i=e.renderers[s.name];i?e.renderers[s.name]=function(...o){let a=s.renderer.apply(this,o);return a===!1&&(a=i.apply(this,o)),a}:e.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let i=e[s.level];i?i.unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),r.extensions=e),n.renderer){let s=this.defaults.renderer||new Wx(this.defaults);for(let i in n.renderer){if(!(i in s))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let o=i,a=n.renderer[o],l=s[o];s[o]=(...c)=>{let d=a.apply(s,c);return d===!1&&(d=l.apply(s,c)),d||""}}r.renderer=s}if(n.tokenizer){let s=this.defaults.tokenizer||new Kx(this.defaults);for(let i in n.tokenizer){if(!(i in s))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let o=i,a=n.tokenizer[o],l=s[o];s[o]=(...c)=>{let d=a.apply(s,c);return d===!1&&(d=l.apply(s,c)),d}}r.tokenizer=s}if(n.hooks){let s=this.defaults.hooks||new Gx;for(let i in n.hooks){if(!(i in s))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let o=i,a=n.hooks[o],l=s[o];Gx.passThroughHooks.has(i)?s[o]=c=>{if(this.defaults.async)return Promise.resolve(a.call(s,c)).then(h=>l.call(s,h));let d=a.call(s,c);return l.call(s,d)}:s[o]=(...c)=>{let d=a.apply(s,c);return d===!1&&(d=l.apply(s,c)),d}}r.hooks=s}if(n.walkTokens){let s=this.defaults.walkTokens,i=n.walkTokens;r.walkTokens=function(o){let a=[];return a.push(i.call(this,o)),s&&(a=a.concat(s.call(this,o))),a}}this.defaults={...this.defaults,...r}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return _c.lex(t,e??this.defaults)}parser(t,e){return Tc.parse(t,e??this.defaults)}parseMarkdown(t){return(e,n)=>{let r={...n},s={...this.defaults,...r},i=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&r.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=t);let o=s.hooks?s.hooks.provideLexer():t?_c.lex:_c.lexInline,a=s.hooks?s.hooks.provideParser():t?Tc.parse:Tc.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(e):e).then(l=>o(l,s)).then(l=>s.hooks?s.hooks.processAllTokens(l):l).then(l=>s.walkTokens?Promise.all(this.walkTokens(l,s.walkTokens)).then(()=>l):l).then(l=>a(l,s)).then(l=>s.hooks?s.hooks.postprocess(l):l).catch(i);try{s.hooks&&(e=s.hooks.preprocess(e));let l=o(e,s);s.hooks&&(l=s.hooks.processAllTokens(l)),s.walkTokens&&this.walkTokens(l,s.walkTokens);let c=a(l,s);return s.hooks&&(c=s.hooks.postprocess(c)),c}catch(l){return i(l)}}}onError(t,e){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let r="<p>An error occurred:</p><pre>"+vl(n.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(n);throw n}}},Rh=new _he;zt.options=zt.setOptions=function(t){return Rh.setOptions(t),zt.defaults=Rh.defaults,P8(zt.defaults),zt};zt.getDefaults=MP;zt.defaults=Lh;zt.use=function(...t){return Rh.use(...t),zt.defaults=Rh.defaults,P8(zt.defaults),zt};zt.walkTokens=function(t,e){return Rh.walkTokens(t,e)};zt.parseInline=Rh.parseInline;zt.Parser=Tc;zt.parser=Tc.parse;zt.Renderer=Wx;zt.TextRenderer=jP;zt.Lexer=_c;zt.lexer=_c.lex;zt.Tokenizer=Kx;zt.Hooks=Gx;zt.parse=zt;E_e=zt.options,S_e=zt.setOptions,N_e=zt.use,k_e=zt.walkTokens,A_e=zt.parseInline,D_e=Tc.parse,C_e=_c.lex});var zs,Gu,$u,Sv=G(()=>{"use strict";zs=L(ge(),1);GP();Gu=L(H(),1);zt.setOptions({breaks:!0,gfm:!0});$u=({value:t,onChange:e,placeholder:n="Start typing...",className:r="",onBlur:s,onFocus:i,autoFocus:o=!1,minHeight:a="100px",onToggleChecklist:l})=>{let[c,d]=(0,zs.useState)(!1),[h,f]=(0,zs.useState)(t),m=(0,zs.useRef)(null),y=(0,zs.useRef)(t);(0,zs.useEffect)(()=>{t!==y.current&&(y.current=t,f(t))},[t]),(0,zs.useEffect)(()=>{o&&m.current&&m.current.focus()},[o]),(0,zs.useEffect)(()=>{if(c&&m.current){m.current.focus();let R=m.current.value.length;m.current.setSelectionRange(R,R)}},[c]);let w=(0,zs.useCallback)(()=>{d(!0),i?.()},[i]),v=(0,zs.useCallback)(()=>{d(!1);let R=h.trim();R!==y.current&&(y.current=R,e(R)),s?.()},[h,e,s]),g=(0,zs.useCallback)(R=>{f(R.target.value)},[]),b=(0,zs.useCallback)(R=>{R.key==="Escape"?(R.preventDefault(),f(t),d(!1)):R.key==="Enter"&&R.metaKey&&(R.preventDefault(),d(!1))},[t]),I=(0,zs.useCallback)(()=>{c||d(!0)},[c]),k=R=>{if(!R)return"";try{return zt.parse(R)}catch{return R}};return(0,Gu.jsxs)("div",{className:"relative",children:[!c&&(0,Gu.jsx)("div",{className:`cursor-text transition-colors rounded-md p-3 -m-3 hover:bg-gray-100/70 ${r}`,style:{minHeight:a,fontSize:"14px",lineHeight:"1.5"},onClick:I,children:t?(0,Gu.jsx)("div",{className:"prose prose-sm max-w-none text-gray-800",dangerouslySetInnerHTML:{__html:k(t)}}):(0,Gu.jsx)("span",{className:"text-gray-400 italic",children:n})}),c&&(0,Gu.jsx)("div",{className:"relative",children:(0,Gu.jsx)("textarea",{ref:m,value:h,onChange:g,onFocus:w,onBlur:v,onKeyDown:b,placeholder:n,className:`w-full resize-none cursor-text transition-colors rounded-md p-3 -m-3 outline-none bg-blue-50/50 ring-1 ring-blue-200 ${r}`,style:{minHeight:a,fontSize:"14px",lineHeight:"1.5",fontFamily:"inherit"}})})]})}});var tr,ne,The,Ihe,xhe,Ehe,Nv,$P=G(()=>{"use strict";tr=L(ge(),1);Ve();ia();ju();S8();k8();Sv();ne=L(H(),1),The=[{id:"1",name:"Urgent (P1)",color:"text-red-600",icon:"FlagIcon"},{id:"2",name:"High (P2)",color:"text-orange-500",icon:"FlagIcon"},{id:"3",name:"Medium (P3)",color:"text-blue-500",icon:"FlagIcon"},{id:"4",name:"Low (P4)",color:"text-gray-500",icon:"FlagIcon"}],Ihe=t=>{switch(t){case 1:return"text-red-600";case 2:return"text-orange-500";case 3:return"text-blue-500";case 4:return"text-gray-500";default:return"text-gray-400"}},xhe=t=>{let e=new Date(t);if(isNaN(e.getTime()))return"";let n=e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});if(e.getHours()!==0||e.getMinutes()!==0){let s=e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return`${n} at ${s}`}return n},Ehe=({tag:t,onRemove:e})=>{let[n,r]=(0,tr.useState)(!1);return(0,ne.jsxs)("span",{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),className:`relative group inline-flex items-center pl-2 pr-1.5 py-0.5 text-xs font-medium rounded-full bg-${t.color}/20 text-${t.color}`,children:[(0,ne.jsx)("span",{children:t.name}),n&&(0,ne.jsx)("button",{onClick:()=>e(t.id),className:"absolute -right-1 -top-1 w-3 h-3 bg-gray-500 text-white rounded-full flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity","aria-label":`Remove ${t.name} tag`,children:"\xD7"})]})},Nv=({selectedTaskId:t,tasks:e,allTags:n,allLists:r,allLogs:s,childrenTasks:i,onToggleComplete:o,onUpdateTask:a,onDeleteTask:l,onDuplicateTask:c,onSelectTask:d,onAddTask:h,onOpenLogModal:f,onBack:m})=>{let y=(0,tr.useMemo)(()=>e.find(P=>P.id===t)||null,[t,e]),[w,v]=(0,tr.useState)(null),[g,b]=(0,tr.useState)(!1),[I,k]=(0,tr.useState)(""),[R,F]=(0,tr.useState)(""),S=(0,tr.useRef)(null),E=(0,tr.useRef)(null),x={date:(0,tr.useRef)(null),priority:(0,tr.useRef)(null),tags:(0,tr.useRef)(null),more:(0,tr.useRef)(null),list:(0,tr.useRef)(null)},T=(0,tr.useMemo)(()=>y?s.filter(P=>P.taskId===y.id).sort((P,ee)=>ee.logDate.getTime()-P.logDate.getTime()):[],[y,s]);if((0,tr.useEffect)(()=>{let P=ee=>{S.current&&!S.current.contains(ee.target)&&(Object.values(x).some(U=>U.current?.contains(ee.target))||v(null))};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[x]),(0,tr.useEffect)(()=>{y&&k(y.title||""),b(!1),F(""),v(null)},[y?.id]),(0,tr.useEffect)(()=>{if(g&&E.current){E.current.focus(),E.current.select();let P=E.current;P.style.height="auto",P.style.height=`${P.scrollHeight}px`}},[g]),!y)return(0,ne.jsx)("div",{className:"flex-1 bg-white/80 flex items-center justify-center",children:(0,ne.jsxs)("div",{className:"text-center text-gray-500",children:[(0,ne.jsx)("p",{className:"text-lg font-medium",children:"Select a task to see its details"}),(0,ne.jsx)("p",{className:"text-sm",children:"or create a new one!"})]})});let N=r.find(P=>P.id===y.listId),D=(y.tags??[]).map(P=>n.find(ee=>ee.id===P)).filter(Boolean),A=Ihe(y.priority),V=n.filter(P=>!(y.tags||[]).includes(P.id)),q=P=>{console.log("Updating task:",y?.id,P),y?.id&&a(y.id,P),v(null)},$=()=>{y&&I.trim()&&I.trim()!==y.title&&a(y.id,{title:I.trim()}),b(!1)},he=P=>q({tags:[...y.tags||[],P]}),ie=P=>q({tags:(y.tags||[]).filter(ee=>ee!==P)}),Se=P=>{if(P.preventDefault(),y&&R.trim()){let ee={title:R.trim(),tagNames:[],priority:void 0,dueDate:void 0};h(ee,null,y.id),F("")}},Le=()=>{window.confirm("Are you sure you want to delete this task? This will also delete all of its subtasks.")&&l(y.id),v(null)},Pe=(P,ee)=>{if(!y||!y.description)return;let W=y.description.split(`
`);if(P>=W.length)return;let U=W[P],te=U;if(ee?te=U.replace(/ \[ \]/,"[x]"):te=U.replace(/ \[x\]/i,"[ ]"),te!==U){W[P]=te;let _e=W.join(`
`);a(y.id,{description:_e})}},Y=()=>{if(!w)return null;let P=x[w]?.current;if(!P)return null;let ee=P.getBoundingClientRect(),W={position:"absolute",zIndex:50},U=window.innerWidth,te=window.innerHeight,_e=w==="list"?224:192,Ke=256,Ft=te-ee.bottom,En=ee.top,fn=U-ee.left,de=ee.right;return Ft>=Ke||Ft>En?W.top=`${ee.bottom+8}px`:W.bottom=`${te-ee.top+8}px`,w==="priority"||w==="more"?fn>=_e?W.left=`${ee.left}px`:W.right=`${U-ee.right}px`:de>=_e?W.left=`${ee.left}px`:W.right=`${U-ee.right}px`,(0,ne.jsxs)("div",{ref:S,style:W,className:"shadow-lg",children:[w==="date"&&(0,ne.jsx)(Li,{currentDate:y.dueDate?new Date(y.dueDate):null,onSelect:Ie=>q({dueDate:Ie,reminder:!0}),onClear:()=>q({dueDate:void 0,reminder:!1}),onClose:()=>v(null)}),w==="priority"&&(0,ne.jsx)("ul",{className:"bg-white rounded-lg shadow-xl border border-gray-200 w-48 overflow-y-auto max-h-64",children:The.map(Ie=>(0,ne.jsx)("li",{children:(0,ne.jsxs)("button",{onClick:()=>q({priority:parseInt(Ie.id,10)}),className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm hover:bg-gray-100",children:[(0,ne.jsx)(ns,{className:`w-4 h-4 ${Ie.color}`}),(0,ne.jsx)("span",{children:Ie.name})]})},Ie.id))}),w==="tags"&&(0,ne.jsx)("ul",{className:"bg-white rounded-lg shadow-xl border border-gray-200 w-48 max-h-56 overflow-y-auto",children:V.length>0?V.map(Ie=>(0,ne.jsx)("li",{children:(0,ne.jsxs)("button",{onClick:()=>he(Ie.id),className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm hover:bg-gray-100",children:[(0,ne.jsx)("span",{className:`w-2.5 h-2.5 rounded-full bg-${Ie.color}`}),(0,ne.jsx)("span",{children:Ie.name})]})},Ie.id)):(0,ne.jsx)("li",{className:"px-3 py-2 text-sm text-gray-500",children:"No more tags"})}),w==="list"&&(0,ne.jsx)("ul",{className:"bg-white rounded-lg shadow-xl border border-gray-200 w-56 max-h-64 overflow-y-auto",children:r.filter(Ie=>Ie.id!=="today"&&Ie.id!=="upcoming").map(Ie=>{let ir=Z[Ie.icon]||ni;return(0,ne.jsx)("li",{children:(0,ne.jsxs)("button",{onClick:()=>q({listId:Ie.id}),className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm hover:bg-gray-100",children:[(0,ne.jsx)(ir,{className:`w-4 h-4 ${Ie.color?`text-${Ie.color}`:""}`}),(0,ne.jsx)("span",{className:"flex-1 truncate",children:Ie.name}),y.listId===Ie.id&&(0,ne.jsx)(Lt,{className:"w-4 h-4 text-blue-600"})]})},Ie.id)})}),w==="more"&&(0,ne.jsxs)("ul",{className:"bg-white rounded-lg shadow-xl border border-gray-200 w-48 overflow-y-auto max-h-64",children:[(0,ne.jsx)("li",{children:(0,ne.jsxs)("button",{onClick:()=>{c(y.id),v(null)},className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,ne.jsx)(u1,{className:"w-4 h-4"}),(0,ne.jsx)("span",{children:"Duplicate Task"})]})}),(0,ne.jsx)("li",{children:(0,ne.jsxs)("button",{onClick:Le,className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-red-600 hover:bg-red-50",children:[(0,ne.jsx)(ei,{className:"w-4 h-4"}),(0,ne.jsx)("span",{children:"Delete Task"})]})})]})]})};return(0,ne.jsxs)("div",{className:"flex-1 bg-white/80 flex flex-col h-full",children:[(0,ne.jsx)("header",{className:"px-4 py-3 border-b border-gray-200 flex-shrink-0",children:(0,ne.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ne.jsxs)("div",{className:"flex items-center gap-3",children:[m&&(0,ne.jsx)("button",{onClick:m,className:"p-1.5 text-gray-600 hover:bg-gray-100 rounded transition-colors","aria-label":"Back to task list",children:(0,ne.jsx)(ti,{className:"w-4 h-4"})}),(0,ne.jsx)(Vr,{checked:y.completed,onChange:()=>o(y.id)}),(0,ne.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ne.jsxs)("button",{ref:x.date,onClick:()=>v(P=>P==="date"?null:"date"),className:"flex items-center gap-1.5 text-sm text-gray-600 hover:bg-gray-100 rounded px-2 py-1 transition-colors",children:[(0,ne.jsx)(vt,{className:"w-4 h-4"}),(0,ne.jsx)("span",{children:y.dueDate?xhe(new Date(y.dueDate)):"Set date"})]}),y.dueDate&&(0,ne.jsx)("button",{onClick:()=>a(y.id,{reminder:!y.reminder}),className:"p-1.5 hover:bg-gray-100 rounded transition-colors","aria-label":"Toggle reminder",children:(0,ne.jsx)(jo,{className:`w-4 h-4 transition-colors ${y.reminder?"text-blue-600":"text-gray-400"}`})})]})]}),(0,ne.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ne.jsx)("button",{ref:x.priority,onClick:()=>v(P=>P==="priority"?null:"priority"),className:"p-1.5 hover:bg-gray-100 rounded transition-colors",children:(0,ne.jsx)(ns,{className:`w-4 h-4 ${A}`})}),(0,ne.jsx)("button",{ref:x.more,onClick:()=>v(P=>P==="more"?null:"more"),className:"p-1.5 text-gray-400 hover:text-gray-600 rounded transition-colors","aria-label":"More options",children:(0,ne.jsx)(wr,{className:"w-4 h-4"})})]})]})}),(0,ne.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,ne.jsxs)("div",{className:"px-4 py-3 space-y-4",children:[(0,ne.jsx)("div",{className:"flex items-start gap-2",children:(0,ne.jsx)("div",{className:"flex-1 min-w-0",children:g?(0,ne.jsx)("textarea",{ref:E,value:I,onChange:P=>k(P.target.value),onBlur:$,onKeyDown:P=>{P.key==="Enter"&&(P.preventDefault(),$()),P.key==="Escape"&&(P.preventDefault(),k(y.title||""),b(!1))},onInput:P=>{let ee=P.target;ee.style.height="auto",ee.style.height=`${ee.scrollHeight}px`},className:"w-full text-xl font-bold text-gray-800 bg-white border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none overflow-hidden py-1 px-2",rows:1}):(0,ne.jsx)("h1",{onClick:()=>b(!0),className:`text-xl font-bold text-gray-800 cursor-text leading-tight ${y.completed?"line-through text-gray-400":""}`,children:y.title})})}),(0,ne.jsx)("div",{className:"flex-1 flex flex-col min-h-0",children:(0,ne.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:(0,ne.jsx)("div",{className:"p-3",children:(0,ne.jsx)($u,{value:y.description||"",onChange:P=>a(y.id,{description:P}),placeholder:"Add more details... (Markdown supported)",minHeight:"256px",onToggleChecklist:Pe})})})}),(0,ne.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,ne.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,ne.jsx)(Lt,{className:"w-4 h-4 text-gray-500"}),(0,ne.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Subtasks"}),(0,ne.jsxs)("span",{className:"text-xs text-gray-500",children:["(",i.filter(P=>P.completed).length,"/",i.length,")"]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[i.map(P=>(0,ne.jsx)(E8,{task:P,onToggleComplete:o,onSelect:d},P.id)),(0,ne.jsxs)("form",{onSubmit:Se,className:"flex items-center gap-2 p-2 bg-gray-50 rounded border border-dashed border-gray-300",children:[(0,ne.jsx)(Vt,{className:"w-4 h-4 text-gray-400"}),(0,ne.jsx)("input",{type:"text",placeholder:"Add a subtask",className:"flex-1 bg-transparent text-sm focus:outline-none",value:R,onChange:P=>F(P.target.value)})]})]})]}),(0,ne.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,ne.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ne.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ne.jsx)(Ln,{className:"w-4 h-4 text-gray-500"}),(0,ne.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Journal"})]}),(0,ne.jsxs)("button",{onClick:()=>f(y),className:"flex items-center gap-1 px-3 py-1.5 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 transition-colors",children:[(0,ne.jsx)(Vt,{className:"w-3 h-3"}),(0,ne.jsx)("span",{children:"Add Entry"})]})]}),(0,ne.jsx)("div",{className:"space-y-2",children:T.length>0?T.slice(0,3).map(P=>(0,ne.jsx)(N8,{log:P},P.id)):(0,ne.jsxs)("div",{className:"text-center py-6 text-gray-500",children:[(0,ne.jsx)(Ln,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,ne.jsx)("p",{className:"text-sm",children:"No journal entries for this task yet."})]})})]})]})}),Y(),(0,ne.jsx)("div",{className:"border-t border-gray-200 px-4 py-3 flex-shrink-0",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[N&&(0,ne.jsx)("div",{className:"flex items-center gap-2",children:(0,ne.jsxs)("button",{ref:x.list,onClick:()=>v(P=>P==="list"?null:"list"),className:"flex items-center gap-1.5 text-sm text-gray-600 hover:bg-gray-100 rounded px-2 py-1 transition-colors",children:[tr.default.createElement(Z[N.icon]||ni,{className:`w-4 h-4 ${N.color?`text-${N.color}`:""}`}),(0,ne.jsx)("span",{children:N.name}),(0,ne.jsx)(As,{className:"w-3 h-3"})]})}),(0,ne.jsxs)("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[(0,ne.jsx)(Go,{className:"w-4 h-4 text-gray-500"}),(0,ne.jsxs)("div",{className:"flex items-center gap-1 flex-wrap",children:[D.slice(0,3).map(P=>(0,ne.jsx)(Ehe,{tag:P,onRemove:ie},P.id)),D.length>3&&(0,ne.jsxs)("span",{className:"text-xs text-gray-500",children:["+",D.length-3]}),(0,ne.jsx)("button",{ref:x.tags,onClick:()=>v(P=>P==="tags"?null:"tags"),className:"w-6 h-6 border border-gray-300 rounded-full flex items-center justify-center text-gray-400 hover:text-gray-600 hover:border-gray-500 transition-colors","aria-label":"Add tag",children:(0,ne.jsx)(Vt,{className:"w-3 h-3"})})]})]})]})})]})}});var Pi,She,Nhe,khe,G8,$8,K8,Zx,kv=G(()=>{"use strict";_s();Pi=(t,e)=>{if(!e)return{status:"none",progress:0,isComplete:!1};switch(t.type){case"binary":return{status:"done",progress:1,isComplete:!0};case"count":return She(t,e);case"duration":return Nhe(t,e);case"checklist":return khe(t,e);default:return{status:"none",progress:0,isComplete:!1}}},She=(t,e)=>{let n=e.value||0,r=t.dailyTarget||1,s=t.dailyTargetComparison||"at_least",i=!1,o=0;switch(s){case"at_least":i=n>=r,o=Math.min(1,n/r);break;case"less_than":i=n<r,o=n>0?1:0;break;case"exactly":i=n===r,o=n>0?Math.min(1,n/r):0;break;case"any_value":i=n>0,o=n>0?1:0;break}return{status:i?"done":n>0?"partial":"none",progress:o,isComplete:i}},Nhe=(t,e)=>{let n=e.value||0,r=t.dailyTarget||1,s=n>=r,i=Math.min(1,n/r);return{status:s?"done":n>0?"partial":"none",progress:i,isComplete:s}},khe=(t,e)=>{let n=e.completedChecklistItems||[],r=t.checklist?.length||0;if(r===0)return{status:"none",progress:0,isComplete:!1};let s=n.length,i=s===r,o=r>0?s/r:0;return{status:i?"done":s>0?"partial":"none",progress:o,isComplete:i}},G8=(t,e)=>{let n=e.toISOString().split("T")[0];return t.find(r=>r.date===n)},$8=(t,e)=>{let n=new Date(e.startDate);n.setHours(0,0,0,0);let r=e.endDate?new Date(e.endDate):null;if(r&&r.setHours(23,59,59,999),t<n||r&&t>r)return!1;switch(e.frequency.type){case"daily":return!0;case"weekly":case"monthly":return!0;case"specific_days":return e.frequency.days.includes(t.getDay());default:return!1}},K8=(t,e,n)=>{let r=new Date(t.startDate);r.setHours(0,0,0,0);let s=t.endDate?new Date(t.endDate):null;if(s&&s.setHours(23,59,59,999),e<r||s&&e>s)return!1;switch(t.frequency.type){case"daily":return!0;case"specific_days":return t.frequency.days.includes(e.getDay());case"weekly":{let i=new Date(e);i.setDate(i.getDate()-i.getDay()),i.setHours(0,0,0,0);let o=new Date(i);return o.setDate(i.getDate()+6),o.setHours(23,59,59,999),n.filter(c=>{let d=new Date(c.date);return c.habitId===t.id&&d>=i&&d<=o}).filter(c=>Pi(t,c).status==="done").length<t.frequency.times}case"monthly":{let i=new Date(e.getFullYear(),e.getMonth(),1),o=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return n.filter(c=>{let d=new Date(c.date);return c.habitId===t.id&&d>=i&&d<=o}).filter(c=>Pi(t,c).status==="done").length<t.frequency.times}default:return!1}},Zx=(t,e,n=new Date)=>{if(!t)return{currentStreak:0,bestStreak:0,completionRate:0,daysCompleted:0,goalProgress:0};let r=e.filter(I=>I.habitId===t.id),s=0,i=0,o=0,a=0,l=0,c=0,d=new Map;r.forEach(I=>{d.set(I.date,I)}),t.type==="count"||t.type==="duration"?c=Array.from(d.values()).reduce((I,k)=>I+(k.value||0),0):t.type==="binary"?c=Array.from(d.values()).filter(I=>Pi(t,I).status==="done").length:t.type==="checklist"&&(c=Array.from(d.values()).reduce((I,k)=>I+(k.completedChecklistItems?.length||0),0));let h=Array.from(d.values()).filter(I=>Pi(t,I).status==="done").length,f=new Date(t.startDate);f.setHours(0,0,0,0);let m=new Date(n);m.setHours(0,0,0,0);let y=new Date(f);for(;y<=m;){if($8(y,t)){let I=G8(r,y);Pi(t,I||null).status==="done"?(o++,a++,l++):(i=Math.max(i,o),o=0,l++)}y.setDate(y.getDate()+1)}i=Math.max(i,o);let w=new Date(m),v=0,g=!1;for(;w>=f&&!g;){if($8(w,t)){let I=G8(r,w);Pi(t,I||null).status==="done"?v++:g=!0}w.setDate(w.getDate()-1)}s=v;let b=l>0?a/l*100:0;return{currentStreak:s,bestStreak:i,completionRate:parseFloat(b.toFixed(2)),daysCompleted:h,goalProgress:c}}});var bl,io,Ahe,eE,KP=G(()=>{"use strict";bl=L(ge(),1);_s();Ve();io=L(H(),1),Ahe=({habit:t,habitLogs:e,selectedDate:n})=>{let[r,s]=(0,bl.useState)(n.getMonth()),[i,o]=(0,bl.useState)(n.getFullYear()),a=new Date(i,r,1),l=new Date(i,r+1,0).getDate(),c=a.getDay(),d=a.toLocaleString("default",{month:"long"}),h=(0,bl.useCallback)(()=>{s(v=>v===0?(o(g=>g-1),11):v-1)},[]),f=(0,bl.useCallback)(()=>{s(v=>v===11?(o(g=>g+1),0):v+1)},[]),m=(0,bl.useCallback)(v=>{let g=v.toISOString().split("T")[0],b=e.find(T=>T.habitId===t.id&&T.date===g);new Date().setHours(0,0,0,0);let k=new Date(v);k.setHours(0,0,0,0);let R=new Date(t.startDate);R.setHours(0,0,0,0);let F=t.endDate?new Date(t.endDate):null;if(F&&F.setHours(0,0,0,0),k<R||F&&k>F)return"inactive";let S=!1;switch(t.frequency.type){case"daily":S=!0;break;case"weekly":case"monthly":S=!0;break;case"specific_days":S=t.frequency.days.includes(k.getDay());break}if(!S)return"inactive";let E=new Date;if(E.setHours(0,0,0,0),new Date(v.getFullYear(),v.getMonth(),v.getDate())>E)return"future";if(b){if(b.status===cl.PARTIALLY_COMPLETED&&b.value!==void 0&&(t.type==="count"||t.type==="duration")){let T=t.dailyTarget||1,N=t.dailyTargetComparison||"at_least",D=!1;switch(N){case"at_least":D=b.value>=T;break;case"exactly":D=b.value===T;break;case"less_than":D=b.value<T;break;case"any_value":D=b.value>0;break}if(D)return"completed"}if(b.status===cl.PARTIALLY_COMPLETED&&t.type==="checklist"&&b.completedChecklistItems){let T=t.checklist?.length||0,N=b.completedChecklistItems.length;if(T>0&&N===T)return"completed"}switch(b.status){case"done":return"completed";case"none":return"skipped";case cl.MISSED:return"missed";case cl.PARTIALLY_COMPLETED:return"missed"}}return"not-logged"},[t,e]),y=(0,bl.useMemo)(()=>{let v=[];for(let g=0;g<c;g++)v.push(new Date(0));for(let g=1;g<=l;g++){let b=new Date(i,r,g);b.setHours(0,0,0,0),v.push(b)}return v},[r,i,l,c]),w=(0,bl.useCallback)(v=>{let g=m(v),b="w-8 h-8 flex items-center justify-center rounded-full text-xs font-medium",I=new Date(n.getFullYear(),n.getMonth(),n.getDate()),k=new Date(v.getFullYear(),v.getMonth(),v.getDate()),R=new Date;R.setHours(0,0,0,0);let F=I.getTime()===k.getTime(),S=R.getTime()===k.getTime();if(v.getTime()===new Date(0).getTime())return"";switch(g){case"completed":b+=" bg-green-500 text-white";break;case"skipped":b+=" bg-yellow-500 text-white";break;case"missed":b+=" bg-red-500 text-white";break;case"not-logged":b+=" bg-gray-200 text-gray-600";break;case"inactive":b+=" bg-gray-100 text-gray-400";break;case"future":b+=" bg-gray-50 text-gray-400";break}return S&&(b+=" ring-2 ring-blue-500 ring-offset-1"),F&&!S&&(b+=" ring-2 ring-purple-500 ring-offset-1"),b},[m,n]);return(0,io.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border",children:[(0,io.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Habit Calendar"}),(0,io.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,io.jsx)("button",{onClick:h,className:"p-1 rounded-full hover:bg-gray-200",children:(0,io.jsx)(Wi,{className:"w-5 h-5 text-gray-600"})}),(0,io.jsxs)("span",{className:"text-lg font-semibold text-gray-800",children:[d," ",i]}),(0,io.jsx)("button",{onClick:f,className:"p-1 rounded-full hover:bg-gray-200",children:(0,io.jsx)(Xn,{className:"w-5 h-5 text-gray-600"})})]}),(0,io.jsxs)("div",{className:"grid grid-cols-7 gap-1 text-center",children:[["S","M","T","W","T","F","S"].map((v,g)=>(0,io.jsx)("div",{className:"text-center text-xs font-semibold text-gray-500",children:v},`${v}-${g}`)),y.map((v,g)=>(0,io.jsx)("div",{className:w(v),children:v.getTime()===new Date(0).getTime()?"":v.getDate()},g))]})]})},eE=Ahe});var Ic,Dhe,Ku,Av=G(()=>{"use strict";bi();Ve();Ic=L(H(),1),Dhe=({log:t})=>{let e=to[t.logType],n=Z[e.icon]||Xe,r=s=>{let i=new Date(s),o=new Date,a=new Date;a.setDate(o.getDate()-1),o.setHours(0,0,0,0);let l=new Date(i);return l.setHours(0,0,0,0),l.getTime()===o.getTime()?`Today at ${i.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`:l.getTime()===a.getTime()?`Yesterday at ${i.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`:i.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return(0,Ic.jsxs)("li",{className:"flex items-start gap-3 p-2.5 rounded-md bg-white border border-gray-200/80",children:[(0,Ic.jsx)("div",{className:"pt-0.5",children:(0,Ic.jsx)(n,{className:"w-5 h-5 text-gray-500"})}),(0,Ic.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ic.jsx)("p",{className:"text-sm font-medium text-gray-800",children:t.title}),t.description&&(0,Ic.jsx)("p",{className:"text-xs text-gray-500 truncate mt-0.5",children:t.description})]}),(0,Ic.jsx)("div",{className:"text-xs text-gray-500 flex-shrink-0 pt-0.5",children:r(t.logDate)})]})},Ku=Dhe});var Ph,hn,Che,W8,Q8=G(()=>{"use strict";Ph=L(ge(),1);_s();kv();Ve();ia();hn=L(H(),1),Che=({habit:t,log:e,date:n,onLog:r,onDeleteLog:s})=>{let[i,o]=(0,Ph.useState)(e?.value||0),[a,l]=(0,Ph.useState)(e?.value?Math.floor(e.value/60):0),[c,d]=(0,Ph.useState)(e?.value?e.value%60:0),[h,f]=(0,Ph.useState)(new Set(e?.completedChecklistItems||[]));(0,Ph.useEffect)(()=>{o(e?.value||0),l(e?.value?Math.floor(e.value/60):0),d(e?.value?e.value%60:0),f(new Set(e?.completedChecklistItems||[]))},[e?.id,e?.value,e?.completedChecklistItems,t.id,n]);let y=Pi(t,e).status==="done",w=(k,R)=>{r({habitId:t.id,date:n.toISOString().split("T")[0],value:k,completedChecklistItems:R})},v=()=>{y&&e&&s?s(e.id):w()},g=k=>{let R=new Set(h);R.has(k)?R.delete(k):R.add(k),f(R),w(void 0,Array.from(R))},b=()=>{w(i)},I=()=>{let k=a*60+c;w(k)};if(t.type==="checklist")return(0,hn.jsxs)("div",{className:"space-y-3",children:[(0,hn.jsx)("div",{className:"space-y-2",children:t.checklist?.map(k=>(0,hn.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-md hover:bg-gray-50",children:[(0,hn.jsx)(Vr,{checked:h.has(k.id),onChange:()=>g(k.id)}),(0,hn.jsx)("span",{className:`flex-1 ${h.has(k.id)?"line-through text-gray-400":""}`,children:k.text})]},k.id))}),y&&(0,hn.jsxs)("div",{className:"flex items-center gap-2 text-green-600 font-semibold p-3 bg-green-50 rounded-lg",children:[(0,hn.jsx)(Lt,{className:"w-5 h-5"}),(0,hn.jsxs)("span",{className:"flex-1",children:["Done for"," ",new Date(n).toDateString()===new Date().toDateString()?"today":"the day","!"]}),(0,hn.jsx)("button",{onClick:v,className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-md hover:bg-red-200",children:"Undo"})]})]});if(y)return(0,hn.jsxs)("div",{className:"flex items-center gap-2 text-green-600 font-semibold p-4 bg-green-50 rounded-lg",children:[(0,hn.jsx)(Lt,{className:"w-6 h-6"}),(0,hn.jsxs)("span",{className:"flex-1",children:["Done for"," ",new Date(n).toDateString()===new Date().toDateString()?"today":"the day","!"]}),(0,hn.jsx)("button",{onClick:v,className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-md hover:bg-red-200",children:"Undo"})]});switch(t.type){case"binary":return(0,hn.jsx)("button",{onClick:v,className:`w-full py-2 text-lg font-bold rounded-lg transition-colors bg-${t.color}/20 text-${t.color} hover:bg-${t.color}/30`,children:"Mark Done"});case"count":let k=t.dailyTargetComparison!=="any-value"&&t.dailyTarget!==void 0;return(0,hn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,hn.jsx)("button",{onClick:()=>o(R=>Math.max(0,R-1)),className:"p-2 rounded-full bg-gray-200 hover:bg-gray-300",children:"-"}),(0,hn.jsx)("input",{type:"number",value:i,onChange:R=>o(parseInt(R.target.value)||0),className:"w-16 text-center text-lg font-bold bg-transparent border-b-2 border-gray-300 focus:border-blue-500 outline-none"}),k&&(0,hn.jsxs)("span",{className:"text-gray-500",children:["/ ",t.dailyTarget]}),(0,hn.jsx)("button",{onClick:()=>o(R=>R+1),className:"p-2 rounded-full bg-gray-200 hover:bg-gray-300",children:"+"}),(0,hn.jsx)("button",{onClick:b,className:`ml-auto px-4 py-2 font-semibold rounded-lg bg-${t.color}/80 text-white hover:bg-${t.color}`,children:"Log"})]});case"duration":return(0,hn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,hn.jsx)("input",{type:"number",value:a,onChange:R=>l(parseInt(R.target.value)||0),className:"w-12 text-center text-lg font-bold bg-transparent border-b-2 border-gray-300 focus:border-blue-500 outline-none"})," ",(0,hn.jsx)("span",{className:"text-gray-500",children:"h"}),(0,hn.jsx)("input",{type:"number",value:c,onChange:R=>d(parseInt(R.target.value)||0),className:"w-12 text-center text-lg font-bold bg-transparent border-b-2 border-gray-300 focus:border-blue-500 outline-none"})," ",(0,hn.jsx)("span",{className:"text-gray-500",children:"m"}),(0,hn.jsxs)("span",{className:"text-gray-500",children:["/ ",t.dailyTarget," m"]}),(0,hn.jsx)("button",{onClick:I,className:`ml-auto px-4 py-2 font-semibold rounded-lg bg-${t.color}/80 text-white hover:bg-${t.color}`,children:"Log"})]});default:return null}},W8=Che});var aa,xt,Rhe,Y8,X8,Lhe,Phe,wl,wp=G(()=>{"use strict";aa=L(ge(),1);Ve();xt=L(H(),1),Rhe=t=>t.toLocaleDateString("en-US",{month:"long",year:"numeric"}),Y8=(t,e)=>!t||!e?!1:t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate(),X8=t=>{(!t||typeof t!="object"||!(t instanceof Date)||isNaN(t.getTime()))&&(t=new Date);let e=t.getFullYear(),n=t.getMonth(),r=new Date(e,n,1),s=new Date(e,n+1,0),i=r.getDay(),o=[];for(let a=0;a<i;a++){let l=new Date(r);l.setDate(l.getDate()-(i-a)),o.push(l)}for(let a=1;a<=s.getDate();a++)o.push(new Date(e,n,a));for(;o.length<42;){let a=o[o.length-1],l=new Date(a);l.setDate(a.getDate()+1),o.push(l)}return o},Lhe=({className:t})=>(0,xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"3",children:(0,xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),Phe=({currentDate:t,onSelect:e,onClear:n})=>{let r=x=>!x||!(x instanceof Date)||isNaN(x.getTime())?new Date:x,[s,i]=(0,aa.useState)(r(t)),[o,a]=(0,aa.useState)(r(t)),[l,c]=(0,aa.useState)("12:00"),[d,h]=(0,aa.useState)("PM"),[f,m]=(0,aa.useState)(!1);(0,aa.useEffect)(()=>{let x=t,T=x&&(x.getHours()!==0||x.getMinutes()!==0);if(m(T),T&&x){let D=x.getHours(),A=x.getMinutes(),V=D>=12?"PM":"AM";D=D%12,D=D||12,c(`${String(D).padStart(2,"0")}:${String(A).padStart(2,"0")}`),h(V)}else c("12:00"),h("PM");let N=r(t);a(N),i(N)},[t]);let y=(0,aa.useMemo)(()=>{let x=[];for(let T=0;T<24*2;T++){let N=Math.floor(T/2),D=T%2*30,A=N>=12?"PM":"AM",V=N%12;V===0&&(V=12);let q=`${String(V).padStart(2,"0")}:${String(D).padStart(2,"0")}`;x.push({time:q,period:A})}return x},[]),w=(0,aa.useMemo)(()=>!s||typeof s!="object"||!(s instanceof Date)||isNaN(s.getTime())?X8(new Date):X8(s),[s]),v=()=>i(x=>x?new Date(x.getFullYear(),x.getMonth()-1,1):new Date),g=()=>i(x=>x?new Date(x.getFullYear(),x.getMonth()+1,1):new Date),b=()=>{let x=new Date;i(x),a(x)},I=x=>a(x),k=x=>{let N=x.target.value.replace(/[^0-9]/g,"").slice(0,4);if(N.length===0){c("");return}let D=N;if(N.length>2){let A=N.slice(0,-2),V=N.slice(-2);D=`${A}:${V}`}c(D)},R=()=>{if(!l.trim()){c("12:00");return}let x=l.replace(/[^0-9]/g,""),T,N;x.length<=2?(T=parseInt(x,10)||12,N=0):(T=parseInt(x.slice(0,-2),10)||12,N=parseInt(x.slice(-2),10)||0),T>12&&(T=12),T===0&&(T=12),N>59&&(N=59),c(`${String(T).padStart(2,"0")}:${String(N).padStart(2,"0")}`)},F=(x,T)=>{c(x),h(T)},S=()=>{if(!o)return;let x=new Date(o);if(x.setHours(0,0,0,0),f&&l){let T=l.split(":"),N=parseInt(T[0],10),D=parseInt(T[1]||"0",10);!isNaN(N)&&!isNaN(D)&&(d==="PM"&&N<12?N+=12:d==="AM"&&N===12&&(N=0),x.setHours(N,D,0,0))}e(x)},E=()=>{m(!1),c("12:00"),h("PM")};return(0,xt.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-200 w-80 p-4 font-sans text-gray-800",children:[(0,xt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,xt.jsx)("span",{className:"text-lg font-semibold",children:Rhe(s)}),(0,xt.jsxs)("div",{className:"flex items-center space-x-2 text-gray-500",children:[(0,xt.jsx)("button",{onClick:v,className:"p-1 rounded-full hover:bg-gray-100",children:(0,xt.jsx)(Wi,{className:"w-5 h-5"})}),(0,xt.jsx)("button",{onClick:b,title:"Go to Today",className:"w-5 h-5 border border-gray-400 rounded-full hover:bg-gray-100"}),(0,xt.jsx)("button",{onClick:g,className:"p-1 rounded-full hover:bg-gray-100",children:(0,xt.jsx)(Xn,{className:"w-5 h-5"})})]})]}),(0,xt.jsxs)("div",{className:"grid grid-cols-7 gap-y-1 text-center text-sm",children:[["S","M","T","W","T","F","S"].map((x,T)=>(0,xt.jsx)("div",{className:"w-9 h-9 flex items-center justify-center text-gray-400 font-semibold",children:x},`${x}-${T}`)),w.map((x,T)=>{let N=x.getMonth()===s.getMonth(),D=Y8(x,o),A=Y8(x,new Date),V="w-9 h-9 flex items-center justify-center rounded-full transition-colors duration-150";return D?V+=" bg-blue-600 text-white font-semibold":A?V+=" border-2 border-blue-600 text-blue-600 font-semibold hover:bg-blue-50":N?V+=" text-gray-700 hover:bg-gray-100":V+=" text-gray-300 hover:bg-gray-100",(0,xt.jsx)("div",{className:"flex justify-center items-center",children:(0,xt.jsx)("button",{onClick:()=>I(x),className:V,children:x.getDate()})},x.toISOString())})]}),(0,xt.jsx)("div",{className:"mt-4 border-t border-gray-200 pt-3",children:f?(0,xt.jsxs)("div",{children:[(0,xt.jsxs)("div",{className:"p-2 rounded-md bg-gray-50 border relative",children:[(0,xt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xt.jsx)(Qi,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),(0,xt.jsx)("input",{type:"text",value:l,onChange:k,onBlur:R,placeholder:"12:00",className:"font-medium bg-transparent outline-none w-24 text-lg text-blue-600"}),(0,xt.jsxs)("div",{className:"flex border border-gray-300 rounded-md ml-auto",children:[(0,xt.jsx)("button",{type:"button",onClick:()=>h("AM"),className:`px-3 py-1 text-sm font-semibold rounded-l-md transition-colors ${d==="AM"?"bg-blue-600 text-white":"bg-white text-blue-600 hover:bg-gray-100"}`,children:"AM"}),(0,xt.jsx)("button",{type:"button",onClick:()=>h("PM"),className:`px-3 py-1 text-sm font-semibold rounded-r-md transition-colors border-l border-gray-300 ${d==="PM"?"bg-blue-600 text-white":"bg-white text-blue-600 hover:bg-gray-100"}`,children:"PM"})]})]}),(0,xt.jsx)("button",{type:"button",onClick:E,className:"absolute -top-2 -right-2 w-5 h-5 bg-gray-400 text-white rounded-full flex items-center justify-center text-xs hover:bg-gray-600",title:"Remove time",children:"\xD7"})]}),(0,xt.jsx)("ul",{className:"max-h-36 overflow-y-auto mt-2",children:y.map(({time:x,period:T})=>{let N=x===l&&T===d;return(0,xt.jsx)("li",{children:(0,xt.jsxs)("button",{type:"button",onClick:()=>F(x,T),className:`w-full flex justify-between items-center text-left px-3 py-1.5 text-sm rounded-md ${N?"bg-blue-50 text-blue-700 font-semibold":"hover:bg-gray-100 text-gray-800"}`,children:[(0,xt.jsxs)("span",{children:[x," ",(0,xt.jsx)("span",{className:N?"text-blue-600":"text-gray-500",children:T})]}),N&&(0,xt.jsx)(Lhe,{className:"w-4 h-4 text-blue-600"})]})},`${x}-${T}`)})})]}):(0,xt.jsxs)("button",{type:"button",onClick:()=>m(!0),className:"w-full flex items-center justify-center gap-2 p-2 rounded-md bg-gray-50 hover:bg-gray-100 text-sm text-blue-600 font-semibold",children:[(0,xt.jsx)(Qi,{className:"w-5 h-5"}),"Add time"]})}),(0,xt.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,xt.jsx)("button",{onClick:n,className:"px-4 py-2 text-sm font-semibold text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-gray-300",children:"Clear"}),(0,xt.jsx)("button",{onClick:S,className:"px-4 py-2 text-sm font-semibold text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500",children:"OK"})]})]})},wl=Phe});var js,ze,Ohe,tE,WP=G(()=>{"use strict";js=L(ge(),1);Yi();vc();na();Ve();wp();bi();ze=L(H(),1),Ohe=({isOpen:t,onClose:e,selectedDate:n,taskContext:r,habitContext:s})=>{let[i,o]=(0,js.useState)(""),[a,l]=(0,js.useState)(""),[c,d]=(0,js.useState)("kary"),[h,f]=(0,js.useState)(!1),[m,y]=(0,js.useState)(n||new Date),[w,v]=(0,js.useState)("text"),[g,b]=(0,js.useState)(!1),[I,k]=(0,js.useState)(!1),[R,F]=(0,js.useState)(0),[S,E]=(0,js.useState)([]),[x,T]=(0,js.useState)(""),{foci:N,logTemplates:D,addLog:A}=Wr(),{refreshData:V}=Mn(),q=N.find(P=>P.id===c),$=D.filter(P=>P.focusId===c),he=(P,ee)=>P.replace(/{{date}}/gi,ee.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})),ie=P=>{v(P.logType),o(he(P.title,m)),l(P.description||""),P.checklist&&E(P.checklist.map((ee,W)=>({id:`temp-${W}`,text:ee.text,completed:ee.completed||!1}))),P.rating&&F(P.rating),k(!1)},Se=P=>{P.key==="Enter"&&x.trim()&&(P.preventDefault(),E([...S,{id:`temp-${Date.now()}`,text:x.trim(),completed:!1}]),T(""))},Le=P=>{E(S.filter((ee,W)=>W!==P))};js.default.useEffect(()=>{r&&t?(o(`Task: ${r.taskTitle}`),l(`Journal entry for task: ${r.taskTitle}`)):s&&t?(o(`Habit: ${s.habitTitle}`),l(`Journal entry for habit: ${s.habitTitle}`)):t&&(o(""),l("")),t&&(y(n||new Date),F(0),E([]),T(""))},[t,r,s,n]);let Pe=async P=>{if(P.preventDefault(),!(!i.trim()||!c)){f(!0);try{let ee={title:i.trim(),focusId:c,logType:w,logDate:m,...r?.taskId&&{taskId:r.taskId},...s?.habitId&&{habitId:s.habitId}};switch(w){case"text":ee.description=a.trim()||void 0;break;case"checklist":ee.checklist=S;break;case"rating":ee.rating=R;break}await A(ee),o(""),l(""),d("kary"),y(new Date),v("text"),F(0),E([]),T(""),setTimeout(()=>V(),300),e()}catch(ee){console.error("Failed to add log:",ee)}finally{f(!1)}}},Y=()=>{switch(w){case"rating":return(0,ze.jsx)("div",{className:"flex items-center gap-1 py-2",children:[1,2,3,4,5].map(P=>(0,ze.jsx)("button",{type:"button",onClick:()=>F(P),className:"p-1 rounded-full text-yellow-400 hover:text-yellow-500 transition-colors","aria-label":`Set rating to ${P}`,children:(0,ze.jsx)(_r,{className:`w-6 h-6 transition-colors ${R>=P?"fill-yellow-400":"fill-gray-300 hover:fill-yellow-200"}`})},P))});case"checklist":return(0,ze.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,ze.jsx)("ul",{className:"space-y-1 max-h-40 overflow-y-auto",children:S.map((P,ee)=>(0,ze.jsxs)("li",{className:"flex items-center gap-2 text-sm text-gray-700 pr-2",children:[(0,ze.jsx)(Lt,{className:"w-4 h-4 text-gray-400"}),(0,ze.jsx)("span",{className:"flex-1",children:P.text}),(0,ze.jsx)("button",{type:"button",onClick:()=>Le(ee),className:"text-red-400 hover:text-red-600 font-bold",children:"\xD7"})]},ee))}),(0,ze.jsx)("input",{type:"text",value:x,onChange:P=>T(P.target.value),onKeyDown:Se,placeholder:"Add item and press Enter...",className:"w-full bg-gray-50 rounded px-2 py-1.5 text-sm outline-none focus:ring-1 focus:ring-blue-500"})]});case"text":default:return(0,ze.jsx)("textarea",{value:a,onChange:P=>l(P.target.value),placeholder:"Add a description... (optional)",className:"w-full bg-transparent text-gray-700 placeholder-gray-400 text-sm outline-none resize-none border border-gray-300 rounded-md p-3 focus:ring-2 focus:ring-blue-500",rows:4})}};return!t||!q?null:(0,ze.jsx)(jn,{title:"Add New Log",onClose:e,children:(0,ze.jsxs)("form",{onSubmit:Pe,className:"space-y-4",children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Log Type"}),(0,ze.jsx)("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:q.allowedLogTypes.map(P=>{let ee=w===P,W=P==="text"?"Edit3Icon":P==="checklist"?"CheckSquareIcon":"StarIcon",U=Z[W]||ni;return(0,ze.jsxs)("button",{type:"button",onClick:()=>v(P),className:`flex items-center space-x-2 px-3 py-2 text-sm font-medium rounded-md transition-colors ${ee?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[(0,ze.jsx)(U,{className:"w-4 h-4"}),(0,ze.jsx)("span",{className:"capitalize",children:P})]},P)})})]}),(0,ze.jsxs)("div",{className:"space-y-2",children:[(0,ze.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ze.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Focus Area *"}),$.length>0&&(0,ze.jsx)("button",{type:"button",onClick:()=>k(!I),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Use Template"})]}),(0,ze.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ze.jsx)("div",{className:"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-md",children:q&&(0,ze.jsxs)(ze.Fragment,{children:[js.default.createElement(Z[q.icon]||ni,{className:`w-4 h-4 text-${q.color}`}),(0,ze.jsx)("span",{className:"text-sm font-medium text-gray-700",children:q.name})]})}),(0,ze.jsx)("select",{value:c,onChange:P=>{d(P.target.value),v("text")},className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:N.map(P=>(0,ze.jsx)("option",{value:P.id,children:P.name},P.id))})]}),I&&$.length>0&&(0,ze.jsxs)("div",{className:"mt-2 p-3 bg-gray-50 rounded-md border border-gray-200",children:[(0,ze.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Available Templates:"}),(0,ze.jsx)("div",{className:"space-y-1",children:$.map(P=>(0,ze.jsxs)("button",{type:"button",onClick:()=>ie(P),className:"w-full text-left flex items-center gap-2 p-2 text-sm text-gray-700 hover:bg-white rounded-md transition-colors",children:[js.default.createElement(Z[P.icon]||ni,{className:"w-4 h-4 text-gray-500"}),(0,ze.jsx)("span",{children:P.name})]},P.id))})]})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date & Time"}),(0,ze.jsx)("div",{className:"flex items-center space-x-2",children:(0,ze.jsxs)("button",{type:"button",onClick:()=>b(!g),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,ze.jsx)(vt,{className:"w-4 h-4 text-gray-500"}),(0,ze.jsxs)("span",{className:"text-sm text-gray-700",children:[m.toLocaleDateString()," at ",m.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})]})]})}),g&&(0,ze.jsx)("div",{className:"mt-2",children:(0,ze.jsx)(wl,{currentDate:m,onSelect:P=>{y(P),b(!1)},onClear:()=>{},onClose:()=>b(!1)})})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Entry Title *"}),(0,ze.jsx)("input",{type:"text",id:"title",value:i,onChange:P=>o(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter entry title...",required:!0})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:w==="rating"?"Rating":w==="checklist"?"Checklist Items":"Content"}),Y()]}),(0,ze.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,ze.jsx)("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),(0,ze.jsx)("button",{type:"submit",disabled:!i.trim()||!c||h,className:"px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Adding...":"Log Entry"})]})]})})},tE=Ohe});var nr,pe,QP,Mhe,Fhe,J8,Z8=G(()=>{"use strict";nr=L(ge(),1);Ve();_s();hp();vc();kv();KP();Av();Q8();WP();na();pe=L(H(),1),QP=[{id:"Yet to Start",name:"Yet to Start",color:"text-gray-500",icon:"SunriseIcon"},{id:"In Progress",name:"In Progress",color:"text-blue-500",icon:"RepeatIcon"},{id:"Completed",name:"Completed",color:"text-green-500",icon:"CheckSquareIcon"},{id:"Abandoned",name:"Abandoned",color:"text-red-500",icon:"Trash2Icon"}],Mhe=t=>QP.find(e=>e.id===t)||QP[0],Fhe=({selectedItem:t,onClose:e})=>{let n=t.originalData,r=ta(),s=Wr(),[i,o]=(0,nr.useState)(null),[a,l]=(0,nr.useState)(!1),[c,d]=(0,nr.useState)(""),[h,f]=(0,nr.useState)(!1),[m,y]=(0,nr.useState)(""),[w,v]=(0,nr.useState)(!1),g=(0,nr.useRef)(null),b=(0,nr.useRef)(null),I=(0,nr.useRef)(null),k=(0,nr.useRef)(null),R=s.logs,F=r.habitLogs,S=t.date,E=(0,nr.useMemo)(()=>R.filter(U=>U.habitId===n.id).sort((U,te)=>te.logDate.getTime()-U.logDate.getTime()),[n.id,R]),x=(0,nr.useMemo)(()=>{let U=S.toISOString().split("T")[0],te=F.filter(_e=>_e.habitId===n.id&&_e.date===U);return te.length>0?te[te.length-1]:null},[n.id,F,S]),T=(0,nr.useMemo)(()=>{let U=0,te=new Map;return F.forEach(_e=>{te.set(_e.date,_e)}),n.type==="count"||n.type==="duration"?U=Array.from(te.values()).reduce((_e,Ke)=>_e+(Ke.value||0),0):n.type==="binary"?U=Array.from(te.values()).length:n.type==="checklist"&&(U=Array.from(te.values()).reduce((_e,Ke)=>_e+(Ke.completedChecklistItems?.length||0),0)),U},[n,F]),N=(0,nr.useMemo)(()=>Zx(n,F),[n,F]);(0,nr.useEffect)(()=>{let U=te=>{g.current&&!g.current.contains(te.target)&&b.current&&!b.current.contains(te.target)&&o(null)};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]),(0,nr.useEffect)(()=>{d(n.title||""),y(n.description||""),l(!1),f(!1),o(null)},[n.id]),(0,nr.useEffect)(()=>{a&&I.current&&(I.current.focus(),I.current.select())},[a]),(0,nr.useEffect)(()=>{h&&k.current&&k.current.focus()},[h]);let D=U=>{let te=Mn.getState(),_e=te.calendarItems.map(Ke=>Ke.id.includes(`habit-${n.id}`)?{...Ke,title:U.title!==void 0?U.title:Ke.title,originalData:{...Ke.originalData,...U}}:Ke);te.setCalendarItems(_e),r.updateHabit(n.id,U),o(null)},A=()=>{if(c.trim()&&c.trim()!==n.title){let U=Mn.getState(),te=U.calendarItems.map(_e=>_e.id.includes(`habit-${n.id}`)?{..._e,title:c.trim(),originalData:{..._e.originalData,title:c.trim()}}:_e);U.setCalendarItems(te),r.updateHabit(n.id,{title:c.trim()})}l(!1)},V=()=>{if(m!==(n.description||"")){let U=Mn.getState(),te=U.calendarItems.map(_e=>_e.id.includes(`habit-${n.id}`)?{..._e,originalData:{..._e.originalData,description:m.trim()}}:_e);U.setCalendarItems(te),r.updateHabit(n.id,{description:m.trim()})}f(!1)},q=()=>{v(!0)},$=()=>{v(!1)},he=async U=>{let te=Mn.getState();if(te.selectedItem&&te.selectedItem.id.includes(`habit-${n.id}`)){let Ke={...te.selectedItem,completed:!0};te.selectItem(Ke)}let _e=te.calendarItems.map(Ke=>Ke.id.includes(`habit-${n.id}`)&&Ke.date.toISOString().split("T")[0]===U.date?{...Ke,completed:!0}:Ke);te.setCalendarItems(_e),await r.addHabitLog(U)},ie=async U=>{let te=Mn.getState();if(te.selectedItem&&te.selectedItem.id.includes(`habit-${n.id}`)){let Ke={...te.selectedItem,completed:!1};te.selectItem(Ke)}let _e=te.calendarItems.map(Ke=>Ke.id.includes(`habit-${n.id}`)&&Ke.date.toISOString().split("T")[0]===S.toISOString().split("T")[0]?{...Ke,completed:!1}:Ke);te.setCalendarItems(_e),await r.deleteHabitLog(U)};(0,nr.useEffect)(()=>{},[F]);let Se=U=>{let te=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];switch(U.type){case"daily":return"Daily";case"weekly":return`${U.times} time${U.times>1?"s":""} per week`;case"monthly":return`${U.times} time${U.times>1?"s":""} per month`;case"specific_days":return`On ${U.days.map(_e=>te[_e]).join(", ")}`;default:return"Not set"}},Le=U=>{let te=U.type==="duration"?"minutes":"times",_e=Ft=>({at_least:"At least",exactly:"Exactly",less_than:"Less than",any_value:"Any value"})[Ft||"at_least"],Ke=[];return U.dailyTarget&&Ke.push(`${_e(U.dailyTargetComparison)} ${U.dailyTarget} ${te} per day`),U.totalTarget&&Ke.push(`${_e(U.totalTargetComparison)} ${U.totalTarget} ${te} in total`),Ke.length===0?"No specific target.":Ke.join(" and ")},Pe=U=>!U||U.length===0?"No reminders set":U.map(te=>{let[_e,Ke]=te.split(":").map(Number),Ft=_e>=12?"PM":"AM";return`${_e%12||12}:${Ke.toString().padStart(2,"0")} ${Ft}`}).join(", "),Y=()=>(0,pe.jsx)(W8,{habit:n,log:x,date:S,onLog:he,onDeleteLog:ie},`${n.id}-${S.toISOString().split("T")[0]}-${x?.id||"no-log"}`),P=Z[n.icon]||Xe,ee=Mhe(n.status),W=Z[ee.icon]||Xe;return(0,pe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 h-full overflow-y-auto",children:[(0,pe.jsxs)("div",{className:"flex justify-between items-start mb-6 pb-4 border-b border-gray-200",children:[(0,pe.jsxs)("div",{className:"flex items-start gap-4",children:[(0,pe.jsx)(P,{className:`w-12 h-12 text-${n.color}`}),(0,pe.jsxs)("div",{className:"flex-1",children:[a?(0,pe.jsx)("input",{ref:I,type:"text",value:c,onChange:U=>d(U.target.value),onBlur:A,onKeyDown:U=>{U.key==="Enter"&&(U.preventDefault(),A()),U.key==="Escape"&&(U.preventDefault(),d(n.title||""),l(!1))},className:"w-full text-3xl font-bold text-gray-800 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 px-2 py-1"}):(0,pe.jsx)("h1",{onClick:()=>l(!0),className:"text-3xl font-bold text-gray-800 cursor-text",children:n.title}),h?(0,pe.jsx)("textarea",{ref:k,value:m,onChange:U=>y(U.target.value),onBlur:V,onKeyDown:U=>{U.key==="Escape"&&(U.preventDefault(),y(n.description||""),f(!1))},className:"w-full mt-1 text-gray-500 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 px-2 py-1 resize-none",rows:2,placeholder:"Add description..."}):(0,pe.jsx)("p",{onClick:()=>f(!0),className:"text-gray-500 mt-1 cursor-text",children:n.description||"Click to add description..."})]})]}),(0,pe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,pe.jsxs)("button",{onClick:()=>o("status"),className:"flex items-center gap-2 text-sm font-medium bg-gray-100 hover:bg-gray-200 rounded-full px-3 py-1",children:[(0,pe.jsx)(W,{className:`w-4 h-4 ${ee.color}`}),(0,pe.jsx)("span",{className:ee.color,children:ee.name})]}),(0,pe.jsx)("button",{onClick:e,className:"p-2 rounded-md hover:bg-gray-100",children:(0,pe.jsx)(pi,{className:"w-5 h-5"})})]})]}),(0,pe.jsxs)("div",{className:"mb-6",children:[(0,pe.jsxs)("label",{className:"text-sm font-medium text-gray-500 mb-3 block",children:["Log for ",S.toLocaleDateString("en-US",{month:"long",day:"numeric"})]}),Y()]}),(0,pe.jsxs)("div",{className:"mb-6",children:[(0,pe.jsx)("label",{className:"text-sm font-medium text-gray-500 mb-3 block",children:"Details"}),(0,pe.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3 border",children:[(0,pe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,pe.jsx)(zf,{className:"w-4 h-4 text-gray-400"}),(0,pe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Frequency:"}),(0,pe.jsx)("span",{className:"text-sm text-gray-600",children:Se(n.frequency)})]}),(0,pe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,pe.jsx)(Xe,{className:"w-4 h-4 text-gray-400"}),(0,pe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Goal:"}),(0,pe.jsx)("span",{className:"text-sm text-gray-600",children:Le(n)})]}),(0,pe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,pe.jsx)(vt,{className:"w-4 h-4 text-gray-400"}),(0,pe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Timeline:"}),(0,pe.jsxs)("span",{className:"text-sm text-gray-600",children:[new Date(n.startDate).toLocaleDateString(),n.endDate?` to ${new Date(n.endDate).toLocaleDateString()}`:""]})]}),(0,pe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,pe.jsx)(jo,{className:"w-4 h-4 text-gray-400"}),(0,pe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Reminders:"}),(0,pe.jsx)("span",{className:"text-sm text-gray-600",children:Pe(n.reminders)})]}),n.totalTarget&&(0,pe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,pe.jsx)(Id,{className:"w-4 h-4 text-gray-400"}),(0,pe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Goal Progress:"}),(0,pe.jsxs)("span",{className:"text-sm text-gray-600",children:[T," / ",n.totalTarget," ",n.type==="duration"?"minutes":"times"]})]})]})]}),(0,pe.jsxs)("div",{className:"mb-6",children:[(0,pe.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,pe.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Journal"}),(0,pe.jsxs)("button",{onClick:q,className:"px-3 py-1 text-xs font-semibold text-green-700 bg-green-100 rounded-md hover:bg-green-200 transition-colors flex items-center gap-1.5",children:[(0,pe.jsx)(Ln,{className:"w-3.5 h-3.5"}),"Add to Journal"]})]}),(0,pe.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3 border",children:E.length>0?(0,pe.jsx)("ul",{className:"space-y-2",children:E.map(U=>(0,pe.jsx)(Ku,{log:U},U.id))}):(0,pe.jsx)("p",{className:"text-sm text-gray-500 text-center py-2",children:"No journal entries for this habit yet."})})]}),(0,pe.jsxs)("div",{className:"mb-6",children:[(0,pe.jsx)("label",{className:"text-sm font-medium text-gray-500 mb-3 block",children:"Statistics"}),(0,pe.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3 border",children:[(0,pe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,pe.jsx)(Jg,{className:"w-4 h-4 text-gray-400"}),(0,pe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Current Streak:"}),(0,pe.jsxs)("span",{className:"text-sm text-gray-600",children:[N.currentStreak," day",N.currentStreak!==1?"s":""]})]}),(0,pe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,pe.jsx)(Zg,{className:"w-4 h-4 text-gray-400"}),(0,pe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Best Streak:"}),(0,pe.jsxs)("span",{className:"text-sm text-gray-600",children:[N.bestStreak," day",N.bestStreak!==1?"s":""]})]}),(0,pe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,pe.jsx)(xd,{className:"w-4 h-4 text-gray-400"}),(0,pe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Completion Rate:"}),(0,pe.jsxs)("span",{className:"text-sm text-gray-600",children:[N.completionRate,"%"]})]}),(0,pe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,pe.jsx)(ey,{className:"w-4 h-4 text-gray-400"}),(0,pe.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Days Completed:"}),(0,pe.jsxs)("span",{className:"text-sm text-gray-600",children:[N.daysCompleted," days"]})]})]})]}),(0,pe.jsx)(eE,{habit:n,habitLogs:F,selectedDate:S}),i==="status"&&(0,pe.jsx)("div",{ref:g,className:"absolute shadow-lg z-20 top-full mt-2 left-0",children:(0,pe.jsx)("ul",{className:"bg-white rounded-lg shadow-xl border border-gray-200 w-48 overflow-y-auto",children:QP.map(U=>{let te=Z[U.icon]||Xe;return(0,pe.jsx)("li",{children:(0,pe.jsxs)("button",{onClick:()=>D({status:U.id}),className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm hover:bg-gray-100",children:[(0,pe.jsx)(te,{className:`w-4 h-4 ${U.color}`}),(0,pe.jsx)("span",{children:U.name})]})},U.id)})})}),w&&(0,pe.jsx)(tE,{isOpen:w,onClose:$,selectedDate:S,habitContext:{habitId:n.id,habitTitle:n.title}})]})},J8=Fhe});var Oh,Re,Uhe,Vhe,Hhe,e$,t$=G(()=>{"use strict";Oh=L(ge(),1);Ve();bi();vc();ia();na();Re=L(H(),1),Uhe=({rating:t=0})=>(0,Re.jsx)("div",{className:"flex items-center",children:[1,2,3,4,5].map(e=>(0,Re.jsx)(_r,{className:`w-5 h-5 text-yellow-400 ${t>=e?"fill-current":"fill-transparent stroke-current"}`},e))}),Vhe=({items:t=[]})=>(0,Re.jsx)("ul",{className:"space-y-2 mt-2",children:t.map(e=>(0,Re.jsxs)("li",{className:"flex items-center gap-3",children:[(0,Re.jsx)(Vr,{checked:e.completed,onChange:()=>{},disabled:!0}),(0,Re.jsx)("span",{className:`flex-1 text-sm ${e.completed?"text-gray-400 line-through":"text-gray-700"}`,children:e.text})]},e.id))}),Hhe=({selectedItem:t,onClose:e})=>{let n=Wr(),r=t.originalData,s=n.foci.find(g=>g.id===r.focusId),[i,o]=(0,Oh.useState)(!1),[a,l]=(0,Oh.useState)(!1),[c,d]=(0,Oh.useState)(r.title),[h,f]=(0,Oh.useState)(r.description||"");Oh.default.useEffect(()=>{d(r.title),f(r.description||"")},[r.id,r.title,r.description]);let m=async()=>{if(c.trim()!==r.title){let g=Mn.getState();g.selectedItem&&g.selectedItem.id===`log-${r.id}`&&g.selectItem({...g.selectedItem,title:c.trim(),originalData:{...r,title:c.trim()}});let b=g.calendarItems.map(I=>I.id===`log-${r.id}`?{...I,title:c.trim(),originalData:{...r,title:c.trim()}}:I);g.setCalendarItems(b),await n.updateLog(r.id,{title:c.trim()})}o(!1)},y=async()=>{if(h!==r.description){let g=Mn.getState();g.selectedItem&&g.selectedItem.id===`log-${r.id}`&&g.selectItem({...g.selectedItem,description:h,originalData:{...r,description:h}});let b=g.calendarItems.map(I=>I.id===`log-${r.id}`?{...I,description:h,originalData:{...r,description:h}}:I);g.setCalendarItems(b),await n.updateLog(r.id,{description:h||void 0})}l(!1)},w=g=>({"blue-500":"bg-blue-500","green-500":"bg-green-500","purple-500":"bg-purple-500","red-500":"bg-red-500","yellow-500":"bg-yellow-500","indigo-500":"bg-indigo-500","pink-500":"bg-pink-500"})[g]||"bg-gray-500",v=g=>{switch(g){case"text":return"Text Entry";case"checklist":return"Checklist";case"rating":return"Rating";default:return"Log"}};return(0,Re.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 h-full overflow-y-auto",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-200",children:[(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("div",{className:`w-3 h-3 rounded-full ${w(t.color)} mr-3`}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Journal Entry"}),(0,Re.jsx)("p",{className:"text-sm text-gray-500",children:t.date.toLocaleDateString()})]})]}),(0,Re.jsx)("button",{onClick:e,className:"p-2 rounded-md hover:bg-gray-100",children:(0,Re.jsx)(pi,{className:"w-5 h-5"})})]}),(0,Re.jsxs)("div",{className:"space-y-6",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),i?(0,Re.jsx)("input",{value:c,onChange:g=>d(g.target.value),onBlur:m,onKeyDown:g=>g.key==="Enter"&&m(),autoFocus:!0,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):(0,Re.jsx)("div",{onClick:()=>o(!0),className:"p-2 border border-transparent rounded-md hover:border-gray-300 cursor-pointer",children:(0,Re.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:r.title})})]}),s&&(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Focus Area"}),(0,Re.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-md",children:[(0,Re.jsx)(Xe,{className:`w-4 h-4 ${s.color==="blue-500"?"text-blue-500":s.color==="green-500"?"text-green-500":s.color==="purple-500"?"text-purple-500":s.color==="red-500"?"text-red-500":s.color==="yellow-500"?"text-yellow-500":s.color==="indigo-500"?"text-indigo-500":s.color==="pink-500"?"text-pink-500":"text-gray-500"}`}),(0,Re.jsx)("span",{className:`text-sm font-medium ${s.color==="blue-500"?"text-blue-500":s.color==="green-500"?"text-green-500":s.color==="purple-500"?"text-purple-500":s.color==="red-500"?"text-red-500":s.color==="yellow-500"?"text-yellow-500":s.color==="indigo-500"?"text-indigo-500":s.color==="pink-500"?"text-pink-500":"text-gray-500"}`,children:s.name})]})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a?(0,Re.jsx)("textarea",{value:h,onChange:g=>f(g.target.value),onBlur:y,autoFocus:!0,rows:8,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Add a description..."}):(0,Re.jsx)("div",{onClick:()=>l(!0),className:"p-3 border border-transparent rounded-md hover:border-gray-300 cursor-pointer min-h-[120px]",children:r.description?(0,Re.jsx)("p",{className:"text-gray-600 whitespace-pre-wrap",children:r.description}):(0,Re.jsx)("p",{className:"text-gray-400 italic",children:"Click to add a description..."})})]}),r.logType==="rating"&&r.rating&&(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),(0,Re.jsxs)("div",{className:"p-2 bg-gray-50 rounded-md",children:[(0,Re.jsx)(Uhe,{rating:r.rating}),(0,Re.jsxs)("span",{className:"text-sm text-gray-600 ml-2",children:[r.rating,"/5"]})]})]}),r.logType==="checklist"&&r.checklist&&(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Checklist"}),(0,Re.jsx)("div",{className:"p-2 bg-gray-50 rounded-md",children:(0,Re.jsx)(Vhe,{items:r.checklist})})]}),(0,Re.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Re.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Entry Details"}),(0,Re.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Re.jsxs)("div",{className:"flex justify-between",children:[(0,Re.jsx)("span",{className:"font-medium text-gray-600",children:"Type:"}),(0,Re.jsx)("span",{className:"text-gray-900",children:v(r.logType)})]}),(0,Re.jsxs)("div",{className:"flex justify-between",children:[(0,Re.jsx)("span",{className:"font-medium text-gray-600",children:"Date:"}),(0,Re.jsx)("span",{className:"text-gray-900",children:new Date(r.logDate).toLocaleDateString()})]}),(0,Re.jsxs)("div",{className:"flex justify-between",children:[(0,Re.jsx)("span",{className:"font-medium text-gray-600",children:"Time:"}),(0,Re.jsx)("span",{className:"text-gray-900",children:new Date(r.logDate).toLocaleTimeString()})]}),r.taskId&&(0,Re.jsxs)("div",{className:"flex justify-between",children:[(0,Re.jsx)("span",{className:"font-medium text-gray-600",children:"Related Task:"}),(0,Re.jsx)("span",{className:"text-gray-900",children:r.taskId})]}),r.habitId&&(0,Re.jsxs)("div",{className:"flex justify-between",children:[(0,Re.jsx)("span",{className:"font-medium text-gray-600",children:"Related Habit:"}),(0,Re.jsx)("span",{className:"text-gray-900",children:r.habitId})]})]})]})]})]})},e$=Hhe});var n$,yr,Bhe,qhe,r$,s$=G(()=>{"use strict";n$=L(ge(),1);Ve();qu();$P();Z8();t$();uv();vc();na();yr=L(H(),1),Bhe=({selectedItem:t,onClose:e})=>{let n=ea(),r=Wr(),s=Mn(),i=t.originalData,o=n.tags,a=n.lists,l=r.logs,c=n.tasks.filter(h=>h.parentId===i.id),d=(h,f)=>{let m=s.calendarItems.map(y=>y.id===`task-${h}`?{...y,title:f.title!==void 0?f.title:y.title,completed:f.completed!==void 0?f.completed:y.completed,originalData:{...y.originalData,...f}}:y);s.setCalendarItems(m)};return(0,n$.useEffect)(()=>(s.setRealTimeSyncDisabled(!0),()=>{s.setRealTimeSyncDisabled(!1),setTimeout(()=>s.refreshData(),200)}),[]),(0,yr.jsx)(Nv,{selectedTaskId:i.id,tasks:n.tasks,allTags:o,allLists:a,allLogs:l,childrenTasks:c,onToggleComplete:h=>{let f=n.tasks.find(m=>m.id===h);if(f){let m=!f.completed;n.updateTask(h,{completed:m}),d(h,{completed:m})}},onUpdateTask:(h,f)=>{n.updateTask(h,f),d(h,f)},onDeleteTask:n.deleteTask,onDuplicateTask:h=>{console.log("Duplicate task:",h)},onSelectTask:h=>{console.log("Select task:",h)},onAddTask:(h,f,m)=>{let y={title:h.title,description:"",completed:!1,priority:h.priority,dueDate:h.dueDate?new Date(h.dueDate):void 0,reminder:!1,listId:f?.id||"today",tags:[],parentId:m,createdAt:new Date};n.addTask(y)},onOpenLogModal:h=>{let f=new CustomEvent("openLogModal",{detail:{taskId:h.id,taskTitle:h.title,selectedDate:new Date}});window.dispatchEvent(f)},onBack:e})},qhe=({selectedItem:t,onClose:e})=>t?(()=>{switch(t.type){case"task":return(0,yr.jsx)(Bhe,{selectedItem:t,onClose:e});case"habit":case"habit_log":return(0,yr.jsx)(J8,{selectedItem:t,onClose:e});case"log":return(0,yr.jsx)(e$,{selectedItem:t,onClose:e});default:return(0,yr.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 h-full",children:[(0,yr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,yr.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Details"}),(0,yr.jsx)("button",{onClick:e,className:"p-2 rounded-md hover:bg-gray-100",children:(0,yr.jsx)(pi,{className:"w-5 h-5"})})]}),(0,yr.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,yr.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Item Details"}),(0,yr.jsx)("p",{className:"text-sm text-gray-600",children:"Details for this item type are not yet implemented."})]})]})}})():(0,yr.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 h-full",children:[(0,yr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,yr.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Details"}),(0,yr.jsx)("button",{onClick:e,className:"p-2 rounded-md hover:bg-gray-100",children:(0,yr.jsx)(pi,{className:"w-5 h-5"})})]}),(0,yr.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,yr.jsx)(y1,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,yr.jsx)("p",{children:"Select an item to view details"})]})]}),r$=qhe});var _p,wt,YP,zhe,i$,o$=G(()=>{"use strict";_p=L(ge(),1);Ve();na();qu();wt=L(H(),1),YP=({className:t})=>(0,wt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,wt.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,wt.jsx)("path",{d:"m21 21-4.35-4.35"})]}),zhe=({onItemSelect:t})=>{let{calendarItems:e}=Mn(),[n,r]=(0,_p.useState)(""),[s,i]=(0,_p.useState)(!1),[o,a]=(0,_p.useState)("all"),l=(0,_p.useMemo)(()=>{if(!n.trim())return[];let y=n.toLowerCase(),w=e.filter(v=>v.title.toLowerCase().includes(y)||v.description&&v.description.toLowerCase().includes(y));if(o!=="all"){let v={tasks:"task",habits:"habit",logs:"log"};w=w.filter(g=>g.type===v[o])}return w.slice(0,10)},[e,n,o]),c=()=>{i(!s),s||r("")},d=y=>{t(y),i(!1),r("")},h=y=>{let w=Z[y]||ni;return(0,wt.jsx)(w,{className:"w-4 h-4"})},f=y=>({"blue-500":"bg-blue-500","green-500":"bg-green-500","purple-500":"bg-purple-500","red-500":"bg-red-500","yellow-500":"bg-yellow-500","indigo-500":"bg-indigo-500","pink-500":"bg-pink-500"})[y]||"bg-gray-500",m=y=>{switch(y){case"task":return"Task";case"habit":return"Habit";case"log":return"Journal";default:return"Item"}};return(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsxs)("button",{onClick:c,className:"flex items-center px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors min-w-0",children:[(0,wt.jsx)(YP,{className:"w-4 h-4 mr-2 flex-shrink-0"}),(0,wt.jsx)("span",{className:"hidden sm:inline",children:"Search"}),(0,wt.jsx)(As,{className:`w-4 h-4 ml-1 transition-transform flex-shrink-0 ${s?"rotate-180":""}`})]}),s&&(0,wt.jsxs)("div",{className:"absolute top-full right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg z-50 w-96",children:[(0,wt.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(YP,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,wt.jsx)("input",{type:"text",placeholder:"Search tasks, habits, journal entries...",value:n,onChange:y=>r(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0})]})}),(0,wt.jsx)("div",{className:"flex border-b border-gray-200",children:[{key:"all",label:"All",count:e.length},{key:"tasks",label:"Tasks",count:e.filter(y=>y.type==="task").length},{key:"habits",label:"Habits",count:e.filter(y=>y.type==="habit").length},{key:"logs",label:"Journal",count:e.filter(y=>y.type==="log").length}].map(({key:y,label:w,count:v})=>(0,wt.jsxs)("button",{onClick:()=>a(y),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors ${o===y?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[w,(0,wt.jsxs)("span",{className:"ml-1 text-xs text-gray-400",children:["(",v,")"]})]},y))}),(0,wt.jsx)("div",{className:"max-h-64 overflow-y-auto",children:n.trim()===""?(0,wt.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,wt.jsx)(YP,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,wt.jsx)("p",{className:"text-sm",children:"Start typing to search..."})]}):l.length===0?(0,wt.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,wt.jsx)(ny,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,wt.jsx)("p",{className:"text-sm",children:"No items found"}),(0,wt.jsx)("p",{className:"text-xs text-gray-400",children:"Try different keywords or filters"})]}):(0,wt.jsx)("div",{className:"divide-y divide-gray-200",children:l.map(y=>(0,wt.jsxs)("button",{onClick:()=>d(y),className:"w-full p-3 hover:bg-gray-50 flex items-center text-left transition-colors",children:[(0,wt.jsx)("div",{className:`w-3 h-3 rounded-full ${f(y.color)} mr-3`}),(0,wt.jsx)("div",{className:"flex items-center mr-3 text-gray-500",children:h(y.icon)}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsx)("p",{className:"font-medium text-gray-900 truncate",children:y.title}),(0,wt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,wt.jsx)("span",{className:"text-xs text-gray-500 mr-2",children:m(y.type)}),(0,wt.jsx)("span",{className:"text-xs text-gray-400",children:y.date.toLocaleDateString()}),y.completed&&(0,wt.jsx)(zl,{className:"w-3 h-3 text-green-500 ml-2"})]})]})]},y.id))})}),n.trim()!==""&&(0,wt.jsx)("div",{className:"p-3 bg-gray-50 border-t border-gray-200",children:(0,wt.jsx)("p",{className:"text-xs text-gray-500",children:"\u{1F4A1} Tip: Use filters to narrow down results by type"})})]})]})},i$=zhe});var Dv,Dt,jhe,a$,l$=G(()=>{"use strict";Dv=L(ge(),1);Ve();Dt=L(H(),1),jhe=({calendarItems:t,onItemSelect:e})=>{let[n,r]=(0,Dv.useState)([]),[s,i]=(0,Dv.useState)(!1),o=()=>{let b=new Date;return t.filter(R=>{if(R.completed)return!1;let F=new Date(R.date),S=new Date;return S.setHours(0,0,0,0),F.setHours(0,0,0,0),F<S}).map(R=>({id:`overdue-${R.id}`,type:"overdue",title:"Overdue Item",message:`${R.title} was due ${d(R.date)}`,itemId:R.id,timestamp:new Date,read:!1,action:()=>e(R)}))},a=()=>{let b=new Date;return t.filter(R=>{if(R.completed)return!1;let F=new Date(R.date),S=new Date,E=new Date(S);return E.setDate(E.getDate()+1),F>=S&&F<=E}).map(R=>({id:`reminder-${R.id}`,type:"reminder",title:"Upcoming Item",message:`${R.title} is due ${h(R.date)}`,itemId:R.id,timestamp:new Date,read:!1,action:()=>e(R)}))},l=()=>{let b=t.filter(k=>{if(!k.completed)return!1;let R=new Date(k.date),F=new Date;return R.toDateString()===F.toDateString()}),I=[];return b.length>=3&&I.push({id:"streak-3",type:"streak",title:"Great Progress! \u{1F389}",message:`You've completed ${b.length} items today!`,timestamp:new Date,read:!1}),I},c=()=>{let b=t.filter(F=>F.completed),I=t.length,k=I>0?b.length/I*100:0,R=[];return k>=80&&R.push({id:"milestone-80",type:"milestone",title:"Excellent Progress! \u{1F31F}",message:`You've completed ${Math.round(k)}% of your items!`,timestamp:new Date,read:!1}),R},d=b=>{let I=new Date,k=new Date(b),R=I.getTime()-k.getTime(),F=Math.ceil(R/(1e3*60*60*24));return F===1?"yesterday":F===2?"2 days ago":`${F} days ago`},h=b=>{let I=new Date,R=new Date(b).getTime()-I.getTime(),F=Math.ceil(R/(1e3*60*60*24));return F===0?"today":F===1?"tomorrow":`in ${F} days`},f=b=>{r(I=>I.map(k=>k.id===b?{...k,read:!0}:k))},m=b=>{r(I=>I.filter(k=>k.id!==b))},y=()=>{r([])};(0,Dv.useEffect)(()=>{let b=()=>{let k=o(),R=a(),F=l(),S=c(),x=[...k,...R,...F,...S].filter((T,N,D)=>N===D.findIndex(A=>A.id===T.id));r(T=>{let N=new Set(T.map(A=>A.id)),D=x.filter(A=>!N.has(A.id));return[...T,...D]})};b();let I=setInterval(b,5*60*1e3);return()=>clearInterval(I)},[t]);let w=n.filter(b=>!b.read).length,v=b=>{switch(b){case"overdue":return(0,Dt.jsx)(ny,{className:"w-5 h-5 text-red-500"});case"reminder":return(0,Dt.jsx)(Qi,{className:"w-5 h-5 text-blue-500"});case"streak":return(0,Dt.jsx)(_r,{className:"w-5 h-5 text-yellow-500"});case"milestone":return(0,Dt.jsx)(g1,{className:"w-5 h-5 text-green-500"});default:return(0,Dt.jsx)(jo,{className:"w-5 h-5 text-gray-500"})}},g=b=>{switch(b){case"overdue":return"border-red-200 bg-red-50";case"reminder":return"border-blue-200 bg-blue-50";case"streak":return"border-yellow-200 bg-yellow-50";case"milestone":return"border-green-200 bg-green-50";default:return"border-gray-200 bg-gray-50"}};return(0,Dt.jsxs)("div",{className:"relative",children:[(0,Dt.jsxs)("button",{onClick:()=>i(!s),className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Notifications",children:[(0,Dt.jsx)(jo,{className:"w-6 h-6 text-gray-600"}),w>0&&(0,Dt.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:w>9?"9+":w})]}),s&&(0,Dt.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-96 overflow-y-auto",children:[(0,Dt.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Dt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Dt.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),n.length>0&&(0,Dt.jsx)("button",{onClick:y,className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})]})}),(0,Dt.jsx)("div",{className:"p-2",children:n.length===0?(0,Dt.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Dt.jsx)(jo,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,Dt.jsx)("p",{children:"No notifications"}),(0,Dt.jsx)("p",{className:"text-sm",children:"You're all caught up!"})]}):(0,Dt.jsx)("div",{className:"space-y-2",children:n.map(b=>(0,Dt.jsx)("div",{className:`p-3 rounded-lg border transition-all duration-200 ${g(b.type)} ${b.read?"opacity-75":""}`,children:(0,Dt.jsxs)("div",{className:"flex items-start space-x-3",children:[v(b.type),(0,Dt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Dt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Dt.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:b.title}),(0,Dt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Dt.jsx)("button",{onClick:()=>f(b.id),className:"text-xs text-gray-500 hover:text-gray-700",title:"Mark as read",children:(0,Dt.jsx)(zl,{className:"w-3 h-3"})}),(0,Dt.jsx)("button",{onClick:()=>m(b.id),className:"text-xs text-gray-500 hover:text-red-500",title:"Dismiss",children:(0,Dt.jsx)(pi,{className:"w-3 h-3"})})]})]}),(0,Dt.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:b.message}),(0,Dt.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,Dt.jsx)("span",{className:"text-xs text-gray-500",children:b.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),b.action&&(0,Dt.jsx)("button",{onClick:()=>{b.action?.(),f(b.id)},className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"View Item"})]})]})]})},b.id))})})]})]})},a$=jhe});var c$,Wu,Ghe,u$,d$=G(()=>{"use strict";c$=L(ge(),1),Wu=L(H(),1),Ghe=({size:t="md",showText:e=!0,className:n=""})=>{let r={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"},s={sm:"text-sm",md:"text-xl",lg:"text-2xl"},[i,o]=c$.default.useState(!1),a=()=>{o(!0)};return(0,Wu.jsxs)("div",{className:`flex items-center space-x-3 ${n}`,children:[(0,Wu.jsx)("div",{className:`${r[t]} flex items-center justify-center`,children:i?(0,Wu.jsx)("div",{className:`${r[t]} bg-gradient-to-br from-amber-500 to-orange-500 rounded-lg flex items-center justify-center`,children:(0,Wu.jsx)("span",{className:"text-white font-bold text-xs",children:"JS"})}):(0,Wu.jsx)("img",{src:"/Jeevan Saathi Logo.png",alt:"Jeevan Saathi Logo",className:`${r[t]} object-contain`,onError:a})}),e&&(0,Wu.jsx)("h1",{className:`${s[t]} font-bold text-gray-900`,children:"Jeevan Saathi"})]})},u$=Ghe});var _l,Jt,$he,h$,f$=G(()=>{"use strict";_l=L(ge(),1);Yi();uv();na();Ve();wp();Jt=L(H(),1),$he=({isOpen:t,onClose:e,selectedDate:n})=>{let[r,s]=(0,_l.useState)(""),[i,o]=(0,_l.useState)(""),[a,l]=(0,_l.useState)(""),[c,d]=(0,_l.useState)(2),[h,f]=(0,_l.useState)(n),[m,y]=(0,_l.useState)(!1),[w,v]=(0,_l.useState)(!1),{addTask:g,lists:b}=ea(),{refreshData:I}=Mn();_l.default.useEffect(()=>{if(t&&b.length>0){let S=b.find(E=>E.name==="Inbox");l(S?.id||b[0]?.id||""),f(n)}},[t,b,n]);let k=async S=>{if(S.preventDefault(),!(!r.trim()||!a)){v(!0);try{await g({title:r.trim(),description:i.trim()||void 0,listId:a,completed:!1,dueDate:h,priority:c,createdAt:new Date}),s(""),o(""),l(""),d(2),f(void 0),await I(),e()}catch(E){console.error("Failed to add task:",E)}finally{v(!1)}}},R=S=>{switch(S){case 1:return"Low";case 2:return"Medium";case 3:return"High";case 4:return"Urgent";default:return"Medium"}},F=S=>{switch(S){case 1:return"text-gray-500";case 2:return"text-blue-500";case 3:return"text-orange-500";case 4:return"text-red-500";default:return"text-blue-500"}};return t?(0,Jt.jsx)(jn,{title:"Add New Task",onClose:e,children:(0,Jt.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Title *"}),(0,Jt.jsx)("input",{type:"text",id:"title",value:r,onChange:S=>s(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter task title...",required:!0})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Jt.jsx)("textarea",{id:"description",value:i,onChange:S=>o(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter task description...",rows:3})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("label",{htmlFor:"list",className:"block text-sm font-medium text-gray-700 mb-1",children:"List *"}),(0,Jt.jsx)("select",{id:"list",value:a,onChange:S=>l(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:b.map(S=>(0,Jt.jsx)("option",{value:S.id,children:S.name},S.id))})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),(0,Jt.jsx)("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[1,2,3,4].map(S=>(0,Jt.jsx)("button",{type:"button",onClick:()=>d(S),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ${c===S?"bg-white shadow-sm":"hover:bg-gray-50"} ${F(S)}`,children:R(S)},S))})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date & Time"}),(0,Jt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Jt.jsxs)("button",{type:"button",onClick:()=>y(!m),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Jt.jsx)(vt,{className:"w-4 h-4 text-gray-500"}),(0,Jt.jsx)("span",{className:"text-sm text-gray-700",children:h?`${h.toLocaleDateString()} at ${h.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}`:"Set due date & time"})]}),h&&(0,Jt.jsx)("button",{type:"button",onClick:()=>f(void 0),className:"text-red-500 hover:text-red-700",children:(0,Jt.jsx)(pi,{className:"w-4 h-4"})})]}),m&&(0,Jt.jsx)("div",{className:"mt-2",children:(0,Jt.jsx)(wl,{currentDate:h||new Date,onSelect:S=>{f(S),y(!1)},onClear:()=>f(void 0),onClose:()=>y(!1)})})]}),(0,Jt.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Jt.jsx)("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),(0,Jt.jsx)("button",{type:"submit",disabled:!r.trim()||!a||w,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Adding...":"Add Task"})]})]})}):null},h$=$he});var Mh,Wn,Khe,m$,p$=G(()=>{"use strict";Mh=L(ge(),1);Yi();hp();na();Ve();wp();Wn=L(H(),1),Khe=({isOpen:t,onClose:e,selectedDate:n})=>{let[r,s]=(0,Mh.useState)(""),[i,o]=(0,Mh.useState)(n||new Date),[a,l]=(0,Mh.useState)(!1),[c,d]=(0,Mh.useState)(!1),{habits:h,addHabitLog:f}=ta(),{refreshData:m}=Mn();Mh.default.useEffect(()=>{t&&h.length>0&&(s(h[0]?.id||""),o(n||new Date))},[t,h,n]);let y=async w=>{if(w.preventDefault(),!!r){d(!0);try{await f({habitId:r,date:i.toISOString().split("T")[0],value:1}),s(""),o(new Date),await m(),e()}catch(v){console.error("Failed to add habit log:",v)}finally{d(!1)}}};return t?(0,Wn.jsx)(jn,{title:"Log Habit",onClose:e,children:(0,Wn.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,Wn.jsxs)("div",{children:[(0,Wn.jsx)("label",{htmlFor:"habit",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Habit *"}),(0,Wn.jsxs)("select",{id:"habit",value:r,onChange:w=>s(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,Wn.jsx)("option",{value:"",children:"Choose a habit..."}),h.map(w=>(0,Wn.jsx)("option",{value:w.id,children:w.title},w.id))]})]}),(0,Wn.jsxs)("div",{children:[(0,Wn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Log Date & Time"}),(0,Wn.jsx)("div",{className:"flex items-center space-x-2",children:(0,Wn.jsxs)("button",{type:"button",onClick:()=>l(!a),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Wn.jsx)(vt,{className:"w-4 h-4 text-gray-500"}),(0,Wn.jsxs)("span",{className:"text-sm text-gray-700",children:[i.toLocaleDateString()," at ",i.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})]})]})}),a&&(0,Wn.jsx)("div",{className:"mt-2",children:(0,Wn.jsx)(wl,{currentDate:i,onSelect:w=>{o(w),l(!1)},onClear:()=>{},onClose:()=>l(!1)})})]}),(0,Wn.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-md p-3",children:(0,Wn.jsxs)("div",{className:"flex items-center",children:[(0,Wn.jsx)(xd,{className:"w-5 h-5 text-green-600 mr-2"}),(0,Wn.jsx)("span",{className:"text-sm font-medium text-green-800",children:"Marking habit as completed"})]})}),(0,Wn.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Wn.jsx)("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),(0,Wn.jsx)("button",{type:"submit",disabled:!r||c,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Logging...":"Log Habit"})]})]})}):null},m$=Khe});var g$={};ua(g$,{default:()=>Qhe});var Tl,kn,Whe,Qhe,y$=G(()=>{"use strict";Tl=L(ge(),1);na();NG();b8();_8();s$();o$();l$();d$();f$();WP();p$();kn=L(H(),1),Whe=({isAppSidebarOpen:t})=>{let{calendarItems:e,selectedItem:n,selectedDate:r,loading:s,error:i,fetchHomeData:o,selectItem:a,selectDate:l,setupRealTimeSync:c}=Mn();(0,Tl.useEffect)(()=>{if(n&&e.length>0){let k=e.find(R=>R.id===n.id);k&&JSON.stringify(k)!==JSON.stringify(n)&&a(k)}},[e,n,a]);let[d,h]=(0,Tl.useState)(!1),[f,m]=(0,Tl.useState)(!1),[y,w]=(0,Tl.useState)(!1),[v,g]=(0,Tl.useState)();(0,Tl.useEffect)(()=>(o(),c()),[o,c]),(0,Tl.useEffect)(()=>{(async()=>{try{let{useKaryStore:R}=await Promise.resolve().then(()=>(Nx(),uG)),{useAbhyasaStore:F}=await Promise.resolve().then(()=>(dP(),bG)),{useDainandiniStore:S}=await Promise.resolve().then(()=>(kx(),dG));await Promise.all([R.getState().fetchKaryData(),F.getState().fetchAbhyasaData(),S.getState().fetchDainandiniData()])}catch(R){console.error("Failed to initialize stores:",R)}})()},[]),(0,Tl.useEffect)(()=>{let k=R=>{g(R.detail),m(!0)};return window.addEventListener("openLogModal",k),()=>{window.removeEventListener("openLogModal",k)}},[]);let b=k=>{a(k)},I=k=>{l(k)};return s?(0,kn.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,kn.jsxs)("div",{className:"text-center",children:[(0,kn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,kn.jsx)("p",{className:"text-gray-600",children:"Loading your home screen..."})]})}):i?(0,kn.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,kn.jsxs)("div",{className:"text-center",children:[(0,kn.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"\u26A0\uFE0F"}),(0,kn.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),(0,kn.jsx)("p",{className:"text-gray-600 mb-4",children:i}),(0,kn.jsx)("button",{onClick:o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]})}):(0,kn.jsxs)("div",{className:"h-screen bg-gray-50 flex flex-col w-full",children:[(0,kn.jsxs)("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,kn.jsx)(u$,{size:"md"}),(0,kn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,kn.jsx)(i$,{onItemSelect:b}),(0,kn.jsx)(a$,{calendarItems:e,onItemSelect:b})]})]}),(0,kn.jsx)("div",{className:"flex-1 min-h-0",children:(0,kn.jsxs)(SG,{isMobile:!1,children:[(0,kn.jsx)(w8,{onAddTask:()=>h(!0),onAddHabitLog:()=>w(!0),onAddJournalEntry:()=>{g(void 0),m(!0)}}),(0,kn.jsx)(v8,{items:e,selectedDate:r,selectedItem:n,onItemSelect:b,onDateSelect:I}),(0,kn.jsx)(r$,{selectedItem:n,onClose:()=>a(null)})]})}),(0,kn.jsx)(h$,{isOpen:d,onClose:()=>h(!1),selectedDate:r}),(0,kn.jsx)(m$,{isOpen:y,onClose:()=>w(!1),selectedDate:r}),(0,kn.jsx)(tE,{isOpen:f,onClose:()=>{m(!1),g(void 0)},selectedDate:r,taskContext:v})]})},Qhe=Whe});var b$,ht,nE,v$,Yhe,w$,_$=G(()=>{"use strict";b$=L(ge(),1);Ve();ht=L(H(),1),nE=({name:t,icon:e,color:n,isSelected:r,onSelect:s,onEdit:i,type:o})=>{let a=Z[e]||zn;return(0,ht.jsxs)("div",{onClick:s,className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 cursor-pointer ${r?"bg-indigo-50 text-indigo-700 border border-indigo-200 shadow-sm":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[(0,ht.jsx)("div",{className:`w-5 h-5 flex items-center justify-center ${n?`text-${n}`:"text-gray-500"}`,children:(0,ht.jsx)(a,{className:"w-4 h-4"})}),(0,ht.jsx)("span",{className:"flex-1 truncate text-left",children:t}),o==="focus"&&i&&(0,ht.jsx)("button",{onClick:l=>{l.stopPropagation(),l.preventDefault(),i()},className:"ml-auto p-1 rounded-full opacity-0 group-hover:opacity-100 hover:bg-gray-300 transition-opacity flex-shrink-0","aria-label":`Edit ${t}`,children:(0,ht.jsx)(yn,{className:"w-4 h-4"})})]})},v$=({title:t,onAdd:e,icon:n})=>{let r=Z[n];return(0,ht.jsxs)("div",{className:"px-3 pt-6 pb-3 flex justify-between items-center",children:[(0,ht.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ht.jsx)(r,{className:"w-4 h-4 text-gray-500"}),(0,ht.jsx)("h2",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide",children:t})]}),(0,ht.jsx)("button",{onClick:e,className:"p-1.5 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors duration-200",children:(0,ht.jsx)(Vt,{className:"w-4 h-4"})})]})},Yhe=({foci:t,templates:e,selection:n,onSelect:r,onOpenModal:s,onCreateTemplate:i,onEditFocus:o,onReorderFoci:a,isMobile:l,isSidebarOpen:c})=>{let[d,h]=(0,b$.useState)(null),f=(v,g)=>{v.dataTransfer.effectAllowed="move",v.dataTransfer.setData("text/plain",g),h(g)},m=v=>{v.preventDefault()},y=(v,g)=>{v.preventDefault();let b=v.dataTransfer.getData("text/plain");if(b===g)return;let I=t.findIndex(S=>S.id===b),k=t.findIndex(S=>S.id===g);if(I===-1||k===-1)return;let R=[...t],[F]=R.splice(I,1);R.splice(k,0,F),a(R),h(null)},w=()=>{h(null)};return(0,ht.jsxs)("aside",{className:`w-80 flex-shrink-0 bg-white border-r border-gray-200 flex flex-col
        ${l?"fixed inset-y-0 left-0 z-20 transition-transform duration-300 ease-in-out":""}
        ${l&&!c?"-translate-x-full":"translate-x-0"}
      `,children:[(0,ht.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,ht.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ht.jsx)("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:(0,ht.jsx)(Ln,{className:"w-6 h-6 text-indigo-600"})}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:"Dainandini"}),(0,ht.jsx)("p",{className:"text-xs text-gray-500",children:"Reflect on your day"})]})]})}),(0,ht.jsxs)("nav",{className:"flex-1 overflow-y-auto p-3",children:[(0,ht.jsx)("div",{className:"mb-6",children:(0,ht.jsxs)("ul",{className:"space-y-1",children:[(0,ht.jsx)("li",{children:(0,ht.jsx)(nE,{id:"today",type:"today",name:"Today's Journal",icon:"TodayIcon",isSelected:n.type==="today",onSelect:()=>r({type:"today"})})}),(0,ht.jsx)("li",{children:(0,ht.jsx)(nE,{id:"calendar",type:"calendar",name:"Calendar",icon:"CalendarIcon",isSelected:n.type==="calendar",onSelect:()=>r({type:"calendar"})})})]})}),(0,ht.jsx)("div",{className:"border-t border-gray-200 mb-6"}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)(v$,{title:"Focus Areas",onAdd:s,icon:"TargetIcon"}),(0,ht.jsx)("ul",{className:"space-y-1",children:t.map(v=>(0,ht.jsx)("li",{draggable:!0,onDragStart:g=>f(g,v.id),onDragOver:m,onDrop:g=>y(g,v.id),onDragEnd:w,className:`transition-all duration-200 cursor-grab ${d===v.id?"opacity-40 scale-95 shadow-lg rounded-md":""}`,children:(0,ht.jsx)(nE,{id:v.id,type:"focus",name:v.name,icon:v.icon,color:v.color,isSelected:n.type==="focus"&&n.id===v.id,onSelect:()=>r({type:"focus",id:v.id}),onEdit:()=>o(v.id)})},v.id))})]}),(0,ht.jsx)("div",{className:"border-t border-gray-200 mb-6"}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)(v$,{title:"Templates",onAdd:i,icon:"FileTextIcon"}),(0,ht.jsx)("ul",{className:"space-y-1",children:e.map(v=>(0,ht.jsx)("li",{children:(0,ht.jsx)(nE,{id:v.id,type:"template",name:v.name,icon:v.icon,isSelected:n.type==="template"&&n.id===v.id,onSelect:()=>r({type:"template",id:v.id})})},v.id))})]})]})]})},w$=Yhe});var T$,jt,Xhe,Jhe,Zhe,Tp,XP=G(()=>{"use strict";T$=L(ge(),1);bi();Ve();GP();jt=L(H(),1);zt.setOptions({breaks:!0,gfm:!0});Xhe=({rating:t=0})=>(0,jt.jsx)("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(e=>(0,jt.jsx)(_r,{className:`w-4 h-4 ${t>=e?"text-yellow-400 fill-current":"text-gray-300"}`},e))}),Jhe=({items:t=[]})=>(0,jt.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,jt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jt.jsx)("div",{className:`w-2 h-2 rounded-full ${e.completed?"bg-green-500":"bg-gray-300"}`}),(0,jt.jsx)("span",{className:`text-sm ${e.completed?"text-gray-500 line-through":"text-gray-700"}`,children:e.text})]},e.id))}),Zhe=({log:t,isSelected:e,onSelect:n,onToggleKaryTask:r,focus:s,showDescription:i=!0})=>{T$.default.useEffect(()=>{},[e,i]);let o=()=>{e||n(t.id)},a=d=>{let h={blue:"bg-blue-100 text-blue-800 border-blue-200",green:"bg-green-100 text-green-800 border-green-200",purple:"bg-purple-100 text-purple-800 border-purple-200",red:"bg-red-100 text-red-800 border-red-200",yellow:"bg-yellow-100 text-yellow-800 border-yellow-200",indigo:"bg-indigo-100 text-indigo-800 border-indigo-200",pink:"bg-pink-100 text-pink-800 border-pink-200",gray:"bg-gray-100 text-gray-800 border-gray-200"};return h[d]||h.gray},l=a(s?s.color:"gray");return(0,jt.jsxs)("div",{onClick:o,className:`group relative p-4 bg-white rounded-lg cursor-pointer transition-all duration-200 border border-gray-200 ${e?"bg-white border-indigo-300 shadow-md":"hover:bg-gray-50 hover:border-gray-300 hover:shadow-sm"}`,children:[(0,jt.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,jt.jsxs)("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[t.taskId?(0,jt.jsx)("div",{className:"w-5 h-5 text-indigo-600 flex-shrink-0 mt-0.5",children:(0,jt.jsx)(Lt,{className:"w-5 h-5"})}):t.habitId?(0,jt.jsx)("div",{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5",children:(0,jt.jsx)(Xe,{className:"w-5 h-5"})}):(0,jt.jsx)("div",{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5",children:(0,jt.jsx)(yn,{className:"w-5 h-5"})}),(0,jt.jsx)("div",{className:"flex-1 min-w-0",children:(0,jt.jsx)("h3",{className:"text-base font-bold text-gray-900 leading-tight",children:t.title})})]}),(0,jt.jsx)("div",{className:"text-sm text-gray-500 flex-shrink-0",children:t.logDate.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),(0,jt.jsxs)("div",{className:"ml-8 space-y-3",children:[s&&(0,jt.jsx)("div",{className:"flex items-center gap-2",children:(0,jt.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-md border ${l}`,children:s.name})}),t.description&&i&&(0,jt.jsx)("div",{className:"space-y-2",children:(0,jt.jsx)("div",{className:"text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:zt.parse(t.description)}})}),t.logType==="rating"&&t.rating&&(0,jt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jt.jsx)("span",{className:"text-xs text-gray-600 font-medium",children:"Rating:"}),(0,jt.jsx)(Xhe,{rating:t.rating})]}),t.logType==="checklist"&&t.checklist&&t.checklist.length>0&&(0,jt.jsxs)("div",{className:"space-y-2",children:[(0,jt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jt.jsx)(Lt,{className:"w-4 h-4 text-gray-600"}),(0,jt.jsx)("span",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Checklist"})]}),(0,jt.jsx)(Jhe,{items:t.checklist})]})]})]})},Tp=Zhe});var Cv,efe,rE,JP=G(()=>{"use strict";Cv=L(H(),1),efe=()=>(0,Cv.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Cv.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Cv.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),rE=efe});var Qn,Ct,tfe,nfe,I$,x$=G(()=>{"use strict";Qn=L(ge(),1);bi();Ve();JP();ju();Ct=L(H(),1),tfe=t=>{let e=new Date(t);if(isNaN(e.getTime()))return"";let n=new Date,r=new Date;r.setDate(n.getDate()+1);let i=e.getHours()!==0||e.getMinutes()!==0?`, ${e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}`:"";n.setHours(0,0,0,0);let o=new Date(e);o.setHours(0,0,0,0);let a="";if(o.getTime()===n.getTime())a="Today";else if(o.getTime()===r.getTime())a="Tomorrow";else{let l=new Date;l.setDate(n.getDate()+7),o>n&&o<l?a=e.toLocaleDateString("en-US",{weekday:"long"}):a=e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}return`${a}${i}`},nfe=({foci:t,onAddLog:e,defaultFocusId:n,defaultDate:r,placeholder:s="Add a quick log..."})=>{let[i,o]=(0,Qn.useState)(""),[a,l]=(0,Qn.useState)(n&&t.find(Y=>Y.id===n)||null),[c,d]=(0,Qn.useState)("text"),[h,f]=(0,Qn.useState)(r||new Date),[m,y]=(0,Qn.useState)(!1),[w,v]=(0,Qn.useState)(null),[g,b]=(0,Qn.useState)(!1),[I,k]=(0,Qn.useState)([]),[R,F]=(0,Qn.useState)(!1),[S,E]=(0,Qn.useState)(""),[x,T]=(0,Qn.useState)(0),N=(0,Qn.useRef)(null),D=(0,Qn.useRef)(null),A=(0,Qn.useRef)(null);(0,Qn.useEffect)(()=>{if(!a&&t.length>0){let Y=t.find(P=>P.id==="general");l(Y||t[0])}},[t,a]),(0,Qn.useEffect)(()=>{if(i.includes("~")){let Y=i.lastIndexOf("~"),P=i.slice(Y+1);if(P.includes(" ")){F(!1),k([]);return}let ee=P.toLowerCase();if(E(ee),ee.length>0){let W=t.filter(U=>U.name.toLowerCase().includes(ee));k(W),T(0),F(W.length>0)}else k(t),T(0),F(!0)}else F(!1),k([])},[i,t]);let V=async Y=>{if(Y.preventDefault(),!(!i.trim()||!a)){y(!0);try{if(await e({title:i.trim(),focusId:a.id,logType:c,logDate:h,description:""}),o(""),n){let P=t.find(ee=>ee.id===n);P&&l(P)}}finally{y(!1)}}},q=(Y,P)=>{v({type:Y,items:P,highlightedIndex:0});let ee=W=>{D.current&&!D.current.contains(W.target)&&(v(null),document.removeEventListener("mousedown",ee))};document.addEventListener("mousedown",ee)},$=Y=>{if(w?.type==="focus"){let P=t.find(ee=>ee.id===Y.id);P&&(l(P),P.allowedLogTypes.includes(c)||d(P.allowedLogTypes[0]))}else w?.type==="logType"&&d(Y.id);v(null)},he=Y=>{l(Y),Y.allowedLogTypes.includes(c)||d(Y.allowedLogTypes[0]);let P=i.lastIndexOf("~");if(P!==-1){let ee=i.slice(0,P),W=i.slice(P),U=W.indexOf(" "),te;U!==-1?te=ee+W.slice(U):te=ee,o(te.trim())}F(!1),k([]),N.current?.focus()},ie=Y=>{o(Y.target.value)},Se=Y=>{if(R&&I.length>0)switch(Y.key){case"ArrowDown":Y.preventDefault(),T(P=>P<I.length-1?P+1:0);return;case"ArrowUp":Y.preventDefault(),T(P=>P>0?P-1:I.length-1);return;case"Enter":Y.preventDefault(),I[x]&&he(I[x]);return;case"Escape":F(!1),k([]);return;case"Tab":Y.preventDefault(),I[x]&&he(I[x]);return}if(w)switch(Y.key){case"ArrowDown":Y.preventDefault(),v(P=>P?{...P,highlightedIndex:(P.highlightedIndex+1)%P.items.length}:null);break;case"ArrowUp":Y.preventDefault(),v(P=>P?{...P,highlightedIndex:P.highlightedIndex===0?P.items.length-1:P.highlightedIndex-1}:null);break;case"Enter":Y.preventDefault(),w&&$(w.items[w.highlightedIndex]);break;case"Escape":v(null);break}},Le=t.map(Y=>({id:Y.id,name:Y.name,icon:Y.icon,color:Y.color})),Pe=Object.entries(to).map(([Y,P])=>({id:Y,name:P.name,icon:P.icon}));return(0,Ct.jsxs)("div",{className:"relative",ref:D,children:[(0,Ct.jsxs)("form",{onSubmit:V,className:"bg-white border border-gray-300 focus-within:border-blue-500 rounded-lg shadow-sm transition-colors",children:[(0,Ct.jsx)("div",{className:"p-3",children:(0,Ct.jsx)("div",{className:"relative",children:(0,Ct.jsx)("input",{ref:N,type:"text",value:i,onChange:ie,onKeyDown:Se,placeholder:s,className:"w-full bg-transparent text-gray-800 placeholder-gray-500 py-2 outline-none text-base",disabled:m,autoComplete:"off"})})}),(0,Ct.jsxs)("div",{className:"flex items-center justify-between px-3 pb-3 border-t border-gray-100",children:[(0,Ct.jsxs)("div",{className:"flex items-center gap-1 text-gray-500",children:[(0,Ct.jsxs)("div",{className:"relative",ref:A,children:[(0,Ct.jsxs)("button",{type:"button",onClick:()=>b(Y=>!Y),className:"flex items-center gap-1.5 p-2 rounded hover:bg-gray-200 transition-colors",title:"Select date",children:[(0,Ct.jsx)(vt,{className:`w-4 h-4 ${h?"text-green-600":"text-gray-500"}`}),h&&(0,Ct.jsx)("span",{className:"text-xs text-green-600 font-medium",children:tfe(h)})]}),g&&(0,Ct.jsx)("div",{className:"absolute bottom-full left-0 mb-2 z-30",children:(0,Ct.jsx)(Li,{currentDate:h,onSelect:Y=>{f(Y),b(!1)},onClear:()=>{f(new Date),b(!1)},onClose:()=>b(!1)})})]}),(0,Ct.jsx)("button",{type:"button",onClick:()=>q("logType",Pe),className:"p-2 rounded hover:bg-gray-200 transition-colors",title:"Select log type",children:Qn.default.createElement(to[c].icon,{className:`w-4 h-4 ${c?"text-blue-600":"text-gray-500"}`})}),(0,Ct.jsx)("button",{type:"button",onClick:()=>q("focus",Le),className:"flex items-center gap-1.5 p-2 rounded hover:bg-gray-200 transition-colors",title:"Select focus area",children:a?(0,Ct.jsxs)(Ct.Fragment,{children:[Qn.default.createElement(Z[a.icon],{className:`w-4 h-4 text-${a.color}`}),(0,Ct.jsx)("span",{className:"text-xs text-gray-700 font-medium",children:a.name})]}):(0,Ct.jsx)(Xe,{className:"w-4 h-4 text-gray-500"})}),(0,Ct.jsx)("button",{type:"button",className:"p-2 rounded hover:bg-gray-200 transition-colors",title:"More options",children:(0,Ct.jsx)(wr,{className:"w-4 h-4 text-gray-500"})})]}),(0,Ct.jsx)("button",{type:"submit",disabled:m||!i.trim()||!a,className:"px-4 py-2 bg-indigo-600 text-white text-sm font-semibold rounded-md hover:bg-indigo-700 disabled:bg-indigo-400 transition-colors",children:m?(0,Ct.jsx)(rE,{}):"Add"})]})]}),R&&I.length>0&&(0,Ct.jsxs)("div",{className:"absolute bottom-full left-0 mb-1 w-full bg-white rounded-lg shadow-xl border border-gray-200 z-30 max-h-56 overflow-y-auto",children:[(0,Ct.jsx)("div",{className:"px-3 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Type ~ to select focus area"}),I.map((Y,P)=>(0,Ct.jsxs)("button",{onClick:()=>he(Y),className:`w-full text-left flex items-center gap-3 px-3 py-2 text-sm hover:bg-gray-100 ${P===x?"bg-blue-100":""}`,children:[Qn.default.createElement(Z[Y.icon],{className:`w-4 h-4 text-${Y.color}`}),(0,Ct.jsx)("span",{className:"flex-1 truncate",children:Y.name}),P===x&&(0,Ct.jsx)("span",{className:"text-blue-600 text-xs",children:"Press Enter or Tab"})]},Y.id))]}),w&&(0,Ct.jsx)("ul",{className:"absolute bottom-full left-0 mb-1 w-full bg-white rounded-lg shadow-xl border border-gray-200 z-20 max-h-56 overflow-y-auto",children:w.items.map((Y,P)=>(0,Ct.jsx)("li",{children:(0,Ct.jsxs)("button",{onClick:()=>$(Y),className:`w-full text-left flex items-center gap-3 px-3 py-2 text-sm ${P===w.highlightedIndex?"bg-blue-100":"hover:bg-gray-100"}`,children:[Y.icon&&Qn.default.createElement(Z[Y.icon],{className:`w-4 h-4 ${Y.color?`text-${Y.color}`:"text-gray-500"}`}),!Y.icon&&Y.color&&(0,Ct.jsx)("span",{className:`w-2.5 h-2.5 rounded-full bg-${Y.color}`}),(0,Ct.jsx)("span",{className:"flex-1 truncate",children:Y.name})]})},Y.id))})]})},I$=nfe});var ZP,rfe,sE,eO=G(()=>{"use strict";x$();ZP=L(H(),1),rfe=({onAddLog:t,foci:e,defaultFocusId:n,defaultDate:r})=>(0,ZP.jsx)("div",{className:"p-3 border-t border-gray-200",children:(0,ZP.jsx)(I$,{foci:e,onAddLog:t,defaultFocusId:n,defaultDate:r,placeholder:"Add a quick log..."})}),sE=rfe});var E$,He,sfe,tO,S$=G(()=>{"use strict";E$=L(ge(),1);XP();eO();Ve();He=L(H(),1),sfe=({groupedLogs:t,timelineLogs:e,todayViewMode:n,onSetTodayViewMode:r,viewName:s,allFoci:i,selection:o,onAddLogClick:a,onAddQuickLog:l,onToggleKaryTask:c,selectedLogId:d,onSelectLog:h})=>{let[f,m]=(0,E$.useState)(!0),y=Array.from(t.entries());return(0,He.jsxs)("div",{className:"w-full h-full bg-white flex flex-col",children:[(0,He.jsx)("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 px-4 py-3",children:(0,He.jsxs)("div",{className:"flex items-center justify-between",children:[(0,He.jsxs)("div",{className:"flex items-center gap-4",children:[(0,He.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:s}),o.type==="today"&&(0,He.jsxs)("div",{className:"flex items-center gap-1 border border-gray-200 rounded-lg p-1 bg-gray-100",children:[(0,He.jsx)("button",{onClick:()=>r("focus"),title:"Group by Focus",className:`p-1.5 rounded-md transition-all ${n==="focus"?"bg-white shadow text-blue-600":"text-gray-500 hover:bg-gray-200"}`,children:(0,He.jsx)(Xg,{className:"w-4 h-4"})}),(0,He.jsx)("button",{onClick:()=>r("timeline"),title:"Timeline View",className:`p-1.5 rounded-md transition-all ${n==="timeline"?"bg-white shadow text-blue-600":"text-gray-500 hover:bg-gray-200"}`,children:(0,He.jsx)(zn,{className:"w-4 h-4"})})]})]}),(0,He.jsxs)("div",{className:"flex items-center gap-3",children:[(0,He.jsxs)("div",{className:"flex items-center gap-2",children:[(0,He.jsx)("span",{className:"text-sm text-gray-600",children:"Details"}),(0,He.jsx)("button",{onClick:()=>m(!f),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1 ${f?"bg-indigo-600":"bg-gray-200"}`,role:"switch","aria-checked":f,title:f?"Hide Descriptions":"Show Descriptions",children:(0,He.jsx)("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${f?"translate-x-5":"translate-x-1"}`})})]}),(0,He.jsxs)("button",{onClick:()=>a(o.type==="focus"?o.id:void 0),className:"flex items-center gap-2 px-3 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors shadow-sm",children:[(0,He.jsx)(Vt,{className:"w-4 h-4"}),(0,He.jsx)("span",{children:"Add Log"})]})]})]})}),(0,He.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,He.jsx)("div",{className:"p-4",children:o.type==="today"&&n==="timeline"?e.length>0?(0,He.jsx)("div",{className:"space-y-3",children:e.map(w=>{let v=i.find(g=>g.id===w.focusId);return(0,He.jsx)(Tp,{log:w,focus:v,isSelected:d===w.id,onSelect:h,onToggleKaryTask:c,showDescription:f},w.id)})}):(0,He.jsxs)("div",{className:"text-center py-12",children:[(0,He.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,He.jsx)(Ln,{className:"w-8 h-8 text-gray-400"})}),(0,He.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No logs for today yet"}),(0,He.jsx)("p",{className:"text-gray-500 mb-4",children:"Start by adding your first log entry"}),(0,He.jsxs)("div",{className:"text-xs text-gray-400",children:[(0,He.jsx)("p",{children:"\u2022 Use the input below to add quick logs"}),(0,He.jsx)("p",{children:"\u2022 Organize with focus areas"}),(0,He.jsx)("p",{children:"\u2022 Track your daily reflections"})]})]}):y.length>0?(0,He.jsx)("div",{className:"space-y-6",children:y.map(([w,v])=>{let g,b=null;return o.type==="today"?(g=i.find(I=>I.name===w),g&&(b=Z[g.icon])):o.type==="focus"&&(g=i.find(I=>I.id===o.id),g&&(b=Z[g.icon])),(0,He.jsxs)("div",{className:"relative",children:[(0,He.jsxs)("div",{className:"flex justify-between items-center sticky top-0 bg-white/95 py-2 backdrop-blur-sm z-10 border-b mb-3",children:[(0,He.jsxs)("h2",{className:"text-md font-semibold text-gray-600 flex items-center gap-2.5",children:[b&&g&&(0,He.jsx)(b,{className:`w-5 h-5 text-${g.color}`}),(0,He.jsx)("span",{children:w})]}),(0,He.jsx)("button",{onClick:()=>a(g?.id),className:"p-1 rounded-full text-gray-400 hover:text-indigo-600 hover:bg-indigo-100 transition-colors","aria-label":`Add log for ${w}`,children:(0,He.jsx)(Vt,{className:"w-5 h-5"})})]}),v.length>0?(0,He.jsx)("div",{className:"space-y-3",children:v.map(I=>(0,He.jsx)(Tp,{log:I,isSelected:d===I.id,onSelect:h,onToggleKaryTask:c,showDescription:f},I.id))}):(0,He.jsx)("div",{className:"text-center text-sm text-gray-400 py-4",children:"No logs for this focus area today."})]},w)})}):(0,He.jsxs)("div",{className:"text-center py-12",children:[(0,He.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.type==="today"?(0,He.jsx)(f1,{className:"w-8 h-8 text-gray-400"}):o.type==="calendar"?(0,He.jsx)(vt,{className:"w-8 h-8 text-gray-400"}):(0,He.jsx)(Xe,{className:"w-8 h-8 text-gray-400"})}),(0,He.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No logs for this view yet"}),(0,He.jsx)("p",{className:"text-gray-500 mb-4",children:"Start by adding your first log entry"}),(0,He.jsxs)("div",{className:"text-xs text-gray-400",children:[(0,He.jsx)("p",{children:"\u2022 Use the input below to add quick logs"}),(0,He.jsx)("p",{children:"\u2022 Organize with focus areas"}),(0,He.jsx)("p",{children:"\u2022 Track your daily reflections"})]})]})})}),(0,He.jsx)(sE,{onAddLog:l,foci:i,defaultFocusId:o.type==="focus"?o.id:void 0,defaultDate:o.type==="today"?new Date:void 0})]})},tO=sfe});var Po,we,ife,N$,ofe,afe,nO,k$=G(()=>{"use strict";Po=L(ge(),1);Ve();XP();ju();eO();we=L(H(),1),ife=t=>t.toLocaleDateString("en-US",{month:"long",year:"numeric"}),N$=(t,e)=>!t||!e?!1:t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate(),ofe=t=>{let e=new Date(t),n=e.getDay(),r=e.getDate()-n,s=new Date(e.setDate(r));return Array.from({length:7},(i,o)=>{let a=new Date(s);return a.setDate(s.getDate()+o),a})},afe=({allFoci:t,logs:e,selectedDate:n,onDateSelect:r,filteredLogs:s,onToggleKaryTask:i,selectedLogId:o,onSelectLog:a,onAddLogClick:l,onAddQuickLog:c,calendarViewMode:d,onSetCalendarViewMode:h})=>{let[f,m]=(0,Po.useState)(n||new Date),[y,w]=(0,Po.useState)(!1),[v,g]=(0,Po.useState)(!0),b=(0,Po.useRef)(null);(0,Po.useEffect)(()=>{let T=N=>{y&&b.current&&!b.current.contains(N.target)&&w(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[y]);let I=(0,Po.useMemo)(()=>{let T=new Set;return e.forEach(N=>{T.add(new Date(N.logDate).toDateString())}),T},[e]),k=(0,Po.useMemo)(()=>ofe(f),[f]),R=(0,Po.useMemo)(()=>{if(!s.length)return new Map;let T=new Map;t.forEach(N=>{T.set(N.name,[])}),T.set("Uncategorized",[]),s.forEach(N=>{let D=t.find(V=>V.id===N.focusId),A=D?D.name:"Uncategorized";T.has(A)||T.set(A,[]),T.get(A).push(N)});for(let[N,D]of T.entries())D.length===0&&T.delete(N);return T},[s,t]),F=Array.from(R.entries()),S=()=>m(T=>{let N=new Date(T);return N.setDate(T.getDate()-7),N}),E=()=>m(T=>{let N=new Date(T);return N.setDate(T.getDate()+7),N}),x=()=>{let T=new Date;m(T),r(T)};return(0,we.jsxs)("div",{className:"w-full h-full bg-white flex flex-col",children:[(0,we.jsx)("div",{className:"border-b border-gray-200 bg-white",children:(0,we.jsx)("div",{className:"p-4",children:(0,we.jsxs)("div",{className:"flex items-center justify-between",children:[(0,we.jsxs)("div",{className:"flex items-center gap-3",children:[(0,we.jsx)("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center",children:(0,we.jsx)(vt,{className:"w-4 h-4 text-indigo-600"})}),(0,we.jsx)("div",{children:(0,we.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Calendar"})})]}),(0,we.jsxs)("div",{className:"flex items-center gap-3",children:[(0,we.jsxs)("div",{className:"flex items-center gap-1 border border-gray-200 rounded-lg p-1 bg-gray-100",children:[(0,we.jsx)("button",{onClick:()=>h("focus"),title:"Group by Focus",className:`p-1.5 rounded-md transition-all ${d==="focus"?"bg-white shadow text-indigo-600":"text-gray-500 hover:bg-gray-200"}`,children:(0,we.jsx)(Xg,{className:"w-4 h-4"})}),(0,we.jsx)("button",{onClick:()=>h("timeline"),title:"Timeline View",className:`p-1.5 rounded-md transition-all ${d==="timeline"?"bg-white shadow text-indigo-600":"text-gray-500 hover:bg-gray-200"}`,children:(0,we.jsx)(zn,{className:"w-4 h-4"})})]}),(0,we.jsxs)("div",{className:"flex items-center gap-2",children:[(0,we.jsx)("span",{className:"text-sm text-gray-600",children:"Details"}),(0,we.jsx)("button",{onClick:()=>g(!v),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1 ${v?"bg-indigo-600":"bg-gray-200"}`,role:"switch","aria-checked":v,title:v?"Hide Descriptions":"Show Descriptions",children:(0,we.jsx)("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${v?"translate-x-5":"translate-x-1"}`})})]}),(0,we.jsxs)("div",{className:"relative",ref:b,children:[(0,we.jsx)("button",{onClick:()=>w(T=>!T),className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Open date picker",children:(0,we.jsx)(vt,{className:"w-4 h-4 text-gray-600"})}),y&&(0,we.jsx)("div",{className:"absolute top-full right-0 mt-2 z-30",children:(0,we.jsx)(Li,{currentDate:n,onSelect:T=>{m(T),r(T),w(!1)},onClear:()=>{},onClose:()=>w(!1)})})]}),(0,we.jsxs)("button",{onClick:l,className:"flex items-center gap-2 px-3 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors shadow-sm",children:[(0,we.jsx)(Vt,{className:"w-4 h-4"}),(0,we.jsx)("span",{children:"Add Log"})]})]})]})})}),(0,we.jsxs)("div",{className:"p-4",children:[(0,we.jsx)("div",{className:"mb-4",children:(0,we.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,we.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:ife(f)}),(0,we.jsx)("div",{className:"flex items-center gap-4",children:(0,we.jsxs)("div",{className:"flex items-center gap-2",children:[(0,we.jsx)("button",{onClick:x,title:"Go to Today",className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors",children:"Today"}),(0,we.jsx)("button",{onClick:S,className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors",children:(0,we.jsx)(Wi,{className:"w-4 h-4 text-gray-600"})}),(0,we.jsx)("button",{onClick:E,className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors",children:(0,we.jsx)(Xn,{className:"w-4 h-4 text-gray-600"})})]})})]})}),(0,we.jsx)("div",{className:"grid grid-cols-7 gap-2",children:k.map((T,N)=>{let D=N$(T,n),A=N$(T,new Date),V=I.has(T.toDateString()),q="w-full text-center p-3 rounded-lg transition-all duration-200 border-2";return D?q+=" bg-indigo-600 text-white font-semibold border-indigo-600 shadow-lg":A?q+=" border-indigo-500 text-indigo-600 font-semibold hover:bg-indigo-50":q+=" border-transparent text-gray-700 hover:bg-gray-100",(0,we.jsx)("div",{children:(0,we.jsxs)("button",{onClick:()=>r(T),className:q,children:[(0,we.jsx)("span",{className:"text-xs uppercase text-gray-400 font-semibold",children:T.toLocaleDateString("en-US",{weekday:"short"})}),(0,we.jsx)("span",{className:`block text-xl mt-1 font-bold ${D?"text-white":"text-gray-800"}`,children:T.getDate()}),V&&(0,we.jsx)("div",{className:`w-1.5 h-1.5 rounded-full mt-1.5 mx-auto ${D?"bg-white":"bg-indigo-500"}`})]})},N)})})]}),(0,we.jsx)("div",{className:"flex-1 overflow-y-auto border-t border-gray-200",children:(0,we.jsxs)("div",{className:"p-4",children:[(0,we.jsx)("h2",{className:"text-lg font-semibold text-gray-700 mb-4 sticky top-0 bg-white/90 backdrop-blur-sm py-2 z-10",children:n?`Logs for ${new Date(n).toLocaleDateString("en-US",{month:"long",day:"numeric"})}`:"Select a date to see logs"}),d==="timeline"?s.length>0?(0,we.jsx)("div",{className:"space-y-3",children:s.map(T=>{let N=t.find(D=>D.id===T.focusId);return(0,we.jsx)(Tp,{log:T,focus:N,isSelected:o===T.id,onSelect:a,onToggleKaryTask:i,showDescription:v},T.id)})}):n&&(0,we.jsxs)("div",{className:"text-center py-12",children:[(0,we.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,we.jsx)(vt,{className:"w-8 h-8 text-gray-400"})}),(0,we.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No logs on this day"}),(0,we.jsx)("p",{className:"text-gray-500",children:"Start by adding your first log entry"})]}):F.length>0?(0,we.jsx)("div",{className:"space-y-6",children:F.map(([T,N])=>{let D=t.find(V=>V.name===T),A=D?Z[D.icon]:zn;return(0,we.jsxs)("div",{children:[(0,we.jsxs)("div",{className:"flex items-center gap-2.5 mb-3",children:[D&&(0,we.jsx)(A,{className:`w-5 h-5 text-${D.color||"gray-500"}`}),(0,we.jsx)("h3",{className:"text-md font-semibold text-gray-600",children:T})]}),(0,we.jsx)("div",{className:"space-y-3",children:N.map(V=>(0,we.jsx)(Tp,{log:V,onToggleKaryTask:i,isSelected:o===V.id,onSelect:a,showDescription:v},V.id))})]},T)})}):n&&(0,we.jsxs)("div",{className:"text-center py-12",children:[(0,we.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,we.jsx)(vt,{className:"w-8 h-8 text-gray-400"})}),(0,we.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No logs on this day"}),(0,we.jsx)("p",{className:"text-gray-500",children:"Start by adding your first log entry"})]})]})}),(0,we.jsx)("div",{className:"border-t border-gray-200 p-3",children:(0,we.jsx)(sE,{onAddLog:c,foci:t,defaultDate:n||new Date})})]})},nO=afe});var Ip,lfe,cfe,A$,D$=G(()=>{"use strict";Ip=L(H(),1),lfe=["gray-500","red-500","orange-500","yellow-500","green-500","teal-500","blue-500","indigo-500","purple-500","pink-500"],cfe=({selectedColor:t,onSelectColor:e})=>(0,Ip.jsxs)("div",{children:[(0,Ip.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),(0,Ip.jsx)("div",{className:"flex flex-wrap gap-2",children:lfe.map(n=>(0,Ip.jsx)("button",{type:"button",onClick:()=>e(n),className:`w-8 h-8 rounded-full bg-${n} transition-transform transform hover:scale-110 ${t===n?"ring-2 ring-offset-2 ring-blue-500":""}`,"aria-label":`Select ${n} color`},n))})]}),A$=cfe});var Fh,ufe,dfe,iE,rO=G(()=>{"use strict";Ve();Fh=L(H(),1),ufe=["ListIcon","FolderIcon","TagIcon","FlagIcon","HeartIcon","BookOpenIcon","BuildingIcon","CalendarIcon","MagicWandIcon","InboxIcon","TargetIcon","StarIcon","SunriseIcon","SmileIcon"],dfe=({selectedIcon:t,onSelectIcon:e})=>(0,Fh.jsxs)("div",{children:[(0,Fh.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon"}),(0,Fh.jsx)("div",{className:"grid grid-cols-6 gap-2",children:ufe.map(n=>{let r=Z[n];return(0,Fh.jsx)("button",{type:"button",onClick:()=>e(n),className:`p-2 rounded-md flex items-center justify-center transition-colors ${t===n?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,"aria-label":`Select ${n} icon`,children:(0,Fh.jsx)(r,{className:"w-5 h-5"})},n)})})]}),iE=dfe});var xc,In,hfe,C$,R$=G(()=>{"use strict";xc=L(ge(),1);bi();D$();rO();In=L(H(),1),hfe=({onSave:t,onDelete:e,initialData:n,allFoci:r})=>{let[s,i]=(0,xc.useState)(""),[o,a]=(0,xc.useState)(""),[l,c]=(0,xc.useState)("gray-500"),[d,h]=(0,xc.useState)("ListIcon"),[f,m]=(0,xc.useState)(["text","checklist","rating"]),[y,w]=(0,xc.useState)("");(0,xc.useEffect)(()=>{n?(i(n.name),a(n.description||""),c(n.color),h(n.icon),m(n.allowedLogTypes),w(n.defaultTemplateId||"")):(i(""),a(""),c("gray-500"),h("ListIcon"),m(["text","checklist","rating"]),w(""))},[n]);let v=I=>{m(k=>{let R=new Set(k);return R.has(I)?R.size>1&&R.delete(I):R.add(I),Array.from(R)})},g=I=>{if(I.preventDefault(),!s.trim())return;let k={name:s,description:o,icon:d,color:l,allowedLogTypes:f,...y&&{defaultTemplateId:y}};t(k,n?.id)},b=()=>{n&&window.confirm(`Are you sure you want to delete the "${n.name}" focus area? This cannot be undone.`)&&e(n.id)};return(0,In.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,In.jsxs)("div",{children:[(0,In.jsx)("label",{htmlFor:"focus-name",className:"block text-sm font-medium text-gray-700",children:"Focus Name"}),(0,In.jsx)("input",{type:"text",id:"focus-name",value:s,onChange:I=>i(I.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900",placeholder:"e.g., Gratitude",required:!0})]}),(0,In.jsxs)("div",{children:[(0,In.jsx)("label",{htmlFor:"focus-description",className:"block text-sm font-medium text-gray-700",children:"Description (Optional)"}),(0,In.jsx)("textarea",{id:"focus-description",value:o,onChange:I=>a(I.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900",rows:2,placeholder:"What is this focus area for?"})]}),(0,In.jsxs)("div",{children:[(0,In.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Allowed Log Types"}),(0,In.jsx)("div",{className:"flex flex-wrap gap-4",children:Object.values(vi).map(I=>(0,In.jsxs)("div",{className:"flex items-center",children:[(0,In.jsx)("input",{type:"checkbox",id:`log-type-${I}`,checked:f.includes(I),onChange:()=>v(I),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,In.jsx)("label",{htmlFor:`log-type-${I}`,className:"ml-2 text-sm text-gray-700",children:to[I].name})]},I))})]}),(0,In.jsxs)("div",{children:[(0,In.jsx)("label",{htmlFor:"focus-template",className:"block text-sm font-medium text-gray-700",children:"Default Log Template"}),(0,In.jsxs)("select",{id:"focus-template",value:y,onChange:I=>w(I.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:[(0,In.jsx)("option",{value:"",children:"Ask each time"}),(0,In.jsx)("option",{value:"BLANK",children:"Blank Log (Don't ask)"})]}),(0,In.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Assign a template to skip the selection step when adding a log to this focus area."})]}),(0,In.jsx)(iE,{selectedIcon:d,onSelectIcon:h}),(0,In.jsx)(A$,{selectedColor:l,onSelectColor:c}),(0,In.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-4 border-t border-gray-200",children:[(0,In.jsx)("div",{children:n&&(0,In.jsx)("button",{type:"button",onClick:b,className:"inline-flex justify-center py-2 px-4 text-sm font-medium rounded-md text-red-600 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete"})}),(0,In.jsx)("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:n?"Save Changes":"Create Focus"})]})]})},C$=hfe});var la,Uh,ffe,Ec,oE=G(()=>{"use strict";la=L(ge(),1),Uh=L(H(),1),ffe=({children:t,initialLeftWidth:e=60})=>{let[n,r]=(0,la.useState)(e),s=(0,la.useRef)(null),i=(0,la.useRef)(!1),o=(0,la.useCallback)(h=>{h.preventDefault(),i.current=!0},[]),a=(0,la.useCallback)(()=>{i.current=!1},[]),l=(0,la.useCallback)(h=>{if(!i.current||!s.current)return;let f=s.current.getBoundingClientRect(),m=(h.clientX-f.left)/f.width*100;m>20&&m<80&&r(m)},[]);la.default.useEffect(()=>(window.addEventListener("mousemove",l),window.addEventListener("mouseup",a),()=>{window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",a)}),[l,a]);let[c,d]=t;return(0,Uh.jsxs)("div",{ref:s,className:"flex-1 flex overflow-hidden",children:[(0,Uh.jsx)("div",{className:"h-full relative",style:{width:`${n}%`},children:c}),(0,Uh.jsx)("div",{onMouseDown:o,className:"w-2 h-full cursor-col-resize flex items-center justify-center bg-gray-200/50 hover:bg-blue-200 transition-colors",children:(0,Uh.jsx)("div",{className:"w-0.5 h-10 bg-gray-400 rounded-full"})}),(0,Uh.jsx)("div",{className:"h-full flex-1",style:{width:`${100-n}%`},children:d})]})},Ec=ffe});var ci,je,mfe,pfe,L$,P$=G(()=>{"use strict";ci=L(ge(),1);bi();Ve();ia();wp();Sv();je=L(H(),1),mfe=({rating:t,onSetRating:e})=>(0,je.jsx)("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(n=>(0,je.jsx)("button",{type:"button",onClick:()=>e(n),className:"p-1 rounded-full text-yellow-400 hover:text-yellow-500 transition-colors","aria-label":`Set rating to ${n}`,children:(0,je.jsx)(_r,{className:`w-6 h-6 transition-colors ${t>=n?"fill-yellow-400":"fill-gray-300 hover:fill-yellow-200"}`})},n))}),pfe=({log:t,foci:e,onUpdateLog:n,onDeleteLog:r,onBack:s})=>{let[i,o]=(0,ci.useState)(!1),[a,l]=(0,ci.useState)(""),[c,d]=(0,ci.useState)([]),[h,f]=(0,ci.useState)(""),[m,y]=(0,ci.useState)(null),w=(0,ci.useRef)(null),v=(0,ci.useRef)(null),g={focus:(0,ci.useRef)(null),date:(0,ci.useRef)(null)},b=t?e.find(D=>D.id===t.focusId):null,I=b?Z[b.icon]:zn;(0,ci.useEffect)(()=>{t&&(l(t.title),d(t.checklist||[]),o(!1),y(null))},[t]),(0,ci.useEffect)(()=>{let D=A=>{v.current&&!v.current.contains(A.target)&&(Object.values(g).some(q=>q.current?.contains(A.target))||y(null))};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[g]),(0,ci.useEffect)(()=>{i&&w.current&&(w.current.style.height="auto",w.current.style.height=`${w.current.scrollHeight}px`,w.current.focus(),w.current.select())},[i]);let k=D=>{t&&n(t.id,D),y(null)},R=()=>{t&&a.trim()&&a.trim()!==t.title&&n(t.id,{title:a.trim()}),o(!1)},F=D=>{t&&n(t.id,{rating:D})},S=D=>{t&&(d(D),n(t.id,{checklist:D}))},E=D=>{let A=c.map(V=>V.id===D?{...V,completed:!V.completed}:V);S(A)},x=D=>{if(D.preventDefault(),h.trim()){let A={id:crypto.randomUUID(),text:h.trim(),completed:!1};S([...c,A]),f("")}},T=()=>{if(!m||!t)return null;let D=g[m]?.current;if(!D)return null;let A=D.getBoundingClientRect(),V={position:"absolute",top:`${A.bottom+8}px`,left:`${A.left}px`,zIndex:50};return(0,je.jsxs)("div",{ref:v,style:V,className:"shadow-lg",children:[m==="date"&&(0,je.jsx)(wl,{currentDate:t.logDate?new Date(t.logDate):new Date,onSelect:q=>k({logDate:q}),onClear:()=>y(null),onClose:()=>y(null)}),m==="focus"&&(0,je.jsx)("ul",{className:"bg-white rounded-lg shadow-xl border border-gray-200 w-56 max-h-64 overflow-y-auto",children:e.map(q=>{let $=Z[q.icon];return(0,je.jsx)("li",{children:(0,je.jsxs)("button",{onClick:()=>k({focusId:q.id}),className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm hover:bg-gray-100",children:[(0,je.jsx)($,{className:`w-5 h-5 text-${q.color}`}),(0,je.jsx)("span",{className:"flex-1 truncate",children:q.name}),t.focusId===q.id&&(0,je.jsx)(Lt,{className:"w-4 h-4 text-blue-600"})]})},q.id)})})]})};if(!t)return(0,je.jsx)("div",{className:"flex-1 bg-white/80 flex items-center justify-center p-6",children:(0,je.jsxs)("div",{className:"text-center text-gray-500",children:[(0,je.jsx)(Ln,{className:"w-12 h-12 mx-auto text-gray-300"}),(0,je.jsx)("h2",{className:"mt-2 text-lg font-medium",children:"Select a log"}),(0,je.jsx)("p",{className:"text-sm",children:"Choose an entry from the list to view or edit its details."})]})});let N=()=>t.taskId?(0,je.jsx)("div",{className:"w-6 h-6 text-indigo-600 flex-shrink-0 mt-1",children:(0,je.jsx)(Lt,{className:"w-6 h-6"})}):t.habitId?(0,je.jsx)("div",{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-1",children:(0,je.jsx)(Xe,{className:"w-6 h-6"})}):(0,je.jsx)("div",{className:"w-6 h-6 text-gray-400 flex-shrink-0 mt-1",children:(0,je.jsx)(yn,{className:"w-6 h-6"})});return(0,je.jsxs)("div",{className:"flex-1 bg-white/90 p-6 flex flex-col h-full",children:[(0,je.jsxs)("header",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200 flex-shrink-0",children:[(0,je.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[s&&(0,je.jsx)("button",{onClick:s,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-full mr-2","aria-label":"Back to log list",children:(0,je.jsx)(ti,{className:"w-5 h-5"})}),b&&(0,je.jsxs)("button",{ref:g.focus,onClick:()=>y(D=>D==="focus"?null:"focus"),className:"flex items-center gap-2 text-sm font-medium text-gray-600 bg-gray-100 rounded-full pl-1 pr-3 py-1 hover:bg-gray-200 transition-colors",children:[(0,je.jsx)(I,{className:`w-5 h-5 p-0.5 rounded-full bg-white text-${b.color}`}),b.name]}),(0,je.jsxs)("button",{ref:g.date,onClick:()=>y(D=>D==="date"?null:"date"),className:"flex items-center gap-2 text-sm text-gray-500 hover:bg-gray-100 p-1 rounded-md transition-colors",children:[(0,je.jsx)(vt,{className:"w-4 h-4"}),new Date(t.logDate).toLocaleString("en-US",{month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),(0,je.jsx)("button",{onClick:()=>r(t.id),className:"p-2 hover:bg-gray-100 rounded-full","aria-label":"Delete log",children:(0,je.jsx)(ei,{className:"w-5 h-5 text-gray-500 hover:text-red-600"})})]}),(0,je.jsxs)("div",{className:"flex-1 flex flex-col overflow-y-auto pr-2 -mr-2",children:[(0,je.jsxs)("div",{className:"flex items-start gap-3 mb-6",children:[N(),(0,je.jsx)("div",{className:"flex-1 min-w-0",children:i?(0,je.jsx)("textarea",{ref:w,value:a,onChange:D=>l(D.target.value),onBlur:R,onKeyDown:D=>{D.key==="Enter"&&(D.preventDefault(),R()),D.key==="Escape"&&(D.preventDefault(),o(!1))},className:"w-full text-2xl font-bold text-gray-800 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none overflow-hidden py-1 px-2"}):(0,je.jsx)("h1",{onClick:()=>o(!0),className:"text-2xl font-bold text-gray-800 cursor-text",children:t.title})})]}),t.logType==="rating"&&(0,je.jsx)("div",{className:"mb-6",children:(0,je.jsx)(mfe,{rating:t.rating||0,onSetRating:F})}),(0,je.jsx)("div",{className:"prose max-w-none text-gray-800 mb-6 flex-1 flex flex-col",children:(0,je.jsx)($u,{value:t.description||"",onChange:D=>n(t.id,{description:D}),placeholder:"Add more details... (Markdown supported)",minHeight:"200px"})}),t.logType==="checklist"&&(0,je.jsxs)("div",{className:"mt-4",children:[(0,je.jsx)("h3",{className:"font-semibold text-gray-600 text-sm uppercase tracking-wider mb-3",children:"Checklist"}),(0,je.jsx)("ul",{className:"space-y-2",children:c.map(D=>(0,je.jsxs)("li",{className:"flex items-center gap-3 p-1 rounded-md hover:bg-gray-100",children:[(0,je.jsx)(Vr,{checked:D.completed,onChange:()=>E(D.id)}),(0,je.jsx)("span",{className:`flex-1 text-sm ${D.completed?"text-gray-400 line-through":"text-gray-700"}`,children:D.text})]},D.id))}),(0,je.jsx)("form",{onSubmit:x,className:"mt-2",children:(0,je.jsxs)("div",{className:"relative",children:[(0,je.jsx)(Vt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,je.jsx)("input",{type:"text",value:h,onChange:D=>f(D.target.value),placeholder:"Add a checklist item",className:"w-full pl-9 pr-3 py-2 bg-gray-100/70 border-2 border-transparent focus:border-blue-500 focus:bg-white focus:shadow-sm rounded-md outline-none transition"})]})})]})]}),T()]})},L$=pfe});var Oo,nt,gfe,yfe,O$,M$=G(()=>{"use strict";Oo=L(ge(),1);bi();Ve();rO();Sv();nt=L(H(),1),gfe=({rating:t,onSetRating:e})=>(0,nt.jsx)("div",{className:"flex items-center gap-1 py-2",children:[1,2,3,4,5].map(n=>(0,nt.jsx)("button",{type:"button",onClick:()=>e(n),className:"p-1 rounded-full text-yellow-400 hover:text-yellow-500 transition-colors","aria-label":`Set rating to ${n}`,children:(0,nt.jsx)(_r,{className:`w-6 h-6 transition-colors ${t>=n?"fill-yellow-400":"fill-gray-300 hover:fill-yellow-200"}`})},n))}),yfe=({template:t,foci:e,onSave:n,onDelete:r,onBack:s})=>{let[i,o]=(0,Oo.useState)(""),[a,l]=(0,Oo.useState)("ListIcon"),[c,d]=(0,Oo.useState)(""),[h,f]=(0,Oo.useState)("text"),[m,y]=(0,Oo.useState)(""),[w,v]=(0,Oo.useState)(""),[g,b]=(0,Oo.useState)([]),[I,k]=(0,Oo.useState)(""),[R,F]=(0,Oo.useState)(3);(0,Oo.useEffect)(()=>{o(t?.name||""),l(t?.icon||"ListIcon"),d(t?.focusId||e[0]?.id||""),f(t?.logType||"text"),y(t?.title||""),v(t?.description||""),b(t?.checklist||[]),F(t?.rating||3)},[t,e]);let S=T=>{if(T.preventDefault(),!i.trim()||!c||!m.trim())return;let N={name:i,icon:a,focusId:c,logType:h,title:m,description:w,checklist:h==="checklist"?g:void 0,rating:h==="rating"?R:void 0};t?n(N,t.id):n(N)},E=T=>{T.key==="Enter"&&I.trim()&&(T.preventDefault(),b([...g,{text:I.trim(),completed:!1}]),k(""))},x=T=>{b(g.filter((N,D)=>D!==T))};return(0,nt.jsxs)("div",{className:"flex-1 bg-white/90 p-6 flex flex-col h-full overflow-y-auto",children:[(0,nt.jsx)("header",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200 flex-shrink-0",children:(0,nt.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[s&&(0,nt.jsx)("button",{onClick:s,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-full mr-2","aria-label":"Back to templates list",children:(0,nt.jsx)(ti,{className:"w-5 h-5"})}),(0,nt.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Template":"Create New Template"})]})}),(0,nt.jsxs)("form",{onSubmit:S,className:"space-y-6",children:[(0,nt.jsxs)("div",{children:[(0,nt.jsx)("label",{htmlFor:"template-name",className:"block text-sm font-medium text-gray-700",children:"Template Name"}),(0,nt.jsx)("input",{type:"text",id:"template-name",value:i,onChange:T=>o(T.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900"})]}),(0,nt.jsxs)("div",{children:[(0,nt.jsx)("label",{htmlFor:"template-title",className:"block text-sm font-medium text-gray-700",children:"Default Title"}),(0,nt.jsx)("input",{type:"text",id:"template-title",value:m,onChange:T=>y(T.target.value),required:!0,placeholder:"e.g., Weekly Review - {{date}}",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900"}),(0,nt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Use `{{date}}` as a placeholder for the current date."})]}),(0,nt.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,nt.jsxs)("div",{children:[(0,nt.jsx)("label",{htmlFor:"template-focus",className:"block text-sm font-medium text-gray-700",children:"Default Focus"}),(0,nt.jsx)("select",{id:"template-focus",value:c,onChange:T=>d(T.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:e.map(T=>(0,nt.jsx)("option",{value:T.id,children:T.name},T.id))})]}),(0,nt.jsxs)("div",{children:[(0,nt.jsx)("label",{htmlFor:"template-logtype",className:"block text-sm font-medium text-gray-700",children:"Log Type"}),(0,nt.jsx)("select",{id:"template-logtype",value:h,onChange:T=>f(T.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:Object.values(vi).map(T=>(0,nt.jsx)("option",{value:T,children:to[T].name},T))})]})]}),(0,nt.jsx)(iE,{selectedIcon:a,onSelectIcon:l}),h==="rating"&&(0,nt.jsxs)("div",{children:[(0,nt.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Default Rating"}),(0,nt.jsx)(gfe,{rating:R,onSetRating:F})]}),h==="text"&&(0,nt.jsxs)("div",{children:[(0,nt.jsx)("label",{htmlFor:"template-desc",className:"block text-sm font-medium text-gray-700",children:"Default Description"}),(0,nt.jsx)($u,{value:w,onChange:v,placeholder:"Add a default description... (Markdown supported)",minHeight:"120px"})]}),h==="checklist"&&(0,nt.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,nt.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Default Checklist Items"}),(0,nt.jsx)("ul",{className:"space-y-1 max-h-40 overflow-y-auto border rounded-md p-2 bg-gray-50",children:g.map((T,N)=>(0,nt.jsxs)("li",{className:"flex items-center gap-2 text-sm text-gray-700 pr-2",children:[(0,nt.jsx)(Lt,{className:"w-4 h-4 text-gray-400"}),(0,nt.jsx)("span",{className:"flex-1",children:T.text}),(0,nt.jsx)("button",{type:"button",onClick:()=>x(N),className:"text-red-400 hover:text-red-600 font-bold",children:"\xD7"})]},N))}),(0,nt.jsx)("input",{type:"text",value:I,onChange:T=>k(T.target.value),onKeyDown:E,placeholder:"Add item and press Enter...",className:"w-full bg-white rounded px-2 py-1.5 text-sm border border-gray-300 outline-none focus:ring-1 focus:ring-blue-500"})]}),(0,nt.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[(0,nt.jsx)("div",{children:t&&(0,nt.jsx)("button",{type:"button",onClick:()=>r(t.id),className:"px-4 py-2 text-sm font-semibold text-red-600 rounded-md hover:bg-red-50",children:"Delete Template"})}),(0,nt.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white text-sm font-semibold rounded-md hover:bg-blue-700 disabled:bg-blue-400 transition-colors",children:t?"Save Changes":"Create Template"})]})]})]})},O$=yfe});var Il,vfe,F$,U$=G(()=>{"use strict";ry();Ve();Il=L(H(),1),vfe=({isOpen:t,onClose:e,templates:n,onSelect:r})=>t?(0,Il.jsx)(ou,{title:"Select a Template",onClose:e,children:(0,Il.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,Il.jsxs)("button",{onClick:()=>r(null),className:"flex flex-col items-center justify-center p-6 bg-white border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 hover:text-blue-600 text-gray-600 transition-colors",children:[(0,Il.jsx)(Vt,{className:"w-8 h-8 mb-2"}),(0,Il.jsx)("span",{className:"font-semibold",children:"Blank Log"})]}),n.map(s=>{let i=Z[s.icon]||zn;return(0,Il.jsxs)("button",{onClick:()=>r(s),className:"flex flex-col items-center justify-center p-6 bg-gray-50 border border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 hover:shadow-md text-gray-700 transition-all",children:[(0,Il.jsx)(i,{className:"w-8 h-8 mb-2 text-gray-500"}),(0,Il.jsx)("span",{className:"font-semibold",children:s.name})]},s.id)})]})}):null,F$=vfe});var Hr,_t,bfe,V$,wfe,_fe,Tfe,xp,aE=G(()=>{"use strict";Hr=L(ge(),1);bi();ry();Ve();wp();Sv();_t=L(H(),1),bfe=(t,e)=>!t||!e?!1:t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate(),V$=({text:t,icon:e,colorClass:n,onClick:r,onRemove:s})=>{let i=Z[e],o=(0,_t.jsxs)("span",{className:`flex items-center gap-1.5 rounded-full pl-2.5 pr-1 py-1 text-xs font-semibold ${n}`,children:[(0,_t.jsx)(i,{className:"w-4 h-4"}),(0,_t.jsx)("span",{children:t}),s&&(0,_t.jsx)("button",{type:"button",onClick:a=>{a.stopPropagation(),s()},className:"font-mono text-lg leading-none hover:opacity-75 focus:outline-none",children:"\xD7"})]});return r?(0,_t.jsx)("button",{type:"button",onClick:r,children:o}):o},wfe=({rating:t,setRating:e})=>(0,_t.jsx)("div",{className:"flex items-center gap-1 py-2",children:[1,2,3,4,5].map(n=>(0,_t.jsx)("button",{type:"button",onClick:()=>e(n),className:"p-1 rounded-full text-yellow-400 hover:text-yellow-500 transition-colors","aria-label":`Set rating to ${n}`,children:(0,_t.jsx)(_r,{className:`w-6 h-6 transition-colors ${t>=n?"fill-yellow-400":"fill-gray-300 hover:fill-yellow-200"}`})},n))}),_fe=(t,e)=>t.replace(/{{date}}/gi,e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})),Tfe=({isOpen:t,onClose:e,onAddLog:n,allFoci:r,template:s,initialFocusId:i,initialDate:o,initialTitle:a,initialDescription:l})=>{let[c,d]=(0,Hr.useState)(""),[h,f]=(0,Hr.useState)(""),[m,y]=(0,Hr.useState)(3),[w,v]=(0,Hr.useState)([]),[g,b]=(0,Hr.useState)(""),[I,k]=(0,Hr.useState)("text"),[R,F]=(0,Hr.useState)(null),[S,E]=(0,Hr.useState)(new Date),[x,T]=(0,Hr.useState)(!1),[N,D]=(0,Hr.useState)(null),A=(0,Hr.useRef)(null),V=(0,Hr.useRef)(null),q=(0,Hr.useRef)(null),$=(0,Hr.useCallback)(()=>{let W=o||new Date,U=i||s?.focusId||"general",te=r.find(_e=>_e.id===U)||r[0]||null;if(d(a??(s?_fe(s.title,W):"")),f(l??s?.description??""),y(s?.rating||3),v(s?.checklist||[]),b(""),E(W),F(te),te){let _e=s?.logType||te.allowedLogTypes[0];k(_e)}},[r,s,i,o,a,l]);(0,Hr.useEffect)(()=>{t&&($(),setTimeout(()=>A.current?.focus(),100))},[t,$]),(0,Hr.useEffect)(()=>{let W=U=>{x&&V.current&&!V.current.contains(U.target)&&T(!1),N&&q.current&&!q.current.contains(U.target)&&D(null)};return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[x,N]);let he=W=>{F(W),W.allowedLogTypes.includes(I)||k(W.allowedLogTypes[0]),c.match(/~([\w\s-]*)$/)&&d(c.substring(0,c.lastIndexOf("~"))),D(null),setTimeout(()=>A.current?.focus(),0)},ie=W=>{let U=W.target.value;d(U);let te=U.match(/~([\w\s-]*)$/);if(te){let _e=te[1].toLowerCase(),Ke=r.filter(Ft=>Ft.name.toLowerCase().includes(_e));D(Ke.length>0?{items:Ke,highlightedIndex:0}:null)}else D(null)},Se=W=>{N&&(W.key==="ArrowDown"?(W.preventDefault(),D(U=>U?{...U,highlightedIndex:(U.highlightedIndex+1)%U.items.length}:null)):W.key==="ArrowUp"?(W.preventDefault(),D(U=>U?{...U,highlightedIndex:(U.highlightedIndex-1+U.items.length)%U.items.length}:null)):W.key==="Enter"||W.key==="Tab"?(W.preventDefault(),he(N.items[N.highlightedIndex])):W.key==="Escape"&&D(null))},Le=W=>{if(W.preventDefault(),!R||!c.trim())return;let U={title:c,description:h,focusId:R.id,logType:I,logDate:S};if(I==="rating"&&(U.rating=m),I==="checklist"){let te=g.trim()?[...w,{text:g.trim(),completed:!1}]:w;U.checklist=te.filter(_e=>_e.text.trim()!=="").map(_e=>({..._e,id:crypto.randomUUID()}))}console.log("Submitting log data:",U),n(U),e()},Pe=W=>{let U;if(bfe(W,new Date)?U="Today":U=W.toLocaleDateString("en-US",{month:"short",day:"numeric"}),W.getHours()!==0||W.getMinutes()!==0){let _e=W.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return`${U} at ${_e}`}return U},Y=W=>{W.key==="Enter"&&g.trim()&&(W.preventDefault(),v([...w,{text:g.trim(),completed:!1}]),b(""))},P=W=>{v(w.filter((U,te)=>te!==W))},ee=()=>{switch(I){case"rating":return(0,_t.jsx)(wfe,{rating:m,setRating:y});case"checklist":return(0,_t.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,_t.jsx)("ul",{className:"space-y-1 max-h-40 overflow-y-auto",children:w.map((W,U)=>(0,_t.jsxs)("li",{className:"flex items-center gap-2 text-sm text-gray-700 pr-2",children:[(0,_t.jsx)(Lt,{className:"w-4 h-4 text-gray-400"}),(0,_t.jsx)("span",{className:"flex-1",children:W.text}),(0,_t.jsx)("button",{type:"button",onClick:()=>P(U),className:"text-red-400 hover:text-red-600 font-bold",children:"\xD7"})]},U))}),(0,_t.jsx)("input",{type:"text",value:g,onChange:W=>b(W.target.value),onKeyDown:Y,placeholder:"Add item and press Enter...",className:"w-full bg-gray-50 rounded px-2 py-1.5 text-sm outline-none focus:ring-1 focus:ring-blue-500"})]});case"text":default:return(0,_t.jsx)($u,{value:h,onChange:f,placeholder:"Add a description... (optional) (Markdown supported)",minHeight:"120px"})}};return!t||!R?null:(0,_t.jsx)(ou,{title:s?`New Log from: ${s.name}`:"Add New Log",onClose:e,children:(0,_t.jsxs)("form",{onSubmit:Le,className:"space-y-4 relative",children:[(0,_t.jsx)("div",{className:"flex items-center justify-center p-1 rounded-lg bg-gray-100 space-x-1",children:R.allowedLogTypes.map(W=>{let U=to[W],te=Z[U.icon];return(0,_t.jsxs)("button",{type:"button",onClick:()=>k(W),className:`flex-1 flex items-center justify-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all duration-200 ${I===W?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:bg-gray-200/50"}`,children:[(0,_t.jsx)(te,{className:"w-4 h-4"}),U.name]},W)})}),(0,_t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,_t.jsx)(V$,{text:R.name,icon:R.icon,colorClass:`bg-${R.color}/20 text-${R.color}`,onClick:()=>D({items:r,highlightedIndex:0})}),(0,_t.jsxs)("div",{className:"relative",ref:V,children:[(0,_t.jsx)(V$,{text:Pe(S),icon:"CalendarIcon",colorClass:"bg-gray-200 text-gray-800",onClick:()=>T(!0)}),x&&(0,_t.jsx)("div",{className:"absolute top-full left-0 mt-2 z-30",children:(0,_t.jsx)(wl,{currentDate:S,onSelect:W=>{E(W),T(!1)},onClear:()=>{},onClose:()=>T(!1)})})]})]}),(0,_t.jsx)("input",{ref:A,type:"text",value:c,onChange:ie,onKeyDown:Se,placeholder:"Title your log entry...",className:"w-full bg-gray-50 px-3 py-2 text-gray-800 font-semibold placeholder-gray-500 outline-none rounded-md focus:ring-2 focus:ring-blue-500"}),N&&(0,_t.jsx)("ul",{ref:q,className:"absolute mt-1 w-full bg-white rounded-lg shadow-xl border border-gray-200 z-20 max-h-56 overflow-y-auto",children:N.items.map((W,U)=>{let te=Z[W.icon];return(0,_t.jsx)("li",{children:(0,_t.jsxs)("button",{onClick:()=>he(W),className:`w-full text-left flex items-center gap-3 px-3 py-2 text-sm ${U===N.highlightedIndex?"bg-blue-100":"hover:bg-gray-100"}`,children:[(0,_t.jsx)(te,{className:`w-4 h-4 text-${W.color}`}),(0,_t.jsx)("span",{className:"flex-1 truncate",children:W.name})]})},W.id)})}),ee(),(0,_t.jsxs)("div",{className:"flex items-center justify-end border-t border-gray-100 pt-4",children:[(0,_t.jsx)("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-semibold text-gray-700 rounded-md hover:bg-gray-100 mr-2",children:"Cancel"}),(0,_t.jsx)("button",{type:"submit",disabled:!c.trim(),className:"w-full sm:w-auto px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded-md hover:bg-blue-700 disabled:bg-blue-400 transition-colors",children:"Log Entry"})]})]})})},xp=Tfe});var H$={};ua(H$,{default:()=>xfe});var Tr,Qr,Ife,xfe,B$=G(()=>{"use strict";Tr=L(ge(),1);bi();_$();S$();k$();Yi();R$();oE();P$();M$();U$();aE();vc();lv();Qr=L(H(),1),Ife=({isAppSidebarOpen:t})=>{let{width:e}=Bu(),n=e!==void 0&&e<768,[r,s]=(0,Tr.useState)(!1),{logs:i,logTemplates:o,foci:a,addLog:l,updateLog:c,deleteLog:d,addLogTemplate:h,updateLogTemplate:f,deleteLogTemplate:m,addFocus:y,updateFocus:w,deleteFocus:v}=Wr(),[g,b]=(0,Tr.useState)({type:"today"}),[I,k]=(0,Tr.useState)(null),[R,F]=(0,Tr.useState)(null),[S,E]=(0,Tr.useState)({isOpen:!1,template:null}),[x,T]=(0,Tr.useState)(null),[N,D]=(0,Tr.useState)("focus"),[A,V]=(0,Tr.useState)("focus"),[q,$]=(0,Tr.useState)(null),he=(0,Tr.useCallback)((ce,Ae)=>!ce||!Ae?!1:ce.getFullYear()===Ae.getFullYear()&&ce.getMonth()===Ae.getMonth()&&ce.getDate()===Ae.getDate(),[]),ie=ce=>{let Ae={title:ce.title,logType:ce.logType,focusId:ce.focusId,logDate:ce.logDate,description:ce.description||""};l(Ae)},Se=(0,Tr.useMemo)(()=>{let ce=[...i].sort((sn,en)=>new Date(en.logDate).getTime()-new Date(sn.logDate).getTime()),Ae=new Date,Qe=new Map;if(g.type==="today"){a.forEach(z=>{Qe.set(z.name,[])}),ce.filter(z=>{let Be=z.taskId&&z.completed?z.taskCompletionDate:z.logDate;return he(Be,Ae)}).forEach(z=>{let Be=a.find(be=>be.id===z.focusId),We=Be?Be.name:"Uncategorized";Qe.has(We)||Qe.set(We,[]),Qe.get(We).push(z)});let en=Qe.get("Uncategorized");en&&en.length===0&&Qe.delete("Uncategorized")}else if(g.type==="focus"){let sn;g.id==="kary"?sn=ce.filter(en=>!!en.taskId):sn=ce.filter(en=>en.focusId===g.id),sn.forEach(en=>{let z=new Date(en.logDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});Qe.has(z)||Qe.set(z,[]),Qe.get(z).push(en)})}return Qe},[i,g,a,he]),Le=(0,Tr.useMemo)(()=>{if(g.type!=="today")return[];let ce=new Date;return[...i].filter(Ae=>{let Qe=Ae.taskId&&Ae.completed?Ae.taskCompletionDate:Ae.logDate;return he(Qe,ce)}).sort((Ae,Qe)=>new Date(Qe.logDate).getTime()-new Date(Ae.logDate).getTime())},[i,g,he]),Pe=(0,Tr.useMemo)(()=>{if(g.type==="calendar"&&g.date){let ce=new Date(g.date);return i.filter(Ae=>he(new Date(Ae.logDate),ce)).sort((Ae,Qe)=>new Date(Qe.logDate).getTime()-new Date(Ae.logDate).getTime())}return[]},[i,g,he]),Y=async(ce,Ae)=>{Ae?await w(Ae,ce):await y(ce),k(null),F(null)},P=async ce=>{g.type==="focus"&&g.id===ce&&b({type:"today"}),await v(ce),k(null),F(null)},ee=ce=>{let Ae=a.find(Qe=>Qe.id===ce);Ae&&(F(Ae),k("add-focus"))},W=()=>{F(null),k("add-focus")},U=(0,Tr.useCallback)(ce=>{let Ae=ce||(g.type==="focus"?g.id:null);if($(Ae),Ae){let Qe=a.find(sn=>sn.id===Ae);if(Qe?.defaultTemplateId){if(Qe.defaultTemplateId==="BLANK"){E({isOpen:!0,template:null,initialFocusId:Ae});return}let sn=o.find(en=>en.id===Qe.defaultTemplateId);if(sn){E({isOpen:!0,template:sn,initialFocusId:Ae});return}}}k("select-template")},[g,a,o]),te=ce=>{k(null),E({isOpen:!0,template:ce,initialFocusId:q||void 0}),$(null)},_e=()=>{b({type:"template",id:"new"})},Ke=ce=>{h(ce),b({type:"template",id:"new"})},Ft=(ce,Ae)=>{Ae?f(Ae,ce):Ke(ce)},En=ce=>{m(ce),b({type:"today"})},fn=(0,Tr.useMemo)(()=>{if(g.type==="today")return"Today's Journal";if(g.type==="calendar")return g.date?new Date(g.date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"Calendar";if(g.type==="focus")return a.find(ce=>ce.id===g.id)?.name||"";if(g.type==="template"){if(g.id==="new")return"Create New Template";let ce=o.find(Ae=>Ae.id===g.id);return ce?`Editing: ${ce.name}`:"Template"}},[g,a,o]),de=(0,Tr.useMemo)(()=>i.find(ce=>ce.id===x)||null,[i,x]),Ie=(0,Tr.useMemo)(()=>g.type==="template"&&g.id!=="new"&&o.find(ce=>ce.id===g.id)||null,[g,o]),ir=(0,Tr.useCallback)(ce=>{b(Ae=>Ae.type==="template"?{type:"today"}:Ae),T(ce)},[]),Sr=ce=>{let Ae=g.type==="calendar"?Pe:Array.from(Se.values()).flat(),Qe=Ae.findIndex(sn=>sn.id===ce);d(ce),Ae.length>1?Qe>0?T(Ae[Qe-1].id):T(Ae[Qe+1].id):T(null)},Is=()=>g.type==="template"?(0,Qr.jsx)(O$,{template:g.id==="new"?null:Ie,foci:a,onSave:Ft,onDelete:En},g.id):(0,Qr.jsx)(L$,{log:de,foci:a,onUpdateLog:c,onDeleteLog:Sr});return(0,Qr.jsxs)("div",{className:"h-screen bg-gray-50 flex w-full",children:[(0,Qr.jsxs)("div",{className:"flex-1 min-h-0 flex",children:[(0,Qr.jsx)(w$,{foci:a,templates:o,selection:g,onSelect:ce=>{let Ae=ce.type==="calendar"&&!ce.date?{...ce,date:new Date().toISOString()}:ce;b(Ae),Ae.type==="template"&&T(null),n&&s(!1)},onOpenModal:W,onCreateTemplate:_e,onEditFocus:ee,onReorderFoci:()=>{},isMobile:n,isSidebarOpen:t}),(0,Qr.jsx)("main",{className:"flex-1 flex min-w-0",children:n&&r&&x?Is():n&&!r?(0,Qr.jsx)("div",{className:"flex flex-col w-full h-full",children:g.type==="calendar"?(0,Qr.jsx)(nO,{allFoci:a,logs:i,selectedDate:g.date?new Date(g.date):null,onDateSelect:ce=>{b({type:"calendar",date:ce.toISOString()}),T(null)},filteredLogs:Pe,onToggleKaryTask:()=>{},selectedLogId:x,onSelectLog:ce=>{ir(ce),s(!0)},onAddLogClick:U,onAddQuickLog:ie,calendarViewMode:A,onSetCalendarViewMode:V}):(0,Qr.jsx)(tO,{groupedLogs:Se,timelineLogs:Le,todayViewMode:N,onSetTodayViewMode:D,viewName:fn||"Journal",allFoci:a,selection:g,onAddLogClick:U,onAddQuickLog:ie,onToggleKaryTask:()=>{},selectedLogId:x,onSelectLog:ce=>{ir(ce),s(!0)}})}):(0,Qr.jsxs)(Ec,{initialLeftWidth:45,children:[(0,Qr.jsx)("div",{className:"h-full w-full bg-white",children:g.type==="calendar"?(0,Qr.jsx)(nO,{allFoci:a,logs:i,selectedDate:g.date?new Date(g.date):null,onDateSelect:ce=>{b({type:"calendar",date:ce.toISOString()}),T(null)},filteredLogs:Pe,onToggleKaryTask:()=>{},selectedLogId:x,onSelectLog:ir,onAddLogClick:U,onAddQuickLog:ie,calendarViewMode:A,onSetCalendarViewMode:V}):(0,Qr.jsx)(tO,{groupedLogs:Se,timelineLogs:Le,todayViewMode:N,onSetTodayViewMode:D,viewName:fn||"Journal",allFoci:a,selection:g,onAddLogClick:U,onAddQuickLog:ie,onToggleKaryTask:()=>{},selectedLogId:x,onSelectLog:ir})}),Is()]})})]}),I==="add-focus"&&(0,Qr.jsx)(jn,{title:R?"Edit Focus Area":"Create New Focus",onClose:()=>{k(null),F(null)},children:(0,Qr.jsx)(C$,{initialData:R,onSave:Y,onDelete:P,allFoci:a})}),I==="select-template"&&(0,Qr.jsx)(F$,{isOpen:!0,templates:o,onSelect:te,onClose:()=>k(null)}),S.isOpen&&(0,Qr.jsx)(xp,{isOpen:!0,onClose:()=>E({isOpen:!1,template:null}),onAddLog:ce=>{let Ae={title:ce.title||"",logType:ce.logType||"text",focusId:ce.focusId||"general",logDate:ce.logDate||new Date,description:ce.description||"",checklist:ce.checklist,rating:ce.rating,habitId:ce.habitId,milestoneId:ce.milestoneId,goalId:ce.goalId,taskId:ce.taskId,completed:ce.completed,taskCompletionDate:ce.taskCompletionDate};l(Ae)},allFoci:a,template:S.template,initialFocusId:S.initialFocusId})]})},xfe=Ife});var Vh,Ee,sO,q$,Efe,z$,j$=G(()=>{"use strict";Vh=L(ge(),1);Ve();Ee=L(H(),1),sO=({list:t,isSelected:e,onSelect:n,onDelete:r,isChild:s=!1,isSmartList:i=!1})=>{let[o,a]=(0,Vh.useState)(!1),[l,c]=(0,Vh.useState)({x:0,y:0}),d=Z[t.icon]||zn,h=m=>{m.preventDefault(),m.stopPropagation(),c({x:m.clientX,y:m.clientY}),a(!0)},f=()=>{a(!1),r?.(t.id)};return(0,Ee.jsxs)("li",{className:`${s?"pl-6":""} relative`,children:[(0,Ee.jsxs)("div",{onClick:n,onContextMenu:i?void 0:h,className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 cursor-pointer ${e?"bg-indigo-50 text-indigo-700 border border-indigo-200 shadow-sm":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[(0,Ee.jsx)("div",{className:`w-5 h-5 flex items-center justify-center ${t.color?`text-${t.color}`:"text-gray-500"}`,children:(0,Ee.jsx)(d,{className:"w-4 h-4"})}),(0,Ee.jsx)("span",{className:"flex-1 truncate text-left",children:t.name}),(0,Ee.jsxs)("div",{className:"flex items-center gap-1",children:[t.isDefault&&(0,Ee.jsx)(_r,{className:"w-3 h-3 text-blue-600"}),t.count!=null&&(0,Ee.jsx)("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full ${e?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-600"}`,children:t.count})]})]}),o&&!i&&(0,Ee.jsx)("div",{className:"fixed z-50 bg-white border border-gray-200 rounded-lg shadow-lg py-1 min-w-[160px]",style:{left:l.x,top:l.y},children:(0,Ee.jsxs)("button",{onClick:f,className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[(0,Ee.jsx)(ei,{className:"w-4 h-4"}),"Delete List"]})}),o&&(0,Ee.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)})]})},q$=({title:t,onAdd:e,icon:n})=>{let r=Z[n];return(0,Ee.jsxs)("div",{className:"px-3 pt-6 pb-3 flex justify-between items-center",children:[(0,Ee.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ee.jsx)(r,{className:"w-4 h-4 text-gray-500"}),(0,Ee.jsx)("h2",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide",children:t})]}),(0,Ee.jsx)("button",{onClick:e,className:"p-1.5 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors duration-200",children:(0,Ee.jsx)(Vt,{className:"w-4 h-4"})})]})},Efe=({smartLists:t,customLists:e,listFolders:n,tags:r,tagFolders:s,selectedItem:i,onSelectItem:o,onOpenModal:a,onDeleteList:l,isMobile:c,isSidebarOpen:d})=>{let[h,f]=(0,Vh.useState)({}),m=v=>{f(g=>({...g,[v]:!g[v]}))},y=e.filter(v=>!v.folderId),w=r.filter(v=>!v.folderId);return(0,Ee.jsxs)("aside",{className:`w-80 flex-shrink-0 bg-white border-r border-gray-200 flex flex-col
        ${c?"fixed inset-y-0 left-0 z-20 transition-transform duration-300 ease-in-out":""}
        ${c&&!d?"-translate-x-full":"translate-x-0"}
      `,children:[(0,Ee.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Ee.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ee.jsx)("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:(0,Ee.jsx)(Td,{className:"w-6 h-6 text-indigo-600"})}),(0,Ee.jsxs)("div",{children:[(0,Ee.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:"Kary AI"}),(0,Ee.jsx)("p",{className:"text-xs text-gray-500",children:"Organize your work"})]})]})}),(0,Ee.jsxs)("nav",{className:"flex-1 overflow-y-auto p-3",children:[(0,Ee.jsx)("div",{className:"mb-6",children:(0,Ee.jsx)("ul",{className:"space-y-1",children:t.map(v=>(0,Ee.jsx)(sO,{list:v,isSelected:i.type==="list"&&i.id===v.id,onSelect:()=>o({type:"list",id:v.id}),isSmartList:!0},v.id))})}),(0,Ee.jsx)("div",{className:"border-t border-gray-200 mb-6"}),(0,Ee.jsxs)("div",{className:"mb-6",children:[(0,Ee.jsx)(q$,{title:"Lists",onAdd:()=>a("add-list"),icon:"ListIcon"}),(0,Ee.jsxs)("ul",{className:"space-y-1",children:[n.map(v=>{let g=h[v.id],b=e.filter(I=>I.folderId===v.id);return(0,Ee.jsxs)(Vh.default.Fragment,{children:[(0,Ee.jsx)("li",{children:(0,Ee.jsxs)("button",{onClick:()=>m(v.id),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:[(0,Ee.jsx)("div",{className:"w-5 h-5 flex items-center justify-center",children:g?(0,Ee.jsx)(Xn,{className:"w-4 h-4 text-gray-500"}):(0,Ee.jsx)(As,{className:"w-4 h-4 text-gray-500"})}),(0,Ee.jsx)(_w,{className:"w-4 h-4 text-gray-500"}),(0,Ee.jsx)("span",{className:"flex-1 truncate text-left",children:v.name}),(0,Ee.jsx)("span",{className:"text-xs text-gray-500",children:b.length})]})}),!g&&b.map(I=>(0,Ee.jsx)(sO,{list:I,isSelected:i.type==="list"&&i.id===I.id,onSelect:()=>o({type:"list",id:I.id}),onDelete:l,isChild:!0},I.id))]},v.id)}),y.map(v=>(0,Ee.jsx)(sO,{list:v,isSelected:i.type==="list"&&i.id===v.id,onSelect:()=>o({type:"list",id:v.id}),onDelete:l},v.id))]})]}),(0,Ee.jsx)("div",{className:"border-t border-gray-200 mb-6"}),(0,Ee.jsxs)("div",{className:"mb-6",children:[(0,Ee.jsx)(q$,{title:"Tags",onAdd:()=>a("add-tag"),icon:"TagIcon"}),(0,Ee.jsx)("ul",{className:"space-y-1",children:s.map(v=>{let g=h[v.id],b=r.filter(I=>I.folderId===v.id);return(0,Ee.jsxs)(Vh.default.Fragment,{children:[(0,Ee.jsx)("li",{children:(0,Ee.jsxs)("button",{onClick:()=>m(v.id),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:[(0,Ee.jsx)("div",{className:"w-5 h-5 flex items-center justify-center",children:g?(0,Ee.jsx)(Xn,{className:"w-4 h-4 text-gray-500"}):(0,Ee.jsx)(As,{className:"w-4 h-4 text-gray-500"})}),(0,Ee.jsx)(_w,{className:"w-4 h-4 text-gray-500"}),(0,Ee.jsx)("span",{className:"flex-1 truncate text-left",children:v.name}),(0,Ee.jsx)("span",{className:"text-xs text-gray-500",children:b.length})]})}),!g&&b.map(I=>(0,Ee.jsx)("li",{className:"pl-6",children:(0,Ee.jsxs)("button",{onClick:()=>o({type:"tag",id:I.id}),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ${i.type==="tag"&&i.id===I.id?"bg-indigo-50 text-indigo-700 border border-indigo-200 shadow-sm":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[(0,Ee.jsx)("div",{className:`w-3 h-3 rounded-full bg-${I.color}`}),(0,Ee.jsx)("span",{className:"flex-1 truncate text-left",children:I.name})]})},I.id))]},v.id)})}),w.length>0&&(0,Ee.jsx)("div",{className:"mt-3 px-3",children:(0,Ee.jsx)("div",{className:"flex flex-wrap gap-2",children:w.map(v=>(0,Ee.jsxs)("button",{onClick:()=>o({type:"tag",id:v.id}),className:`px-3 py-1.5 text-xs font-medium rounded-full flex items-center gap-1.5 transition-all duration-200 ${i.type==="tag"&&i.id===v.id?`bg-${v.color} text-white shadow-sm`:`bg-${v.color}/10 text-${v.color} hover:bg-${v.color}/20`}`,children:[(0,Ee.jsx)("div",{className:`w-2 h-2 rounded-full bg-${v.color}`}),v.name]},v.id))})})]})]})]})},z$=Efe});var An,Sfe,G$,Nfe,kfe,iO,$$=G(()=>{"use strict";ia();Ve();An=L(H(),1),Sfe=t=>{if(!t)return"";let e=new Date(t);if(isNaN(e.getTime()))return"";let n=new Date,r=new Date;r.setDate(n.getDate()+1);let s=e.getHours()!==0||e.getMinutes()!==0;n.setHours(0,0,0,0);let i=new Date(e);i.setHours(0,0,0,0);let o="";if(i.getTime()===n.getTime()?o="Today":i.getTime()===r.getTime()?o="Tomorrow":o=e.toLocaleDateString("en-US",{month:"short",day:"numeric"}),s){let a=e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}).toLowerCase();return`${o} ${a}`}return o},G$=t=>{if(!t)return"text-gray-400";let e=new Date;e.setHours(0,0,0,0);let n=new Date(t);return n.setHours(0,0,0,0),n.getTime()<e.getTime()?"text-red-500":n.getTime()===e.getTime()?"text-blue-600":"text-gray-500"},Nfe=t=>{switch(t){case 1:return"text-red-600";case 2:return"text-orange-500";case 3:return"text-blue-500";case 4:return"text-gray-400";default:return"hidden"}},kfe=({task:t,allTags:e,isSelected:n,level:r,isParent:s,isExpanded:i,onSelect:o,onToggleComplete:a,onToggleExpand:l})=>{let c=(t.tags??[]).map(m=>e.find(y=>y.id===m)).filter(Boolean),d=()=>{n||o(t.id)},h=m=>{m.stopPropagation(),l(t.id)},f=s&&t.dueDate===void 0;return(0,An.jsxs)("div",{onClick:d,className:`group relative flex items-center gap-1 p-2 rounded-lg cursor-pointer transition-all duration-200 border ${n?"bg-indigo-50 border-indigo-200 shadow-sm":"bg-white border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,style:{marginLeft:`${r*20}px`},children:[(0,An.jsx)("div",{className:"flex items-center justify-center w-5 h-5",children:s?(0,An.jsx)("button",{onClick:h,className:"p-0.5 rounded-md hover:bg-gray-200 transition-colors duration-200",children:i?(0,An.jsx)(As,{className:"w-3.5 h-3.5 text-gray-500"}):(0,An.jsx)(Xn,{className:"w-3.5 h-3.5 text-gray-500"})}):(0,An.jsx)("div",{className:"w-3.5 h-3.5"})}),(0,An.jsx)("div",{className:"flex items-center justify-center w-5 h-5",children:(0,An.jsx)(Vr,{checked:t.completed,onChange:()=>a(t.id)})}),(0,An.jsx)("div",{className:"flex-1 min-w-0",children:(0,An.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,An.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,An.jsx)("p",{className:`text-sm font-medium truncate ${t.completed?"text-gray-400 line-through":"text-gray-900"} ${f?"text-gray-500":""}`,children:t.title}),t.source&&(0,An.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,An.jsx)("span",{className:"text-xs text-gray-500",children:"Source:"}),(0,An.jsxs)("a",{href:t.source.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-indigo-600 hover:text-indigo-700 flex items-center gap-1 hover:underline",onClick:m=>m.stopPropagation(),children:[t.source.text,(0,An.jsx)(w1,{className:"w-3 h-3"})]})]})]}),(0,An.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[c.length>0&&(0,An.jsxs)("div",{className:"flex items-center gap-1",children:[c.slice(0,2).map(m=>(0,An.jsx)("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full bg-${m.color}/10 text-${m.color} border border-${m.color}/20`,children:m.name},m.id)),c.length>2&&(0,An.jsxs)("span",{className:"text-xs text-gray-500",children:["+",c.length-2]})]}),t.dueDate&&(0,An.jsxs)("div",{className:`px-2 py-1 text-xs font-medium rounded-full flex items-center gap-1 ${G$(t.dueDate)==="text-red-500"?"bg-red-50 text-red-600 border border-red-200":G$(t.dueDate)==="text-blue-600"?"bg-blue-50 text-blue-600 border border-blue-200":"bg-gray-50 text-gray-600 border border-gray-200"}`,children:[(0,An.jsx)(Qi,{className:"w-3 h-3"}),Sfe(t.dueDate)]}),t.priority&&(0,An.jsx)("div",{className:"p-1",children:(0,An.jsx)(ns,{className:`w-4 h-4 ${Nfe(t.priority)}`})})]})]})})]})},iO=kfe});var Ir,ut,K$,Afe,W$,lE,Dfe,Q$,Y$=G(()=>{"use strict";Ir=L(ge(),1);Ve();JP();ju();ut=L(H(),1),K$=[{id:"1",name:"Urgent (P1)",color:"text-red-600",icon:"FlagIcon"},{id:"2",name:"High (P2)",color:"text-orange-500",icon:"FlagIcon"},{id:"3",name:"Medium (P3)",color:"text-blue-500",icon:"FlagIcon"},{id:"4",name:"Low (P4)",color:"text-gray-500",icon:"FlagIcon"}],Afe=t=>{switch(t){case 1:return{text:"!Urgent",colorClass:"bg-red-100 text-red-800",color:"text-red-600"};case 2:return{text:"!High",colorClass:"bg-orange-100 text-orange-800",color:"text-orange-500"};case 3:return{text:"!Medium",colorClass:"bg-blue-100 text-blue-800",color:"text-blue-500"};case 4:return{text:"!Low",colorClass:"bg-gray-100 text-gray-800",color:"text-gray-500"}}},W$=t=>{let e=new Date(t);if(isNaN(e.getTime()))return"";let n=new Date,r=new Date;r.setDate(n.getDate()+1);let i=e.getHours()!==0||e.getMinutes()!==0?`, ${e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}`:"";n.setHours(0,0,0,0);let o=new Date(e);o.setHours(0,0,0,0);let a="";if(o.getTime()===n.getTime())a="Today";else if(o.getTime()===r.getTime())a="Tomorrow";else{let l=new Date;l.setDate(n.getDate()+7),o>n&&o<l?a=e.toLocaleDateString("en-US",{weekday:"long"}):a=e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}return`${a}${i}`},lE=({text:t,icon:e,colorClass:n,onRemove:r})=>(0,ut.jsxs)("span",{className:`flex items-center gap-1.5 rounded-md pl-2 pr-1 py-0.5 text-sm font-medium ${n}`,children:[e&&Ir.default.createElement(Z[e],{className:"w-4 h-4"}),(0,ut.jsx)("span",{children:t}),(0,ut.jsx)("button",{type:"button",onClick:r,className:"font-mono text-lg leading-none hover:opacity-75 focus:outline-none",children:"\xD7"})]}),Dfe=({lists:t,tags:e,onAddTask:n})=>{let[r,s]=(0,Ir.useState)(""),[i,o]=(0,Ir.useState)(null),[a,l]=(0,Ir.useState)([]),[c,d]=(0,Ir.useState)(null),[h,f]=(0,Ir.useState)(null),[m,y]=(0,Ir.useState)(!1),[w,v]=(0,Ir.useState)(!1),[g,b]=(0,Ir.useState)(null),I=(0,Ir.useRef)(null),k=(0,Ir.useRef)(null),R=(0,Ir.useRef)(null),F=(0,Ir.useCallback)(()=>{s(""),o(null),l([]),d(null),f(null),b(null)},[]),S=async V=>{V.preventDefault();let q=r.trim();if(!(!q&&a.length===0&&!i&&!c&&!h)){v(!0);try{let $={title:q,dueDate:h?h.toISOString():null,tagNames:a.map(he=>he.name),priority:c,list:i};await n($,i),F()}catch($){console.error("Failed to create task:",$)}finally{v(!1),I.current?.focus()}}},E=(V,q)=>{q.length>0&&b({type:V,items:q,highlightedIndex:0})};(0,Ir.useEffect)(()=>{let V=q=>{g&&k.current&&!k.current.contains(q.target)&&b(null),m&&R.current&&!R.current.contains(q.target)&&!k.current?.contains(q.target)&&y(!1)};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[g,m]);let x=V=>{if(g){switch(g.type){case"list":o(t.find($=>$.id===V.id)||null);break;case"tag":let q=e.find($=>$.id===V.id);q&&!a.some($=>$.id===q.id)&&l($=>[...$,q]);break;case"priority":d(parseInt(V.id,10));break}g.isTextTriggered&&s(q=>q.substring(0,q.lastIndexOf(g.type==="list"?"~":g.type==="tag"?"#":"!"))),b(null),setTimeout(()=>I.current?.focus(),0)}},T=V=>{let q=V.target.value;s(q);let $=q.match(/([~#!])([\w-]*)$/);if($){let he=$[1],ie=$[2].toLowerCase(),Se=[],Le=null;if(he==="~"&&!i)Le="list",Se=t.filter(Pe=>Pe.name.toLowerCase().includes(ie)).map(Pe=>({id:Pe.id,name:Pe.name,icon:Pe.icon}));else if(he==="#"){Le="tag";let Pe=new Set(a.map(Y=>Y.id));Se=e.filter(Y=>!Pe.has(Y.id)&&Y.name.toLowerCase().includes(ie)).map(Y=>({id:Y.id,name:Y.name,color:Y.color}))}else he==="!"&&!c&&(Le="priority",Se=K$.filter(Pe=>Pe.id.includes(ie)||Pe.name.toLowerCase().includes(ie)));Le&&Se.length>0?b({type:Le,items:Se,highlightedIndex:0,isTextTriggered:!0}):b(null)}else b(null)},N=V=>{m||(g?V.key==="ArrowDown"?(V.preventDefault(),b(q=>q?{...q,highlightedIndex:(q.highlightedIndex+1)%q.items.length}:null)):V.key==="ArrowUp"?(V.preventDefault(),b(q=>q?{...q,highlightedIndex:(q.highlightedIndex-1+q.items.length)%q.items.length}:null)):V.key==="Enter"||V.key==="Tab"?(V.preventDefault(),x(g.items[g.highlightedIndex])):V.key==="Escape"&&(V.preventDefault(),b(null)):V.key==="Backspace"&&r===""&&(a.length>0?l(q=>q.slice(0,-1)):h?f(null):i?o(null):c&&d(null)))},D=c?Afe(c):null,A=e.filter(V=>!a.some(q=>q.id===V.id));return(0,ut.jsxs)("div",{className:"relative",children:[(0,ut.jsxs)("form",{onSubmit:S,ref:k,className:"bg-white border border-gray-300 focus-within:border-blue-500 rounded-lg shadow-sm transition-colors",children:[(0,ut.jsx)("div",{className:"p-2",children:(0,ut.jsxs)("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1",children:[D&&(0,ut.jsx)(lE,{text:D.text.substring(1),icon:"FlagIcon",colorClass:D.colorClass,onRemove:()=>d(null)}),i&&(0,ut.jsx)(lE,{text:i.name,icon:i.icon,colorClass:"bg-gray-200 text-gray-800",onRemove:()=>o(null)}),h&&(0,ut.jsx)(lE,{text:W$(h),icon:"CalendarIcon",colorClass:"bg-blue-100 text-blue-800",onRemove:()=>f(null)}),a.map(V=>(0,ut.jsx)(lE,{text:V.name,colorClass:`bg-${V.color}/20 text-${V.color}`,onRemove:()=>l(q=>q.filter($=>$.id!==V.id))},V.id)),(0,ut.jsx)("input",{ref:I,type:"text",value:r,onChange:T,onKeyDown:N,placeholder:"Create a task",className:"flex-1 min-w-[120px] bg-transparent text-gray-800 placeholder-gray-500 py-1 outline-none",disabled:w,autoComplete:"off"})]})}),(0,ut.jsxs)("div",{className:"flex items-center justify-between px-2 pb-2 border-t border-gray-100",children:[(0,ut.jsxs)("div",{className:"flex items-center gap-1 text-gray-500",children:[(0,ut.jsxs)("div",{className:"relative",ref:R,children:[(0,ut.jsxs)("button",{type:"button",onClick:()=>y(V=>!V),className:"flex items-center gap-1.5 p-1 rounded hover:bg-gray-200 transition-colors",children:[(0,ut.jsx)(vt,{className:`w-4 h-4 ${h?"text-blue-600":""}`}),h&&(0,ut.jsx)("span",{className:"text-xs text-blue-600 font-medium",children:W$(h)})]}),m&&(0,ut.jsx)("div",{className:"absolute bottom-full left-0 mb-2 z-30",children:(0,ut.jsx)(Li,{currentDate:h,onSelect:V=>{f(V),y(!1)},onClear:()=>{f(null),y(!1)},onClose:()=>y(!1)})})]}),(0,ut.jsx)("button",{type:"button",onClick:()=>E("priority",K$),className:"p-1 rounded hover:bg-gray-200 transition-colors",children:(0,ut.jsx)(ns,{className:`w-4 h-4 ${D?D.color:""}`})}),(0,ut.jsx)("button",{type:"button",onClick:()=>E("tag",A.map(V=>({id:V.id,name:V.name,color:V.color}))),className:"p-1 rounded hover:bg-gray-200 transition-colors",children:(0,ut.jsx)(Go,{className:"w-4 h-4"})}),(0,ut.jsx)("button",{type:"button",onClick:()=>E("list",t.map(V=>({id:V.id,name:V.name,icon:V.icon,color:V.color}))),className:"flex items-center gap-1.5 p-1 rounded hover:bg-gray-200 transition-colors",children:i?(0,ut.jsxs)(ut.Fragment,{children:[Ir.default.createElement(Z[i.icon]||zn,{className:`w-4 h-4 ${i.color?`text-${i.color}`:""}`}),(0,ut.jsx)("span",{className:"text-xs text-gray-700 font-medium",children:i.name})]}):(0,ut.jsx)(zn,{className:"w-4 h-4"})}),(0,ut.jsx)("button",{type:"button",className:"p-1 rounded hover:bg-gray-200 transition-colors",children:(0,ut.jsx)(wr,{className:"w-4 h-4"})})]}),(0,ut.jsx)("button",{type:"submit",disabled:w||!r.trim()&&a.length===0,className:"px-3 py-1 bg-blue-600 text-white text-sm font-semibold rounded-md hover:bg-blue-700 disabled:bg-blue-400 transition-colors",children:w?(0,ut.jsx)(rE,{}):"Add"})]})]}),g&&(0,ut.jsx)("ul",{className:"absolute bottom-full left-0 mb-1 w-full bg-white rounded-lg shadow-xl border border-gray-200 z-20 max-h-56 overflow-y-auto",children:g.items.map((V,q)=>(0,ut.jsx)("li",{children:(0,ut.jsxs)("button",{onClick:()=>x(V),className:`w-full text-left flex items-center gap-3 px-3 py-2 text-sm ${q===g.highlightedIndex?"bg-blue-100":"hover:bg-gray-100"}`,children:[V.icon&&Ir.default.createElement(Z[V.icon],{className:`w-4 h-4 ${V.color||"text-gray-500"}`}),!V.icon&&V.color&&(g.type==="tag"?(0,ut.jsx)("span",{className:`w-2.5 h-2.5 rounded-full bg-${V.color}`}):(0,ut.jsx)(ns,{className:`w-4 h-4 ${V.color}`})),(0,ut.jsx)("span",{className:"flex-1 truncate",children:V.name})]})},V.id))})]})},Q$=Dfe});var cE,ft,Cfe,X$,J$=G(()=>{"use strict";cE=L(ge(),1);Ve();ft=L(H(),1),Cfe=({searchQuery:t,filterOption:e,sortOption:n,sortDirection:r,onSearchChange:s,onFilterChange:i,onSortChange:o,onSortDirectionChange:a})=>{let[l,c]=(0,cE.useState)(!1),[d,h]=(0,cE.useState)(!1),[f,m]=(0,cE.useState)(!1),y=[{value:"all",label:"All tasks"},{value:"uncompleted",label:"Uncompleted"},{value:"completed",label:"Completed"},{value:"overdue",label:"Overdue"},{value:"dueToday",label:"Due today"},{value:"dueThisWeek",label:"Due this week"}],w=[{value:"created",label:"Created date"},{value:"dueDate",label:"Due date"},{value:"priority",label:"Priority"},{value:"title",label:"Title"}],v=k=>y.find(R=>R.value===k)?.label||"All tasks",g=k=>w.find(R=>R.value===k)?.label||"Created date",b=()=>`Filter: ${v(e)}`,I=()=>`Sort: ${g(n)} (${r==="asc"?"ascending":"descending"})`;return(0,ft.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ft.jsx)("div",{className:"relative",children:l?(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)(Tw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,ft.jsx)("input",{type:"text",placeholder:"Search tasks...",value:t,onChange:k=>s(k.target.value),className:"w-64 pl-10 pr-8 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0,onBlur:()=>{t||c(!1)}}),t&&(0,ft.jsx)("button",{onClick:()=>s(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600",children:(0,ft.jsx)(pi,{className:"w-4 h-4"})})]}):(0,ft.jsx)("button",{onClick:()=>c(!0),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors duration-200",title:t?`Search: "${t}"`:"Search tasks",children:(0,ft.jsx)(Tw,{className:"w-4 h-4"})})}),(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)("button",{onClick:()=>h(!d),className:`p-2 rounded-lg transition-colors duration-200 ${e!=="all"?"text-indigo-600 bg-indigo-50 hover:bg-indigo-100":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,title:b(),children:(0,ft.jsx)(b1,{className:"w-4 h-4"})}),d&&(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>h(!1)}),(0,ft.jsxs)("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-20",children:[(0,ft.jsx)("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 border-b border-gray-100",children:"Filter by"}),y.map(k=>(0,ft.jsxs)("button",{onClick:()=>{i(k.value),h(!1)},className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 ${e===k.value?"bg-indigo-50 text-indigo-700":"text-gray-700"}`,children:[e===k.value&&(0,ft.jsx)("div",{className:"w-2 h-2 bg-indigo-600 rounded-full"}),e!==k.value&&(0,ft.jsx)("div",{className:"w-2 h-2"}),k.label]},k.value))]})]})]}),(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)("button",{onClick:()=>m(!f),className:`p-2 rounded-lg transition-colors duration-200 ${n!=="created"?"text-indigo-600 bg-indigo-50 hover:bg-indigo-100":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,title:I(),children:(0,ft.jsx)(h1,{className:"w-4 h-4"})}),f&&(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>m(!1)}),(0,ft.jsxs)("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-20",children:[(0,ft.jsx)("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 border-b border-gray-100",children:"Sort by"}),w.map(k=>(0,ft.jsxs)("button",{onClick:()=>{o(k.value),m(!1)},className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 ${n===k.value?"bg-indigo-50 text-indigo-700":"text-gray-700"}`,children:[n===k.value&&(0,ft.jsx)("div",{className:"w-2 h-2 bg-indigo-600 rounded-full"}),n!==k.value&&(0,ft.jsx)("div",{className:"w-2 h-2"}),k.label]},k.value)),(0,ft.jsx)("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 border-t border-gray-100",children:"Direction"}),(0,ft.jsxs)("button",{onClick:()=>{a("asc"),m(!1)},className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 ${r==="asc"?"bg-indigo-50 text-indigo-700":"text-gray-700"}`,children:[r==="asc"&&(0,ft.jsx)("div",{className:"w-2 h-2 bg-indigo-600 rounded-full"}),r!=="asc"&&(0,ft.jsx)("div",{className:"w-2 h-2"}),"Ascending"]}),(0,ft.jsxs)("button",{onClick:()=>{a("desc"),m(!1)},className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 ${r==="desc"?"bg-indigo-50 text-indigo-700":"text-gray-700"}`,children:[r==="desc"&&(0,ft.jsx)("div",{className:"w-2 h-2 bg-indigo-600 rounded-full"}),r!=="desc"&&(0,ft.jsx)("div",{className:"w-2 h-2"}),"Descending"]})]})]})]})]})},X$=Cfe});var Z$,Gs,Rfe,e7,t7=G(()=>{"use strict";Z$=L(ge(),1);Ve();Gs=L(H(),1),Rfe=({list:t,onEditList:e,onDeleteList:n,onSetDefaultList:r,isSmartList:s=!1})=>{let[i,o]=(0,Z$.useState)(!1),a=()=>{o(!1),e(t)},l=()=>{o(!1),n(t.id)};return(0,Gs.jsxs)("div",{className:"relative",children:[(0,Gs.jsx)("button",{onClick:()=>o(!i),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors duration-200",title:"More options",children:(0,Gs.jsx)(wr,{className:"w-4 h-4"})}),i&&(0,Gs.jsxs)(Gs.Fragment,{children:[(0,Gs.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),(0,Gs.jsxs)("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-20",children:[!s&&(0,Gs.jsxs)("button",{onClick:a,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2 first:rounded-t-lg",children:[(0,Gs.jsx)(d1,{className:"w-4 h-4"}),"Edit List"]}),!s&&r&&(0,Gs.jsxs)("button",{onClick:()=>{o(!1),r?.(t.id)},className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 ${t.isDefault?"text-blue-600":"text-gray-700"}`,children:[(0,Gs.jsx)(_r,{className:"w-4 h-4"}),t.isDefault?"Default List":"Set as Default"]}),!s&&t.id!=="inbox"&&(0,Gs.jsxs)("button",{onClick:l,className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2 last:rounded-b-lg",children:[(0,Gs.jsx)(ei,{className:"w-4 h-4"}),"Delete List"]})]})]})]})},e7=Rfe});var Qu,st,Lfe,oO,n7=G(()=>{"use strict";Qu=L(ge(),1);$$();Ve();Ve();Y$();J$();t7();uv();st=L(H(),1),Lfe=({viewDetails:t,tasks:e,allLists:n,allTags:r,selectedTaskId:s,expandedTasks:i,onSelectTask:o,onToggleComplete:a,onAddTask:l,onToggleExpand:c,onEditList:d,onDeleteList:h,onSetDefaultList:f})=>{let[m,y]=(0,Qu.useState)(!0),{searchQuery:w,filterOption:v,sortOption:g,sortDirection:b,setSearchQuery:I,setFilterOption:k,setSortOption:R,setSortDirection:F,getFilteredAndSortedTasks:S}=ea(),E=(0,Qu.useMemo)(()=>S(e),[e,S,w,v,g,b]),{taskTree:x,childrenByParentId:T,completedTasks:N,completedChildrenByParentId:D}=(0,Qu.useMemo)(()=>{let $=new Map,he=[],ie=new Map,Se=[],Le=E.filter(U=>!U.completed),Pe=E.filter(U=>U.completed);Le.forEach(U=>{U.parentId?($.has(U.parentId)||$.set(U.parentId,[]),$.get(U.parentId).push(U)):he.push(U)}),Pe.forEach(U=>{U.parentId?(ie.has(U.parentId)||ie.set(U.parentId,[]),ie.get(U.parentId).push(U)):Se.push(U)});let Y=U=>Le.some(te=>te.id===U),P=Le.filter(U=>!U.parentId||!Y(U.parentId)),ee=U=>Pe.some(te=>te.id===U),W=Se.filter(U=>!U.parentId||!ee(U.parentId));return W.sort((U,te)=>{let _e=U.completionDate?new Date(U.completionDate).getTime():0;return(te.completionDate?new Date(te.completionDate).getTime():0)-_e}),{taskTree:P,childrenByParentId:$,completedTasks:W,completedChildrenByParentId:ie}},[E]),A=t&&"id"in t&&["today","due","upcoming"].includes(t.id);if(!t)return(0,st.jsx)("div",{className:"w-full h-full bg-white flex items-center justify-center",children:(0,st.jsxs)("div",{className:"text-center",children:[(0,st.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,st.jsx)(zn,{className:"w-8 h-8 text-gray-400"})}),(0,st.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a List or Tag"}),(0,st.jsx)("p",{className:"text-gray-500",children:"Choose from the sidebar to view your tasks"})]})});let V=($,he)=>{let ie=T.get($.id)||[],Se=!!i[$.id];return(0,st.jsxs)(Qu.default.Fragment,{children:[(0,st.jsx)(iO,{task:$,allTags:r,isSelected:$.id===s,onSelect:o,onToggleComplete:a,level:he,isParent:ie.length>0,isExpanded:Se,onToggleExpand:c}),Se&&ie.map(Le=>V(Le,he+1))]},$.id)},q=($,he)=>{let ie=D.get($.id)||[],Se=!!i[$.id];return(0,st.jsxs)(Qu.default.Fragment,{children:[(0,st.jsx)(iO,{task:$,allTags:r,isSelected:$.id===s,onSelect:o,onToggleComplete:a,level:he,isParent:ie.length>0,isExpanded:Se,onToggleExpand:c}),Se&&ie.map(Le=>q(Le,he+1))]},$.id)};return(0,st.jsxs)("div",{className:"w-full h-full bg-white flex flex-col",children:[(0,st.jsx)("div",{className:"border-b border-gray-200 bg-white",children:(0,st.jsx)("div",{className:"p-6",children:(0,st.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,st.jsxs)("div",{className:"flex items-center gap-3",children:[(0,st.jsx)("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:t&&"icon"in t?(()=>{let $=Z[t.icon]||zn;return(0,st.jsx)($,{className:"w-5 h-5 text-indigo-600"})})():(0,st.jsx)(_d,{className:"w-5 h-5 text-indigo-600"})}),(0,st.jsx)("div",{children:(0,st.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:t.name})})]}),(0,st.jsxs)("div",{className:"flex items-center gap-2",children:[(0,st.jsx)(X$,{searchQuery:w,filterOption:v,sortOption:g,sortDirection:b,onSearchChange:I,onFilterChange:k,onSortChange:R,onSortDirectionChange:F}),t&&"id"in t&&d&&h&&(0,st.jsx)(e7,{list:t,onEditList:d,onDeleteList:h,onSetDefaultList:f,isSmartList:A})]})]})})}),(0,st.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,st.jsxs)("div",{className:"p-4",children:[x.length>0?(0,st.jsx)("div",{className:"space-y-3 mb-6",children:x.map($=>V($,0))}):N.length===0?(0,st.jsxs)("div",{className:"text-center py-12",children:[(0,st.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t&&"icon"in t?(()=>{let $=Z[t.icon]||zn;return(0,st.jsx)($,{className:"w-8 h-8 text-gray-400"})})():(0,st.jsx)(zn,{className:"w-8 h-8 text-gray-400"})}),(0,st.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:w||v!=="all"?"No matching tasks":"No tasks yet"}),(0,st.jsx)("p",{className:"text-gray-500 mb-4",children:w||v!=="all"?"Try adjusting your search or filter criteria":"Get started by adding your first task below"}),!w&&v==="all"&&(0,st.jsxs)("div",{className:"text-xs text-gray-400",children:[(0,st.jsx)("p",{children:"\u2022 Use the input below to add tasks"}),(0,st.jsx)("p",{children:"\u2022 Organize with lists and tags"}),(0,st.jsx)("p",{children:"\u2022 Track your progress"})]})]}):null,N.length>0&&(0,st.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,st.jsxs)("button",{onClick:()=>y(!m),className:"flex items-center gap-2 text-sm font-bold text-gray-700 hover:text-gray-900 transition-colors duration-200 mb-3",children:[m?(0,st.jsx)(As,{className:"w-4 h-4"}):(0,st.jsx)(Xn,{className:"w-4 h-4"}),"Completed ",N.length]}),m&&(0,st.jsx)("div",{className:"space-y-2",children:N.map($=>q($,0))})]})]})}),(0,st.jsx)("div",{className:"border-t border-gray-200 p-3",children:(0,st.jsx)(Q$,{lists:n.filter($=>$.id!=="today"&&$.id!=="upcoming"),tags:r,onAddTask:l})})]})},oO=Lfe});var Ep,Pfe,Ofe,Sp,uE=G(()=>{"use strict";Ep=L(H(),1),Pfe=["gray-500","red-500","orange-500","yellow-500","green-500","teal-500","blue-500","indigo-500","purple-500","pink-500"],Ofe=({selectedColor:t,onSelectColor:e})=>(0,Ep.jsxs)("div",{children:[(0,Ep.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),(0,Ep.jsx)("div",{className:"flex flex-wrap gap-2",children:Pfe.map(n=>(0,Ep.jsx)("button",{type:"button",onClick:()=>e(n),className:`w-8 h-8 rounded-full bg-${n} transition-transform transform hover:scale-110 ${t===n?"ring-2 ring-offset-2 ring-blue-500":""}`,"aria-label":`Select ${n} color`},n))})]}),Sp=Ofe});var Hh,Mfe,Ffe,Np,dE=G(()=>{"use strict";Ve();Hh=L(H(),1),Mfe=["ListIcon","FolderIcon","TagIcon","FlagIcon","HeartIcon","BuildingIcon","CalendarIcon","MagicWandIcon","InboxIcon"],Ffe=({selectedIcon:t,onSelectIcon:e})=>(0,Hh.jsxs)("div",{children:[(0,Hh.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon"}),(0,Hh.jsx)("div",{className:"grid grid-cols-6 md:grid-cols-8 gap-2",children:Mfe.map(n=>{let r=Z[n];return(0,Hh.jsx)("button",{type:"button",onClick:()=>e(n),className:`p-2 rounded-md flex items-center justify-center transition-colors ${t===n?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,"aria-label":`Select ${n} icon`,children:(0,Hh.jsx)(r,{className:"w-5 h-5"})},n)})})]}),Np=Ffe});var kp,Br,Ufe,r7,s7=G(()=>{"use strict";kp=L(ge(),1);uE();dE();Br=L(H(),1),Ufe=({folders:t,onAddList:e,isDefaultList:n=!1,onToggleDefaultList:r})=>{let[s,i]=(0,kp.useState)(""),[o,a]=(0,kp.useState)("gray-500"),[l,c]=(0,kp.useState)("ListIcon"),[d,h]=(0,kp.useState)("none"),[f,m]=(0,kp.useState)(""),y=d==="new";return(0,Br.jsxs)("form",{onSubmit:v=>{if(v.preventDefault(),!s.trim()||y&&!f.trim())return;e({name:s,icon:l,color:o,folderId:y?null:d!=="none"?d:null,isDefault:n},y?f:void 0)},className:"space-y-4 md:space-y-6 p-1",children:[(0,Br.jsxs)("div",{children:[(0,Br.jsx)("label",{htmlFor:"list-name",className:"block text-sm font-medium text-gray-700",children:"List Name"}),(0,Br.jsx)("input",{type:"text",id:"list-name",value:s,onChange:v=>i(v.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900",placeholder:"e.g., Groceries",required:!0})]}),(0,Br.jsxs)("div",{children:[(0,Br.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Folder"}),(0,Br.jsxs)("select",{value:d,onChange:v=>h(v.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:[(0,Br.jsx)("option",{value:"none",children:"No Folder"}),t.map(v=>(0,Br.jsx)("option",{value:v.id,children:v.name},v.id)),(0,Br.jsx)("option",{value:"new",children:"Create New Folder..."})]}),y&&(0,Br.jsx)("input",{type:"text",value:f,onChange:v=>m(v.target.value),className:"mt-2 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900",placeholder:"New folder name",required:!0})]}),(0,Br.jsx)(Np,{selectedIcon:l,onSelectIcon:c}),(0,Br.jsx)(Sp,{selectedColor:o,onSelectColor:a}),r&&(0,Br.jsxs)("div",{className:"flex items-center",children:[(0,Br.jsx)("input",{type:"checkbox",id:"default-list",checked:n,onChange:r,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Br.jsx)("label",{htmlFor:"default-list",className:"ml-2 block text-sm text-gray-700",children:"Set as default list for new tasks"})]}),(0,Br.jsx)("div",{className:"flex justify-end",children:(0,Br.jsx)("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Create List"})})]})},r7=Ufe});var Ap,Ts,Vfe,i7,o7=G(()=>{"use strict";Ap=L(ge(),1);uE();dE();Ts=L(H(),1),Vfe=({folders:t,onAddTag:e})=>{let[n,r]=(0,Ap.useState)(""),[s,i]=(0,Ap.useState)("gray-500"),[o,a]=(0,Ap.useState)("TagIcon"),[l,c]=(0,Ap.useState)("none"),[d,h]=(0,Ap.useState)(""),f=l==="new";return(0,Ts.jsxs)("form",{onSubmit:y=>{if(y.preventDefault(),!n.trim()||f&&!d.trim())return;e({name:n,icon:o,color:s,folderId:f?null:l!=="none"?l:null},f?d:void 0)},className:"space-y-4 md:space-y-6 p-1",children:[(0,Ts.jsxs)("div",{children:[(0,Ts.jsx)("label",{htmlFor:"tag-name",className:"block text-sm font-medium text-gray-700",children:"Tag Name"}),(0,Ts.jsx)("input",{type:"text",id:"tag-name",value:n,onChange:y=>r(y.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900",placeholder:"e.g., Urgent",required:!0})]}),(0,Ts.jsxs)("div",{children:[(0,Ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Folder (Optional)"}),(0,Ts.jsxs)("select",{value:l,onChange:y=>c(y.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:[(0,Ts.jsx)("option",{value:"none",children:"No Folder"}),t.map(y=>(0,Ts.jsx)("option",{value:y.id,children:y.name},y.id)),(0,Ts.jsx)("option",{value:"new",children:"Create New Folder..."})]}),f&&(0,Ts.jsx)("input",{type:"text",value:d,onChange:y=>h(y.target.value),className:"mt-2 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900",placeholder:"New folder name",required:!0})]}),(0,Ts.jsx)(Np,{selectedIcon:o,onSelectIcon:a}),(0,Ts.jsx)(Sp,{selectedColor:s,onSelectColor:i}),(0,Ts.jsx)("div",{className:"flex justify-end",children:(0,Ts.jsx)("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Create Tag"})})]})},i7=Vfe});var Bh,xr,Hfe,a7,l7=G(()=>{"use strict";Bh=L(ge(),1);uE();dE();xr=L(H(),1),Hfe=({list:t,folders:e,onUpdateList:n,onCancel:r})=>{let[s,i]=(0,Bh.useState)(t.name),[o,a]=(0,Bh.useState)(t.color||"gray-500"),[l,c]=(0,Bh.useState)(t.icon),[d,h]=(0,Bh.useState)(t.folderId||"none"),[f,m]=(0,Bh.useState)(""),[y,w]=(0,Bh.useState)(t.isDefault||!1),v=d==="new";return(0,xr.jsxs)("form",{onSubmit:b=>{if(b.preventDefault(),!s.trim()||v&&!f.trim())return;let I={name:s,icon:l,color:o,folderId:v?null:d!=="none"?d:null,isDefault:y};n(t.id,I,v?f:void 0)},className:"space-y-4 md:space-y-6 p-1",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{htmlFor:"list-name",className:"block text-sm font-medium text-gray-700",children:"List Name"}),(0,xr.jsx)("input",{type:"text",id:"list-name",value:s,onChange:b=>i(b.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900",placeholder:"e.g., Groceries",required:!0})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Folder"}),(0,xr.jsxs)("select",{value:d,onChange:b=>h(b.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:[(0,xr.jsx)("option",{value:"none",children:"No Folder"}),e.map(b=>(0,xr.jsx)("option",{value:b.id,children:b.name},b.id)),(0,xr.jsx)("option",{value:"new",children:"Create New Folder..."})]}),v&&(0,xr.jsx)("input",{type:"text",value:f,onChange:b=>m(b.target.value),className:"mt-2 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900",placeholder:"New folder name",required:!0})]}),(0,xr.jsx)(Np,{selectedIcon:l,onSelectIcon:c}),(0,xr.jsx)(Sp,{selectedColor:o,onSelectColor:a}),(0,xr.jsxs)("div",{className:"flex items-center",children:[(0,xr.jsx)("input",{type:"checkbox",id:"default-list",checked:y,onChange:b=>w(b.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,xr.jsx)("label",{htmlFor:"default-list",className:"ml-2 block text-sm text-gray-700",children:"Set as default list for new tasks"})]}),(0,xr.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,xr.jsx)("button",{type:"button",onClick:r,className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),(0,xr.jsx)("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Update List"})]})]})},a7=Hfe});var c7={};ua(c7,{default:()=>qfe});var rr,Dn,Bfe,qfe,u7=G(()=>{"use strict";rr=L(ge(),1);j$();n7();$P();Yi();s7();o7();l7();oE();aE();Nx();kx();lv();fT();Dn=L(H(),1),Bfe=({isAppSidebarOpen:t})=>{let{tasks:e,lists:n,tags:r,listFolders:s,tagFolders:i,loading:o,error:a,addTask:l,updateTask:c,deleteTask:d,addList:h,updateList:f,deleteList:m,addTag:y,updateTag:w,deleteTag:v,addListFolder:g,updateListFolder:b,deleteListFolder:I,addTagFolder:k,cleanupDuplicateInboxes:R,updateTagFolder:F,deleteTagFolder:S,fetchKaryData:E,getDefaultList:x,setDefaultList:T,cleanupDuplicateLists:N}=rv(),{width:D}=Bu(),A=D!==void 0&&D<768,{addLog:V,logs:q}=sv(),[$,he]=(0,rr.useState)({type:"list",id:"today"}),[ie,Se]=(0,rr.useState)(e.filter(z=>!z.parentId).length>0?e.filter(z=>!z.parentId)[0].id:null),[Le,Pe]=(0,rr.useState)(null),[Y,P]=(0,rr.useState)(!1),[ee,W]=(0,rr.useState)(null),[U,te]=(0,rr.useState)({}),[_e,Ke]=(0,rr.useState)(null),[Ft,En]=(0,rr.useState)(!1);(0,rr.useEffect)(()=>{E()},[E]),(0,rr.useEffect)(()=>{if(!o&&n.length>0){let z=new Map;n.forEach(We=>{let be=We.name.toLowerCase();z.has(be)||z.set(be,[]),z.get(be).push(We)}),Array.from(z.values()).some(We=>We.length>1)&&(console.log("Found existing duplicate lists, performing one-time cleanup..."),N())}},[o]),(0,rr.useEffect)(()=>{if(!o&&n.length>0){let z=new Map;n.forEach(We=>{let be=We.name.toLowerCase();z.has(be)||z.set(be,[]),z.get(be).push(We)}),Array.from(z.values()).some(We=>We.length>1)&&(console.log("Found duplicate lists, cleaning up..."),N())}},[n,o,N]),(0,rr.useEffect)(()=>{let z=x();z&&$.type==="list"&&$.id==="today"&&he({type:"list",id:z.id})},[x]);let fn=(0,rr.useCallback)(()=>{let z=n.map(be=>({...be,count:e.filter(ke=>ke.listId===be.id&&!ke.completed).length})),Be=z.filter(be=>be.isDefault);if(Be.length>1){let be=Be[0],ke=z.map(it=>({...it,isDefault:it.id===be.id}));z.splice(0,z.length,...ke)}let We=z.filter(be=>be.id==="inbox");if(We.length>1){let be=We[0],ke=z.filter(it=>it.id!=="inbox");return[be,...ke]}return z},[e,n]),de=(0,rr.useCallback)(()=>{let z=e.filter(ke=>ke.dueDate&&new Date(ke.dueDate).toDateString()===new Date().toDateString()&&!ke.completed).length,Be=e.filter(ke=>ke.dueDate&&new Date(ke.dueDate).setHours(0,0,0,0)<new Date().setHours(0,0,0,0)&&!ke.completed).length,We=e.filter(ke=>ke.dueDate&&new Date(ke.dueDate).setHours(0,0,0,0)>new Date().setHours(0,0,0,0)&&!ke.completed).length;return[...[{id:"today",name:"Today",icon:"TodayIcon",count:z},{id:"due",name:"Due",icon:"ClockIcon",count:Be},{id:"upcoming",name:"Upcoming",icon:"TomorrowIcon",count:We}],...fn()]},[e,fn]);(0,rr.useEffect)(()=>{console.log("Lists loaded:",n),console.log("All lists with counts:",de())},[n,de]);let Ie=(0,rr.useCallback)(()=>{let z=[];$.type==="list"?$.id==="today"?z=e.filter(be=>be.dueDate&&new Date(be.dueDate).toDateString()===new Date().toDateString()):$.id==="due"?z=e.filter(be=>be.dueDate&&new Date(be.dueDate).setHours(0,0,0,0)<new Date().setHours(0,0,0,0)):$.id==="upcoming"?z=e.filter(be=>be.dueDate&&new Date(be.dueDate).setHours(0,0,0,0)>new Date().setHours(0,0,0,0)):z=e.filter(be=>be.listId===$.id):z=e.filter(be=>be.tags?.includes($.id));let Be=new Set(z.map(be=>be.id)),We=new Set(z);return z.forEach(be=>{let ke=be;for(;ke.parentId&&!Be.has(ke.parentId);){let it=e.find(Fn=>Fn.id===ke.parentId);if(it)We.add(it),Be.add(it.id),ke=it;else break}}),Array.from(We).sort((be,ke)=>new Date(ke.createdAt).getTime()-new Date(be.createdAt).getTime())},[$,e]),ir=(0,rr.useCallback)(()=>e.find(z=>z.id===ie)||null,[ie,e]),Sr=(0,rr.useCallback)(()=>ie?e.filter(z=>z.parentId===ie).sort((z,Be)=>new Date(z.createdAt).getTime()-new Date(Be.createdAt).getTime()):[],[ie,e]);(0,rr.useEffect)(()=>{let z=Ie();(!ie||!e.some(Be=>Be.id===ie))&&Se(z.length>0?z[0].id:null)},[Ie,ie,e]);let Is=async(z,Be,We)=>{let be=()=>We?e.find(Fn=>Fn.id===We)?.listId||x()?.id:Be?Be.id:z.list?z.list.id:$.type==="list"&&$.id!=="today"&&$.id!=="due"&&$.id!=="upcoming"?$.id:x()?.id,ke=[];if(z.tagNames)for(let Fn of z.tagNames){let Oi=r.find(Yr=>Yr.name.toLowerCase()===Fn.toLowerCase());Oi||(await y({name:Fn,color:"red-500"}),await E(),Oi=r.find(Yr=>Yr.name.toLowerCase()===Fn.toLowerCase())),Oi&&ke.push(Oi.id)}let it={title:z.title,listId:be(),completed:!1,createdAt:new Date,parentId:We,tags:ke,priority:z.priority||void 0,dueDate:z.dueDate&&z.dueDate.trim()!==""?new Date(z.dueDate):void 0};await l(it)},ce=async z=>{let Be=e.find(be=>be.id===z);if(!Be)return;let We={...Be,title:`${Be.title} (Copy)`,createdAt:new Date};await l(We)},Ae=z=>{W(z),Pe("edit-list")},Qe=async z=>{if(z==="inbox"){alert("The Inbox list cannot be deleted as it is a system list.");return}window.confirm("Are you sure you want to delete this list? This action cannot be undone.")&&await m(z)},sn=async z=>{await T(z)},en=(0,rr.useCallback)(()=>$.type==="list"?de().find(z=>z.id===$.id):r.find(z=>z.id===$.id),[$,de,r]);return o?(0,Dn.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Dn.jsxs)("div",{className:"text-center",children:[(0,Dn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Dn.jsx)("p",{className:"text-gray-600",children:"Loading your tasks..."})]})}):a?(0,Dn.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Dn.jsxs)("div",{className:"text-center",children:[(0,Dn.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"\u26A0\uFE0F"}),(0,Dn.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),(0,Dn.jsx)("p",{className:"text-gray-600 mb-4",children:a}),(0,Dn.jsx)("button",{onClick:E,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]})}):(0,Dn.jsxs)("div",{className:"h-screen bg-gray-50 flex w-full",children:[(0,Dn.jsxs)("div",{className:"flex-1 min-h-0 flex",children:[(0,Dn.jsx)(z$,{smartLists:de().filter(z=>["today","due","upcoming"].includes(z.id)),customLists:fn(),listFolders:s,tags:r,tagFolders:i,selectedItem:$,onSelectItem:z=>{he(z),A&&En(!1)},onOpenModal:Pe,onDeleteList:Qe,isMobile:A,isSidebarOpen:t}),(0,Dn.jsx)("main",{className:"flex-1 flex min-w-0",children:A&&Ft&&ie?(0,Dn.jsx)(Nv,{selectedTaskId:ie,tasks:e,allTags:r,allLists:de(),allLogs:q,childrenTasks:Sr(),onToggleComplete:z=>{let We=!e.find(ke=>ke.id===z)?.completed,be={completed:We};We&&(be.completionDate=new Date),c(z,be)},onUpdateTask:c,onDeleteTask:d,onDuplicateTask:ce,onSelectTask:z=>{Se(z),En(!0)},onAddTask:Is,onOpenLogModal:Ke,onBack:()=>En(!1)}):A&&!Ft?(0,Dn.jsx)(oO,{viewDetails:en(),tasks:Ie(),allLists:de(),allTags:r,selectedTaskId:ie,expandedTasks:U,onSelectTask:z=>{Se(z),En(!0)},onToggleComplete:z=>{let We=!e.find(ke=>ke.id===z)?.completed,be={completed:We};We&&(be.completionDate=new Date),c(z,be)},onAddTask:Is,onToggleExpand:z=>te(Be=>({...Be,[z]:!Be[z]})),onEditList:Ae,onDeleteList:Qe,onSetDefaultList:sn}):(0,Dn.jsxs)(Ec,{initialLeftWidth:45,children:[(0,Dn.jsx)(oO,{viewDetails:en(),tasks:Ie(),allLists:de(),allTags:r,selectedTaskId:ie,expandedTasks:U,onSelectTask:z=>{Se(z),En(!0)},onToggleComplete:z=>{let We=!e.find(ke=>ke.id===z)?.completed,be={completed:We};We&&(be.completionDate=new Date),c(z,be)},onAddTask:Is,onToggleExpand:z=>te(Be=>({...Be,[z]:!Be[z]})),onEditList:Ae,onDeleteList:Qe,onSetDefaultList:sn}),(0,Dn.jsx)(Nv,{selectedTaskId:ie,tasks:e,allTags:r,allLists:de(),allLogs:q,childrenTasks:Sr(),onToggleComplete:z=>{let We=!e.find(ke=>ke.id===z)?.completed,be={completed:We};We&&(be.completionDate=new Date),c(z,be)},onUpdateTask:c,onDeleteTask:d,onDuplicateTask:ce,onSelectTask:z=>{Se(z),En(!0)},onAddTask:Is,onOpenLogModal:z=>{console.log("Opening log modal for task:",z),Ke(z)}})]})})]}),Le&&(0,Dn.jsxs)(jn,{title:Le==="add-list"?"Create New List":Le==="edit-list"?"Edit List":"Create New Tag",onClose:()=>{Pe(null),W(null)},children:[Le==="add-list"&&(0,Dn.jsx)(r7,{folders:s,isDefaultList:Y,onToggleDefaultList:()=>P(!Y),onAddList:async(z,Be)=>{Be&&await g({name:Be}),await h(z),P(!1)}}),Le==="edit-list"&&ee&&(0,Dn.jsx)(a7,{list:ee,folders:s,onUpdateList:async(z,Be,We)=>{We&&await g({name:We}),await f(z,Be),Pe(null),W(null)},onCancel:()=>{Pe(null),W(null)}}),Le==="add-tag"&&(0,Dn.jsx)(i7,{folders:i,onAddTag:async(z,Be)=>{Be&&await k({name:Be}),await y(z)}})]}),_e&&(0,Dn.jsx)(xp,{isOpen:!0,onClose:()=>Ke(null),onAddLog:z=>{if(z.title&&z.focusId&&z.logType){let Be={title:z.title,focusId:z.focusId,logType:z.logType,logDate:z.logDate||new Date,taskId:_e.id,description:z.description,checklist:z.checklist,rating:z.rating,habitId:z.habitId,milestoneId:z.milestoneId,goalId:z.goalId,completed:z.completed,taskCompletionDate:z.taskCompletionDate};V(Be)}},allFoci:tC.filter(z=>z.id==="kary"||z.id==="general"),initialFocusId:"kary",initialTitle:`Log for: ${_e.title}`,initialDate:new Date})]})},qfe=Bfe});var d7={};ua(d7,{default:()=>jfe});var aO,zfe,jfe,h7=G(()=>{"use strict";aO=L(H(),1),zfe=()=>(0,aO.jsx)("main",{className:"flex-1 flex items-center justify-center bg-white/80",children:(0,aO.jsx)("h1",{className:"text-2xl font-bold text-gray-400",children:"Vidy\u0101 coming soon!"})}),jfe=zfe});var dt,hE,Rv,Gfe,f7,m7=G(()=>{"use strict";Ve();dt=L(H(),1),hE=({title:t,onAdd:e,icon:n})=>{let r=Z[n];return(0,dt.jsxs)("div",{className:"px-3 pt-6 pb-3 flex justify-between items-center",children:[(0,dt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dt.jsx)(r,{className:"w-4 h-4 text-gray-500"}),(0,dt.jsx)("h2",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide",children:t})]}),(0,dt.jsx)("button",{onClick:e,className:"p-1.5 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors duration-200","aria-label":`Add new ${t}`,children:(0,dt.jsx)(Vt,{className:"w-4 h-4"})})]})},Rv=({name:t,icon:e,isSelected:n,onSelect:r})=>{let s=Z[e];return(0,dt.jsx)("li",{children:(0,dt.jsxs)("button",{onClick:r,className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ${n?"bg-indigo-50 text-indigo-700 border border-indigo-200 shadow-sm":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[(0,dt.jsx)("div",{className:"w-5 h-5 flex items-center justify-center text-gray-500",children:(0,dt.jsx)(s,{className:"w-4 h-4"})}),(0,dt.jsx)("span",{className:"flex-1 truncate text-left",children:t})]})})},Gfe=({onOpenModal:t,onSelectView:e,activeView:n,isMobile:r,isSidebarOpen:s})=>(0,dt.jsxs)("aside",{className:`w-80 flex-shrink-0 bg-white border-r border-gray-200 flex flex-col
        ${r?"fixed inset-y-0 left-0 z-20 transition-transform duration-300 ease-in-out":""}
        ${r&&!s?"-translate-x-full":"translate-x-0"}
      `,children:[(0,dt.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,dt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,dt.jsx)("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:(0,dt.jsx)(Xe,{className:"w-6 h-6 text-indigo-600"})}),(0,dt.jsxs)("div",{children:[(0,dt.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:"Abhyasa"}),(0,dt.jsx)("p",{className:"text-xs text-gray-500",children:"Master your habits & goals"})]})]})}),(0,dt.jsxs)("nav",{className:"flex-1 overflow-y-auto p-3",children:[(0,dt.jsxs)("div",{className:"mb-6",children:[(0,dt.jsx)(hE,{title:"Goals",onAdd:()=>t("goal"),icon:"TargetIcon"}),(0,dt.jsx)("ul",{className:"space-y-1",children:(0,dt.jsx)(Rv,{name:"All Goals",icon:"TargetIcon",isSelected:n==="goals",onSelect:()=>e("goals")})})]}),(0,dt.jsx)("div",{className:"border-t border-gray-200 mb-6"}),(0,dt.jsxs)("div",{className:"mb-6",children:[(0,dt.jsx)(hE,{title:"Milestones",onAdd:()=>t("milestone"),icon:"FlagIcon"}),(0,dt.jsx)("ul",{className:"space-y-1",children:(0,dt.jsx)(Rv,{name:"All Milestones",icon:"FlagIcon",isSelected:n==="milestones",onSelect:()=>e("milestones")})})]}),(0,dt.jsx)("div",{className:"border-t border-gray-200 mb-6"}),(0,dt.jsxs)("div",{className:"mb-6",children:[(0,dt.jsx)(hE,{title:"Habits",onAdd:()=>t("habit"),icon:"RepeatIcon"}),(0,dt.jsxs)("ul",{className:"space-y-1",children:[(0,dt.jsx)(Rv,{name:"Calendar View",icon:"CalendarIcon",isSelected:n==="calendar",onSelect:()=>e("calendar")}),(0,dt.jsx)(Rv,{name:"All Habits",icon:"ListIcon",isSelected:n==="all-habits",onSelect:()=>e("all-habits")})]})]}),(0,dt.jsx)("div",{className:"border-t border-gray-200 mb-6"}),(0,dt.jsxs)("div",{className:"mb-6",children:[(0,dt.jsx)(hE,{title:"Quick Wins",onAdd:()=>t("quick-win"),icon:"StarIcon"}),(0,dt.jsx)("ul",{className:"space-y-1",children:(0,dt.jsx)(Rv,{name:"List",icon:"StarIcon",isSelected:n==="quick-wins",onSelect:()=>e("quick-wins")})})]})]})]}),f7=Gfe});var $s,De,fE,$fe,Kfe,Wfe,p7,g7=G(()=>{"use strict";$s=L(ge(),1);_s();Ve();ia();ju();kv();De=L(H(),1),fE=(t,e)=>!t||!e?!1:t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate(),$fe=({selectedDate:t,onDateSelect:e,onPrevWeek:n,onNextWeek:r})=>{let s=(0,$s.useMemo)(()=>{let i=new Date(t),o=i.getDay(),a=new Date(i);return a.setDate(i.getDate()-o),Array.from({length:7},(l,c)=>{let d=new Date(a);return d.setDate(a.getDate()+c),d})},[t]);return(0,De.jsxs)("div",{className:"flex justify-between items-center px-4",children:[(0,De.jsx)("button",{onClick:n,className:"p-2 rounded-full hover:bg-gray-200 transition-colors",children:(0,De.jsx)(Wi,{className:"w-5 h-5"})}),s.map(i=>{let o=fE(i,t),a=fE(i,new Date);return(0,De.jsxs)("button",{onClick:()=>e(i),className:`flex flex-col items-center justify-center w-12 h-16 rounded-lg transition-colors ${o?"bg-blue-600 text-white shadow-md":a?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-200"}`,children:[(0,De.jsx)("span",{className:"text-xs font-medium",children:i.toLocaleDateString("en-US",{weekday:"short"})}),(0,De.jsx)("span",{className:"text-xl font-bold",children:i.getDate()})]},i.toISOString())}),(0,De.jsx)("button",{onClick:r,className:"p-2 rounded-full hover:bg-gray-200 transition-colors",children:(0,De.jsx)(Xn,{className:"w-5 h-5"})})]})},Kfe=({habit:t,log:e,onLog:n,onSelect:r,isSelected:s,date:i,allFoci:o})=>{let[a,l]=(0,$s.useState)(e?.value||0),[c,d]=(0,$s.useState)(e?.value?Math.floor(e.value/60):0),[h,f]=(0,$s.useState)(e?.value?e.value%60:0),[m,y]=(0,$s.useState)(new Set(e?.completedChecklistItems||[])),[w,v]=(0,$s.useState)(!1);(0,$s.useEffect)(()=>{l(e?.value||0),d(e?.value?Math.floor(e.value/60):0),f(e?.value?e.value%60:0),y(new Set(e?.completedChecklistItems||[]))},[e]);let g=(0,$s.useMemo)(()=>Pi(t,e),[t,e]),b=g.status==="done",I=()=>{if(!e)return"bg-white hover:bg-gray-50";switch(g.status){case"done":return"bg-green-50 hover:bg-green-100";case"partial":return"bg-orange-50 hover:bg-orange-100";case"none":default:return"bg-white hover:bg-gray-50"}},k=()=>s?"border-2 border-blue-500 shadow-md":"border border-gray-200",R=(T,N)=>{n({habitId:t.id,date:i.toISOString().split("T")[0],value:T,completedChecklistItems:N})},F=T=>{let N=new Set(m);N.has(T)?N.delete(T):N.add(T),R(void 0,Array.from(N))},S=()=>{let T=null;switch(t.type){case"binary":T=(0,De.jsx)("button",{onClick:q=>{q.stopPropagation(),R()},className:`w-10 h-10 rounded-full flex items-center justify-center transition-all border-2 ${g.status==="done"?"bg-green-500 border-green-500 text-white":"bg-gray-200/50 border-gray-300 text-gray-400 hover:border-green-500"}`,children:(0,De.jsx)(Lt,{className:"w-5 h-5"})});break;case"count":let N=t.dailyTargetComparison!=="any-value"&&t.dailyTarget!==void 0;T=(0,De.jsxs)("div",{className:"flex items-center gap-2",onClick:q=>q.stopPropagation(),children:[(0,De.jsx)("button",{onClick:()=>{let q=Math.max(0,a-1);l(q),R(q)},className:"p-2 rounded-full bg-gray-200 hover:bg-gray-300",children:"-"}),(0,De.jsx)("input",{type:"number",value:a,onChange:q=>l(parseInt(q.target.value)||0),onBlur:()=>R(a),className:"w-12 text-center text-lg font-bold bg-transparent border-b-2 border-gray-300 focus:border-blue-500 outline-none"}),N&&(0,De.jsxs)("span",{className:"text-gray-500",children:["/ ",t.dailyTarget]}),(0,De.jsx)("button",{onClick:()=>{let q=a+1;l(q),R(q)},className:"p-2 rounded-full bg-gray-200 hover:bg-gray-300",children:"+"})]});break;case"duration":let D=()=>{let q=c*60+h;R(q)};T=(0,De.jsxs)("div",{className:"flex items-center gap-1",onClick:q=>q.stopPropagation(),children:[(0,De.jsx)("input",{type:"number",value:c,onChange:q=>d(parseInt(q.target.value)||0),onBlur:D,className:"w-10 text-center text-lg font-bold bg-transparent border-b-2 border-gray-300 focus:border-blue-500 outline-none"})," ",(0,De.jsx)("span",{className:"text-gray-500 text-sm",children:"h"}),(0,De.jsx)("input",{type:"number",value:h,onChange:q=>f(parseInt(q.target.value)||0),onBlur:D,className:"w-10 text-center text-lg font-bold bg-transparent border-b-2 border-gray-300 focus:border-blue-500 outline-none"})," ",(0,De.jsx)("span",{className:"text-gray-500 text-sm",children:"m"}),(0,De.jsxs)("span",{className:"text-gray-500 text-sm",children:["/ ",t.dailyTarget," m"]})]});break;case"checklist":let A=t.checklist?.length||0,V=m.size;T=(0,De.jsxs)("button",{onClick:q=>{q.stopPropagation(),v(!w)},className:`px-3 py-1.5 rounded-md text-sm font-semibold flex items-center gap-2 transition-colors ${V===A&&A>0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:[(0,De.jsx)(Lt,{className:"w-4 h-4"}),(0,De.jsxs)("span",{children:[V,"/",A]}),(0,De.jsx)(As,{className:`w-4 h-4 transition-transform ${w?"rotate-180":""}`})]});break}return T},E=Z[t.icon],x=o.find(T=>T.id===t.focusAreaId);return(0,De.jsxs)("li",{className:`rounded-lg transition-colors ${I()} ${k()}`,children:[(0,De.jsxs)("div",{onClick:()=>r(t.id),className:"flex items-center p-3 cursor-pointer",children:[(0,De.jsx)("div",{className:`p-3 rounded-lg bg-${t.color}/30`,children:(0,De.jsx)(E,{className:`w-6 h-6 text-${t.color}`})}),(0,De.jsxs)("div",{className:"ml-4 flex-1",children:[(0,De.jsx)("p",{className:"font-semibold text-gray-800",children:t.title}),(0,De.jsxs)("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-0.5",children:[x?(0,De.jsx)("span",{className:`px-1.5 py-0.5 rounded text-xs font-semibold bg-${x.color}/30 text-${x.color}`,children:x.name}):(0,De.jsx)("span",{className:"px-1.5 py-0.5 rounded text-xs font-semibold bg-gray-100 text-gray-600",children:"Habit"}),t.reminders?.[0]&&(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)(jo,{className:"w-3 h-3 text-gray-400"}),(0,De.jsx)("span",{children:t.reminders[0]})]})]})]}),S()]}),t.type==="checklist"&&w&&(0,De.jsx)("div",{className:"pl-16 pr-4 pb-3",children:(0,De.jsx)("ul",{className:"space-y-2 border-t pt-2",children:t.checklist?.map(T=>(0,De.jsxs)("li",{className:"flex items-center gap-3",children:[(0,De.jsx)(Vr,{checked:m.has(T.id),onChange:()=>F(T.id)}),(0,De.jsx)("span",{className:`flex-1 text-sm ${m.has(T.id)?"line-through text-gray-400":""}`,children:T.text})]},T.id))})})]})},Wfe=({habits:t=[],habitLogs:e,allFoci:n,onAddHabitLog:r,onDeleteHabitLog:s,onSelectHabit:i,selectedHabitId:o,selectedDate:a,onDateSelect:l})=>{let[c,d]=(0,$s.useState)(!1),h=(0,$s.useRef)(null),f=(0,$s.useMemo)(()=>(t??[]).filter(g=>K8(g,a,e)),[t,a,e]),m=(0,$s.useMemo)(()=>{let g=new Map,b=a.toISOString().split("T")[0];return e.filter(I=>I.date===b).forEach(I=>{g.set(I.habitId,I)}),g},[e,a]),y=()=>{let g=new Date,b=new Date;return b.setDate(g.getDate()-1),fE(a,g)?"Today":fE(a,b)?"Yesterday":a.toLocaleDateString("en-US",{month:"long",day:"numeric"})},w=()=>{let g=new Date(a);g.setDate(g.getDate()-7),l(g)},v=()=>{let g=new Date(a);g.setDate(g.getDate()+7),l(g)};return(0,De.jsxs)("div",{className:"h-full w-full flex flex-col bg-gray-50/80",children:[(0,De.jsxs)("header",{className:"p-4 flex justify-between items-center flex-shrink-0",children:[(0,De.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:y()}),(0,De.jsxs)("div",{className:"relative",ref:h,children:[(0,De.jsx)("button",{onClick:()=>d(g=>!g),className:"p-2 hover:bg-gray-200 rounded-full",children:(0,De.jsx)(vt,{className:"w-5 h-5 text-gray-600"})}),c&&(0,De.jsx)("div",{className:"absolute top-full right-0 mt-2 z-30",children:(0,De.jsx)(Li,{currentDate:a,onSelect:g=>{l(g),d(!1)},onClear:()=>{},onClose:()=>d(!1)})})]})]}),(0,De.jsx)("div",{className:"py-4 flex-shrink-0",children:(0,De.jsx)($fe,{selectedDate:a,onDateSelect:l,onPrevWeek:w,onNextWeek:v})}),(0,De.jsx)("div",{className:"flex-1 overflow-y-auto px-4",children:f.length>0?(0,De.jsx)("ul",{className:"space-y-3",children:f.map(g=>(0,De.jsx)(Kfe,{habit:g,log:m.get(g.id)||null,onLog:r,onSelect:i,isSelected:g.id===o,date:a,allFoci:n},g.id))}):(0,De.jsxs)("div",{className:"text-center py-10 text-gray-500 flex flex-col items-center",children:[(0,De.jsx)(Lt,{className:"w-12 h-12 text-gray-300 mb-4"}),(0,De.jsx)("p",{className:"font-semibold",children:"No habits scheduled for this day."})]})})]})},p7=Wfe});var oo,ae,lO,Qfe,Yfe,cO,y7=G(()=>{"use strict";oo=L(ge(),1);_s();Ve();Av();kv();KP();ae=L(H(),1),lO=[{id:"Yet to Start",name:"Yet to Start",color:"text-gray-500",icon:"SunriseIcon"},{id:"In Progress",name:"In Progress",color:"text-blue-500",icon:"RepeatIcon"},{id:"Completed",name:"Completed",color:"text-green-500",icon:"CheckSquareIcon"},{id:"Abandoned",name:"Abandoned",color:"text-red-500",icon:"Trash2Icon"}],Qfe=t=>lO.find(e=>e.id===t)||lO[0],Yfe=({habit:t,onEditHabit:e,onUpdateHabit:n,onAddHabitLog:r,onDeleteHabitLog:s,selectedDate:i,allLogs:o,habitLogs:a,onOpenLogModal:l,onBack:c})=>{let[d,h]=(0,oo.useState)(null),f=(0,oo.useRef)(null),m=(0,oo.useRef)(null),y=(0,oo.useRef)(null);(0,oo.useEffect)(()=>{let A=V=>{f.current&&!f.current.contains(V.target)&&m.current&&!m.current.contains(V.target)&&y.current&&!y.current.contains(V.target)&&h(null)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);let w=(0,oo.useMemo)(()=>t?o.filter(A=>A.habitId===t.id).sort((A,V)=>V.logDate.getTime()-A.logDate.getTime()):[],[t,o]),v=(0,oo.useMemo)(()=>{if(!t)return null;let A=i.toISOString().split("T")[0];return a.find(V=>V.habitId===t.id&&V.date===A)||null},[t,a,i]),g=(0,oo.useMemo)(()=>{if(!t)return 0;let A=0,V=new Map;return a.forEach(q=>{V.set(q.date,q)}),t.type==="count"||t.type==="duration"?A=Array.from(V.values()).reduce((q,$)=>q+($.value||0),0):t.type==="binary"?A=Array.from(V.values()).filter(q=>Pi(t,q).status==="done").length:t.type==="checklist"&&(A=Array.from(V.values()).reduce((q,$)=>q+($.completedChecklistItems?.length||0),0)),A},[t,a]),b=(0,oo.useMemo)(()=>t?Zx(t,a):{currentStreak:0,bestStreak:0,completionRate:0,daysCompleted:0,goalProgress:0},[t,a]),I=A=>{t&&n(t.id,A),h(null)},k=()=>{t&&s(t.id,i),h(null)},R=()=>{console.log("Add to Journal button clicked"),t&&l(t)},F=A=>{let V=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];switch(A.type){case"daily":return"Daily";case"weekly":return`${A.times} time${A.times>1?"s":""} per week`;case"monthly":return`${A.times} time${A.times>1?"s":""} per month`;case"specific_days":return`On ${A.days.map(q=>V[q]).join(", ")}`;default:return"Not set"}},S=A=>{let V=A.type==="duration"?"minutes":"times",q=he=>({at_least:"At least",exactly:"Exactly",less_than:"Less than",any_value:"Any value"})[he||"at_least"],$=[];return A.dailyTarget&&$.push(`${q(A.dailyTargetComparison)} ${A.dailyTarget} ${V} per day`),A.totalTarget&&$.push(`${q(A.totalTargetComparison)} ${A.totalTarget} ${V} in total`),$.length===0?"No specific target.":$.join(" and ")},E=()=>{if(!v||!t)return"Yet to mark";switch(Pi(t,v).status){case"done":return"Done";case"partial":return"Partially Done";case"none":default:return"Yet to mark"}},x=()=>{if(!v||!t)return"bg-gray-100 text-gray-700 hover:bg-gray-200";switch(Pi(t,v).status){case"done":return"bg-green-100 text-green-700 hover:bg-green-200";case"partial":return"bg-orange-100 text-orange-700 hover:bg-orange-200";case"none":default:return"bg-gray-100 text-gray-700 hover:bg-gray-200"}};if(!t)return(0,ae.jsx)("div",{className:"flex-1 bg-white flex items-center justify-center p-6",children:(0,ae.jsxs)("div",{className:"text-center text-gray-500",children:[(0,ae.jsx)(Xe,{className:"w-16 h-16 mx-auto text-gray-300"}),(0,ae.jsx)("h2",{className:"mt-4 text-xl font-medium",children:"Select a habit"}),(0,ae.jsx)("p",{className:"text-sm",children:"Choose a habit from the list to see its progress and details."})]})});let T=Z[t.icon]||Xe,N=Qfe(t.status),D=Z[N.icon]||Xe;return(0,ae.jsxs)("div",{className:"flex-1 bg-white p-6 flex flex-col h-full",children:[(0,ae.jsxs)("header",{className:"flex justify-between items-start mb-6 pb-4 border-b border-gray-200",children:[(0,ae.jsxs)("div",{className:"flex items-start gap-4",children:[c&&(0,ae.jsx)("button",{onClick:c,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-full mr-2","aria-label":"Back to habit list",children:(0,ae.jsx)(ti,{className:"w-5 h-5"})}),(0,ae.jsx)(T,{className:`w-12 h-12 text-${t.color}`}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:t.title}),(0,ae.jsx)("p",{className:"text-gray-500 mt-1",children:t.description})]})]}),(0,ae.jsx)("button",{onClick:()=>e(t),className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500 hover:text-gray-800",children:(0,ae.jsx)(yn,{className:"w-5 h-5"})})]}),(0,ae.jsxs)("div",{className:"flex-1 overflow-y-auto pr-2 -mr-2 space-y-8",children:[(0,ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,ae.jsxs)("div",{className:"mt-1 relative",children:[(0,ae.jsxs)("button",{ref:m,onClick:()=>h(A=>A==="status"?null:"status"),className:"flex items-center gap-2 text-sm font-medium bg-gray-100 hover:bg-gray-200 rounded-full px-3 py-1",children:[(0,ae.jsx)(D,{className:`w-4 h-4 ${N.color}`}),(0,ae.jsx)("span",{className:N.color,children:N.name})]}),d&&(0,ae.jsx)("div",{ref:f,className:"absolute shadow-lg z-20 top-full mt-2 left-0",children:d==="status"&&(0,ae.jsx)("ul",{className:"bg-white rounded-lg shadow-xl border border-gray-200 w-48 overflow-y-auto",children:lO.map(A=>{let V=Z[A.icon]||Xe;return(0,ae.jsx)("li",{children:(0,ae.jsxs)("button",{onClick:()=>I({status:A.id}),className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm hover:bg-gray-100",children:[(0,ae.jsx)(V,{className:`w-4 h-4 ${A.color}`}),(0,ae.jsx)("span",{children:A.name})]})},A.id)})})})]})]}),(0,ae.jsxs)("div",{children:[(0,ae.jsxs)("label",{className:"text-sm font-medium text-gray-500",children:["Log for ",i.toLocaleDateString("en-US",{month:"long",day:"numeric"})]}),(0,ae.jsxs)("div",{className:"mt-2 relative",children:[(0,ae.jsxs)("button",{ref:y,onClick:()=>h(A=>A==="logAction"?null:"logAction"),className:`px-3 py-1.5 text-sm font-semibold rounded-md transition-colors flex items-center gap-2 ${x()}`,children:[(0,ae.jsx)("span",{children:E()}),(0,ae.jsx)(As,{className:"w-4 h-4"})]}),d==="logAction"&&(0,ae.jsx)("div",{ref:f,className:"absolute shadow-lg z-20 top-full mt-2 left-0",children:(0,ae.jsx)("ul",{className:"bg-white rounded-lg shadow-xl border border-gray-200 w-48 overflow-y-auto",children:(0,ae.jsx)("li",{children:(0,ae.jsxs)("button",{onClick:k,className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm hover:bg-gray-100 text-gray-700",children:[(0,ae.jsx)(zf,{className:"w-4 h-4"}),(0,ae.jsx)("span",{children:"Reset"})]})})})})]})]})]}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Details"}),(0,ae.jsxs)("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg space-y-3 border",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)(zf,{className:"w-4 h-4 text-gray-400"}),(0,ae.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Frequency:"}),(0,ae.jsx)("span",{className:"text-sm text-gray-600",children:F(t.frequency)})]}),(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)(Xe,{className:"w-4 h-4 text-gray-400"}),(0,ae.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Goal:"}),(0,ae.jsx)("span",{className:"text-sm text-gray-600",children:S(t)})]}),(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)(vt,{className:"w-4 h-4 text-gray-400"}),(0,ae.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Timeline:"}),(0,ae.jsxs)("span",{className:"text-sm text-gray-600",children:[new Date(t.startDate).toLocaleDateString(),t.endDate?` to ${new Date(t.endDate).toLocaleDateString()}`:""]})]}),t.totalTarget&&(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)(Id,{className:"w-4 h-4 text-gray-400"}),(0,ae.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Goal Progress:"}),(0,ae.jsxs)("span",{className:"text-sm text-gray-600",children:[g," / ",t.totalTarget," ",t.type==="duration"?"minutes":"times"]})]})]})]}),(0,ae.jsxs)("div",{children:[(0,ae.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ae.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Journal"}),(0,ae.jsxs)("button",{onClick:R,className:"px-3 py-1 text-xs font-semibold text-green-700 bg-green-100 rounded-md hover:bg-green-200 transition-colors flex items-center gap-1.5",children:[(0,ae.jsx)(Ln,{className:"w-3.5 h-3.5"}),"Add to Journal"]})]}),(0,ae.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3 border",children:w.length>0?(0,ae.jsx)("ul",{className:"space-y-2",children:w.map(A=>(0,ae.jsx)(Ku,{log:A},A.id))}):(0,ae.jsx)("p",{className:"text-sm text-gray-500 text-center py-2",children:"No journal entries for this habit yet."})})]}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Statistics"}),(0,ae.jsxs)("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg space-y-3 border",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)(Jg,{className:"w-4 h-4 text-gray-400"}),(0,ae.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Current Streak:"}),(0,ae.jsxs)("span",{className:"text-sm text-gray-600",children:[b.currentStreak," day",b.currentStreak!==1?"s":""]})]}),(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)(Zg,{className:"w-4 h-4 text-gray-400"}),(0,ae.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Best Streak:"}),(0,ae.jsxs)("span",{className:"text-sm text-gray-600",children:[b.bestStreak," day",b.bestStreak!==1?"s":""]})]}),(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)(xd,{className:"w-4 h-4 text-gray-400"}),(0,ae.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Completion Rate:"}),(0,ae.jsxs)("span",{className:"text-sm text-gray-600",children:[b.completionRate,"%"]})]}),(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)(ey,{className:"w-4 h-4 text-gray-400"}),(0,ae.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Days Completed:"}),(0,ae.jsxs)("span",{className:"text-sm text-gray-600",children:[b.daysCompleted," days"]})]})]})]}),(0,ae.jsx)(eE,{habit:t,habitLogs:a,selectedDate:i})]})]})},cO=Yfe});var Ce,Xfe,Jfe,mE,v7,Zfe,b7,w7=G(()=>{"use strict";_s();Ve();Ce=L(H(),1),Xfe=t=>{switch(t){case"Completed":return{bg:"bg-green-500",text:"text-white",border:"border-green-500",icon:"CheckSquareIcon"};case"In Progress":return{bg:"bg-blue-500",text:"text-white",border:"border-blue-500",icon:"RepeatIcon"};case"Abandoned":return{bg:"bg-red-500",text:"text-white",border:"border-red-500",icon:"Trash2Icon"};default:return{bg:"bg-white",text:"text-gray-500",border:"border-gray-400",icon:"FlagIcon"}}},Jfe=t=>{let n={Completed:"green","In Progress":"blue",Abandoned:"red","Yet to Start":"gray"}[t]||"gray";return{name:t,colorClass:`bg-${n}-100 text-${n}-800`}},mE=t=>t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),v7=({habit:t})=>{let e=Z[t.icon],n=Jfe(t.status);return(0,Ce.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-gray-50 border border-gray-200",children:[(0,Ce.jsx)(e,{className:`w-6 h-6 text-${t.color}`}),(0,Ce.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ce.jsx)("p",{className:"font-semibold text-gray-800",children:t.title}),(0,Ce.jsxs)("div",{className:"text-xs text-gray-500 flex items-center gap-1.5 mt-0.5",children:[(0,Ce.jsx)(vt,{className:"w-3 h-3"}),(0,Ce.jsx)("span",{children:mE(t.startDate)}),t.endDate&&(0,Ce.jsxs)(Ce.Fragment,{children:[" ",(0,Ce.jsx)(Xn,{className:"w-3 h-3"})," ",(0,Ce.jsx)("span",{children:mE(t.endDate)})]})]})]}),(0,Ce.jsx)("div",{className:`text-xs font-semibold ml-auto px-2 py-1 rounded-full ${n.colorClass}`,children:(0,Ce.jsx)("span",{children:n.name})})]})},Zfe=({milestones:t,habits:e,habitLogs:n,onAddMilestone:r,onLinkMilestone:s,onAddHabit:i,onLinkHabit:o,onAddHabitToMilestone:a,onLinkHabitToMilestone:l})=>{let c=e.filter(h=>!h.milestoneId),d=[...t].sort((h,f)=>h.startDate.getTime()-f.startDate.getTime());return(0,Ce.jsxs)("div",{className:"relative pl-5",children:[(0,Ce.jsx)("div",{className:"absolute left-4 top-5 bottom-5 w-0.5 bg-gray-200 rounded-full"}),d.map(h=>{let f=e.filter(w=>w.milestoneId===h.id),m=Xfe(h.status),y=Z[m.icon];return(0,Ce.jsxs)("div",{className:"relative mb-8",children:[(0,Ce.jsx)("div",{className:`absolute left-4 top-2 w-8 h-8 rounded-full flex items-center justify-center transform -translate-x-1/2 ${m.bg}`,children:(0,Ce.jsx)(y,{className:`w-4 h-4 ${m.text}`})}),(0,Ce.jsxs)("div",{className:"ml-10 p-4 bg-white rounded-lg border border-gray-200 shadow-sm",children:[(0,Ce.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("h4",{className:"font-bold text-lg text-gray-800",children:h.title}),(0,Ce.jsxs)("div",{className:"text-xs text-gray-500 mt-1 flex items-center gap-2",children:[(0,Ce.jsx)(vt,{className:"w-3 h-3"}),(0,Ce.jsx)("span",{children:mE(h.startDate)}),(0,Ce.jsx)(Xn,{className:"w-3 h-3 text-gray-400"}),(0,Ce.jsx)("span",{children:h.targetEndDate?mE(h.targetEndDate):"No Target Date"})]})]}),(0,Ce.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-gray-100 text-gray-700",children:h.status})]}),h.description&&(0,Ce.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:h.description}),f.length>0&&(0,Ce.jsxs)("div",{className:"mt-4 pt-3 border-t border-dashed",children:[(0,Ce.jsx)("h5",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"Linked Habits"}),(0,Ce.jsx)("div",{className:"space-y-2",children:f.length>0?f.map(w=>(0,Ce.jsx)(v7,{habit:w},w.id)):(0,Ce.jsx)("p",{className:"text-xs text-gray-500 italic py-1",children:"No specific habits for this milestone."})}),(0,Ce.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,Ce.jsxs)("button",{onClick:()=>a(h.id),className:"flex items-center gap-1 text-xs font-semibold text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",children:[(0,Ce.jsx)(Vt,{className:"w-3 h-3"}),"Add Habit"]}),(0,Ce.jsxs)("button",{onClick:()=>l(h.id),className:"flex items-center gap-1 text-xs font-semibold text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",children:[(0,Ce.jsx)(Go,{className:"w-3 h-3"}),"Link Habit"]})]})]})]})]},h.id)}),(0,Ce.jsxs)("div",{className:"relative mb-8",children:[(0,Ce.jsx)("div",{className:"absolute left-4 top-2 w-8 h-8 rounded-full flex items-center justify-center transform -translate-x-1/2 bg-gray-700",children:(0,Ce.jsx)(ns,{className:"w-4 h-4 text-white"})}),(0,Ce.jsxs)("div",{className:"ml-10 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,Ce.jsx)("h4",{className:"font-bold text-lg text-gray-800",children:"Finish Line"}),c.length>0&&(0,Ce.jsxs)("div",{className:"mt-4 pt-3 border-t border-dashed",children:[(0,Ce.jsx)("h5",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"General Habits"}),(0,Ce.jsx)("div",{className:"space-y-2",children:c.map(h=>(0,Ce.jsx)(v7,{habit:h},h.id))})]}),(0,Ce.jsxs)("div",{className:"mt-4 pt-3 border-t border-dashed",children:[(0,Ce.jsx)("h5",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"Goal Actions"}),(0,Ce.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,Ce.jsxs)("button",{onClick:r,className:"text-sm font-semibold text-gray-700 hover:text-black flex items-center gap-2",children:[(0,Ce.jsx)(Vt,{className:"w-4 h-4 text-white bg-gray-700 rounded-full p-0.5"}),"Add Milestone"]}),(0,Ce.jsxs)("button",{onClick:s,className:"text-sm font-semibold text-gray-700 hover:text-black flex items-center gap-2",children:[(0,Ce.jsx)(Go,{className:"w-4 h-4"}),"Link Milestone"]}),(0,Ce.jsxs)("button",{onClick:i,className:"text-sm font-semibold text-gray-700 hover:text-black flex items-center gap-2",children:[(0,Ce.jsx)(Vt,{className:"w-4 h-4 text-white bg-gray-700 rounded-full p-0.5"}),"Add General Habit"]}),(0,Ce.jsxs)("button",{onClick:o,className:"text-sm font-semibold text-gray-700 hover:text-black flex items-center gap-2",children:[(0,Ce.jsx)(Go,{className:"w-4 h-4"}),"Link General Habit"]})]})]})]})]})]})},b7=Zfe});var Ks,Me,dO,eme,tme,T7,I7=G(()=>{"use strict";Ks=L(ge(),1);_s();Ve();ju();w7();Av();Me=L(H(),1),dO=[{id:"Not Started",name:"Not Started",color:"text-gray-500",icon:"SunriseIcon"},{id:"In Progress",name:"In Progress",color:"text-blue-500",icon:"RepeatIcon"},{id:"Completed",name:"Completed",color:"text-green-500",icon:"CheckSquareIcon"},{id:"Abandoned",name:"Abandoned",color:"text-red-500",icon:"Trash2Icon"}],eme=t=>dO.find(e=>e.id===t)||dO[0],tme=t=>{let{goal:e,milestones:n,habits:r,habitLogs:s,allFoci:i,allLogs:o,onUpdateGoal:a,onDeleteGoal:l,onAddMilestone:c,onLinkMilestone:d,onAddHabit:h,onLinkHabit:f,onAddHabitToMilestone:m,onLinkHabitToMilestone:y,onEditGoal:w,onOpenLogModal:v,onBack:g}=t,[b,I]=(0,Ks.useState)(!1),[k,R]=(0,Ks.useState)(""),[F,S]=(0,Ks.useState)(!1),[E,x]=(0,Ks.useState)(""),[T,N]=(0,Ks.useState)(null),D=(0,Ks.useRef)(null),A={date:(0,Ks.useRef)(null),status:(0,Ks.useRef)(null),more:(0,Ks.useRef)(null)},V=(0,Ks.useMemo)(()=>e?o.filter(P=>P.goalId===e.id).sort((P,ee)=>ee.logDate.getTime()-P.logDate.getTime()):[],[e,o]);if((0,Ks.useEffect)(()=>{e&&(R(e.title),x(e.description||""),I(!1),S(!1))},[e]),(0,Ks.useEffect)(()=>{let P=ee=>{D.current&&!D.current.contains(ee.target)&&(Object.values(A).some(U=>U.current?.contains(ee.target))||N(null))};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[A]),!e)return(0,Me.jsx)("div",{className:"flex-1 bg-white flex items-center justify-center p-6",children:(0,Me.jsxs)("div",{className:"text-center text-gray-500",children:[(0,Me.jsx)(Xe,{className:"w-16 h-16 mx-auto text-gray-300"}),(0,Me.jsx)("h2",{className:"mt-4 text-xl font-medium",children:"Select a goal"}),(0,Me.jsx)("p",{className:"text-sm",children:"Choose a goal from the list to see its details."})]})});let q=P=>{a(e.id,P),N(null)},$=()=>{window.confirm(`Are you sure you want to delete the goal "${e.title}"? This will also delete all of its milestones.`)&&l(e.id),N(null)},he=Z[e.icon],ie=eme(e.status),Se=Z[ie.icon],Le=i.find(P=>P.id===e.focusAreaId),Pe=Le?Z[Le.icon]:null,Y=()=>{if(!T)return null;let P=A[T]?.current;if(!P)return null;let ee=P.getBoundingClientRect(),W={position:"absolute",top:`${ee.bottom+8}px`,zIndex:50};return T==="more"?W.right=`${window.innerWidth-ee.right}px`:W.left=`${ee.left}px`,(0,Me.jsxs)("div",{ref:D,className:"shadow-lg",style:W,children:[T==="date"&&(0,Me.jsx)(Li,{currentDate:e.targetEndDate?new Date(e.targetEndDate):null,onSelect:U=>q({targetEndDate:U}),onClear:()=>q({targetEndDate:void 0}),onClose:()=>N(null)}),T==="status"&&(0,Me.jsx)("ul",{className:"bg-white rounded-lg shadow-xl border border-gray-200 w-48 overflow-y-auto",children:dO.map(U=>{let te=Z[U.icon];return(0,Me.jsx)("li",{children:(0,Me.jsxs)("button",{onClick:()=>q({status:U.id}),className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm hover:bg-gray-100",children:[(0,Me.jsx)(te,{className:`w-4 h-4 ${U.color}`}),(0,Me.jsx)("span",{children:U.name})]})},U.id)})}),T==="more"&&(0,Me.jsxs)("ul",{className:"bg-white rounded-lg shadow-xl border border-gray-200 w-48 overflow-y-auto",children:[(0,Me.jsx)("li",{children:(0,Me.jsxs)("button",{onClick:()=>{w(e),N(null)},className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,Me.jsx)(yn,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Edit Goal"})]})}),(0,Me.jsx)("li",{children:(0,Me.jsxs)("button",{onClick:$,className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-red-600 hover:bg-red-50",children:[(0,Me.jsx)(ei,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Delete Goal"})]})})]})]})};return(0,Me.jsxs)("div",{className:"flex-1 bg-white p-6 flex flex-col h-full",children:[(0,Me.jsxs)("header",{className:"flex justify-between items-start mb-6 pb-4 border-b border-gray-200",children:[(0,Me.jsxs)("div",{className:"flex items-start gap-4 flex-1 min-w-0",children:[t.onBack&&(0,Me.jsx)("button",{onClick:t.onBack,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-full mr-2","aria-label":"Back to goal list",children:(0,Me.jsx)(ti,{className:"w-5 h-5"})}),(0,Me.jsx)(he,{className:"w-10 h-10 text-gray-500 mt-1 flex-shrink-0"}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[b?(0,Me.jsx)("input",{value:k,onChange:P=>R(P.target.value),onBlur:()=>q({title:k}),autoFocus:!0,className:"text-3xl font-bold text-gray-800 w-full bg-gray-100 rounded px-2 py-1"}):(0,Me.jsx)("h1",{onClick:()=>I(!0),className:"text-3xl font-bold text-gray-800 cursor-text",children:e.title}),(0,Me.jsxs)("div",{className:"flex items-center gap-4 mt-2 flex-wrap",children:[(0,Me.jsxs)("button",{ref:A.status,onClick:()=>N(P=>P==="status"?null:"status"),className:"flex items-center gap-2 text-sm font-medium bg-gray-100 hover:bg-gray-200 rounded-full px-3 py-1",children:[(0,Me.jsx)(Se,{className:`w-4 h-4 ${ie.color}`}),(0,Me.jsx)("span",{className:ie.color,children:ie.name})]}),(0,Me.jsxs)("button",{ref:A.date,onClick:()=>N(P=>P==="date"?null:"date"),className:"flex items-center gap-2 text-sm text-gray-600 hover:bg-gray-100 rounded px-2 py-1",children:[(0,Me.jsx)(vt,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:e.targetEndDate?`Target: ${new Date(e.targetEndDate).toLocaleDateString()}`:"Set Target Date"})]}),Le&&Pe&&(0,Me.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium bg-gray-100 rounded-full pl-1 pr-3 py-1",children:[(0,Me.jsx)(Pe,{className:`w-5 h-5 p-0.5 rounded-full bg-white text-${Le.color}`}),(0,Me.jsx)("span",{className:"text-gray-700",children:Le.name})]})]})]})]}),(0,Me.jsx)("button",{ref:A.more,onClick:()=>N(P=>P==="more"?null:"more"),className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500 hover:text-gray-800",children:(0,Me.jsx)(wr,{className:"w-5 h-5"})})]}),(0,Me.jsxs)("div",{className:"flex-1 overflow-y-auto pr-2 -mr-2",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsx)("h3",{className:"font-semibold text-gray-600 text-sm uppercase tracking-wider mb-2",children:"Description"}),F?(0,Me.jsx)("textarea",{value:E,onChange:P=>x(P.target.value),onBlur:()=>q({description:E}),autoFocus:!0,rows:4,className:"prose max-w-none w-full bg-gray-100 rounded p-2"}):(0,Me.jsx)("div",{onClick:()=>S(!0),className:"prose max-w-none text-gray-700 cursor-text p-2 -m-2 rounded hover:bg-gray-50",children:e.description||(0,Me.jsx)("span",{className:"italic text-gray-400",children:"No description. Click to add."})})]}),(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Me.jsx)("h3",{className:"font-semibold text-gray-600 text-sm uppercase tracking-wider",children:"Journal"}),(0,Me.jsxs)("button",{onClick:()=>v(e),className:"flex items-center gap-1.5 px-3 py-1 text-xs font-semibold text-green-700 bg-green-100 rounded-md hover:bg-green-200 transition-colors",children:[(0,Me.jsx)(Ln,{className:"w-3.5 h-3.5"}),"Add to Journal"]})]}),(0,Me.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3 border",children:V.length>0?(0,Me.jsx)("ul",{className:"space-y-2",children:V.map(P=>(0,Me.jsx)(Ku,{log:P},P.id))}):(0,Me.jsx)("p",{className:"text-sm text-gray-500 text-center py-2",children:"No journal entries for this goal yet."})})]}),(0,Me.jsx)(b7,{milestones:n,habits:r,habitLogs:s,onAddMilestone:c,onLinkMilestone:d,onAddHabit:h,onLinkHabit:f,onAddHabitToMilestone:m,onLinkHabitToMilestone:y})]}),Y()]})},T7=tme});var Ws,ue,hO,nme,rme,sme,ime,x7,E7=G(()=>{"use strict";Ws=L(ge(),1);_s();Ve();ju();Av();ue=L(H(),1),hO=[{id:"Not Started",name:"Not Started",color:"text-gray-500",icon:"SunriseIcon"},{id:"In Progress",name:"In Progress",color:"text-blue-500",icon:"RepeatIcon"},{id:"Completed",name:"Completed",color:"text-green-500",icon:"CheckSquareIcon"},{id:"Abandoned",name:"Abandoned",color:"text-red-500",icon:"Trash2Icon"}],nme=t=>hO.find(e=>e.id===t)||hO[0],rme=t=>{let n={Completed:"green","In Progress":"blue",Abandoned:"red","Yet to Start":"gray"}[t]||"gray";return{name:t,colorClass:`bg-${n}-100 text-${n}-800`}},sme=({habit:t})=>{let e=Z[t.icon],n=rme(t.status);return(0,ue.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 flex items-center gap-4 hover:bg-gray-100 transition-colors",children:[(0,ue.jsx)("div",{className:`p-2 rounded-lg bg-${t.color}/20 flex-shrink-0`,children:(0,ue.jsx)(e,{className:`w-6 h-6 text-${t.color}`})}),(0,ue.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ue.jsx)("p",{className:"font-semibold text-gray-800 truncate",children:t.title}),t.description&&(0,ue.jsx)("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:t.description})]}),(0,ue.jsx)("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${n.colorClass} flex-shrink-0`,children:t.status})]})},ime=t=>{let{milestone:e,parentGoal:n,habits:r,allFoci:s,allLogs:i,onUpdateMilestone:o,onDeleteMilestone:a,onAddHabit:l,onLinkHabit:c,onOpenLogModal:d,onEditMilestone:h,onBack:f}=t,[m,y]=(0,Ws.useState)(!1),[w,v]=(0,Ws.useState)(""),[g,b]=(0,Ws.useState)(!1),[I,k]=(0,Ws.useState)(""),[R,F]=(0,Ws.useState)(null),S=(0,Ws.useRef)(null),E={date:(0,Ws.useRef)(null),status:(0,Ws.useRef)(null),more:(0,Ws.useRef)(null)},x=(0,Ws.useMemo)(()=>e?i.filter(ie=>ie.milestoneId===e.id).sort((ie,Se)=>Se.logDate.getTime()-ie.logDate.getTime()):[],[e,i]);if((0,Ws.useEffect)(()=>{e&&(v(e.title),k(e.description||""),y(!1),b(!1))},[e]),(0,Ws.useEffect)(()=>{let ie=Se=>{S.current&&!S.current.contains(Se.target)&&(Object.values(E).some(Pe=>Pe.current?.contains(Se.target))||F(null))};return document.addEventListener("mousedown",ie),()=>document.removeEventListener("mousedown",ie)},[E]),!e)return(0,ue.jsx)("div",{className:"flex-1 bg-white flex items-center justify-center p-6",children:(0,ue.jsxs)("div",{className:"text-center text-gray-500",children:[(0,ue.jsx)(ns,{className:"w-16 h-16 mx-auto text-gray-300"}),(0,ue.jsx)("h2",{className:"mt-4 text-xl font-medium",children:"Select a milestone"}),(0,ue.jsx)("p",{className:"text-sm",children:"Choose a milestone from the list to see its details."})]})});let T=ie=>{o(e.id,ie),F(null)},N=()=>{window.confirm(`Are you sure you want to delete the milestone "${e.title}"?`)&&a(e.id),F(null)},D=nme(e.status),A=Z[D.icon],V=n?Z[n.icon]:Xe,q=s.find(ie=>ie.id===e.focusAreaId),$=q?Z[q.icon]:null,he=()=>{if(!R)return null;let ie=E[R]?.current;if(!ie)return null;let Se=ie.getBoundingClientRect(),Le={position:"absolute",top:`${Se.bottom+8}px`,zIndex:50};return R==="more"?Le.right=`${window.innerWidth-Se.right}px`:Le.left=`${Se.left}px`,(0,ue.jsxs)("div",{ref:S,className:"shadow-lg",style:Le,children:[R==="date"&&(0,ue.jsx)(Li,{currentDate:e.targetEndDate?new Date(e.targetEndDate):null,onSelect:Pe=>T({targetEndDate:Pe}),onClear:()=>T({targetEndDate:void 0}),onClose:()=>F(null)}),R==="status"&&(0,ue.jsx)("ul",{className:"bg-white rounded-lg shadow-xl border border-gray-200 w-48 overflow-y-auto",children:hO.map(Pe=>{let Y=Z[Pe.icon];return(0,ue.jsx)("li",{children:(0,ue.jsxs)("button",{onClick:()=>T({status:Pe.id}),className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm hover:bg-gray-100",children:[(0,ue.jsx)(Y,{className:`w-4 h-4 ${Pe.color}`}),(0,ue.jsx)("span",{children:Pe.name})]})},Pe.id)})}),R==="more"&&(0,ue.jsxs)("ul",{className:"bg-white rounded-lg shadow-xl border border-gray-200 w-48 overflow-y-auto",children:[(0,ue.jsx)("li",{children:(0,ue.jsxs)("button",{onClick:()=>{h(e),F(null)},className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,ue.jsx)(yn,{className:"w-4 h-4"}),(0,ue.jsx)("span",{children:"Edit Milestone"})]})}),(0,ue.jsx)("li",{children:(0,ue.jsxs)("button",{onClick:N,className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-red-600 hover:bg-red-50",children:[(0,ue.jsx)(ei,{className:"w-4 h-4"}),(0,ue.jsx)("span",{children:"Delete Milestone"})]})})]})]})};return(0,ue.jsxs)("div",{className:"flex-1 bg-white p-6 flex flex-col h-full",children:[(0,ue.jsxs)("header",{className:"flex justify-between items-start mb-6 pb-4 border-b border-gray-200",children:[(0,ue.jsxs)("div",{className:"flex items-start gap-4 flex-1 min-w-0",children:[t.onBack&&(0,ue.jsx)("button",{onClick:t.onBack,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-full mr-2","aria-label":"Back to milestone list",children:(0,ue.jsx)(ti,{className:"w-5 h-5"})}),(0,ue.jsx)(ns,{className:"w-10 h-10 text-gray-500 mt-1 flex-shrink-0"}),(0,ue.jsxs)("div",{className:"flex-1 min-w-0",children:[m?(0,ue.jsx)("input",{value:w,onChange:ie=>v(ie.target.value),onBlur:()=>T({title:w}),autoFocus:!0,className:"text-3xl font-bold text-gray-800 w-full bg-gray-100 rounded px-2 py-1"}):(0,ue.jsx)("h1",{onClick:()=>y(!0),className:"text-3xl font-bold text-gray-800 cursor-text",children:e.title}),(0,ue.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,ue.jsxs)("button",{ref:E.status,onClick:()=>F(ie=>ie==="status"?null:"status"),className:"flex items-center gap-2 text-sm font-medium bg-gray-100 hover:bg-gray-200 rounded-full px-3 py-1",children:[(0,ue.jsx)(A,{className:`w-4 h-4 ${D.color}`}),(0,ue.jsx)("span",{className:D.color,children:D.name})]}),(0,ue.jsxs)("button",{ref:E.date,onClick:()=>F(ie=>ie==="date"?null:"date"),className:"flex items-center gap-2 text-sm text-gray-600 hover:bg-gray-100 rounded px-2 py-1",children:[(0,ue.jsx)(vt,{className:"w-4 h-4"}),(0,ue.jsx)("span",{children:e.targetEndDate?`Target: ${new Date(e.targetEndDate).toLocaleDateString()}`:"Set Target Date"})]})]})]})]}),(0,ue.jsx)("button",{ref:E.more,onClick:()=>F(ie=>ie==="more"?null:"more"),className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500 hover:text-gray-800",children:(0,ue.jsx)(wr,{className:"w-5 h-5"})})]}),(0,ue.jsxs)("div",{className:"flex-1 overflow-y-auto pr-2 -mr-2",children:[(0,ue.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[n&&(0,ue.jsxs)("div",{children:[(0,ue.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Part of Goal"}),(0,ue.jsxs)("div",{className:"flex items-center gap-2 mt-1 p-2 bg-gray-100 rounded-md border",children:[(0,ue.jsx)(V,{className:"w-5 h-5 text-indigo-500"}),(0,ue.jsx)("span",{className:"font-semibold text-gray-700",children:n.title})]})]}),q&&$&&(0,ue.jsxs)("div",{children:[(0,ue.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Focus Area"}),(0,ue.jsxs)("div",{className:"flex items-center gap-2 mt-1 p-2 bg-gray-100 rounded-md border",children:[(0,ue.jsx)($,{className:`w-5 h-5 text-${q.color}`}),(0,ue.jsx)("span",{className:"font-semibold text-gray-700",children:q.name})]})]})]}),(0,ue.jsxs)("div",{className:"mb-8",children:[(0,ue.jsx)("h3",{className:"font-semibold text-gray-600 text-sm uppercase tracking-wider mb-2",children:"Description"}),g?(0,ue.jsx)("textarea",{value:I,onChange:ie=>k(ie.target.value),onBlur:()=>T({description:I}),autoFocus:!0,rows:4,className:"prose max-w-none w-full bg-gray-100 rounded p-2"}):(0,ue.jsx)("div",{onClick:()=>b(!0),className:"prose max-w-none text-gray-700 cursor-text p-2 -m-2 rounded hover:bg-gray-50",children:e.description||(0,ue.jsx)("span",{className:"italic text-gray-400",children:"No description. Click to add."})})]}),(0,ue.jsxs)("div",{className:"mb-8",children:[(0,ue.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,ue.jsx)("h3",{className:"font-semibold text-gray-600 text-sm uppercase tracking-wider",children:"Linked Habits"}),(0,ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ue.jsxs)("button",{onClick:()=>l(e.id),className:"flex items-center gap-1.5 px-3 py-1 text-xs font-semibold text-blue-700 bg-blue-100 rounded-md hover:bg-blue-200 transition-colors",children:[(0,ue.jsx)(Vt,{className:"w-3.5 h-3.5"})," Add New"]}),(0,ue.jsxs)("button",{onClick:()=>c(e.id),className:"flex items-center gap-1.5 px-3 py-1 text-xs font-semibold text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:[(0,ue.jsx)(Go,{className:"w-3.5 h-3.5"})," Link Existing"]})]})]}),(0,ue.jsx)("div",{className:"space-y-3",children:r.length>0?r.map(ie=>(0,ue.jsx)(sme,{habit:ie},ie.id)):(0,ue.jsxs)("div",{className:"text-center py-6 border-2 border-dashed rounded-lg text-gray-500",children:[(0,ue.jsx)(Lt,{className:"w-8 h-8 mx-auto text-gray-300 mb-2"}),(0,ue.jsx)("p",{className:"font-semibold",children:"No habits linked yet."}),(0,ue.jsx)("p",{className:"text-sm",children:"Add or link habits to make progress on this milestone."})]})})]}),(0,ue.jsxs)("div",{children:[(0,ue.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ue.jsx)("h3",{className:"font-semibold text-gray-600 text-sm uppercase tracking-wider",children:"Journal"}),(0,ue.jsxs)("button",{onClick:()=>d(e),className:"px-3 py-1 text-xs font-semibold text-green-700 bg-green-100 rounded-md hover:bg-green-200 transition-colors flex items-center gap-1.5",children:[(0,ue.jsx)(Ln,{className:"w-3.5 h-3.5"}),"Add to Journal"]})]}),(0,ue.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3 border",children:x.length>0?(0,ue.jsx)("ul",{className:"space-y-2",children:x.map(ie=>(0,ue.jsx)(Ku,{log:ie},ie.id))}):(0,ue.jsx)("p",{className:"text-sm text-gray-500 text-center py-2",children:"No journal entries for this milestone yet."})})]})]}),he()]})},x7=ime});var Dp,ome,ame,S7,N7=G(()=>{"use strict";Dp=L(H(),1),ome=["gray-500","red-500","orange-500","yellow-500","green-500","teal-500","blue-500","indigo-500","purple-500","pink-500"],ame=({selectedColor:t,onSelectColor:e})=>(0,Dp.jsxs)("div",{children:[(0,Dp.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),(0,Dp.jsx)("div",{className:"flex flex-wrap gap-2",children:ome.map(n=>(0,Dp.jsx)("button",{type:"button",onClick:()=>e(n),className:`w-8 h-8 rounded-full bg-${n} transition-transform transform hover:scale-110 ${t===n?"ring-2 ring-offset-2 ring-blue-500":""}`,"aria-label":`Select ${n} color`},n))})]}),S7=ame});var qh,lme,cme,pE,fO=G(()=>{"use strict";Ve();qh=L(H(),1),lme=["TargetIcon","BookOpenIcon","HeartIcon","StarIcon","FlagIcon","SunriseIcon","CheckSquareIcon","RepeatIcon","SmileIcon","BuildingIcon","CalendarIcon","ListIcon"],cme=({selectedIcon:t,onSelectIcon:e})=>(0,qh.jsxs)("div",{children:[(0,qh.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon"}),(0,qh.jsx)("div",{className:"grid grid-cols-6 gap-2",children:lme.map(n=>{let r=Z[n];return(0,qh.jsx)("button",{type:"button",onClick:()=>e(n),className:`p-2 rounded-md flex items-center justify-center transition-colors ${t===n?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,"aria-label":`Select ${n} icon`,children:(0,qh.jsx)(r,{className:"w-5 h-5"})},n)})})]}),pE=cme});var Er,le,ume,gE,k7,A7=G(()=>{"use strict";Er=L(ge(),1);_s();Ve();N7();fO();le=L(H(),1),ume=["S","M","T","W","T","F","S"],gE=({type:t,label:e,isActive:n,onClick:r,children:s})=>(0,le.jsxs)("div",{className:`p-3 rounded-lg border-2 transition-all cursor-pointer ${n?"border-blue-500 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:r,children:[(0,le.jsxs)("div",{className:"flex items-center",children:[(0,le.jsx)("div",{className:"w-5 h-5 flex-shrink-0 rounded-full border-2 border-gray-300 flex items-center justify-center mr-3",children:n&&(0,le.jsx)("div",{className:"w-2.5 h-2.5 bg-blue-600 rounded-full"})}),(0,le.jsx)("label",{htmlFor:`freq-${t}`,className:"block text-sm font-medium text-gray-900 cursor-pointer",children:e})]}),n&&s&&(0,le.jsx)("div",{className:"mt-4 pl-8",children:s})]}),k7=({onSave:t,onClose:e,onDelete:n,initialHabit:r,goalId:s,milestoneId:i,allFoci:o})=>{let[a,l]=(0,Er.useState)(""),[c,d]=(0,Er.useState)(""),[h,f]=(0,Er.useState)("TargetIcon"),[m,y]=(0,Er.useState)("blue-500"),[w,v]=(0,Er.useState)("binary"),[g,b]=(0,Er.useState)({type:"daily"}),[I,k]=(0,Er.useState)(void 0),[R,F]=(0,Er.useState)("at_least"),[S,E]=(0,Er.useState)(void 0),[x,T]=(0,Er.useState)("at_least"),[N,D]=(0,Er.useState)([]),[A,V]=(0,Er.useState)(""),[q,$]=(0,Er.useState)(new Date().toISOString().split("T")[0]),[he,ie]=(0,Er.useState)(""),[Se,Le]=(0,Er.useState)([]),[Pe,Y]=(0,Er.useState)(""),[P,ee]=(0,Er.useState)("");(0,Er.useEffect)(()=>{r?(l(r.title),d(r.description||""),f(r.icon),y(r.color),v(r.type),b(r.frequency),k(r.dailyTarget),F(r.dailyTargetComparison||"at_least"),E(r.totalTarget),T(r.totalTargetComparison||"at_least"),D(r.checklist||[]),$(new Date(r.startDate).toISOString().split("T")[0]),ie(r.endDate?new Date(r.endDate).toISOString().split("T")[0]:""),Le(r.reminders||[]),ee(r.focusAreaId||"")):($(new Date().toISOString().split("T")[0]),o.length>0&&!P&&ee(o[0].id))},[r,o]),(0,Er.useEffect)(()=>{!r&&o.length>0&&!P&&ee(o[0].id)},[o,P,r]);let W=de=>{de==="daily"?b({type:"daily"}):de==="weekly"?b({type:"weekly",times:3}):de==="monthly"?b({type:"monthly",times:1}):de==="specific_days"&&b({type:"specific_days",days:[]})},U=de=>{if(g.type==="specific_days"){let Ie=new Set(g.days);Ie.has(de)?Ie.delete(de):Ie.add(de),b({...g,days:Array.from(Ie).sort()})}},te=()=>{Pe&&!Se.includes(Pe)&&(Le([...Se,Pe].sort()),Y(""))},_e=de=>{Le(Se.filter(Ie=>Ie!==de))},Ke=de=>{de.key==="Enter"&&A.trim()&&(de.preventDefault(),D([...N,{id:crypto.randomUUID(),text:A.trim()}]),V(""))},Ft=de=>{D(N.filter(Ie=>Ie.id!==de))},En=de=>{if(de.preventDefault(),!a.trim())return;let Ie;w==="checklist"&&(Ie=A.trim()?[...N,{id:crypto.randomUUID(),text:A.trim()}]:N);let ir={title:a.trim(),description:c,icon:h,color:m,type:w,frequency:g,...I!==void 0&&{dailyTarget:I},...R!==void 0&&{dailyTargetComparison:R},...S!==void 0&&{totalTarget:S},...x!==void 0&&{totalTargetComparison:x},checklist:Ie,goalId:s||void 0,milestoneId:i||void 0,startDate:new Date(q),endDate:he?new Date(he):void 0,reminders:Se,focusAreaId:P||void 0};t(ir,r?.id)},fn=()=>{r&&window.confirm(`Are you sure you want to delete the habit "${r.title}"?`)&&n(r.id)};return(0,le.jsxs)("form",{onSubmit:En,className:"space-y-6",children:[(0,le.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[(0,le.jsxs)("div",{className:"space-y-6",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{htmlFor:"habit-title",className:"block text-sm font-medium text-gray-700",children:"Habit Name"}),(0,le.jsx)("input",{type:"text",id:"habit-title",value:a,onChange:de=>l(de.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900"})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{htmlFor:"habit-description",className:"block text-sm font-medium text-gray-700",children:"Description (Optional)"}),(0,le.jsx)("textarea",{id:"habit-description",value:c,onChange:de=>d(de.target.value),rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900"})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),(0,le.jsx)("div",{className:"mt-2 grid grid-cols-2 gap-2",children:Object.values(ll).map(de=>(0,le.jsx)("button",{type:"button",onClick:()=>v(de),className:`px-3 py-2 text-sm font-medium rounded-md ${w===de?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:de.charAt(0).toUpperCase()+de.slice(1)},de))})]})]}),(0,le.jsxs)("div",{className:"space-y-6",children:[(0,le.jsx)(pE,{selectedIcon:h,onSelectIcon:f}),(0,le.jsx)(S7,{selectedColor:m,onSelectColor:y}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{htmlFor:"habit-focus",className:"block text-sm font-medium text-gray-700",children:"Focus Area"}),(0,le.jsx)("select",{id:"habit-focus",value:P,onChange:de=>ee(de.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:o.length>0?o.map(de=>(0,le.jsx)("option",{value:de.id,children:de.name},de.id)):(0,le.jsx)("option",{value:"",children:"Loading Focus Areas..."})})]})]})]}),(0,le.jsxs)(le.Fragment,{children:[(w==="count"||w==="duration")&&(0,le.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Daily Goal (Optional)"}),(0,le.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,le.jsxs)("select",{value:R,onChange:de=>F(de.target.value),className:"px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm text-sm",children:[(0,le.jsx)("option",{value:"at_least",children:"At least"}),(0,le.jsx)("option",{value:"exactly",children:"Exactly"}),(0,le.jsx)("option",{value:"less_than",children:"Less than"})]}),(0,le.jsx)("input",{type:"number",value:I||"",onChange:de=>k(parseInt(de.target.value)||void 0),min:"1",className:"w-24 px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-gray-900",placeholder:"e.g., 30"}),(0,le.jsxs)("span",{children:[w==="duration"?"minutes":"times"," per day"]})]})]}),(0,le.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Goal (Optional)"}),(0,le.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,le.jsxs)("select",{value:x,onChange:de=>T(de.target.value),className:"px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm text-sm",children:[(0,le.jsx)("option",{value:"at_least",children:"At least"}),(0,le.jsx)("option",{value:"exactly",children:"Exactly"}),(0,le.jsx)("option",{value:"less_than",children:"Less than"})]}),(0,le.jsx)("input",{type:"number",value:S||"",onChange:de=>E(parseInt(de.target.value)||void 0),min:"1",className:"w-24 px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-gray-900",placeholder:"e.g., 300"}),(0,le.jsxs)("span",{children:[w==="duration"?"minutes":"times"," in total"]})]})]})]}),w==="checklist"&&(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Checklist Items"}),(0,le.jsxs)("div",{className:"mt-2 space-y-2",children:[N.map((de,Ie)=>(0,le.jsxs)("div",{className:"flex items-center gap-2",children:[(0,le.jsx)("span",{className:"flex-1 p-2 bg-gray-100 rounded-md text-sm",children:de.text}),(0,le.jsx)("button",{type:"button",onClick:()=>Ft(de.id),className:"p-1 text-red-500 hover:bg-red-100 rounded-full",children:(0,le.jsx)(ei,{className:"w-4 h-4"})})]},de.id)),(0,le.jsx)("input",{type:"text",value:A,onChange:de=>V(de.target.value),onKeyDown:Ke,placeholder:"Add an item and press Enter...",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-gray-900"})]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequency"}),(0,le.jsxs)("div",{className:"space-y-3",children:[(0,le.jsx)(gE,{type:"daily",label:"Daily",isActive:g.type==="daily",onClick:()=>W("daily")}),(0,le.jsx)(gE,{type:"specific_days",label:"Specific days of the week",isActive:g.type==="specific_days",onClick:()=>W("specific_days"),children:(0,le.jsx)("div",{className:"flex justify-between",children:ume.map((de,Ie)=>(0,le.jsx)("button",{type:"button",onClick:()=>U(Ie),className:`w-9 h-9 font-semibold rounded-full transition-colors ${g.type==="specific_days"&&g.days.includes(Ie)?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:de},Ie))})}),(0,le.jsx)(gE,{type:"weekly",label:"Times per week",isActive:g.type==="weekly",onClick:()=>W("weekly"),children:g.type==="weekly"&&(0,le.jsx)("input",{type:"number",min:"1",max:"7",value:g.times,onChange:de=>b({type:"weekly",times:parseInt(de.target.value)||1}),className:"w-20 px-3 py-1 border border-gray-300 rounded-md bg-white text-gray-900"})}),(0,le.jsx)(gE,{type:"monthly",label:"Times per month",isActive:g.type==="monthly",onClick:()=>W("monthly"),children:g.type==="monthly"&&(0,le.jsx)("input",{type:"number",min:"1",max:"31",value:g.times,onChange:de=>b({type:"monthly",times:parseInt(de.target.value)||1}),className:"w-20 px-3 py-1 border border-gray-300 rounded-md bg-white text-gray-900"})})]})]}),(0,le.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{htmlFor:"start-date",className:"block text-sm font-medium text-gray-700",children:"Start Date"}),(0,le.jsx)("input",{type:"date",id:"start-date",value:q,onChange:de=>$(de.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-gray-900"})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{htmlFor:"end-date",className:"block text-sm font-medium text-gray-700",children:"End Date (Optional)"}),(0,le.jsx)("input",{type:"date",id:"end-date",value:he,onChange:de=>ie(de.target.value),min:q,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-gray-900"})]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Reminders"}),(0,le.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,le.jsx)("input",{type:"time",value:Pe,onChange:de=>Y(de.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-gray-900"}),(0,le.jsx)("button",{type:"button",onClick:te,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Add"})]}),(0,le.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:Se.map(de=>(0,le.jsxs)("span",{className:"flex items-center gap-2 px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:[de,(0,le.jsx)("button",{type:"button",onClick:()=>_e(de),className:"text-blue-600 hover:text-blue-800",children:"\xD7"})]},de))})]}),(0,le.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t",children:[(0,le.jsx)("div",{children:r&&(0,le.jsx)("button",{type:"button",onClick:fn,className:"px-4 py-2 text-sm font-medium text-red-600 rounded-md hover:bg-red-50",children:"Delete"})}),(0,le.jsxs)("div",{className:"flex gap-2",children:[(0,le.jsx)("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,le.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700",children:r?"Save Changes":"Create Habit"})]})]})]})}});var mO,dme,D7,C7=G(()=>{"use strict";Yi();A7();mO=L(H(),1),dme=({isOpen:t,onClose:e,onSave:n,onDelete:r,initialHabit:s,goalId:i,milestoneId:o,allFoci:a})=>t?(0,mO.jsx)(jn,{title:s?"Edit Habit":"Create New Habit",onClose:e,children:(0,mO.jsx)(k7,{onSave:n,onClose:e,onDelete:r,initialHabit:s,goalId:i,milestoneId:o,allFoci:a})}):null,D7=dme});var Yu,sr,hme,R7,L7=G(()=>{"use strict";Yu=L(ge(),1);fO();sr=L(H(),1),hme=({onSave:t,onDelete:e,initialGoal:n,allFoci:r})=>{let[s,i]=(0,Yu.useState)(""),[o,a]=(0,Yu.useState)(""),[l,c]=(0,Yu.useState)(""),[d,h]=(0,Yu.useState)("TargetIcon"),[f,m]=(0,Yu.useState)("");(0,Yu.useEffect)(()=>{n?(i(n.title),a(n.description||""),h(n.icon),c(n.targetEndDate?new Date(n.targetEndDate).toISOString().split("T")[0]:""),m(n.focusAreaId||"")):(i(""),a(""),h("TargetIcon"),c(""),r.length>0&&m(r[0].id))},[n,r]);let y=v=>{v.preventDefault(),t({title:s,description:o,icon:d,targetEndDate:l?new Date(l):void 0,focusAreaId:f||void 0},n?.id)},w=()=>{n&&window.confirm(`Are you sure you want to delete the goal "${n.title}"? This will also delete all associated milestones.`)&&e(n.id)};return(0,sr.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,sr.jsxs)("div",{children:[(0,sr.jsx)("label",{htmlFor:"goal-title",className:"label",children:"Goal Title"}),(0,sr.jsx)("input",{id:"goal-title",type:"text",value:s,onChange:v=>i(v.target.value),required:!0,className:"input"})]}),(0,sr.jsxs)("div",{children:[(0,sr.jsx)("label",{htmlFor:"goal-desc",className:"label",children:"Description"}),(0,sr.jsx)("textarea",{id:"goal-desc",value:o,onChange:v=>a(v.target.value),className:"textarea",rows:3})]}),(0,sr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,sr.jsxs)("div",{children:[(0,sr.jsx)("label",{htmlFor:"goal-date",className:"label",children:"Target End Date (Optional)"}),(0,sr.jsx)("input",{id:"goal-date",type:"date",value:l,onChange:v=>c(v.target.value),className:"input"})]}),(0,sr.jsxs)("div",{children:[(0,sr.jsx)("label",{htmlFor:"goal-focus",className:"label",children:"Focus Area"}),(0,sr.jsx)("select",{id:"goal-focus",value:f,onChange:v=>m(v.target.value),className:"input",children:r.map(v=>(0,sr.jsx)("option",{value:v.id,children:v.name},v.id))})]})]}),(0,sr.jsx)(pE,{selectedIcon:d,onSelectIcon:h}),(0,sr.jsxs)("div",{className:"flex justify-between items-center pt-4",children:[(0,sr.jsx)("div",{children:n&&(0,sr.jsx)("button",{type:"button",onClick:w,className:"px-4 py-2 text-sm font-medium text-red-600 rounded-md hover:bg-red-50",children:"Delete"})}),(0,sr.jsx)("button",{type:"submit",className:"btn-primary",children:n?"Save Changes":"Create Goal"})]}),(0,sr.jsx)("style",{children:`
            .label { display: block; margin-bottom: 0.5rem; font-size: 0.875rem; font-weight: 500; color: #4a5568; }
            .input, .textarea { display: block; width: 100%; padding: 0.5rem 0.75rem; border: 1px solid #e2e8f0; border-radius: 0.375rem; background-color: white; color: #1a202c; outline: none; transition: box-shadow 0.2s; }
            .input:focus, .textarea:focus { box-shadow: 0 0 0 2px #63b3ed; border-color: #4299e1; }
            select.input {
                -webkit-appearance: none;
                -moz-appearance: none;
                appearance: none;
                background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22%23a0aec0%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20d%3D%22M5.293%207.293a1%201%200%20011.414%200L10%2010.586l3.293-3.293a1%201%200%20111.414%201.414l-4%204a1%201%200%2001-1.414%200l-4-4a1%201%200%20010-1.414z%22%20clip-rule%3D%22evenodd%22%20%2F%3E%3C%2Fsvg%3E');
                background-repeat: no-repeat;
                background-position: right 0.75rem center;
                background-size: 1.25em 1.25em;
                padding-right: 2.5rem;
            }
            .btn-primary { padding: 0.5rem 1rem; font-weight: 600; border-radius: 0.375rem; background-color: #4299e1; color: white; transition: background-color 0.2s; }
            .btn-primary:hover { background-color: #3182ce; }
            `})]})},R7=hme});var pO,fme,P7,O7=G(()=>{"use strict";Yi();L7();pO=L(H(),1),fme=({isOpen:t,onClose:e,onSave:n,onDelete:r,initialGoal:s,allFoci:i})=>t?(0,pO.jsx)(jn,{title:s?"Edit Goal":"Create New Goal",onClose:e,children:(0,pO.jsx)(R7,{onSave:n,onDelete:r,initialGoal:s,allFoci:i})}):null,P7=fme});var Sc,rn,mme,M7,F7=G(()=>{"use strict";Sc=L(ge(),1),rn=L(H(),1),mme=({onSave:t,onDelete:e,goals:n,initialGoalId:r,allFoci:s,initialMilestone:i})=>{let[o,a]=(0,Sc.useState)(""),[l,c]=(0,Sc.useState)(""),[d,h]=(0,Sc.useState)(""),[f,m]=(0,Sc.useState)(new Date().toISOString().split("T")[0]),[y,w]=(0,Sc.useState)(""),[v,g]=(0,Sc.useState)("");(0,Sc.useEffect)(()=>{i?(a(i.title),c(i.description||""),h(i.parentGoalId),m(new Date(i.startDate).toISOString().split("T")[0]),w(i.targetEndDate?new Date(i.targetEndDate).toISOString().split("T")[0]:""),g(i.focusAreaId||"")):(h(r||n[0]?.id||""),s.length>0&&!v&&g(s[0].id))},[i,r,n,s]);let b=k=>{if(k.preventDefault(),!d){alert("Please select a parent goal.");return}t({title:o,description:l,parentGoalId:d,startDate:new Date(f),targetEndDate:y?new Date(y):void 0,focusAreaId:v||void 0},i?.id)},I=()=>{i&&window.confirm(`Are you sure you want to delete the milestone "${i.title}"?`)&&e(i.id)};return(0,rn.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,rn.jsxs)("div",{children:[(0,rn.jsx)("label",{htmlFor:"milestone-goal",className:"label",children:"Parent Goal"}),(0,rn.jsx)("select",{id:"milestone-goal",value:d,onChange:k=>h(k.target.value),required:!0,className:"input",children:n.length>0?n.map(k=>(0,rn.jsx)("option",{value:k.id,children:k.title},k.id)):(0,rn.jsx)("option",{value:"",disabled:!0,children:"Please create a goal first"})})]}),(0,rn.jsxs)("div",{children:[(0,rn.jsx)("label",{htmlFor:"milestone-title",className:"label",children:"Milestone Title"}),(0,rn.jsx)("input",{id:"milestone-title",type:"text",value:o,onChange:k=>a(k.target.value),required:!0,className:"input"})]}),(0,rn.jsxs)("div",{children:[(0,rn.jsx)("label",{htmlFor:"milestone-focus",className:"label",children:"Focus Area"}),(0,rn.jsx)("select",{id:"milestone-focus",value:v,onChange:k=>g(k.target.value),required:!0,className:"input",children:s.map(k=>(0,rn.jsx)("option",{value:k.id,children:k.name},k.id))})]}),(0,rn.jsxs)("div",{children:[(0,rn.jsx)("label",{htmlFor:"milestone-desc",className:"label",children:"Description"}),(0,rn.jsx)("textarea",{id:"milestone-desc",value:l,onChange:k=>c(k.target.value),className:"textarea",rows:3})]}),(0,rn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,rn.jsxs)("div",{children:[(0,rn.jsx)("label",{htmlFor:"milestone-start-date",className:"label",children:"Start Date"}),(0,rn.jsx)("input",{id:"milestone-start-date",type:"date",value:f,onChange:k=>m(k.target.value),required:!0,className:"input"})]}),(0,rn.jsxs)("div",{children:[(0,rn.jsx)("label",{htmlFor:"milestone-end-date",className:"label",children:"Target End Date (Optional)"}),(0,rn.jsx)("input",{id:"milestone-end-date",type:"date",value:y,onChange:k=>w(k.target.value),className:"input"})]})]}),(0,rn.jsxs)("div",{className:"flex justify-between items-center pt-4",children:[(0,rn.jsx)("div",{children:i&&(0,rn.jsx)("button",{type:"button",onClick:I,className:"px-4 py-2 text-sm font-medium text-red-600 rounded-md hover:bg-red-50",children:"Delete"})}),(0,rn.jsx)("button",{type:"submit",className:"btn-primary",children:i?"Save Changes":"Create Milestone"})]}),(0,rn.jsx)("style",{children:`
            .label { display: block; margin-bottom: 0.5rem; font-size: 0.875rem; font-weight: 500; color: #4a5568; }
            .input, .textarea { display: block; width: 100%; padding: 0.5rem 0.75rem; border: 1px solid #e2e8f0; border-radius: 0.375rem; background-color: white; color: #1a202c; outline: none; transition: box-shadow 0.2s; }
            select.input { 
                -webkit-appearance: none; 
                -moz-appearance: none; 
                appearance: none; 
                background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22%23a0aec0%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20d%3D%22M5.293%207.293a1%201%200%20011.414%200L10%2010.586l3.293-3.293a1%201%200%20111.414%201.414l-4%204a1%201%200%2001-1.414%200l-4-4a1%201%200%20010-1.414z%22%20clip-rule%3D%22evenodd%22%20%2F%3E%3C%2Fsvg%3E'); 
                background-repeat: no-repeat; 
                background-position: right 0.75rem center; 
                background-size: 1.25em 1.25em; 
                padding-right: 2.5rem; 
            }
            .input:disabled { background-color: #f7fafc; cursor: not-allowed; }
            .input:focus, .textarea:focus { box-shadow: 0 0 0 2px #63b3ed; border-color: #4299e1; }
            .btn-primary { padding: 0.5rem 1rem; font-weight: 600; border-radius: 0.375rem; background-color: #4299e1; color: white; transition: background-color 0.2s; }
            .btn-primary:hover { background-color: #3182ce; }
            `})]})},M7=mme});var gO,pme,U7,V7=G(()=>{"use strict";Yi();F7();gO=L(H(),1),pme=({isOpen:t,onClose:e,onSave:n,onDelete:r,goals:s,initialGoalId:i,allFoci:o,initialMilestone:a})=>t?(0,gO.jsx)(jn,{title:a?"Edit Milestone":"Create New Milestone",onClose:e,children:(0,gO.jsx)(M7,{onSave:n,onDelete:r,goals:s,initialGoalId:i,allFoci:o,initialMilestone:a})}):null,U7=pme});var yO,Mo,gme,H7,B7=G(()=>{"use strict";yO=L(ge(),1),Mo=L(H(),1),gme=({onSave:t})=>{let[e,n]=(0,yO.useState)(""),[r,s]=(0,yO.useState)("");return(0,Mo.jsxs)("form",{onSubmit:o=>{o.preventDefault(),t({title:e,dueDate:r?new Date(r):void 0})},className:"space-y-4",children:[(0,Mo.jsxs)("div",{children:[(0,Mo.jsx)("label",{htmlFor:"qw-title",className:"label",children:"Title"}),(0,Mo.jsx)("input",{id:"qw-title",type:"text",value:e,onChange:o=>n(o.target.value),required:!0,className:"input",placeholder:"e.g., Reply to Sarah's email"})]}),(0,Mo.jsxs)("div",{children:[(0,Mo.jsx)("label",{htmlFor:"qw-date",className:"label",children:"Due Date (Optional)"}),(0,Mo.jsx)("input",{id:"qw-date",type:"date",value:r,onChange:o=>s(o.target.value),className:"input"})]}),(0,Mo.jsx)("div",{className:"flex justify-end pt-4",children:(0,Mo.jsx)("button",{type:"submit",className:"btn-primary",children:"Add Quick Win"})}),(0,Mo.jsx)("style",{children:`
            .label { display: block; margin-bottom: 0.5rem; font-size: 0.875rem; font-weight: 500; color: #4a5568; }
            .input { display: block; width: 100%; padding: 0.5rem 0.75rem; border: 1px solid #e2e8f0; border-radius: 0.375rem; background-color: white; color: #1a202c; outline: none; transition: box-shadow 0.2s; }
            .input:focus { box-shadow: 0 0 0 2px #63b3ed; border-color: #4299e1; }
            .btn-primary { padding: 0.5rem 1rem; font-weight: 600; border-radius: 0.375rem; background-color: #4299e1; color: white; transition: background-color 0.2s; }
            .btn-primary:hover { background-color: #3182ce; }
            `})]})},H7=gme});var vO,yme,q7,z7=G(()=>{"use strict";Yi();B7();vO=L(H(),1),yme=({isOpen:t,onClose:e,onSave:n})=>t?(0,vO.jsx)(jn,{title:"Add a Quick Win",onClose:e,children:(0,vO.jsx)(H7,{onSave:n})}):null,q7=yme});var Cp,Rt,vme,bme,wme,bO,j7=G(()=>{"use strict";Cp=L(ge(),1);_s();Ve();Rt=L(H(),1),vme=t=>{switch(t){case"Completed":return"bg-green-100 text-green-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Abandoned":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},bme=({goal:t,isSelected:e,onSelect:n,onEdit:r})=>{let s=Z[t.icon];return(0,Rt.jsxs)("li",{onClick:n,className:`p-4 rounded-lg shadow-sm border flex items-start gap-4 cursor-pointer transition-all duration-150 group ${e?"ring-2 ring-blue-500 shadow-md bg-white":"bg-white hover:shadow-md hover:border-gray-300"}`,children:[(0,Rt.jsx)(s,{className:"w-8 h-8 text-gray-500 mt-1 flex-shrink-0"}),(0,Rt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Rt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Rt.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:t.title}),(0,Rt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Rt.jsx)("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${vme(t.status)}`,children:t.status}),(0,Rt.jsx)("button",{onClick:i=>{i.stopPropagation(),r()},className:"p-1 rounded-full text-gray-400 opacity-0 group-hover:opacity-100 hover:bg-gray-200 transition-opacity","aria-label":`Edit ${t.title}`,children:(0,Rt.jsx)(yn,{className:"w-4 h-4"})})]})]}),(0,Rt.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:t.description}),t.targetEndDate&&(0,Rt.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Target: ",new Date(t.targetEndDate).toLocaleDateString()]})]})]})},wme=({goals:t,selectedGoalId:e,onSelectGoal:n,activeFilter:r,onSetFilter:s,onAddGoalClick:i,onEditGoal:o})=>{let[a,l]=(0,Cp.useState)(!1),c=(0,Cp.useRef)(null);(0,Cp.useEffect)(()=>{let m=y=>{c.current&&!c.current.contains(y.target)&&l(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);let d=[{label:"All",filter:"All"},{label:"In Progress",filter:"In Progress"},{label:"Not Started",filter:"Not Started"}],h=[{label:"Completed",filter:"Completed"},{label:"Abandoned",filter:"Abandoned"}],f=m=>{s(m),l(!1)};return(0,Rt.jsxs)("div",{className:"w-full h-full p-4 overflow-y-auto bg-gray-50/80 flex flex-col",children:[(0,Rt.jsxs)("header",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[(0,Rt.jsx)("h1",{className:"text-xl font-semibold text-gray-800",children:"Goals"}),(0,Rt.jsxs)("button",{onClick:i,className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 text-white text-sm font-semibold rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[(0,Rt.jsx)(Vt,{className:"w-4 h-4"}),(0,Rt.jsx)("span",{children:"New Goal"})]})]}),(0,Rt.jsxs)("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[(0,Rt.jsx)("div",{className:"flex items-center gap-1 border border-gray-200 rounded-lg p-1 bg-white shadow-sm",children:d.map(m=>(0,Rt.jsx)("button",{onClick:()=>f(m.filter),className:`px-3 py-1 text-sm font-semibold rounded-md transition-colors ${r===m.filter?"bg-blue-600 text-white shadow":"text-gray-600 hover:bg-gray-200"}`,children:m.label},m.filter))}),(0,Rt.jsxs)("div",{className:"relative",ref:c,children:[(0,Rt.jsx)("button",{onClick:()=>l(m=>!m),className:"p-2 rounded-lg hover:bg-gray-200",children:(0,Rt.jsx)(wr,{className:"w-5 h-5 text-gray-600"})}),a&&(0,Rt.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border z-10",children:(0,Rt.jsx)("ul",{className:"py-1",children:h.map(m=>(0,Rt.jsx)("li",{children:(0,Rt.jsx)("button",{onClick:()=>f(m.filter),className:`w-full text-left px-4 py-2 text-sm ${r===m.filter?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:m.label})},m.filter))})})]})]}),(0,Rt.jsx)("div",{className:"flex-1 overflow-y-auto",children:t.length>0?(0,Rt.jsx)("ul",{className:"space-y-3",children:t.map(m=>(0,Rt.jsx)(bme,{goal:m,isSelected:m.id===e,onSelect:()=>n(m.id),onEdit:()=>o(m)},m.id))}):(0,Rt.jsxs)("div",{className:"text-center py-10 text-gray-500",children:[(0,Rt.jsx)(Xe,{className:"w-12 h-12 mx-auto text-gray-300"}),(0,Rt.jsx)("p",{className:"mt-4 font-semibold",children:"No goals in this view."}),(0,Rt.jsx)("p",{className:"text-sm",children:"Try another filter or add a new goal."})]})})]})},bO=wme});var Rp,Ot,_me,Tme,Ime,wO,G7=G(()=>{"use strict";Rp=L(ge(),1);_s();Ve();Ot=L(H(),1),_me=t=>{switch(t){case"Completed":return"bg-green-100 text-green-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Abandoned":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Tme=({milestone:t,parentGoal:e,isSelected:n,onSelect:r,onEdit:s})=>{let i=e?Z[e.icon]:Xe;return(0,Ot.jsxs)("li",{onClick:r,className:`p-4 rounded-lg shadow-sm border flex flex-col gap-2 cursor-pointer transition-all duration-150 group ${n?"ring-2 ring-blue-500 shadow-md bg-white":"bg-white hover:shadow-md hover:border-gray-300"}`,children:[(0,Ot.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Ot.jsx)("h3",{className:"text-md font-bold text-gray-900 flex-1 pr-2",children:t.title}),(0,Ot.jsx)("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${_me(t.status)} flex-shrink-0`,children:t.status})]}),(0,Ot.jsxs)("div",{className:"flex justify-between items-center",children:[e&&(0,Ot.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[(0,Ot.jsx)(i,{className:"w-4 h-4 text-indigo-500"}),(0,Ot.jsx)("span",{className:"font-medium",children:e.title})]}),(0,Ot.jsx)("button",{onClick:o=>{o.stopPropagation(),s()},className:"p-1 rounded-full text-gray-400 opacity-0 group-hover:opacity-100 hover:bg-gray-200 transition-opacity","aria-label":`Edit ${t.title}`,children:(0,Ot.jsx)(yn,{className:"w-4 h-4"})})]})]})},Ime=({milestones:t,goals:e,selectedMilestoneId:n,onSelectMilestone:r,activeFilter:s,onSetFilter:i,onAddMilestoneClick:o,onEditMilestone:a})=>{let[l,c]=(0,Rp.useState)(!1),d=(0,Rp.useRef)(null);(0,Rp.useEffect)(()=>{let y=w=>{d.current&&!d.current.contains(w.target)&&c(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);let h=[{label:"All",filter:"All"},{label:"In Progress",filter:"In Progress"},{label:"Not Started",filter:"Not Started"}],f=[{label:"Completed",filter:"Completed"},{label:"Abandoned",filter:"Abandoned"}],m=y=>{i(y),c(!1)};return(0,Ot.jsxs)("div",{className:"w-full h-full p-4 overflow-y-auto bg-gray-50/80 flex flex-col",children:[(0,Ot.jsxs)("header",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[(0,Ot.jsx)("h1",{className:"text-xl font-semibold text-gray-800",children:"Milestones"}),(0,Ot.jsxs)("button",{onClick:o,className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 text-white text-sm font-semibold rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[(0,Ot.jsx)(Vt,{className:"w-4 h-4"}),(0,Ot.jsx)("span",{children:"New Milestone"})]})]}),(0,Ot.jsxs)("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[(0,Ot.jsx)("div",{className:"flex items-center gap-1 border border-gray-200 rounded-lg p-1 bg-white shadow-sm",children:h.map(y=>(0,Ot.jsx)("button",{onClick:()=>m(y.filter),className:`px-3 py-1 text-sm font-semibold rounded-md transition-colors ${s===y.filter?"bg-blue-600 text-white shadow":"text-gray-600 hover:bg-gray-200"}`,children:y.label},y.filter))}),(0,Ot.jsxs)("div",{className:"relative",ref:d,children:[(0,Ot.jsx)("button",{onClick:()=>c(y=>!y),className:"p-2 rounded-lg hover:bg-gray-200",children:(0,Ot.jsx)(wr,{className:"w-5 h-5 text-gray-600"})}),l&&(0,Ot.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border z-10",children:(0,Ot.jsx)("ul",{className:"py-1",children:f.map(y=>(0,Ot.jsx)("li",{children:(0,Ot.jsx)("button",{onClick:()=>m(y.filter),className:`w-full text-left px-4 py-2 text-sm ${s===y.filter?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:y.label})},y.filter))})})]})]}),(0,Ot.jsx)("div",{className:"flex-1 overflow-y-auto",children:t.length>0?(0,Ot.jsx)("ul",{className:"space-y-3",children:t.map(y=>(0,Ot.jsx)(Tme,{milestone:y,parentGoal:e.find(w=>w.id===y.parentGoalId),isSelected:y.id===n,onSelect:()=>r(y.id),onEdit:()=>a(y)},y.id))}):(0,Ot.jsxs)("div",{className:"text-center py-10 text-gray-500",children:[(0,Ot.jsx)(ns,{className:"w-12 h-12 mx-auto text-gray-300"}),(0,Ot.jsx)("p",{className:"mt-4 font-semibold",children:"No milestones in this view."}),(0,Ot.jsx)("p",{className:"text-sm",children:"Try another filter or add a new milestone."})]})})]})},wO=Ime});var fs,$7,Eme,_O,K7=G(()=>{"use strict";_s();ia();fs=L(H(),1),$7=({quickWin:t,onStatusChange:e})=>{let n=t.status==="Completed";return(0,fs.jsxs)("li",{className:"bg-white p-3 rounded-lg shadow-sm border flex items-center gap-4",children:[(0,fs.jsx)(Vr,{checked:n,onChange:()=>{e(t.id,n?"Pending":"Completed")}}),(0,fs.jsxs)("div",{className:"flex-1",children:[(0,fs.jsx)("p",{className:`font-medium ${n?"line-through text-gray-400":"text-gray-800"}`,children:t.title}),t.dueDate&&(0,fs.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5",children:["Due: ",new Date(t.dueDate).toLocaleDateString()]})]})]})},Eme=({quickWins:t,onStatusChange:e})=>{let n=t.filter(s=>s.status==="Pending").sort((s,i)=>i.createdAt.getTime()-s.createdAt.getTime()),r=t.filter(s=>s.status==="Completed").sort((s,i)=>i.createdAt.getTime()-s.createdAt.getTime());return(0,fs.jsxs)("div",{className:"w-full h-full p-4 overflow-y-auto",children:[(0,fs.jsx)("h2",{className:"text-sm font-semibold text-gray-500 mb-2 uppercase",children:"Pending"}),n.length>0?(0,fs.jsx)("ul",{className:"space-y-2 mb-6",children:n.map(s=>(0,fs.jsx)($7,{quickWin:s,onStatusChange:e},s.id))}):(0,fs.jsx)("div",{className:"text-center text-sm text-gray-500 py-4 border-2 border-dashed rounded-lg",children:(0,fs.jsx)("p",{children:"Nothing here. Well done!"})}),(0,fs.jsx)("h2",{className:"text-sm font-semibold text-gray-500 mb-2 uppercase mt-8",children:"Completed"}),r.length>0?(0,fs.jsx)("ul",{className:"space-y-2",children:r.map(s=>(0,fs.jsx)($7,{quickWin:s,onStatusChange:e},s.id))}):(0,fs.jsx)("div",{className:"text-center text-sm text-gray-500 py-4 border-2 border-dashed rounded-lg",children:(0,fs.jsx)("p",{children:"No completed wins yet."})})]})},_O=Eme});var W7,Fo,Sme,Q7,Y7=G(()=>{"use strict";W7=L(ge(),1);ia();Fo=L(H(),1),Sme=({milestones:t,onLink:e,onClose:n})=>{let[r,s]=(0,W7.useState)(new Set),i=a=>{s(l=>{let c=new Set(l);return c.has(a)?c.delete(a):c.add(a),c})};return(0,Fo.jsxs)("form",{onSubmit:a=>{a.preventDefault(),r.forEach(l=>e(l)),n()},children:[(0,Fo.jsx)("div",{className:"max-h-64 overflow-y-auto border rounded-md p-2 mb-4",children:t.length>0?(0,Fo.jsx)("ul",{className:"space-y-2",children:t.map(a=>(0,Fo.jsxs)("li",{onClick:()=>i(a.id),className:`flex items-center gap-3 p-2 rounded-md cursor-pointer ${r.has(a.id)?"bg-blue-50":"hover:bg-gray-50"}`,children:[(0,Fo.jsx)(Vr,{checked:r.has(a.id),onChange:()=>{}}),(0,Fo.jsx)("span",{children:a.title})]},a.id))}):(0,Fo.jsx)("p",{className:"text-center text-gray-500 py-4",children:"No unlinked milestones available."})}),(0,Fo.jsx)("div",{className:"flex justify-end pt-4",children:(0,Fo.jsxs)("button",{type:"submit",disabled:r.size===0,className:"btn-primary disabled:bg-blue-300",children:["Link ",r.size," Milestone",r.size!==1&&"s"]})}),(0,Fo.jsx)("style",{children:`
                .btn-primary { padding: 0.5rem 1rem; font-weight: 600; border-radius: 0.375rem; background-color: #4299e1; color: white; transition: background-color 0.2s; }
                .btn-primary:hover { background-color: #3182ce; }
            `})]})},Q7=Sme});var TO,Nme,X7,J7=G(()=>{"use strict";Yi();Y7();TO=L(H(),1),Nme=({isOpen:t,onClose:e,onUpdateMilestone:n,milestones:r,currentGoalId:s})=>t?(0,TO.jsx)(jn,{title:"Link Existing Milestones",onClose:e,children:(0,TO.jsx)(Q7,{milestones:r,onLink:i=>n(i,{parentGoalId:s}),onClose:e})}):null,X7=Nme});var Z7,ao,kme,eK,tK=G(()=>{"use strict";Z7=L(ge(),1);ia();Ve();ao=L(H(),1),kme=({habits:t,onLink:e,onClose:n})=>{let[r,s]=(0,Z7.useState)(new Set),i=a=>{s(l=>{let c=new Set(l);return c.has(a)?c.delete(a):c.add(a),c})};return(0,ao.jsxs)("form",{onSubmit:a=>{a.preventDefault(),r.forEach(l=>e(l)),n()},children:[(0,ao.jsx)("div",{className:"max-h-64 overflow-y-auto border rounded-md p-2 mb-4",children:t.length>0?(0,ao.jsx)("ul",{className:"space-y-2",children:t.map(a=>{let l=Z[a.icon];return(0,ao.jsxs)("li",{onClick:()=>i(a.id),className:`flex items-center gap-3 p-2 rounded-md cursor-pointer ${r.has(a.id)?"bg-blue-50":"hover:bg-gray-50"}`,children:[(0,ao.jsx)(Vr,{checked:r.has(a.id),onChange:()=>{}}),(0,ao.jsx)(l,{className:`w-5 h-5 text-${a.color}`}),(0,ao.jsx)("span",{children:a.title})]},a.id)})}):(0,ao.jsx)("p",{className:"text-center text-gray-500 py-4",children:"No unlinked habits available."})}),(0,ao.jsx)("div",{className:"flex justify-end pt-4",children:(0,ao.jsxs)("button",{type:"submit",disabled:r.size===0,className:"btn-primary disabled:bg-blue-300",children:["Link ",r.size," Habit",r.size!==1&&"s"]})}),(0,ao.jsx)("style",{children:`
                .btn-primary { padding: 0.5rem 1rem; font-weight: 600; border-radius: 0.375rem; background-color: #4299e1; color: white; transition: background-color 0.2s; }
                .btn-primary:hover { background-color: #3182ce; }
            `})]})},eK=kme});var IO,Ame,nK,rK=G(()=>{"use strict";Yi();tK();IO=L(H(),1),Ame=({isOpen:t,onClose:e,onUpdateHabit:n,habits:r,currentGoalId:s,milestoneId:i})=>t?(0,IO.jsx)(jn,{title:"Link Existing Habits",onClose:e,children:(0,IO.jsx)(eK,{habits:r,onLink:o=>n(o,{goalId:s,milestoneId:i||void 0}),onClose:e})}):null,nK=Ame});var Lp,Gt,Dme,Cme,Rme,xO,sK=G(()=>{"use strict";Lp=L(ge(),1);_s();Ve();Gt=L(H(),1),Dme=t=>{switch(t){case"Completed":return"bg-green-100 text-green-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Abandoned":return"bg-red-100 text-red-800";case"Yet to Start":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Cme=({habit:t,isSelected:e,onSelect:n})=>{let s=Z[t.icon]||ni;return(0,Gt.jsxs)("li",{onClick:n,className:`p-3 rounded-lg shadow-sm border flex items-start gap-4 cursor-pointer transition-all duration-150 ${e?"ring-2 ring-blue-500 shadow-md bg-white":"bg-white hover:shadow-md hover:border-gray-300"}`,children:[(0,Gt.jsx)("div",{className:`p-2 rounded-lg bg-${t.color}/20 flex-shrink-0`,children:(0,Gt.jsx)(s,{className:`w-6 h-6 text-${t.color}`})}),(0,Gt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gt.jsx)("h3",{className:"font-semibold text-gray-900 truncate",children:t.title}),(0,Gt.jsx)("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${Dme(t.status)}`,children:t.status})]}),(0,Gt.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-1",children:t.description})]})]})},Rme=({habits:t,selectedHabitId:e,onSelectHabit:n,activeFilter:r,onSetFilter:s,onAddHabitClick:i})=>{let[o,a]=(0,Lp.useState)(!1),l=(0,Lp.useRef)(null);(0,Lp.useEffect)(()=>{let f=m=>{l.current&&!l.current.contains(m.target)&&a(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);let c=[{label:"All",filter:"All"},{label:"In Progress",filter:"In Progress"},{label:"Yet to Start",filter:"Yet to Start"}],d=[{label:"Completed",filter:"Completed"},{label:"Abandoned",filter:"Abandoned"}],h=f=>{s(f),a(!1)};return(0,Gt.jsxs)("div",{className:"w-full h-full p-4 overflow-y-auto bg-gray-50/80 flex flex-col",children:[(0,Gt.jsxs)("header",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[(0,Gt.jsx)("h1",{className:"text-xl font-semibold text-gray-800",children:"All Habits"}),(0,Gt.jsxs)("button",{onClick:i,className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 text-white text-sm font-semibold rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[(0,Gt.jsx)(Vt,{className:"w-4 h-4"}),(0,Gt.jsx)("span",{children:"New Habit"})]})]}),(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[(0,Gt.jsx)("div",{className:"flex items-center gap-1 border border-gray-200 rounded-lg p-1 bg-white shadow-sm",children:c.map(f=>(0,Gt.jsx)("button",{onClick:()=>h(f.filter),className:`px-3 py-1 text-sm font-semibold rounded-md transition-colors ${r===f.filter?"bg-blue-600 text-white shadow":"text-gray-600 hover:bg-gray-200"}`,children:f.label},f.filter))}),(0,Gt.jsxs)("div",{className:"relative",ref:l,children:[(0,Gt.jsx)("button",{onClick:()=>a(f=>!f),className:"p-2 rounded-lg hover:bg-gray-200",children:(0,Gt.jsx)(wr,{className:"w-5 h-5 text-gray-600"})}),o&&(0,Gt.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border z-10",children:(0,Gt.jsx)("ul",{className:"py-1",children:d.map(f=>(0,Gt.jsx)("li",{children:(0,Gt.jsx)("button",{onClick:()=>h(f.filter),className:`w-full text-left px-4 py-2 text-sm ${r===f.filter?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:f.label})},f.filter))})})]})]}),(0,Gt.jsx)("div",{className:"flex-1 overflow-y-auto",children:t.length>0?(0,Gt.jsx)("ul",{className:"space-y-3",children:t.map(f=>(0,Gt.jsx)(Cme,{habit:f,isSelected:f.id===e,onSelect:()=>n(f.id)},f.id))}):(0,Gt.jsxs)("div",{className:"text-center py-10 text-gray-500",children:[(0,Gt.jsx)(Xe,{className:"w-12 h-12 mx-auto text-gray-300"}),(0,Gt.jsx)("p",{className:"mt-4 font-semibold",children:"No habits in this view."}),(0,Gt.jsx)("p",{className:"text-sm",children:"Try another filter or add a new habit."})]})})]})},xO=Rme});var iK={};ua(iK,{default:()=>Pme});var Zt,Mt,Lme,Pme,oK=G(()=>{"use strict";Zt=L(ge(),1);Ve();_s();oE();m7();g7();y7();I7();E7();C7();O7();V7();z7();j7();G7();K7();J7();rK();sK();aE();vc();hp();lv();Mt=L(H(),1),Lme=({isAppSidebarOpen:t})=>{let{width:e}=Bu(),n=e!==void 0&&e<768,[r,s]=(0,Zt.useState)(!1),[i,o]=(0,Zt.useState)(!1),{goals:a,milestones:l,quickWins:c,habits:d,habitLogs:h,addGoal:f,updateGoal:m,deleteGoal:y,addMilestone:w,updateMilestone:v,deleteMilestone:g,addQuickWin:b,updateQuickWin:I,addHabit:k,updateHabit:R,deleteHabit:F,addHabitLog:S,updateHabitLog:E,deleteHabitLog:x}=ta(),{addLog:T,logs:N,foci:D,fetchDainandiniData:A}=Wr(),[V,q]=(0,Zt.useState)("calendar"),[$,he]=(0,Zt.useState)(null),[ie,Se]=(0,Zt.useState)(null),[Le,Pe]=(0,Zt.useState)(null),[Y,P]=(0,Zt.useState)(null),[ee,W]=(0,Zt.useState)({isOpen:!1,context:{}}),[U,te]=(0,Zt.useState)(null),[_e,Ke]=(0,Zt.useState)(new Date),[Ft,En]=(0,Zt.useState)(null),[fn,de]=(0,Zt.useState)("All"),[Ie,ir]=(0,Zt.useState)(null),[Sr,Is]=(0,Zt.useState)("All"),[ce,Ae]=(0,Zt.useState)(null),[Qe,sn]=(0,Zt.useState)(null),[en,z]=(0,Zt.useState)("All"),[Be,We]=(0,Zt.useState)(null),be=(0,Zt.useMemo)(()=>fn==="All"?d:d.filter(oe=>oe.status===fn),[d,fn]);(0,Zt.useEffect)(()=>{A()},[A]),(0,Zt.useEffect)(()=>{D.length===0&&A()},[D.length,A]),(0,Zt.useEffect)(()=>{if(V==="goals"&&!Ie&&a.length>0&&ir(a[0].id),V==="milestones"&&!Qe&&l.length>0&&sn(l[0].id),(V==="calendar"||V==="all-habits")&&!U&&d.length>0)if(V==="calendar"){let oe=d.filter(se=>se.status==="In Progress");oe.length>0&&te(oe[0].id)}else be.length>0&&te(be[0].id);V==="all-habits"&&U&&!be.some(oe=>oe.id===U)&&te(be.length>0?be[0].id:null)},[V,a,l,d,Ie,Qe,U,be]);let ke=(0,Zt.useMemo)(()=>d.find(oe=>oe.id===U)||null,[U,d]),it=(0,Zt.useMemo)(()=>a.find(oe=>oe.id===Ie)||null,[Ie,a]),Fn=(0,Zt.useMemo)(()=>l.find(oe=>oe.id===Qe)||null,[Qe,l]),Oi=(0,Zt.useMemo)(()=>Sr==="All"?a.filter(oe=>oe.status==="In Progress"||oe.status==="Not Started"):a.filter(oe=>oe.status===Sr),[a,Sr]),Yr=(0,Zt.useMemo)(()=>en==="All"?l.filter(oe=>oe.status==="In Progress"||oe.status==="Not Started"):l.filter(oe=>oe.status===en),[l,en]),zh=(0,Zt.useMemo)(()=>V==="goals"&&Ie?Ie:V==="milestones"&&Fn?Fn.parentGoalId:Y?l.find(se=>se.id===Y)?.parentGoalId:Le||"",[V,Ie,Fn,l,Y,Le]),Wt=(oe,se)=>{if(oe==="habit"){let $t=se?.goalId||null;!$t&&se?.milestone?.id&&($t=l.find(mn=>mn.id===se.milestone.id)?.parentGoalId||null),En(se?.habit||null),Pe($t),P(se?.milestone?.id||null),he("habit")}else oe==="milestone"?(We(se?.milestone||null),Se(se?.goalId||a[0]?.id||null),he("milestone")):oe==="link-habit"&&se?(Pe(se.goalId||null),P(se.milestone?.id||null),he("link-habit")):oe==="goal"?(Ae(se?.goal||null),he("goal")):he(oe)},Qs=()=>{he(null),En(null),We(null),Ae(null),Se(null),Pe(null),P(null)},Uo=oe=>{console.log("Opening log modal with context:",oe),W({isOpen:!0,context:oe})},Nc=oe=>{console.log("Adding log with data:",oe);let{habit:se,milestone:$t,goal:Sn}=ee.context,mn={};se?.id&&(mn.habitId=se.id),$t?.id&&(mn.milestoneId=$t.id),Sn?.id&&(mn.goalId=Sn.id),T({...oe,...mn}),W({isOpen:!1,context:{}})},Xu=(oe,se)=>{let $t=se.toISOString().split("T")[0],Sn=h.find(mn=>mn.habitId===oe&&mn.date===$t);Sn&&x(Sn.id)},kc=(oe,se)=>{let $t=se.toISOString().split("T")[0],Sn=h.find(mn=>mn.habitId===oe&&mn.date===$t);Sn?E(Sn.id,{status:"none"}):S({habitId:oe,date:$t,status:"none"})},Ac=()=>{switch(V){case"goals":return(0,Mt.jsxs)(Ec,{initialLeftWidth:40,children:[(0,Mt.jsx)(bO,{goals:Oi,selectedGoalId:Ie,onSelectGoal:se=>{ir(se),n&&o(!0)},activeFilter:Sr,onSetFilter:Is,onAddGoalClick:()=>Wt("goal"),onEditGoal:se=>Wt("goal",{goal:se})}),(0,Mt.jsx)(T7,{goal:it,allFoci:D,allLogs:N,milestones:l.filter(se=>se.parentGoalId===it?.id),habits:(d||[]).filter(se=>se.goalId===it?.id||se.milestoneId&&l.some($t=>$t.id===se.milestoneId&&$t.parentGoalId===it?.id)),habitLogs:h,onUpdateGoal:m,onDeleteGoal:y,onAddMilestone:()=>Wt("milestone",{goalId:it?.id}),onLinkMilestone:()=>Wt("link-milestone"),onAddHabit:()=>Wt("habit",{goalId:it?.id}),onLinkHabit:()=>Wt("link-habit",{goalId:it?.id}),onAddHabitToMilestone:se=>Wt("habit",{milestone:{id:se}}),onLinkHabitToMilestone:se=>Wt("link-habit",{milestone:{id:se}}),onEditGoal:se=>Wt("goal",{goal:se}),onOpenLogModal:se=>Uo({goal:se})})]});case"milestones":return(0,Mt.jsxs)(Ec,{initialLeftWidth:40,children:[(0,Mt.jsx)(wO,{milestones:Yr,goals:a,selectedMilestoneId:Qe,onSelectMilestone:se=>{sn(se),n&&o(!0)},activeFilter:en,onSetFilter:z,onAddMilestoneClick:()=>Wt("milestone"),onEditMilestone:se=>Wt("milestone",{milestone:se})}),(0,Mt.jsx)(x7,{milestone:Fn,parentGoal:a.find(se=>se.id===Fn?.parentGoalId),habits:d.filter(se=>se.milestoneId===Qe),habitLogs:h,allFoci:D,allLogs:N,onUpdateMilestone:v,onDeleteMilestone:g,onAddHabit:se=>Wt("habit",{milestone:{id:se}}),onLinkHabit:se=>Wt("link-habit",{milestone:{id:se}}),onOpenLogModal:se=>Uo({milestone:se}),onEditMilestone:se=>Wt("milestone",{milestone:se})})]});case"quick-wins":return(0,Mt.jsx)(_O,{quickWins:c,onStatusChange:I});case"all-habits":return(0,Mt.jsxs)(Ec,{initialLeftWidth:45,children:[(0,Mt.jsx)(xO,{habits:be,selectedHabitId:U,onSelectHabit:se=>{te(se),n&&o(!0)},activeFilter:fn,onSetFilter:de,onAddHabitClick:()=>Wt("habit")}),(0,Mt.jsx)(cO,{habit:ke,onEditHabit:se=>Wt("habit",{habit:se}),onUpdateHabit:R,onAddHabitLog:S,onDeleteHabitLog:Xu,onSkipHabitLog:kc,selectedDate:_e,allLogs:N,habitLogs:h,onOpenLogModal:se=>Uo({habit:se}),onBack:()=>o(!1)})]});case"calendar":default:let oe=d.filter(se=>se.status==="In Progress");return(0,Mt.jsxs)(Ec,{initialLeftWidth:55,children:[(0,Mt.jsx)(p7,{habits:oe,habitLogs:h,allFoci:D,onAddHabitLog:S,onDeleteHabitLog:Xu,onSkipHabitLog:kc,onSelectHabit:se=>{te(se),n&&o(!0)},selectedHabitId:U,selectedDate:_e,onDateSelect:Ke}),(0,Mt.jsx)(cO,{habit:ke,onEditHabit:se=>Wt("habit",{habit:se}),onUpdateHabit:R,onAddHabitLog:S,onDeleteHabitLog:Xu,onSkipHabitLog:kc,selectedDate:_e,allLogs:N,habitLogs:h,onOpenLogModal:se=>Uo({habit:se}),onBack:()=>o(!1)})]})}},jh=(oe,se)=>{se?v(se,oe):w({...oe,status:"Not Started"}),Qs()},Gh=(oe,se)=>{se?m(se,oe):f({...oe,status:"Not Started"}),Qs()};return(0,Mt.jsxs)(Mt.Fragment,{children:[n&&(0,Mt.jsx)("button",{onClick:()=>s(!r),className:"fixed top-4 left-4 z-40 p-2 rounded-md bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Toggle Abhyasa Sidebar",children:(0,Mt.jsx)(_d,{className:"w-6 h-6"})}),(0,Mt.jsx)(f7,{onOpenModal:Wt,activeView:V,onSelectView:oe=>{q(oe),n&&o(!1)},isMobile:n,isSidebarOpen:r}),r&&n&&(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black opacity-50 z-20",onClick:()=>s(!1)}),(0,Mt.jsxs)("main",{className:`flex-1 flex min-w-0 bg-gray-50/80 ${n&&t?"ml-20":""}`,children:[" ",n&&i?Ac():n&&!i?(0,Mt.jsxs)("div",{className:"flex flex-col w-full h-full p-4",children:[V==="goals"&&(0,Mt.jsx)(bO,{goals:Oi,selectedGoalId:Ie,onSelectGoal:oe=>{ir(oe),o(!0)},activeFilter:Sr,onSetFilter:Is,onAddGoalClick:()=>Wt("goal"),onEditGoal:oe=>Wt("goal",{goal:oe})}),V==="milestones"&&(0,Mt.jsx)(wO,{milestones:Yr,goals:a,selectedMilestoneId:Qe,onSelectMilestone:oe=>{sn(oe),o(!0)},activeFilter:en,onSetFilter:z,onAddMilestoneClick:()=>Wt("milestone"),onEditMilestone:oe=>Wt("milestone",{milestone:oe})}),V==="quick-wins"&&(0,Mt.jsx)(_O,{quickWins:c,onStatusChange:I}),(V==="all-habits"||V==="calendar")&&(0,Mt.jsx)(xO,{habits:be,selectedHabitId:U,onSelectHabit:oe=>{te(oe),o(!0)},activeFilter:fn,onSetFilter:de,onAddHabitClick:()=>Wt("habit")})]}):Ac()]}),$==="habit"&&(0,Mt.jsx)(D7,{isOpen:!0,onClose:Qs,onSave:(oe,se)=>{se?R(se,oe):k({...oe,status:"Yet to Start"}),Qs()},onDelete:F,initialHabit:Ft,goalId:Le,milestoneId:Y,allFoci:D}),$==="goal"&&(0,Mt.jsx)(P7,{isOpen:!0,onClose:Qs,onSave:Gh,onDelete:y,initialGoal:ce,allFoci:D}),$==="milestone"&&(0,Mt.jsx)(U7,{isOpen:!0,onClose:Qs,onSave:jh,onDelete:g,goals:a,initialGoalId:ie,allFoci:D,initialMilestone:Be}),$==="quick-win"&&(0,Mt.jsx)(q7,{isOpen:!0,onClose:Qs,onSave:oe=>{b({...oe,status:"Pending"}),Qs()}}),$==="link-milestone"&&it&&(0,Mt.jsx)(X7,{isOpen:!0,onClose:Qs,onUpdateMilestone:v,milestones:l.filter(oe=>!oe.parentGoalId),currentGoalId:it.id}),$==="link-habit"&&(0,Mt.jsx)(nK,{isOpen:!0,onClose:Qs,onUpdateHabit:R,habits:d.filter(oe=>!oe.goalId),currentGoalId:zh||"",milestoneId:Y}),ee.isOpen&&(0,Mt.jsx)(xp,{isOpen:ee.isOpen,onClose:()=>W({isOpen:!1,context:{}}),onAddLog:Nc,allFoci:D,initialFocusId:ee.context.habit?.focusAreaId||ee.context.milestone?.focusAreaId||ee.context.goal?.focusAreaId||"general",initialDate:new Date,initialTitle:ee.context.habit?.title||ee.context.milestone?.title||ee.context.goal?.title,initialDescription:""})]})},Pme=Lme});var cK=L(ge(),1),uK=L(j3(),1);var xn=L(ge(),1);Ve();var W3=L(ge(),1);Yi();Ve();var Ds=L(H(),1),qY=({currentApiKey:t,onSave:e,onClose:n})=>{let[r,s]=(0,W3.useState)(t||"");return(0,Ds.jsx)(jn,{title:"Set Gemini API Key",onClose:n,children:(0,Ds.jsxs)("form",{onSubmit:o=>{o.preventDefault(),e(r)},className:"space-y-6",children:[(0,Ds.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-blue-50 border-l-4 border-blue-400 rounded-r-lg",children:[(0,Ds.jsx)(Td,{className:"w-8 h-8 text-blue-500 flex-shrink-0 mt-1"}),(0,Ds.jsxs)("div",{children:[(0,Ds.jsx)("h3",{className:"font-semibold text-blue-800",children:"Your Personal AI Key"}),(0,Ds.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:"Your API key is stored securely in your browser's local storage and is never sent to our servers. It's used directly from your browser to communicate with the Gemini API for features like smart task creation and subtask generation."}),(0,Ds.jsx)("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 font-semibold mt-2 inline-block",children:"Get your API key from Google AI Studio \u2192"})]})]}),(0,Ds.jsxs)("div",{children:[(0,Ds.jsx)("label",{htmlFor:"api-key",className:"block text-sm font-medium text-gray-700",children:"API Key"}),(0,Ds.jsx)("input",{type:"password",id:"api-key",value:r,onChange:o=>s(o.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900",placeholder:"Enter your Gemini API key"})]}),(0,Ds.jsxs)("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[(0,Ds.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,Ds.jsx)("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Save Key"})]})]})})},Q3=qY;ry();Ve();var Xi=L(H(),1),jY=({isOpen:t,onClose:e,user:n})=>t?(0,Xi.jsx)(ou,{title:"Profile",onClose:e,children:(0,Xi.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,Xi.jsx)("div",{className:"relative",children:(0,Xi.jsx)("div",{className:"w-32 h-32 rounded-full bg-blue-100 flex items-center justify-center",children:(0,Xi.jsx)(ty,{className:"w-16 h-16 text-blue-600"})})}),(0,Xi.jsx)("h2",{className:"text-xl font-semibold",children:n.displayName||n.email}),(0,Xi.jsxs)("div",{className:"text-sm text-gray-600 text-center",children:[(0,Xi.jsxs)("p",{children:["Email: ",n.email]}),(0,Xi.jsxs)("p",{children:["Account created: ",n.metadata.creationTime?new Date(n.metadata.creationTime).toLocaleDateString():"Unknown"]})]}),(0,Xi.jsx)("div",{className:"flex gap-4 mt-4",children:(0,Xi.jsx)("button",{onClick:e,className:"px-4 py-2 text-sm font-semibold text-gray-700 rounded-md hover:bg-gray-100 transition-colors",children:"Close"})})]})}):null,Y3=jY;var $d=L(ge(),1);var X3=()=>{};var e5=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},GY=function(t){let e=[],n=0,r=0;for(;n<t.length;){let s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){let i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){let i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},t5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){let i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4,f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(e5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GY(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){let i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;let c=s<t.length?n[t.charAt(s)]:64;++s;let h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new T1;let f=i<<2|a>>4;if(r.push(f),c!==64){let m=a<<4&240|c>>2;if(r.push(m),h!==64){let y=c<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},T1=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},$Y=function(t){let e=e5(t);return t5.encodeByteArray(e,!0)},iy=function(t){return $Y(t).replace(/\./g,"")},Sw=function(t){try{return t5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function n5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var KY=()=>n5().__FIREBASE_DEFAULTS__,WY=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QY=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Sw(t[1]);return e&&JSON.parse(e)},Nw=()=>{try{return X3()||KY()||WY()||QY()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},x1=t=>Nw()?.emulatorHosts?.[t],kw=t=>{let e=x1(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},E1=()=>Nw()?.config,S1=t=>Nw()?.[`_${t}`];var Ew=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Ta(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jf(t){return(await fetch(t,{credentials:"include"})).ok}function Aw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[iy(JSON.stringify(n)),iy(JSON.stringify(o)),""].join(".")}var sy={};function YY(){let t={prod:[],emulator:[]};for(let e of Object.keys(sy))sy[e]?t.emulator.push(e):t.prod.push(e);return t}function XY(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var J3=!1;function Gf(t,e){if(typeof window>"u"||typeof document>"u"||!Ta(window.location.host)||sy[t]===e||sy[t]||J3)return;sy[t]=e;function n(f){return`__firebase__banner__${f}`}let r="__firebase__banner",i=YY().prod.length>0;function o(){let f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{J3=!0,o()},f}function d(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){let f=XY(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),w=n("learnmore"),v=document.getElementById(w)||document.createElement("a"),g=n("preprendIcon"),b=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let I=f.element;a(I),d(v,w);let k=c();l(b,g),I.append(b,y,v,k),document.body.appendChild(I)}i?(y.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}function rs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rs())}function JY(){let t=Nw()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function s5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function i5(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function o5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a5(){let t=rs();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function l5(){return!JY()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N1(){try{return typeof indexedDB=="object"}catch{return!1}}function c5(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}var ZY="FirebaseError",ri=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZY,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}},jl=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?eX(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ri(s,a,r)}};function eX(t,e){return t.replace(tX,(n,r)=>{let s=e[r];return s!=null?String(s):`<${r}?>`})}var tX=/\{\$([^}]+)}/g;function u5(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ia(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let s of n){if(!r.includes(s))return!1;let i=t[s],o=e[s];if(Z3(i)&&Z3(o)){if(!Ia(i,o))return!1}else if(i!==o)return!1}for(let s of r)if(!n.includes(s))return!1;return!0}function Z3(t){return t!==null&&typeof t=="object"}function $f(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Kf(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Wf(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function d5(t,e){let n=new I1(t,e);return n.subscribe.bind(n)}var I1=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nX(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=_1),s.error===void 0&&(s.error=_1),s.complete===void 0&&(s.complete=_1);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function nX(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _1(){}var fpe=4*60*60*1e3;function cr(t){return t&&t._delegate?t._delegate:t}var gi=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ed="[DEFAULT]";var k1=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ew;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){let n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sX(e))try{this.getOrInitializeService({instanceIdentifier:Ed})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let s=this.normalizeInstanceIdentifier(n);try{let i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ed){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ed){return this.instances.has(e)}getOptions(e=Ed){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[i,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){let r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);let i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rX(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ed){return this.component?this.component.multipleInstances?e:Ed:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function rX(t){return t===Ed?void 0:t}function sX(t){return t.instantiationMode==="EAGER"}var Dw=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new k1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var iX=[],Tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Tt||(Tt={}));var oX={debug:Tt.DEBUG,verbose:Tt.VERBOSE,info:Tt.INFO,warn:Tt.WARN,error:Tt.ERROR,silent:Tt.SILENT},aX=Tt.INFO,lX={[Tt.DEBUG]:"log",[Tt.VERBOSE]:"log",[Tt.INFO]:"info",[Tt.WARN]:"warn",[Tt.ERROR]:"error"},cX=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),s=lX[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},au=class{constructor(e){this.name=e,this._logLevel=aX,this._logHandler=cX,this._userLogHandler=null,iX.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oX[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Tt.DEBUG,...e),this._logHandler(this,Tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Tt.VERBOSE,...e),this._logHandler(this,Tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Tt.INFO,...e),this._logHandler(this,Tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Tt.WARN,...e),this._logHandler(this,Tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Tt.ERROR,...e),this._logHandler(this,Tt.ERROR,...e)}};O1();var F1=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bX(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function bX(t){return t.getComponent()?.type==="VERSION"}var U1="@firebase/app",v5="0.14.0";var Gl=new au("@firebase/app"),wX="@firebase/app-compat",_X="@firebase/analytics-compat",TX="@firebase/analytics",IX="@firebase/app-check-compat",xX="@firebase/app-check",EX="@firebase/auth",SX="@firebase/auth-compat",NX="@firebase/database",kX="@firebase/data-connect",AX="@firebase/database-compat",DX="@firebase/functions",CX="@firebase/functions-compat",RX="@firebase/installations",LX="@firebase/installations-compat",PX="@firebase/messaging",OX="@firebase/messaging-compat",MX="@firebase/performance",FX="@firebase/performance-compat",UX="@firebase/remote-config",VX="@firebase/remote-config-compat",HX="@firebase/storage",BX="@firebase/storage-compat",qX="@firebase/firestore",zX="@firebase/ai",jX="@firebase/firestore-compat",GX="firebase",$X="12.0.0";var V1="[DEFAULT]",KX={[U1]:"fire-core",[wX]:"fire-core-compat",[TX]:"fire-analytics",[_X]:"fire-analytics-compat",[xX]:"fire-app-check",[IX]:"fire-app-check-compat",[EX]:"fire-auth",[SX]:"fire-auth-compat",[NX]:"fire-rtdb",[kX]:"fire-data-connect",[AX]:"fire-rtdb-compat",[DX]:"fire-fn",[CX]:"fire-fn-compat",[RX]:"fire-iid",[LX]:"fire-iid-compat",[PX]:"fire-fcm",[OX]:"fire-fcm-compat",[MX]:"fire-perf",[FX]:"fire-perf-compat",[UX]:"fire-rc",[VX]:"fire-rc-compat",[HX]:"fire-gcs",[BX]:"fire-gcs-compat",[qX]:"fire-fst",[jX]:"fire-fst-compat",[zX]:"fire-vertex","fire-js":"fire-js",[GX]:"fire-js-all"};var Lw=new Map,WX=new Map,H1=new Map;function b5(t,e){try{t.container.addComponent(e)}catch(n){Gl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ea(t){let e=t.name;if(H1.has(e))return Gl.debug(`There were multiple attempts to register component ${e}.`),!1;H1.set(e,t);for(let n of Lw.values())b5(n,t);for(let n of WX.values())b5(n,t);return!0}function Sd(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cs(t){return t==null?!1:t.settings!==void 0}var QX={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lu=new jl("app","Firebase",QX);var B1=class{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lu.create("app-deleted",{appName:this._name})}};var Sa=$X;function j1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r={name:V1,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw lu.create("bad-app-name",{appName:String(s)});if(n||(n=E1()),!n)throw lu.create("no-options");let i=Lw.get(s);if(i){if(Ia(n,i.options)&&Ia(r,i.config))return i;throw lu.create("duplicate-app",{appName:s})}let o=new Dw(s);for(let l of H1.values())o.addComponent(l);let a=new B1(n,r,o);return Lw.set(s,a),a}function Qf(t=V1){let e=Lw.get(t);if(!e&&t===V1&&E1())return j1();if(!e)throw lu.create("no-app",{appName:t});return e}function yi(t,e,n){let r=KX[t]??t;n&&(r+=`-${n}`);let s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){let o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gl.warn(o.join(" "));return}Ea(new gi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var YX="firebase-heartbeat-database",XX=1,oy="firebase-heartbeat-store",M1=null;function I5(){return M1||(M1=Rw(YX,XX,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(oy)}catch(n){console.warn(n)}}}}).catch(t=>{throw lu.create("idb-open",{originalErrorMessage:t.message})})),M1}async function JX(t){try{let n=(await I5()).transaction(oy),r=await n.objectStore(oy).get(x5(t));return await n.done,r}catch(e){if(e instanceof ri)Gl.warn(e.message);else{let n=lu.create("idb-get",{originalErrorMessage:e?.message});Gl.warn(n.message)}}}async function w5(t,e){try{let r=(await I5()).transaction(oy,"readwrite");await r.objectStore(oy).put(e,x5(t)),await r.done}catch(n){if(n instanceof ri)Gl.warn(n.message);else{let r=lu.create("idb-set",{originalErrorMessage:n?.message});Gl.warn(r.message)}}}function x5(t){return`${t.name}!${t.options.appId}`}var ZX=1024,eJ=30,q1=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new z1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_5();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>eJ){let s=nJ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Gl.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=_5(),{heartbeatsToSend:n,unsentEntries:r}=tJ(this._heartbeatsCache.heartbeats),s=iy(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Gl.warn(e),""}}};function _5(){return new Date().toISOString().substring(0,10)}function tJ(t,e=ZX){let n=[],r=t.slice();for(let s of t){let i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),T5(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),T5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var z1=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N1()?c5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await JX(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return w5(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return w5(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function T5(t){return iy(JSON.stringify({version:2,heartbeats:t})).length}function nJ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function rJ(t){Ea(new gi("platform-logger",e=>new F1(e),"PRIVATE")),Ea(new gi("heartbeat",e=>new q1(e),"PRIVATE")),yi(U1,v5,t),yi(U1,v5,"esm2020"),yi("fire-js","")}rJ("");function z5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var j5=z5,G5=new jl("auth","Firebase",z5());var Hw=new au("@firebase/auth");function sJ(t,...e){Hw.logLevel<=Tt.WARN&&Hw.warn(`Auth (${Sa}): ${t}`,...e)}function Ow(t,...e){Hw.logLevel<=Tt.ERROR&&Hw.error(`Auth (${Sa}): ${t}`,...e)}function $o(t,...e){throw pk(t,...e)}function ka(t,...e){return pk(t,...e)}function $5(t,e,n){let r={...j5(),[e]:n};return new jl("auth","Firebase",r).create(e,{appName:t.name})}function Kl(t){return $5(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pk(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return G5.create(t,...e)}function Oe(t,e,...n){if(!t)throw pk(e,...n)}function Na(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ow(e),new Error(e)}function Wl(t,e){t||Na(e)}function Y1(){return typeof self<"u"&&self.location?.href||""}function iJ(){return E5()==="http:"||E5()==="https:"}function E5(){return typeof self<"u"&&self.location?.protocol||null}function oJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iJ()||i5()||"connection"in navigator)?navigator.onLine:!0}function aJ(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Nd=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wl(n>e,"Short delay should be less than long delay!"),this.isMobile=r5()||o5()}get(){return oJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function gk(t,e){Wl(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Bw=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Na("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Na("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Na("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var lJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var cJ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uJ=new Nd(3e4,6e4);function Gr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Rs(t,e,n,r,s={}){return K5(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});let a=$f({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);let c={method:e,headers:l,...i};return s5()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Ta(t.emulatorConfig.host)&&(c.credentials="include"),Bw.fetch()(await W5(t,t.config.apiHost,n,a),c)})}async function K5(t,e,n){t._canInitEmulator=!1;let r={...lJ,...e};try{let s=new X1(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();let o=await i.json();if("needConfirmation"in o)throw ly(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{let a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ly(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ly(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ly(t,"user-disabled",o);let d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw $5(t,d,c);$o(t,d)}}catch(s){if(s instanceof ri)throw s;$o(t,"network-request-failed",{message:String(s)})}}async function du(t,e,n,r,s={}){let i=await Rs(t,e,n,r,s);return"mfaPendingCredential"in i&&$o(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function W5(t,e,n,r){let s=`${e}${n}?${r}`,i=t,o=i.config.emulator?gk(t.config,s):`${t.config.apiScheme}://${s}`;return cJ.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function dJ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var X1=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ka(this.auth,"network-request-failed")),uJ.get())})}};function ly(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let s=ka(t,e,r);return s.customData._tokenResponse=n,s}function S5(t){return t!==void 0&&t.enterprise!==void 0}var qw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dJ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function Q5(t,e){return Rs(t,"GET","/v2/recaptchaConfig",Gr(t,e))}async function hJ(t,e){return Rs(t,"POST","/v1/accounts:delete",e)}async function zw(t,e){return Rs(t,"POST","/v1/accounts:lookup",e)}function cy(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y5(t,e=!1){let n=cr(t),r=await n.getIdToken(e),s=yk(r);Oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");let i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:cy(G1(s.auth_time)),issuedAtTime:cy(G1(s.iat)),expirationTime:cy(G1(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function G1(t){return Number(t)*1e3}function yk(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ow("JWT malformed, contained fewer than 3 sections"),null;try{let s=Sw(n);return s?JSON.parse(s):(Ow("Failed to decode base64 JWT payload"),null)}catch(s){return Ow("Caught error parsing JWT payload as JSON",s?.toString()),null}}function N5(t){let e=yk(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function hy(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ri&&fJ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function fJ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var J1=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var fy=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cy(this.lastLoginAt),this.creationTime=cy(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function jw(t){let e=t.auth,n=await t.getIdToken(),r=await hy(t,zw(e,{idToken:n}));Oe(r?.users.length,e,"internal-error");let s=r.users[0];t._notifyReloadListener(s);let i=s.providerUserInfo?.length?J5(s.providerUserInfo):[],o=mJ(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!o?.length,c=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new fy(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function X5(t){let e=cr(t);await jw(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mJ(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function J5(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function pJ(t,e){let n=await K5(t,{},async()=>{let r=$f({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await W5(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ta(t.emulatorConfig.host)&&(l.credentials="include"),Bw.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gJ(t,e){return Rs(t,"POST","/v2/accounts:revokeToken",Gr(t,e))}var uy=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):N5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");let n=N5(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:s,expiresIn:i}=await pJ(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new t;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Na("not implemented")}};function cu(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var uu=class t{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new J1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new fy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){let n=await hy(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Y5(this,e)}reload(){return X5(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await jw(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cs(this.auth.app))return Promise.reject(Kl(this.auth));let e=await this.getIdToken();return await hy(this,hJ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){let r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:m,providerData:y,stsTokenManager:w}=n;Oe(h&&w,e,"internal-error");let v=uy.fromJSON(this.name,w);Oe(typeof h=="string",e,"internal-error"),cu(r,e.name),cu(s,e.name),Oe(typeof f=="boolean",e,"internal-error"),Oe(typeof m=="boolean",e,"internal-error"),cu(i,e.name),cu(o,e.name),cu(a,e.name),cu(l,e.name),cu(c,e.name),cu(d,e.name);let g=new t({uid:h,auth:e,email:s,emailVerified:f,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:v,createdAt:c,lastLoginAt:d});return y&&Array.isArray(y)&&(g.providerData=y.map(b=>({...b}))),l&&(g._redirectEventId=l),g}static async _fromIdTokenResponse(e,n,r=!1){let s=new uy;s.updateFromServerResponse(n);let i=new t({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await jw(i),i}static async _fromGetAccountInfoResponse(e,n,r){let s=n.users[0];Oe(s.localId!==void 0,"internal-error");let i=s.providerUserInfo!==void 0?J5(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,a=new uy;a.updateFromIdToken(r);let l=new t({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new fy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(l,c),l}};var k5=new Map;function $l(t){Wl(t instanceof Function,"Expected a class definition");let e=k5.get(t);return e?(Wl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k5.set(t,e),e)}var Gw=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){let n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}};Gw.type="NONE";var Z1=Gw;function Mw(t,e,n){return`firebase:${t}:${e}:${n}`}var $w=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:s,name:i}=this.auth;this.fullUserKey=Mw(this.userKey,s.apiKey,i),this.fullPersistenceKey=Mw("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await zw(this.auth,{idToken:e}).catch(()=>{});return n?uu._fromGetAccountInfoResponse(this.auth,n,e):null}return uu._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t($l(Z1),e,r);let s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c),i=s[0]||$l(Z1),o=Mw(r,e.config.apiKey,e.name),a=null;for(let c of n)try{let d=await c._get(o);if(d){let h;if(typeof d=="string"){let f=await zw(e,{idToken:d}).catch(()=>{});if(!f)break;h=await uu._fromGetAccountInfoResponse(e,f,d)}else h=uu._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}let l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new t(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new t(i,e,r))}};function A5(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sV(e))return"Blackberry";if(iV(e))return"Webos";if(eV(e))return"Safari";if((e.includes("chrome/")||tV(e))&&!e.includes("edge/"))return"Chrome";if(rV(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Z5(t=rs()){return/firefox\//i.test(t)}function eV(t=rs()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tV(t=rs()){return/crios\//i.test(t)}function nV(t=rs()){return/iemobile/i.test(t)}function rV(t=rs()){return/android/i.test(t)}function sV(t=rs()){return/blackberry/i.test(t)}function iV(t=rs()){return/webos/i.test(t)}function vk(t=rs()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yJ(t=rs()){return vk(t)&&!!window.navigator?.standalone}function vJ(){return a5()&&document.documentMode===10}function oV(t=rs()){return vk(t)||rV(t)||iV(t)||sV(t)||/windows phone/i.test(t)||nV(t)}function aV(t,e=[]){let n;switch(t){case"Browser":n=A5(rs());break;case"Worker":n=`${A5(rs())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sa}/${r}`}var ek=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=i=>new Promise((o,a)=>{try{let l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);let s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function bJ(t,e={}){return Rs(t,"GET","/v2/passwordPolicy",Gr(t,e))}var wJ=6,tk=class{constructor(e){let n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wJ,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}};var nk=class{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kw(this),this.idTokenSubscription=new Kw(this),this.beforeStateQueue=new ek(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$l(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $w.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await zw(this,{idToken:e}),r=await uu._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Cs(this.app)){let i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}let n=await this.assertedPersistence.getCurrentUser(),r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let i=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!i||i===o)&&a?.user&&(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jw(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aJ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cs(this.app))return Promise.reject(Kl(this));let n=e?cr(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cs(this.app)?Promise.reject(Kl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cs(this.app)?Promise.reject(Kl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($l(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await bJ(this),n=new tk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await gJ(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&$l(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await $w.create(this,[$l(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};let i=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{let l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&sJ(`Error while retrieving App Check token: ${e.error}`),e?.token}};function Ql(t){return cr(t)}var Kw=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=d5(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var d_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _J(t){d_=t}function lV(t){return d_.loadJS(t)}function TJ(){return d_.recaptchaEnterpriseScript}function IJ(){return d_.gapiScript}function cV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var rk=class{constructor(){this.enterprise=new sk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},sk=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var xJ="recaptcha-enterprise",dy="NO_RECAPTCHA",Ww=class{constructor(e){this.type=xJ,this.auth=Ql(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{Q5(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new qw(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){let l=window.grecaptcha;S5(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(dy)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rk().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&S5(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=TJ();l.length!==0&&(l+=a),lV(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}};async function ay(t,e,n,r=!1,s=!1){let i=new Ww(t),o;if(s)o=dy;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}let a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Yf(t,e,n,r,s){if(s==="EMAIL_PASSWORD_PROVIDER")if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let i=await ay(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=await ay(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)});else if(s==="PHONE_PROVIDER")if(t._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let i=await ay(t,e,n);return r(t,i).catch(async o=>{if(t._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(o.code==="auth/missing-recaptcha-token"||o.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let a=await ay(t,e,n,!1,!0);return r(t,a)}return Promise.reject(o)})}else{let i=await ay(t,e,n,!1,!0);return r(t,i)}else return Promise.reject(s+" provider is not supported.")}async function EJ(t){let e=Ql(t),n=await Q5(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new qw(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new Ww(e).verify()}function uV(t,e){let n=Sd(t,"auth");if(n.isInitialized()){let s=n.getImmediate(),i=n.getOptions();if(Ia(i,e??{}))return s;$o(s,"already-initialized")}return n.initialize({options:e})}function SJ(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map($l);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function dV(t,e,n){let r=Ql(t);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let s=!!n?.disableWarnings,i=hV(e),{host:o,port:a}=NJ(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(Ia(c,r.config.emulator)&&Ia(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Ta(o)?(jf(`${i}//${o}${l}`),Gf("Auth",!0)):s||kJ()}function hV(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function NJ(t){let e=hV(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){let i=s[1];return{host:i,port:D5(r.substr(i.length+1))}}else{let[i,o]=r.split(":");return{host:i,port:D5(o)}}}function D5(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function kJ(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var kd=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Na("not implemented")}_getIdTokenResponse(e){return Na("not implemented")}_linkToIdToken(e,n){return Na("not implemented")}_getReauthenticationResolver(e){return Na("not implemented")}};async function AJ(t,e){return Rs(t,"POST","/v1/accounts:signUp",e)}async function DJ(t,e){return du(t,"POST","/v1/accounts:signInWithPassword",Gr(t,e))}async function CJ(t,e){return du(t,"POST","/v1/accounts:signInWithEmailLink",Gr(t,e))}async function RJ(t,e){return du(t,"POST","/v1/accounts:signInWithEmailLink",Gr(t,e))}var my=class t extends kd{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yf(e,n,"signInWithPassword",DJ,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return CJ(e,{email:this._email,oobCode:this._password});default:$o(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yf(e,r,"signUpPassword",AJ,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return RJ(e,{idToken:n,email:this._email,oobCode:this._password});default:$o(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function Xf(t,e){return du(t,"POST","/v1/accounts:signInWithIdp",Gr(t,e))}var LJ="http://localhost",Ad=class t extends kd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$o("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;let o=new t(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return Xf(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Xf(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Xf(e,n)}buildRequest(){let e={requestUri:LJ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$f(n)}return e}};async function C5(t,e){return Rs(t,"POST","/v1/accounts:sendVerificationCode",Gr(t,e))}async function PJ(t,e){return du(t,"POST","/v1/accounts:signInWithPhoneNumber",Gr(t,e))}async function OJ(t,e){let n=await du(t,"POST","/v1/accounts:signInWithPhoneNumber",Gr(t,e));if(n.temporaryProof)throw ly(t,"account-exists-with-different-credential",n);return n}var MJ={USER_NOT_FOUND:"user-not-found"};async function FJ(t,e){let n={...e,operation:"REAUTH"};return du(t,"POST","/v1/accounts:signInWithPhoneNumber",Gr(t,n),MJ)}var py=class t extends kd{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new t({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new t({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return PJ(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return OJ(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return FJ(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:s}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i}=e;return!r&&!n&&!s&&!i?null:new t({verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i})}};function UJ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VJ(t){let e=Kf(Wf(t)).link,n=e?Kf(Wf(e)).deep_link_id:null,r=Kf(Wf(t)).deep_link_id;return(r?Kf(Wf(r)).link:null)||r||n||e||t}var Qw=class t{constructor(e){let n=Kf(Wf(e)),r=n.apiKey??null,s=n.oobCode??null,i=UJ(n.mode??null);Oe(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){let n=VJ(e);try{return new t(n)}catch{return null}}};var Dd=class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(e,n){return my._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){let r=Qw.parseLink(n);return Oe(r,"argument-error"),my._fromEmailAndCode(e,r.code,r.tenantId)}};Dd.PROVIDER_ID="password";Dd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Yw=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Cd=class extends Yw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var gy=class t extends Cd{constructor(){super("facebook.com")}static credential(e){return Ad._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return t.credential(e.oauthAccessToken)}catch{return null}}};gy.FACEBOOK_SIGN_IN_METHOD="facebook.com";gy.PROVIDER_ID="facebook.com";var yy=class t extends Cd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ad._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return t.credential(n,r)}catch{return null}}};yy.GOOGLE_SIGN_IN_METHOD="google.com";yy.PROVIDER_ID="google.com";var vy=class t extends Cd{constructor(){super("github.com")}static credential(e){return Ad._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return t.credential(e.oauthAccessToken)}catch{return null}}};vy.GITHUB_SIGN_IN_METHOD="github.com";vy.PROVIDER_ID="github.com";var by=class t extends Cd{constructor(){super("twitter.com")}static credential(e,n){return Ad._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return t.credential(n,r)}catch{return null}}};by.TWITTER_SIGN_IN_METHOD="twitter.com";by.PROVIDER_ID="twitter.com";async function HJ(t,e){return du(t,"POST","/v1/accounts:signUp",Gr(t,e))}var Jf=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){let i=await uu._fromIdTokenResponse(e,r,s),o=R5(r);return new t({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);let s=R5(r);return new t({user:e,providerId:s,_tokenResponse:r,operationType:n})}};function R5(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var ik=class t extends ri{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new t(e,n,r,s)}};function fV(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ik._fromErrorAndOperation(t,i,e,r):i})}async function BJ(t,e,n=!1){let r=await hy(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Jf._forOperation(t,"link",r)}async function qJ(t,e,n=!1){let{auth:r}=t;if(Cs(r.app))return Promise.reject(Kl(r));let s="reauthenticate";try{let i=await hy(t,fV(r,s,e,t),n);Oe(i.idToken,r,"internal-error");let o=yk(i.idToken);Oe(o,r,"internal-error");let{sub:a}=o;return Oe(t.uid===a,r,"user-mismatch"),Jf._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&$o(r,"user-mismatch"),i}}async function mV(t,e,n=!1){if(Cs(t.app))return Promise.reject(Kl(t));let r="signIn",s=await fV(t,r,e),i=await Jf._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function pV(t,e){return mV(Ql(t),e)}async function gV(t){let e=Ql(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bk(t,e,n){if(Cs(t.app))return Promise.reject(Kl(t));let r=Ql(t),o=await Yf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HJ,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&gV(t),l}),a=await Jf._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function wk(t,e,n){return Cs(t.app)?Promise.reject(Kl(t)):pV(cr(t),Dd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gV(t),r})}function yV(t,e,n,r){return cr(t).onIdTokenChanged(e,n,r)}function vV(t,e,n){return cr(t).beforeAuthStateChanged(e,n)}function L5(t,e){return Rs(t,"POST","/v2/accounts/mfaEnrollment:start",Gr(t,e))}function zJ(t,e){return Rs(t,"POST","/v2/accounts/mfaEnrollment:finalize",Gr(t,e))}function jJ(t,e){return Rs(t,"POST","/v2/accounts/mfaEnrollment:start",Gr(t,e))}function GJ(t,e){return Rs(t,"POST","/v2/accounts/mfaEnrollment:finalize",Gr(t,e))}var Xw="__sak";var Jw=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xw,"1"),this.storage.removeItem(Xw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var $J=1e3,KJ=10,Zw=class extends Jw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let n of Object.keys(this.listeners)){let r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}let r=e.key;n?this.detachListener():this.stopPolling();let s=()=>{let o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);vJ()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,KJ):s()}notifyListeners(e,n){this.localCache[e]=n;let r=this.listeners[e];if(r)for(let s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},$J)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){let n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}};Zw.type="LOCAL";var bV=Zw;var WJ=1e3;function $1(t){let e=t.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),n=RegExp(`${e}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function K1(t){return`${window.location.protocol==="http:"?"__dev_":"__HOST-"}FIREBASE_${t.split(":")[3]}`}var ok=class{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(typeof window===void 0)return e;let n=new URL(`${window.location.origin}/__cookies__`);return n.searchParams.set("finalTarget",e),n}async _isAvailable(){return typeof isSecureContext=="boolean"&&!isSecureContext||typeof navigator>"u"||typeof document>"u"?!1:navigator.cookieEnabled??!0}async _set(e,n){}async _get(e){if(!this._isAvailable())return null;let n=K1(e);return window.cookieStore?(await window.cookieStore.get(n))?.value:$1(n)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;let r=K1(e);document.cookie=`${r}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,n){if(!this._isAvailable())return;let r=K1(e);if(window.cookieStore){let a=c=>{let d=c.changed.find(f=>f.name===r);d&&n(d.value),c.deleted.find(f=>f.name===r)&&n(null)},l=()=>window.cookieStore.removeEventListener("change",a);return this.listenerUnsubscribes.set(n,l),window.cookieStore.addEventListener("change",a)}let s=$1(r),i=setInterval(()=>{let a=$1(r);a!==s&&(n(a),s=a)},WJ),o=()=>clearInterval(i);this.listenerUnsubscribes.set(n,o)}_removeListener(e,n){let r=this.listenerUnsubscribes.get(n);r&&(r(),this.listenerUnsubscribes.delete(n))}};ok.type="COOKIE";var e_=class extends Jw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}};e_.type="SESSION";var _k=e_;function QJ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}var t_=class t{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;let r=new t(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let a=Array.from(o).map(async c=>c(n.origin,i)),l=await QJ(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};t_.receivers=[];function Tk(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var ak=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){let s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{let c=Tk("",20);s.port1.start();let d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){let f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};function Aa(){return window}function YJ(t){Aa().location.href=t}function wV(){return typeof Aa().WorkerGlobalScope<"u"&&typeof Aa().importScripts=="function"}async function XJ(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JJ(){return navigator?.serviceWorker?.controller||null}function ZJ(){return wV()?self:null}var _V="firebaseLocalStorageDb",eZ=1,n_="firebaseLocalStorage",TV="fbase_key",Rd=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function h_(t,e){return t.transaction([n_],e?"readwrite":"readonly").objectStore(n_)}function tZ(){let t=indexedDB.deleteDatabase(_V);return new Rd(t).toPromise()}function lk(){let t=indexedDB.open(_V,eZ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(n_,{keyPath:TV})}catch(s){n(s)}}),t.addEventListener("success",async()=>{let r=t.result;r.objectStoreNames.contains(n_)?e(r):(r.close(),await tZ(),e(await lk()))})})}async function P5(t,e,n){let r=h_(t,!0).put({[TV]:e,value:n});return new Rd(r).toPromise()}async function nZ(t,e){let n=h_(t,!1).get(e),r=await new Rd(n).toPromise();return r===void 0?null:r.value}function O5(t,e){let n=h_(t,!0).delete(e);return new Rd(n).toPromise()}var rZ=800,sZ=3,r_=class{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lk(),this.db)}async _withRetries(e){let n=0;for(;;)try{let r=await this._openDb();return await e(r)}catch(r){if(n++>sZ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=t_._getInstance(ZJ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await XJ(),!this.activeServiceWorker)return;this.sender=new ak(this.activeServiceWorker);let e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JJ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await lk();return await P5(e,Xw,"1"),await O5(e,Xw),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>P5(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){let n=await this._withRetries(r=>nZ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>O5(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(s=>{let i=h_(s,!1).getAll();return new Rd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let n=[],r=new Set;if(e.length!==0)for(let{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;let r=this.listeners[e];if(r)for(let s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};r_.type="LOCAL";var IV=r_;function M5(t,e){return Rs(t,"POST","/v2/accounts/mfaSignIn:start",Gr(t,e))}function iZ(t,e){return Rs(t,"POST","/v2/accounts/mfaSignIn:finalize",Gr(t,e))}function oZ(t,e){return Rs(t,"POST","/v2/accounts/mfaSignIn:finalize",Gr(t,e))}var Mpe=cV("rcb"),Fpe=new Nd(3e4,6e4);var Fw="recaptcha";async function aZ(t,e,n){if(!t._getRecaptchaConfig())try{await EJ(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){let s=r.session;if("phoneNumber"in r){Oe(s.type==="enroll",t,"internal-error");let i={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Yf(t,i,"mfaSmsEnrollment",async(c,d)=>{if(d.phoneEnrollmentInfo.captchaResponse===dy){Oe(n?.type===Fw,c,"argument-error");let h=await W1(c,d,n);return L5(c,h)}return L5(c,d)},"PHONE_PROVIDER").catch(c=>Promise.reject(c))).phoneSessionInfo.sessionInfo}else{Oe(s.type==="signin",t,"internal-error");let i=r.multiFactorHint?.uid||r.multiFactorUid;Oe(i,t,"missing-multi-factor-info");let o={mfaPendingCredential:s.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Yf(t,o,"mfaSmsSignIn",async(d,h)=>{if(h.phoneSignInInfo.captchaResponse===dy){Oe(n?.type===Fw,d,"argument-error");let f=await W1(d,h,n);return M5(d,f)}return M5(d,h)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).phoneResponseInfo.sessionInfo}}else{let s={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Yf(t,s,"sendVerificationCode",async(l,c)=>{if(c.captchaResponse===dy){Oe(n?.type===Fw,l,"argument-error");let d=await W1(l,c,n);return C5(l,d)}return C5(l,c)},"PHONE_PROVIDER").catch(l=>Promise.reject(l))).sessionInfo}}finally{n?._reset()}}async function W1(t,e,n){Oe(n.type===Fw,t,"argument-error");let r=await n.verify();Oe(typeof r=="string",t,"argument-error");let s={...e};if("phoneEnrollmentInfo"in s){let i=s.phoneEnrollmentInfo.phoneNumber,o=s.phoneEnrollmentInfo.captchaResponse,a=s.phoneEnrollmentInfo.clientType,l=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:i,recaptchaToken:r,captchaResponse:o,clientType:a,recaptchaVersion:l}}),s}else if("phoneSignInInfo"in s){let i=s.phoneSignInInfo.captchaResponse,o=s.phoneSignInInfo.clientType,a=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:i,clientType:o,recaptchaVersion:a}}),s}else return Object.assign(s,{recaptchaToken:r}),s}var wy=class t{constructor(e){this.providerId=t.PROVIDER_ID,this.auth=Ql(e)}verifyPhoneNumber(e,n){return aZ(this.auth,e,cr(n))}static credential(e,n){return py._fromVerification(e,n)}static credentialFromResult(e){let n=e;return t.credentialFromTaggedObject(n)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:n,temporaryProof:r}=e;return n&&r?py._fromTokenResponse(n,r):null}};wy.PROVIDER_ID="phone";wy.PHONE_SIGN_IN_METHOD="phone";function lZ(t,e){return e?$l(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var _y=class extends kd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xf(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function cZ(t){return mV(t.auth,new _y(t),t.bypassAuthState)}function uZ(t){let{auth:e,user:n}=t;return Oe(n,e,"internal-error"),qJ(n,new _y(t),t.bypassAuthState)}async function dZ(t){let{auth:e,user:n}=t;return Oe(n,e,"internal-error"),BJ(n,new _y(t),t.bypassAuthState)}var s_=class{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cZ;case"linkViaPopup":case"linkViaRedirect":return dZ;case"reauthViaPopup":case"reauthViaRedirect":return uZ;default:$o(this.auth,"internal-error")}}resolve(e){Wl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var hZ=new Nd(2e3,1e4);var ck=class t extends s_{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Wl(this.filter.length===1,"Popup operations only handle one event");let e=Tk();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ka(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ka(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ka(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hZ.get())};e()}};ck.currentPopupAction=null;var fZ="pendingRedirect",Uw=new Map,uk=class extends s_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Uw.get(this.auth._key());if(!e){try{let r=await mZ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Uw.set(this.auth._key(),e)}return this.bypassAuthState||Uw.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function mZ(t,e){let n=yZ(e),r=gZ(t);if(!await r._isAvailable())return!1;let s=await r._get(n)==="true";return await r._remove(n),s}function pZ(t,e){Uw.set(t._key(),e)}function gZ(t){return $l(t._redirectPersistence)}function yZ(t){return Mw(fZ,t.config.apiKey,t.name)}async function vZ(t,e,n=!1){if(Cs(t.app))return Promise.reject(Kl(t));let r=Ql(t),s=lZ(r,e),o=await new uk(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}var bZ=10*60*1e3,dk=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wZ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!xV(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ka(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bZ&&this.cachedEventUids.clear(),this.cachedEventUids.has(F5(e))}saveEventToCache(e){this.cachedEventUids.add(F5(e)),this.lastProcessedEventTime=Date.now()}};function F5(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xV({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function wZ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xV(t);default:return!1}}async function _Z(t,e={}){return Rs(t,"GET","/v1/projects",e)}var TZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IZ=/^https?/;async function xZ(t){if(t.config.emulator)return;let{authorizedDomains:e}=await _Z(t);for(let n of e)try{if(EZ(n))return}catch{}$o(t,"unauthorized-domain")}function EZ(t){let e=Y1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!IZ.test(n))return!1;if(TZ.test(t))return r===t;let s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}var SZ=new Nd(3e4,6e4);function U5(){let t=Aa().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function NZ(t){return new Promise((e,n)=>{function r(){U5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U5(),n(ka(t,"network-request-failed"))},timeout:SZ.get()})}if(Aa().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Aa().gapi?.load)r();else{let s=cV("iframefcb");return Aa()[s]=()=>{gapi.load?r():n(ka(t,"network-request-failed"))},lV(`${IJ()}?onload=${s}`).catch(i=>n(i))}}).catch(e=>{throw Vw=null,e})}var Vw=null;function kZ(t){return Vw=Vw||NZ(t),Vw}var AZ=new Nd(5e3,15e3),DZ="__/auth/iframe",CZ="emulator/auth/iframe",RZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PZ(t){let e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?gk(e,CZ):`https://${t.config.authDomain}/${DZ}`,r={apiKey:e.apiKey,appName:t.name,v:Sa},s=LZ.get(t.config.apiHost);s&&(r.eid=s);let i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${$f(r).slice(1)}`}async function OZ(t){let e=await kZ(t),n=Aa().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:PZ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RZ,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});let o=ka(t,"network-request-failed"),a=Aa().setTimeout(()=>{i(o)},AZ.get());function l(){Aa().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}var MZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FZ=500,UZ=600,VZ="_blank",HZ="http://localhost",i_=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function BZ(t,e,n,r=FZ,s=UZ){let i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l={...MZ,width:r.toString(),height:s.toString(),top:i,left:o},c=rs().toLowerCase();n&&(a=tV(c)?VZ:n),Z5(c)&&(e=e||HZ,l.scrollbars="yes");let d=Object.entries(l).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(yJ(c)&&a!=="_self")return qZ(e||"",a),new i_(null);let h=window.open(e||"",a,d);Oe(h,t,"popup-blocked");try{h.focus()}catch{}return new i_(h)}function qZ(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var zZ="__/auth/handler",jZ="emulator/auth/handler",GZ=encodeURIComponent("fac");async function V5(t,e,n,r,s,i){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Sa,eventId:s};if(e instanceof Yw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",u5(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,h]of Object.entries(i||{}))o[d]=h}if(e instanceof Cd){let d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let l=await t._getAppCheckToken(),c=l?`#${GZ}=${encodeURIComponent(l)}`:"";return`${$Z(t)}?${$f(a).slice(1)}${c}`}function $Z({config:t}){return t.emulator?gk(t,jZ):`https://${t.authDomain}/${zZ}`}var Q1="webStorageSupport",hk=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_k,this._completeRedirectFn=vZ,this._overrideRedirectResult=pZ}async _openPopup(e,n,r,s){Wl(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let i=await V5(e,n,r,Y1(),s);return BZ(e,i,Tk())}async _openRedirect(e,n,r,s){await this._originValidation(e);let i=await V5(e,n,r,Y1(),s);return YJ(i),new Promise(()=>{})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Wl(i,"If manager is not set, promise should be"),i)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){let n=await OZ(e),r=new dk(e);return n.register("authEvent",s=>(Oe(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Q1,{type:Q1},s=>{let i=s?.[0]?.[Q1];i!==void 0&&n(!!i),$o(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xZ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oV()||eV()||vk()}},EV=hk,o_=class{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Na("unexpected MultiFactorSessionType")}}},fk=class t extends o_{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new t(e)}_finalizeEnroll(e,n,r){return zJ(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return iZ(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},a_=class{constructor(){}static assertion(e){return fk._fromCredential(e)}};a_.FACTOR_ID="phone";var l_=class{static assertionForEnrollment(e,n){return c_._fromSecret(e,n)}static assertionForSignIn(e,n){return c_._fromEnrollmentId(e,n)}static async generateSecret(e){let n=e;Oe(typeof n.user?.auth<"u","internal-error");let r=await jJ(n.user.auth,{idToken:n.credential,totpEnrollmentInfo:{}});return u_._fromStartTotpMfaEnrollmentResponse(r,n.user.auth)}};l_.FACTOR_ID="totp";var c_=class t extends o_{constructor(e,n,r){super("totp"),this.otp=e,this.enrollmentId=n,this.secret=r}static _fromSecret(e,n){return new t(n,void 0,e)}static _fromEnrollmentId(e,n){return new t(n,e)}async _finalizeEnroll(e,n,r){return Oe(typeof this.secret<"u",e,"argument-error"),GJ(e,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,n){Oe(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");let r={verificationCode:this.otp};return oZ(e,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r})}},u_=class t{constructor(e,n,r,s,i,o,a){this.sessionInfo=o,this.auth=a,this.secretKey=e,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=s,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,n){return new t(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,n)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,n){let r=!1;return(Pw(e)||Pw(n))&&(r=!0),r&&(Pw(e)&&(e=this.auth.currentUser?.email||"unknownuser"),Pw(n)&&(n=this.auth.name)),`otpauth://totp/${n}:${e}?secret=${this.secretKey}&issuer=${n}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}};function Pw(t){return typeof t>"u"||t?.length===0}var H5="@firebase/auth",B5="1.11.0";var mk=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function KZ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WZ(t){Ea(new gi("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aV(t)},c=new nk(r,s,i,l);return SJ(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ea(new gi("auth-internal",e=>{let n=Ql(e.getProvider("auth").getImmediate());return(r=>new mk(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yi(H5,B5,KZ(t)),yi(H5,B5,"esm2020")}var QZ=5*60,YZ=S1("authIdTokenMaxAge")||QZ,q5=null,XZ=t=>async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>YZ)return;let s=n?.token;q5!==s&&(q5=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Ik(t=Qf()){let e=Sd(t,"auth");if(e.isInitialized())return e.getImmediate();let n=uV(t,{popupRedirectResolver:EV,persistence:[IV,bV,_k]}),r=S1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let i=new URL(r,location.origin);if(location.origin===i.origin){let o=XZ(i.toString());vV(n,o,()=>o(n.currentUser)),yV(n,a=>o(a))}}let s=x1("auth");return s&&dV(n,`http://${s}`),n}function JZ(){return document.getElementsByTagName("head")?.[0]??document}_J({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{let i=ka("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",JZ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WZ("Browser");var SV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},NV={};var Yl,xk;(function(){var t;function e(S,E){function x(){}x.prototype=E.prototype,S.D=E.prototype,S.prototype=new x,S.prototype.constructor=S,S.C=function(T,N,D){for(var A=Array(arguments.length-2),V=2;V<arguments.length;V++)A[V-2]=arguments[V];return E.prototype[N].apply(T,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,E,x){x||(x=0);var T=Array(16);if(typeof E=="string")for(var N=0;16>N;++N)T[N]=E.charCodeAt(x++)|E.charCodeAt(x++)<<8|E.charCodeAt(x++)<<16|E.charCodeAt(x++)<<24;else for(N=0;16>N;++N)T[N]=E[x++]|E[x++]<<8|E[x++]<<16|E[x++]<<24;E=S.g[0],x=S.g[1],N=S.g[2];var D=S.g[3],A=E+(D^x&(N^D))+T[0]+3614090360&4294967295;E=x+(A<<7&4294967295|A>>>25),A=D+(N^E&(x^N))+T[1]+3905402710&4294967295,D=E+(A<<12&4294967295|A>>>20),A=N+(x^D&(E^x))+T[2]+606105819&4294967295,N=D+(A<<17&4294967295|A>>>15),A=x+(E^N&(D^E))+T[3]+3250441966&4294967295,x=N+(A<<22&4294967295|A>>>10),A=E+(D^x&(N^D))+T[4]+4118548399&4294967295,E=x+(A<<7&4294967295|A>>>25),A=D+(N^E&(x^N))+T[5]+1200080426&4294967295,D=E+(A<<12&4294967295|A>>>20),A=N+(x^D&(E^x))+T[6]+2821735955&4294967295,N=D+(A<<17&4294967295|A>>>15),A=x+(E^N&(D^E))+T[7]+4249261313&4294967295,x=N+(A<<22&4294967295|A>>>10),A=E+(D^x&(N^D))+T[8]+1770035416&4294967295,E=x+(A<<7&4294967295|A>>>25),A=D+(N^E&(x^N))+T[9]+2336552879&4294967295,D=E+(A<<12&4294967295|A>>>20),A=N+(x^D&(E^x))+T[10]+4294925233&4294967295,N=D+(A<<17&4294967295|A>>>15),A=x+(E^N&(D^E))+T[11]+2304563134&4294967295,x=N+(A<<22&4294967295|A>>>10),A=E+(D^x&(N^D))+T[12]+1804603682&4294967295,E=x+(A<<7&4294967295|A>>>25),A=D+(N^E&(x^N))+T[13]+4254626195&4294967295,D=E+(A<<12&4294967295|A>>>20),A=N+(x^D&(E^x))+T[14]+2792965006&4294967295,N=D+(A<<17&4294967295|A>>>15),A=x+(E^N&(D^E))+T[15]+1236535329&4294967295,x=N+(A<<22&4294967295|A>>>10),A=E+(N^D&(x^N))+T[1]+4129170786&4294967295,E=x+(A<<5&4294967295|A>>>27),A=D+(x^N&(E^x))+T[6]+3225465664&4294967295,D=E+(A<<9&4294967295|A>>>23),A=N+(E^x&(D^E))+T[11]+643717713&4294967295,N=D+(A<<14&4294967295|A>>>18),A=x+(D^E&(N^D))+T[0]+3921069994&4294967295,x=N+(A<<20&4294967295|A>>>12),A=E+(N^D&(x^N))+T[5]+3593408605&4294967295,E=x+(A<<5&4294967295|A>>>27),A=D+(x^N&(E^x))+T[10]+38016083&4294967295,D=E+(A<<9&4294967295|A>>>23),A=N+(E^x&(D^E))+T[15]+3634488961&4294967295,N=D+(A<<14&4294967295|A>>>18),A=x+(D^E&(N^D))+T[4]+3889429448&4294967295,x=N+(A<<20&4294967295|A>>>12),A=E+(N^D&(x^N))+T[9]+568446438&4294967295,E=x+(A<<5&4294967295|A>>>27),A=D+(x^N&(E^x))+T[14]+3275163606&4294967295,D=E+(A<<9&4294967295|A>>>23),A=N+(E^x&(D^E))+T[3]+4107603335&4294967295,N=D+(A<<14&4294967295|A>>>18),A=x+(D^E&(N^D))+T[8]+1163531501&4294967295,x=N+(A<<20&4294967295|A>>>12),A=E+(N^D&(x^N))+T[13]+2850285829&4294967295,E=x+(A<<5&4294967295|A>>>27),A=D+(x^N&(E^x))+T[2]+4243563512&4294967295,D=E+(A<<9&4294967295|A>>>23),A=N+(E^x&(D^E))+T[7]+1735328473&4294967295,N=D+(A<<14&4294967295|A>>>18),A=x+(D^E&(N^D))+T[12]+2368359562&4294967295,x=N+(A<<20&4294967295|A>>>12),A=E+(x^N^D)+T[5]+4294588738&4294967295,E=x+(A<<4&4294967295|A>>>28),A=D+(E^x^N)+T[8]+2272392833&4294967295,D=E+(A<<11&4294967295|A>>>21),A=N+(D^E^x)+T[11]+1839030562&4294967295,N=D+(A<<16&4294967295|A>>>16),A=x+(N^D^E)+T[14]+4259657740&4294967295,x=N+(A<<23&4294967295|A>>>9),A=E+(x^N^D)+T[1]+2763975236&4294967295,E=x+(A<<4&4294967295|A>>>28),A=D+(E^x^N)+T[4]+1272893353&4294967295,D=E+(A<<11&4294967295|A>>>21),A=N+(D^E^x)+T[7]+4139469664&4294967295,N=D+(A<<16&4294967295|A>>>16),A=x+(N^D^E)+T[10]+3200236656&4294967295,x=N+(A<<23&4294967295|A>>>9),A=E+(x^N^D)+T[13]+681279174&4294967295,E=x+(A<<4&4294967295|A>>>28),A=D+(E^x^N)+T[0]+3936430074&4294967295,D=E+(A<<11&4294967295|A>>>21),A=N+(D^E^x)+T[3]+3572445317&4294967295,N=D+(A<<16&4294967295|A>>>16),A=x+(N^D^E)+T[6]+76029189&4294967295,x=N+(A<<23&4294967295|A>>>9),A=E+(x^N^D)+T[9]+3654602809&4294967295,E=x+(A<<4&4294967295|A>>>28),A=D+(E^x^N)+T[12]+3873151461&4294967295,D=E+(A<<11&4294967295|A>>>21),A=N+(D^E^x)+T[15]+530742520&4294967295,N=D+(A<<16&4294967295|A>>>16),A=x+(N^D^E)+T[2]+3299628645&4294967295,x=N+(A<<23&4294967295|A>>>9),A=E+(N^(x|~D))+T[0]+4096336452&4294967295,E=x+(A<<6&4294967295|A>>>26),A=D+(x^(E|~N))+T[7]+1126891415&4294967295,D=E+(A<<10&4294967295|A>>>22),A=N+(E^(D|~x))+T[14]+2878612391&4294967295,N=D+(A<<15&4294967295|A>>>17),A=x+(D^(N|~E))+T[5]+4237533241&4294967295,x=N+(A<<21&4294967295|A>>>11),A=E+(N^(x|~D))+T[12]+1700485571&4294967295,E=x+(A<<6&4294967295|A>>>26),A=D+(x^(E|~N))+T[3]+2399980690&4294967295,D=E+(A<<10&4294967295|A>>>22),A=N+(E^(D|~x))+T[10]+4293915773&4294967295,N=D+(A<<15&4294967295|A>>>17),A=x+(D^(N|~E))+T[1]+2240044497&4294967295,x=N+(A<<21&4294967295|A>>>11),A=E+(N^(x|~D))+T[8]+1873313359&4294967295,E=x+(A<<6&4294967295|A>>>26),A=D+(x^(E|~N))+T[15]+4264355552&4294967295,D=E+(A<<10&4294967295|A>>>22),A=N+(E^(D|~x))+T[6]+2734768916&4294967295,N=D+(A<<15&4294967295|A>>>17),A=x+(D^(N|~E))+T[13]+1309151649&4294967295,x=N+(A<<21&4294967295|A>>>11),A=E+(N^(x|~D))+T[4]+4149444226&4294967295,E=x+(A<<6&4294967295|A>>>26),A=D+(x^(E|~N))+T[11]+3174756917&4294967295,D=E+(A<<10&4294967295|A>>>22),A=N+(E^(D|~x))+T[2]+718787259&4294967295,N=D+(A<<15&4294967295|A>>>17),A=x+(D^(N|~E))+T[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var x=E-this.blockSize,T=this.B,N=this.h,D=0;D<E;){if(N==0)for(;D<=x;)s(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<E;)if(T[N++]=S.charCodeAt(D++),N==this.blockSize){s(this,T),N=0;break}}else for(;D<E;)if(T[N++]=S[D++],N==this.blockSize){s(this,T),N=0;break}}this.h=N,this.o+=E},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var x=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=x&255,x/=256;for(this.u(S),S=Array(16),E=x=0;4>E;++E)for(var T=0;32>T;T+=8)S[x++]=this.g[E]>>>T&255;return S};function i(S,E){var x=a;return Object.prototype.hasOwnProperty.call(x,S)?x[S]:x[S]=E(S)}function o(S,E){this.h=E;for(var x=[],T=!0,N=S.length-1;0<=N;N--){var D=S[N]|0;T&&D==E||(x[N]=D,T=!1)}this.g=x}var a={};function l(S){return-128<=S&&128>S?i(S,function(E){return new o([E|0],0>E?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return v(c(-S));for(var E=[],x=1,T=0;S>=x;T++)E[T]=S/x|0,x*=4294967296;return new o(E,0)}function d(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return v(d(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=c(Math.pow(E,8)),T=h,N=0;N<S.length;N+=8){var D=Math.min(8,S.length-N),A=parseInt(S.substring(N,N+D),E);8>D?(D=c(Math.pow(E,D)),T=T.j(D).add(c(A))):(T=T.j(x),T=T.add(c(A)))}return T}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-v(this).m();for(var S=0,E=1,x=0;x<this.g.length;x++){var T=this.i(x);S+=(0<=T?T:4294967296+T)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(y(this))return"0";if(w(this))return"-"+v(this).toString(S);for(var E=c(Math.pow(S,6)),x=this,T="";;){var N=k(x,E).g;x=g(x,N.j(E));var D=((0<x.g.length?x.g[0]:x.h)>>>0).toString(S);if(x=N,y(x))return D+T;for(;6>D.length;)D="0"+D;T=D+T}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function y(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=g(this,S),w(S)?-1:y(S)?0:1};function v(S){for(var E=S.g.length,x=[],T=0;T<E;T++)x[T]=~S.g[T];return new o(x,~S.h).add(f)}t.abs=function(){return w(this)?v(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),x=[],T=0,N=0;N<=E;N++){var D=T+(this.i(N)&65535)+(S.i(N)&65535),A=(D>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);T=A>>>16,D&=65535,A&=65535,x[N]=A<<16|D}return new o(x,x[x.length-1]&-2147483648?-1:0)};function g(S,E){return S.add(v(E))}t.j=function(S){if(y(this)||y(S))return h;if(w(this))return w(S)?v(this).j(v(S)):v(v(this).j(S));if(w(S))return v(this.j(v(S)));if(0>this.l(m)&&0>S.l(m))return c(this.m()*S.m());for(var E=this.g.length+S.g.length,x=[],T=0;T<2*E;T++)x[T]=0;for(T=0;T<this.g.length;T++)for(var N=0;N<S.g.length;N++){var D=this.i(T)>>>16,A=this.i(T)&65535,V=S.i(N)>>>16,q=S.i(N)&65535;x[2*T+2*N]+=A*q,b(x,2*T+2*N),x[2*T+2*N+1]+=D*q,b(x,2*T+2*N+1),x[2*T+2*N+1]+=A*V,b(x,2*T+2*N+1),x[2*T+2*N+2]+=D*V,b(x,2*T+2*N+2)}for(T=0;T<E;T++)x[T]=x[2*T+1]<<16|x[2*T];for(T=E;T<2*E;T++)x[T]=0;return new o(x,0)};function b(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function I(S,E){this.g=S,this.h=E}function k(S,E){if(y(E))throw Error("division by zero");if(y(S))return new I(h,h);if(w(S))return E=k(v(S),E),new I(v(E.g),v(E.h));if(w(E))return E=k(S,v(E)),new I(v(E.g),E.h);if(30<S.g.length){if(w(S)||w(E))throw Error("slowDivide_ only works with positive integers.");for(var x=f,T=E;0>=T.l(S);)x=R(x),T=R(T);var N=F(x,1),D=F(T,1);for(T=F(T,2),x=F(x,2);!y(T);){var A=D.add(T);0>=A.l(S)&&(N=N.add(x),D=A),T=F(T,1),x=F(x,1)}return E=g(S,N.j(E)),new I(N,E)}for(N=h;0<=S.l(E);){for(x=Math.max(1,Math.floor(S.m()/E.m())),T=Math.ceil(Math.log(x)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),D=c(x),A=D.j(E);w(A)||0<A.l(S);)x-=T,D=c(x),A=D.j(E);y(D)&&(D=f),N=N.add(D),S=g(S,A)}return new I(N,S)}t.A=function(S){return k(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),x=[],T=0;T<E;T++)x[T]=this.i(T)&S.i(T);return new o(x,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),x=[],T=0;T<E;T++)x[T]=this.i(T)|S.i(T);return new o(x,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),x=[],T=0;T<E;T++)x[T]=this.i(T)^S.i(T);return new o(x,this.h^S.h)};function R(S){for(var E=S.g.length+1,x=[],T=0;T<E;T++)x[T]=S.i(T)<<1|S.i(T-1)>>>31;return new o(x,S.h)}function F(S,E){var x=E>>5;E%=32;for(var T=S.g.length-x,N=[],D=0;D<T;D++)N[D]=0<E?S.i(D+x)>>>E|S.i(D+x+1)<<32-E:S.i(D+x);return new o(N,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xk=NV.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Yl=NV.Integer=o}).apply(typeof SV<"u"?SV:typeof self<"u"?self:typeof window<"u"?window:{});var f_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xl={};var Ek,nee,Zf,Sk,Ty,m_,Nk,kk,Ak;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,_){return u==Array.prototype||u==Object.prototype||(u[p]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof f_=="object"&&f_];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function s(u,p){if(p)e:{var _=r;u=u.split(".");for(var C=0;C<u.length-1;C++){var B=u[C];if(!(B in _))break e;_=_[B]}u=u[u.length-1],C=_[u],p=p(C),p!=C&&p!=null&&e(_,u,{configurable:!0,writable:!0,value:p})}}function i(u,p){u instanceof String&&(u+="");var _=0,C=!1,B={next:function(){if(!C&&_<u.length){var j=_++;return{value:p(j,u[j]),done:!1}}return C=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}s("Array.prototype.values",function(u){return u||function(){return i(this,function(p,_){return _})}});var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,_){return u.call.apply(u.bind,arguments)}function h(u,p,_){if(!u)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,C),u.apply(p,B)}}return function(){return u.apply(p,arguments)}}function f(u,p,_){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var C=_.slice();return C.push.apply(C,arguments),u.apply(this,C)}}function y(u,p){function _(){}_.prototype=p.prototype,u.aa=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(C,B,j){for(var fe=Array(arguments.length-2),vn=2;vn<arguments.length;vn++)fe[vn-2]=arguments[vn];return p.prototype[B].apply(C,fe)}}function w(u){let p=u.length;if(0<p){let _=Array(p);for(let C=0;C<p;C++)_[C]=u[C];return _}return[]}function v(u,p){for(let _=1;_<arguments.length;_++){let C=arguments[_];if(l(C)){let B=u.length||0,j=C.length||0;u.length=B+j;for(let fe=0;fe<j;fe++)u[B+fe]=C[fe]}else u.push(C)}}class g{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function b(u){return/^[\s\xa0]*$/.test(u)}function I(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function k(u){return k[" "](u),u}k[" "]=function(){};var R=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function F(u,p,_){for(let C in u)p.call(_,u[C],C,u)}function S(u,p){for(let _ in u)p.call(void 0,u[_],_,u)}function E(u){let p={};for(let _ in u)p[_]=u[_];return p}let x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(u,p){let _,C;for(let B=1;B<arguments.length;B++){C=arguments[B];for(_ in C)u[_]=C[_];for(let j=0;j<x.length;j++)_=x[j],Object.prototype.hasOwnProperty.call(C,_)&&(u[_]=C[_])}}function N(u){var p=1;u=u.split(":");let _=[];for(;0<p&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function D(u){a.setTimeout(()=>{throw u},0)}function A(){var u=Se;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class V{constructor(){this.h=this.g=null}add(p,_){let C=q.get();C.set(p,_),this.h?this.h.next=C:this.g=C,this.h=C}}var q=new g(()=>new $,u=>u.reset());class ${constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ie=!1,Se=new V,Le=()=>{let u=a.Promise.resolve(void 0);he=()=>{u.then(Pe)}};var Pe=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(_){D(_)}var p=q;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}ie=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let _=()=>{};a.addEventListener("test",_,p),a.removeEventListener("test",_,p)}catch{}return u}();function W(u,p){if(P.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,C=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(R){e:{try{k(p.nodeName);var B=!0;break e}catch{}B=!1}B||(p=null)}}else _=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement);this.relatedTarget=p,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:U[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&W.aa.h.call(this)}}y(W,P);var U={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),_e=0;function Ke(u,p,_,C,B){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!C,this.ha=B,this.key=++_e,this.da=this.fa=!1}function Ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function En(u){this.src=u,this.g={},this.h=0}En.prototype.add=function(u,p,_,C,B){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var fe=de(u,p,C,B);return-1<fe?(p=u[fe],_||(p.fa=!1)):(p=new Ke(p,this.src,j,!!C,B),p.fa=_,u.push(p)),p};function fn(u,p){var _=p.type;if(_ in u.g){var C=u.g[_],B=Array.prototype.indexOf.call(C,p,void 0),j;(j=0<=B)&&Array.prototype.splice.call(C,B,1),j&&(Ft(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function de(u,p,_,C){for(var B=0;B<u.length;++B){var j=u[B];if(!j.da&&j.listener==p&&j.capture==!!_&&j.ha==C)return B}return-1}var Ie="closure_lm_"+(1e6*Math.random()|0),ir={};function Sr(u,p,_,C,B){if(C&&C.once)return Ae(u,p,_,C,B);if(Array.isArray(p)){for(var j=0;j<p.length;j++)Sr(u,p[j],_,C,B);return null}return _=be(_),u&&u[te]?u.K(p,_,c(C)?!!C.capture:!!C,B):Is(u,p,_,!1,C,B)}function Is(u,p,_,C,B,j){if(!p)throw Error("Invalid event type");var fe=c(B)?!!B.capture:!!B,vn=Be(u);if(vn||(u[Ie]=vn=new En(u)),_=vn.add(p,_,C,fe,j),_.proxy)return _;if(C=ce(),_.proxy=C,C.src=u,C.listener=_,u.addEventListener)ee||(B=fe),B===void 0&&(B=!1),u.addEventListener(p.toString(),C,B);else if(u.attachEvent)u.attachEvent(en(p.toString()),C);else if(u.addListener&&u.removeListener)u.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ce(){function u(_){return p.call(u.src,u.listener,_)}let p=z;return u}function Ae(u,p,_,C,B){if(Array.isArray(p)){for(var j=0;j<p.length;j++)Ae(u,p[j],_,C,B);return null}return _=be(_),u&&u[te]?u.L(p,_,c(C)?!!C.capture:!!C,B):Is(u,p,_,!0,C,B)}function Qe(u,p,_,C,B){if(Array.isArray(p))for(var j=0;j<p.length;j++)Qe(u,p[j],_,C,B);else C=c(C)?!!C.capture:!!C,_=be(_),u&&u[te]?(u=u.i,p=String(p).toString(),p in u.g&&(j=u.g[p],_=de(j,_,C,B),-1<_&&(Ft(j[_]),Array.prototype.splice.call(j,_,1),j.length==0&&(delete u.g[p],u.h--)))):u&&(u=Be(u))&&(p=u.g[p.toString()],u=-1,p&&(u=de(p,_,C,B)),(_=-1<u?p[u]:null)&&sn(_))}function sn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[te])fn(p.i,u);else{var _=u.type,C=u.proxy;p.removeEventListener?p.removeEventListener(_,C,u.capture):p.detachEvent?p.detachEvent(en(_),C):p.addListener&&p.removeListener&&p.removeListener(C),(_=Be(p))?(fn(_,u),_.h==0&&(_.src=null,p[Ie]=null)):Ft(u)}}}function en(u){return u in ir?ir[u]:ir[u]="on"+u}function z(u,p){if(u.da)u=!0;else{p=new W(p,this);var _=u.listener,C=u.ha||u.src;u.fa&&sn(u),u=_.call(C,p)}return u}function Be(u){return u=u[Ie],u instanceof En?u:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function be(u){return typeof u=="function"?u:(u[We]||(u[We]=function(p){return u.handleEvent(p)}),u[We])}function ke(){Y.call(this),this.i=new En(this),this.M=this,this.F=null}y(ke,Y),ke.prototype[te]=!0,ke.prototype.removeEventListener=function(u,p,_,C){Qe(this,u,p,_,C)};function it(u,p){var _,C=u.F;if(C)for(_=[];C;C=C.F)_.push(C);if(u=u.M,C=p.type||p,typeof p=="string")p=new P(p,u);else if(p instanceof P)p.target=p.target||u;else{var B=p;p=new P(C,u),T(p,B)}if(B=!0,_)for(var j=_.length-1;0<=j;j--){var fe=p.g=_[j];B=Fn(fe,C,!0,p)&&B}if(fe=p.g=u,B=Fn(fe,C,!0,p)&&B,B=Fn(fe,C,!1,p)&&B,_)for(j=0;j<_.length;j++)fe=p.g=_[j],B=Fn(fe,C,!1,p)&&B}ke.prototype.N=function(){if(ke.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var _=u.g[p],C=0;C<_.length;C++)Ft(_[C]);delete u.g[p],u.h--}}this.F=null},ke.prototype.K=function(u,p,_,C){return this.i.add(String(u),p,!1,_,C)},ke.prototype.L=function(u,p,_,C){return this.i.add(String(u),p,!0,_,C)};function Fn(u,p,_,C){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var B=!0,j=0;j<p.length;++j){var fe=p[j];if(fe&&!fe.da&&fe.capture==_){var vn=fe.listener,ms=fe.ha||fe.src;fe.fa&&fn(u.i,fe),B=vn.call(ms,C)!==!1&&B}}return B&&!C.defaultPrevented}function Oi(u,p,_){if(typeof u=="function")_&&(u=f(u,_));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function Yr(u){u.g=Oi(()=>{u.g=null,u.i&&(u.i=!1,Yr(u))},u.l);let p=u.h;u.h=null,u.m.apply(null,p)}class zh extends Y{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Yr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wt(u){Y.call(this),this.h=u,this.g={}}y(Wt,Y);var Qs=[];function Uo(u){F(u.g,function(p,_){this.g.hasOwnProperty(_)&&sn(p)},u),u.g={}}Wt.prototype.N=function(){Wt.aa.N.call(this),Uo(this)},Wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nc=a.JSON.stringify,Xu=a.JSON.parse,kc=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Ac(){}Ac.prototype.h=null;function jh(u){return u.h||(u.h=u.i())}function Gh(){}var oe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function se(){P.call(this,"d")}y(se,P);function $t(){P.call(this,"c")}y($t,P);var Sn={},mn=null;function Xr(){return mn=mn||new ke}Sn.La="serverreachability";function Mi(u){P.call(this,Sn.La,u)}y(Mi,P);function lo(u){let p=Xr();it(p,new Mi(p))}Sn.STAT_EVENT="statevent";function Nr(u,p){P.call(this,Sn.STAT_EVENT,u),this.stat=p}y(Nr,P);function Un(u){let p=Xr();it(p,new Nr(p,u))}Sn.Ma="timingevent";function Fi(u,p){P.call(this,Sn.Ma,u),this.size=p}y(Fi,P);function Ys(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function Vo(){this.g=!0}Vo.prototype.xa=function(){this.g=!1};function Ju(u,p,_,C,B,j){u.info(function(){if(u.g)if(j)for(var fe="",vn=j.split("&"),ms=0;ms<vn.length;ms++){var Kt=vn[ms].split("=");if(1<Kt.length){var xs=Kt[0];Kt=Kt[1];var Es=xs.split("_");fe=2<=Es.length&&Es[1]=="type"?fe+(xs+"="+Kt+"&"):fe+(xs+"=redacted&")}}else fe=null;else fe=j;return"XMLHTTP REQ ("+C+") [attempt "+B+"]: "+p+`
`+_+`
`+fe})}function ca(u,p,_,C,B,j,fe){u.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+B+"]: "+p+`
`+_+`
`+j+" "+fe})}function co(u,p,_,C){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+hK(u,_)+(C?" "+C:"")})}function Pp(u,p){u.info(function(){return"TIMEOUT: "+p})}Vo.prototype.info=function(){};function hK(u,p){if(!u.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var C=_[u];if(!(2>C.length)){var B=C[1];if(Array.isArray(B)&&!(1>B.length)){var j=B[0];if(j!="noop"&&j!="stop"&&j!="close")for(var fe=1;fe<B.length;fe++)B[fe]=""}}}}return Nc(_)}catch{return p}}var Lv={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},SO={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yE;function Pv(){}y(Pv,Ac),Pv.prototype.g=function(){return new XMLHttpRequest},Pv.prototype.i=function(){return{}},yE=new Pv;function Dc(u,p,_,C){this.j=u,this.i=p,this.l=_,this.R=C||1,this.U=new Wt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new NO}function NO(){this.i=null,this.g="",this.h=!1}var kO={},vE={};function bE(u,p,_){u.L=1,u.v=Uv(xl(p)),u.m=_,u.P=!0,AO(u,null)}function AO(u,p){u.F=Date.now(),Ov(u),u.A=xl(u.v);var _=u.A,C=u.R;Array.isArray(C)||(C=[String(C)]),zO(_.i,"t",C),u.C=0,_=u.j.J,u.h=new NO,u.g=aM(u.j,_?p:null,!u.m),0<u.O&&(u.M=new zh(f(u.Y,u,u.g),u.O)),p=u.U,_=u.g,C=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(Qs[0]=B.toString()),B=Qs);for(var j=0;j<B.length;j++){var fe=Sr(_,B[j],C||p.handleEvent,!1,p.h||p);if(!fe)break;p.g[fe.key]=fe}p=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),lo(),Ju(u.i,u.u,u.A,u.l,u.R,u.m)}Dc.prototype.ca=function(u){u=u.target;let p=this.M;p&&El(u)==3?p.j():this.Y(u)},Dc.prototype.Y=function(u){try{if(u==this.g)e:{let Es=El(this.g);var p=this.g.Ba();let Wh=this.g.Z();if(!(3>Es)&&(Es!=3||this.g&&(this.h.h||this.g.oa()||YO(this.g)))){this.J||Es!=4||p==7||(p==8||0>=Wh?lo(3):lo(2)),wE(this);var _=this.g.Z();this.X=_;t:if(DO(this)){var C=YO(this.g);u="";var B=C.length,j=El(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zu(this),Op(this);var fe="";break t}this.h.i=new a.TextDecoder}for(p=0;p<B;p++)this.h.h=!0,u+=this.h.i.decode(C[p],{stream:!(j&&p==B-1)});C.length=0,this.h.g+=u,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=_==200,ca(this.i,this.u,this.A,this.l,this.R,Es,_),this.o){if(this.T&&!this.K){t:{if(this.g){var vn,ms=this.g;if((vn=ms.g?ms.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(vn)){var Kt=vn;break t}}Kt=null}if(_=Kt)co(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_E(this,_);else{this.o=!1,this.s=3,Un(12),Zu(this),Op(this);break e}}if(this.P){_=!0;let Ho;for(;!this.J&&this.C<fe.length;)if(Ho=fK(this,fe),Ho==vE){Es==4&&(this.s=4,Un(14),_=!1),co(this.i,this.l,null,"[Incomplete Response]");break}else if(Ho==kO){this.s=4,Un(15),co(this.i,this.l,fe,"[Invalid Chunk]"),_=!1;break}else co(this.i,this.l,Ho,null),_E(this,Ho);if(DO(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Es!=4||fe.length!=0||this.h.h||(this.s=1,Un(16),_=!1),this.o=this.o&&_,!_)co(this.i,this.l,fe,"[Invalid Chunked Response]"),Zu(this),Op(this);else if(0<fe.length&&!this.W){this.W=!0;var xs=this.j;xs.g==this&&xs.ba&&!xs.M&&(xs.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),NE(xs),xs.M=!0,Un(11))}}else co(this.i,this.l,fe,null),_E(this,fe);Es==4&&Zu(this),this.o&&!this.J&&(Es==4?rM(this.j,this):(this.o=!1,Ov(this)))}else DK(this.g),_==400&&0<fe.indexOf("Unknown SID")?(this.s=3,Un(12)):(this.s=0,Un(13)),Zu(this),Op(this)}}}catch{}finally{}};function DO(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function fK(u,p){var _=u.C,C=p.indexOf(`
`,_);return C==-1?vE:(_=Number(p.substring(_,C)),isNaN(_)?kO:(C+=1,C+_>p.length?vE:(p=p.slice(C,C+_),u.C=C+_,p)))}Dc.prototype.cancel=function(){this.J=!0,Zu(this)};function Ov(u){u.S=Date.now()+u.I,CO(u,u.I)}function CO(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ys(f(u.ba,u),p)}function wE(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Dc.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(Pp(this.i,this.A),this.L!=2&&(lo(),Un(17)),Zu(this),this.s=2,Op(this)):CO(this,this.S-u)};function Op(u){u.j.G==0||u.J||rM(u.j,u)}function Zu(u){wE(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Uo(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function _E(u,p){try{var _=u.j;if(_.G!=0&&(_.g==u||TE(_.h,u))){if(!u.K&&TE(_.h,u)&&_.G==3){try{var C=_.Da.g.parse(p)}catch{C=null}if(Array.isArray(C)&&C.length==3){var B=C;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)zv(_),Bv(_);else break e;SE(_),Un(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ys(f(_.Za,_),6e3));if(1>=PO(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else td(_,11)}else if((u.K||_.g==u)&&zv(_),!b(p))for(B=_.Da.g.parse(p),p=0;p<B.length;p++){let Kt=B[p];if(_.T=Kt[0],Kt=Kt[1],_.G==2)if(Kt[0]=="c"){_.K=Kt[1],_.ia=Kt[2];let xs=Kt[3];xs!=null&&(_.la=xs,_.j.info("VER="+_.la));let Es=Kt[4];Es!=null&&(_.Aa=Es,_.j.info("SVER="+_.Aa));let Wh=Kt[5];Wh!=null&&typeof Wh=="number"&&0<Wh&&(C=1.5*Wh,_.L=C,_.j.info("backChannelRequestTimeoutMs_="+C)),C=_;let Ho=u.g;if(Ho){let Gv=Ho.g?Ho.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gv){var j=C.h;j.g||Gv.indexOf("spdy")==-1&&Gv.indexOf("quic")==-1&&Gv.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(IE(j,j.h),j.h=null))}if(C.D){let kE=Ho.g?Ho.g.getResponseHeader("X-HTTP-Session-Id"):null;kE&&(C.ya=kE,Cn(C.I,C.D,kE))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),C=_;var fe=u;if(C.qa=oM(C,C.J?C.ia:null,C.W),fe.K){OO(C.h,fe);var vn=fe,ms=C.L;ms&&(vn.I=ms),vn.B&&(wE(vn),Ov(vn)),C.g=fe}else tM(C);0<_.i.length&&qv(_)}else Kt[0]!="stop"&&Kt[0]!="close"||td(_,7);else _.G==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?td(_,7):EE(_):Kt[0]!="noop"&&_.l&&_.l.ta(Kt),_.v=0)}}lo(4)}catch{}}var mK=class{constructor(u,p){this.g=u,this.map=p}};function RO(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function LO(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function PO(u){return u.h?1:u.g?u.g.size:0}function TE(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function IE(u,p){u.g?u.g.add(p):u.h=p}function OO(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}RO.prototype.cancel=function(){if(this.i=MO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function MO(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(let _ of u.g.values())p=p.concat(_.D);return p}return w(u.i)}function pK(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],_=u.length,C=0;C<_;C++)p.push(u[C]);return p}p=[],_=0;for(C in u)p[_++]=u[C];return p}function gK(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var _=0;_<u;_++)p.push(_);return p}p=[],_=0;for(let C in u)p[_++]=C;return p}}}function FO(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var _=gK(u),C=pK(u),B=C.length,j=0;j<B;j++)p.call(void 0,C[j],_&&_[j],u)}var UO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yK(u,p){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var C=u[_].indexOf("="),B=null;if(0<=C){var j=u[_].substring(0,C);B=u[_].substring(C+1)}else j=u[_];p(j,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function ed(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ed){this.h=u.h,Mv(this,u.j),this.o=u.o,this.g=u.g,Fv(this,u.s),this.l=u.l;var p=u.i,_=new Up;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),VO(this,_),this.m=u.m}else u&&(p=String(u).match(UO))?(this.h=!1,Mv(this,p[1]||"",!0),this.o=Mp(p[2]||""),this.g=Mp(p[3]||"",!0),Fv(this,p[4]),this.l=Mp(p[5]||"",!0),VO(this,p[6]||"",!0),this.m=Mp(p[7]||"")):(this.h=!1,this.i=new Up(null,this.h))}ed.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Fp(p,HO,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Fp(p,HO,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Fp(_,_.charAt(0)=="/"?wK:bK,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Fp(_,TK)),u.join("")};function xl(u){return new ed(u)}function Mv(u,p,_){u.j=_?Mp(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Fv(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function VO(u,p,_){p instanceof Up?(u.i=p,IK(u.i,u.h)):(_||(p=Fp(p,_K)),u.i=new Up(p,u.h))}function Cn(u,p,_){u.i.set(p,_)}function Uv(u){return Cn(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Mp(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Fp(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,vK),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function vK(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var HO=/[#\/\?@]/g,bK=/[#\?:]/g,wK=/[#\?]/g,_K=/[#\?@]/g,TK=/#/g;function Up(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Cc(u){u.g||(u.g=new Map,u.h=0,u.i&&yK(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}t=Up.prototype,t.add=function(u,p){Cc(this),this.i=null,u=$h(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function BO(u,p){Cc(u),p=$h(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function qO(u,p){return Cc(u),p=$h(u,p),u.g.has(p)}t.forEach=function(u,p){Cc(this),this.g.forEach(function(_,C){_.forEach(function(B){u.call(p,B,C,this)},this)},this)},t.na=function(){Cc(this);let u=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let C=0;C<p.length;C++){let B=u[C];for(let j=0;j<B.length;j++)_.push(p[C])}return _},t.V=function(u){Cc(this);let p=[];if(typeof u=="string")qO(this,u)&&(p=p.concat(this.g.get($h(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)p=p.concat(u[_])}return p},t.set=function(u,p){return Cc(this),this.i=null,u=$h(this,u),qO(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function zO(u,p,_){BO(u,p),0<_.length&&(u.i=null,u.g.set($h(u,p),w(_)),u.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var C=p[_];let j=encodeURIComponent(String(C)),fe=this.V(C);for(C=0;C<fe.length;C++){var B=j;fe[C]!==""&&(B+="="+encodeURIComponent(String(fe[C]))),u.push(B)}}return this.i=u.join("&")};function $h(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function IK(u,p){p&&!u.j&&(Cc(u),u.i=null,u.g.forEach(function(_,C){var B=C.toLowerCase();C!=B&&(BO(this,C),zO(this,B,_))},u)),u.j=p}function xK(u,p){let _=new Vo;if(a.Image){let C=new Image;C.onload=m(Rc,_,"TestLoadImage: loaded",!0,p,C),C.onerror=m(Rc,_,"TestLoadImage: error",!1,p,C),C.onabort=m(Rc,_,"TestLoadImage: abort",!1,p,C),C.ontimeout=m(Rc,_,"TestLoadImage: timeout",!1,p,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=u}else p(!1)}function EK(u,p){let _=new Vo,C=new AbortController,B=setTimeout(()=>{C.abort(),Rc(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:C.signal}).then(j=>{clearTimeout(B),j.ok?Rc(_,"TestPingServer: ok",!0,p):Rc(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(B),Rc(_,"TestPingServer: error",!1,p)})}function Rc(u,p,_,C,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),C(_)}catch{}}function SK(){this.g=new kc}function NK(u,p,_){let C=_||"";try{FO(u,function(B,j){let fe=B;c(B)&&(fe=Nc(B)),p.push(C+j+"="+encodeURIComponent(fe))})}catch(B){throw p.push(C+"type="+encodeURIComponent("_badmap")),B}}function Vp(u){this.l=u.Ub||null,this.j=u.eb||!1}y(Vp,Ac),Vp.prototype.g=function(){return new Vv(this.l,this.j)},Vp.prototype.i=function(u){return function(){return u}}({});function Vv(u,p){ke.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Vv,ke),t=Vv.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Bp(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hp(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bp(this)),this.g&&(this.readyState=3,Bp(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jO(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function jO(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Hp(this):Bp(this),this.readyState==3&&jO(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Hp(this))},t.Qa=function(u){this.g&&(this.response=u,Hp(this))},t.ga=function(){this.g&&Hp(this)};function Hp(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Bp(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function Bp(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Vv.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function GO(u){let p="";return F(u,function(_,C){p+=C,p+=":",p+=_,p+=`\r
`}),p}function xE(u,p,_){e:{for(C in _){var C=!1;break e}C=!0}C||(_=GO(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Cn(u,p,_))}function or(u){ke.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(or,ke);var kK=/^https?$/i,AK=["POST","PUT"];t=or.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,_,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yE.g(),this.v=this.o?jh(this.o):jh(yE),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(j){$O(this,j);return}if(u=_||"",_=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var B in C)_.set(B,C[B]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(let j of C.keys())_.set(j,C.get(j));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),B=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(AK,p,void 0))||C||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[j,fe]of _)this.g.setRequestHeader(j,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{QO(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){$O(this,j)}};function $O(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,KO(u),Hv(u)}function KO(u){u.A||(u.A=!0,it(u,"complete"),it(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,it(this,"complete"),it(this,"abort"),Hv(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hv(this,!0)),or.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?WO(this):this.bb())},t.bb=function(){WO(this)};function WO(u){if(u.h&&typeof o<"u"&&(!u.v[1]||El(u)!=4||u.Z()!=2)){if(u.u&&El(u)==4)Oi(u.Ea,0,u);else if(it(u,"readystatechange"),El(u)==4){u.h=!1;try{let fe=u.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var C;if(C=fe===0){var B=String(u.D).match(UO)[1]||null;!B&&a.self&&a.self.location&&(B=a.self.location.protocol.slice(0,-1)),C=!kK.test(B?B.toLowerCase():"")}_=C}if(_)it(u,"complete"),it(u,"success");else{u.m=6;try{var j=2<El(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",KO(u)}}finally{Hv(u)}}}}function Hv(u,p){if(u.g){QO(u);let _=u.g,C=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||it(u,"ready");try{_.onreadystatechange=C}catch{}}}function QO(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function El(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<El(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Xu(p)}};function YO(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function DK(u){let p={};u=(u.g&&2<=El(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<u.length;C++){if(b(u[C]))continue;var _=N(u[C]);let B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();let j=p[B]||[];p[B]=j,j.push(_)}S(p,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qp(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function XO(u){this.Aa=0,this.i=[],this.j=new Vo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qp("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qp("baseRetryDelayMs",5e3,u),this.cb=qp("retryDelaySeedMs",1e4,u),this.Wa=qp("forwardChannelMaxRetries",2,u),this.wa=qp("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new RO(u&&u.concurrentRequestLimit),this.Da=new SK,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=XO.prototype,t.la=8,t.G=1,t.connect=function(u,p,_,C){Un(0),this.W=u,this.H=p||{},_&&C!==void 0&&(this.H.OSID=_,this.H.OAID=C),this.F=this.X,this.I=oM(this,null,this.W),qv(this)};function EE(u){if(JO(u),u.G==3){var p=u.U++,_=xl(u.I);if(Cn(_,"SID",u.K),Cn(_,"RID",p),Cn(_,"TYPE","terminate"),zp(u,_),p=new Dc(u,u.j,p),p.L=2,p.v=Uv(xl(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=p.v,_=!0),_||(p.g=aM(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Ov(p)}iM(u)}function Bv(u){u.g&&(NE(u),u.g.cancel(),u.g=null)}function JO(u){Bv(u),u.u&&(a.clearTimeout(u.u),u.u=null),zv(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function qv(u){if(!LO(u.h)&&!u.s){u.s=!0;var p=u.Ga;he||Le(),ie||(he(),ie=!0),Se.add(p,u),u.B=0}}function CK(u,p){return PO(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ys(f(u.Ga,u,p),sM(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let B=new Dc(this,this.j,u),j=this.o;if(this.S&&(j?(j=E(j),T(j,this.S)):j=this.S),this.m!==null||this.O||(B.H=j,j=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var C=this.i[_];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(p+=C,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=eM(this,B,p),_=xl(this.I),Cn(_,"RID",u),Cn(_,"CVER",22),this.D&&Cn(_,"X-HTTP-Session-Id",this.D),zp(this,_),j&&(this.O?p="headers="+encodeURIComponent(String(GO(j)))+"&"+p:this.m&&xE(_,this.m,j)),IE(this.h,B),this.Ua&&Cn(_,"TYPE","init"),this.P?(Cn(_,"$req",p),Cn(_,"SID","null"),B.T=!0,bE(B,_,null)):bE(B,_,p),this.G=2}}else this.G==3&&(u?ZO(this,u):this.i.length==0||LO(this.h)||ZO(this))};function ZO(u,p){var _;p?_=p.l:_=u.U++;let C=xl(u.I);Cn(C,"SID",u.K),Cn(C,"RID",_),Cn(C,"AID",u.T),zp(u,C),u.m&&u.o&&xE(C,u.m,u.o),_=new Dc(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),p&&(u.i=p.D.concat(u.i)),p=eM(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),IE(u.h,_),bE(_,C,p)}function zp(u,p){u.H&&F(u.H,function(_,C){Cn(p,C,_)}),u.l&&FO({},function(_,C){Cn(p,C,_)})}function eM(u,p,_){_=Math.min(u.i.length,_);var C=u.l?f(u.l.Na,u.l,u):null;e:{var B=u.i;let j=-1;for(;;){let fe=["count="+_];j==-1?0<_?(j=B[0].g,fe.push("ofs="+j)):j=0:fe.push("ofs="+j);let vn=!0;for(let ms=0;ms<_;ms++){let Kt=B[ms].g,xs=B[ms].map;if(Kt-=j,0>Kt)j=Math.max(0,B[ms].g-100),vn=!1;else try{NK(xs,fe,"req"+Kt+"_")}catch{C&&C(xs)}}if(vn){C=fe.join("&");break e}}}return u=u.i.splice(0,_),p.D=u,C}function tM(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;he||Le(),ie||(he(),ie=!0),Se.add(p,u),u.v=0}}function SE(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ys(f(u.Fa,u),sM(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,nM(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ys(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Un(10),Bv(this),nM(this))};function NE(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function nM(u){u.g=new Dc(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=xl(u.qa);Cn(p,"RID","rpc"),Cn(p,"SID",u.K),Cn(p,"AID",u.T),Cn(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Cn(p,"TO",u.ja),Cn(p,"TYPE","xmlhttp"),zp(u,p),u.m&&u.o&&xE(p,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Uv(xl(p)),_.m=null,_.P=!0,AO(_,u)}t.Za=function(){this.C!=null&&(this.C=null,Bv(this),SE(this),Un(19))};function zv(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function rM(u,p){var _=null;if(u.g==p){zv(u),NE(u),u.g=null;var C=2}else if(TE(u.h,p))_=p.D,OO(u.h,p),C=1;else return;if(u.G!=0){if(p.o)if(C==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var B=u.B;C=Xr(),it(C,new Fi(C,_)),qv(u)}else tM(u);else if(B=p.s,B==3||B==0&&0<p.X||!(C==1&&CK(u,p)||C==2&&SE(u)))switch(_&&0<_.length&&(p=u.h,p.i=p.i.concat(_)),B){case 1:td(u,5);break;case 4:td(u,10);break;case 3:td(u,6);break;default:td(u,2)}}}function sM(u,p){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*p}function td(u,p){if(u.j.info("Error code "+p),p==2){var _=f(u.fb,u),C=u.Xa;let B=!C;C=new ed(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Mv(C,"https"),Uv(C),B?xK(C.toString(),_):EK(C.toString(),_)}else Un(2);u.G=0,u.l&&u.l.sa(p),iM(u),JO(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Un(2)):(this.j.info("Failed to ping google.com"),Un(1))};function iM(u){if(u.G=0,u.ka=[],u.l){let p=MO(u.h);(p.length!=0||u.i.length!=0)&&(v(u.ka,p),v(u.ka,u.i),u.h.i.length=0,w(u.i),u.i.length=0),u.l.ra()}}function oM(u,p,_){var C=_ instanceof ed?xl(_):new ed(_);if(C.g!="")p&&(C.g=p+"."+C.g),Fv(C,C.s);else{var B=a.location;C=B.protocol,p=p?p+"."+B.hostname:B.hostname,B=+B.port;var j=new ed(null);C&&Mv(j,C),p&&(j.g=p),B&&Fv(j,B),_&&(j.l=_),C=j}return _=u.D,p=u.ya,_&&p&&Cn(C,_,p),Cn(C,"VER",u.la),zp(u,C),C}function aM(u,p,_){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new or(new Vp({eb:_})):new or(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lM(){}t=lM.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function jv(){}jv.prototype.g=function(u,p){return new Ui(u,p)};function Ui(u,p){ke.call(this),this.g=new XO(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!b(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!b(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Kh(this)}y(Ui,ke),Ui.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ui.prototype.close=function(){EE(this.g)},Ui.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Nc(u),u=_);p.i.push(new mK(p.Ya++,u)),p.G==3&&qv(p)},Ui.prototype.N=function(){this.g.l=null,delete this.j,EE(this.g),delete this.g,Ui.aa.N.call(this)};function cM(u){se.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(let _ in p){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}y(cM,se);function uM(){$t.call(this),this.status=1}y(uM,$t);function Kh(u){this.g=u}y(Kh,lM),Kh.prototype.ua=function(){it(this.g,"a")},Kh.prototype.ta=function(u){it(this.g,new cM(u))},Kh.prototype.sa=function(u){it(this.g,new uM)},Kh.prototype.ra=function(){it(this.g,"b")},jv.prototype.createWebChannel=jv.prototype.g,Ui.prototype.send=Ui.prototype.o,Ui.prototype.open=Ui.prototype.m,Ui.prototype.close=Ui.prototype.close,Ak=Xl.createWebChannelTransport=function(){return new jv},kk=Xl.getStatEventTarget=function(){return Xr()},Nk=Xl.Event=Sn,m_=Xl.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lv.NO_ERROR=0,Lv.TIMEOUT=8,Lv.HTTP_ERROR=6,Ty=Xl.ErrorCode=Lv,SO.COMPLETE="complete",Sk=Xl.EventType=SO,Gh.EventType=oe,oe.OPEN="a",oe.CLOSE="b",oe.ERROR="c",oe.MESSAGE="d",ke.prototype.listen=ke.prototype.K,Zf=Xl.WebChannel=Gh,nee=Xl.FetchXmlHttpFactory=Vp,or.prototype.listenOnce=or.prototype.L,or.prototype.getLastError=or.prototype.Ka,or.prototype.getLastErrorCode=or.prototype.Ba,or.prototype.getStatus=or.prototype.Z,or.prototype.getResponseJson=or.prototype.Oa,or.prototype.getResponseText=or.prototype.oa,or.prototype.send=or.prototype.ea,or.prototype.setWithCredentials=or.prototype.Ha,Ek=Xl.XhrIo=or}).apply(typeof f_<"u"?f_:typeof self<"u"?self:typeof window<"u"?window:{});var kV="@firebase/firestore",AV="4.9.0";var ss=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ss.UNAUTHENTICATED=new ss(null),ss.GOOGLE_CREDENTIALS=new ss("google-credentials-uid"),ss.FIRST_PARTY=new ss("first-party-uid"),ss.MOCK_USER=new ss("mock-user");var Tm="12.0.0";var Ud=new au("@firebase/firestore");function em(){return Ud.logLevel}function xe(t,...e){if(Ud.logLevel<=Tt.DEBUG){let n=e.map(wD);Ud.debug(`Firestore (${Tm}): ${t}`,...n)}}function Jl(t,...e){if(Ud.logLevel<=Tt.ERROR){let n=e.map(wD);Ud.error(`Firestore (${Tm}): ${t}`,...n)}}function am(t,...e){if(Ud.logLevel<=Tt.WARN){let n=e.map(wD);Ud.warn(`Firestore (${Tm}): ${t}`,...n)}}function wD(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Ye(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,b6(t,r,n)}function b6(t,e,n){let r=`FIRESTORE (${Tm}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Jl(r),new Error(r)}function tn(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||b6(e,s,r)}function ot(t,e){return t}var K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ve=class extends ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Da=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var __=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Ok=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ss.UNAUTHENTICATED))}shutdown(){}},Mk=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Fk=class{constructor(e){this.t=e,this.currentUser=ss.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tn(this.o===void 0,42304);let r=this.i,s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve(),i=new Da;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Da,e.enqueueRetryable(()=>s(this.currentUser))};let o=()=>{let l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Da)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tn(typeof r.accessToken=="string",31837,{l:r}),new __(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return tn(e===null||typeof e=="string",2055,{h:e}),new ss(e)}},Uk=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ss.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Vk=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Uk(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ss.FIRST_PARTY))}shutdown(){}invalidateToken(){}},T_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Hk=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tn(this.o===void 0,3512);let r=i=>{i.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);let o=i.token!==this.m;return this.m=i.token,xe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};let s=i=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){let i=this.V.getImmediate({optional:!0});i?s(i):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new T_(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new T_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function ree(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ky=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let s=ree(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}};function Nt(t,e){return t<e?-1:t>e?1:0}function Bk(t,e){let n=Math.min(t.length,e.length);for(let r=0;r<n;r++){let s=t.charAt(r),i=e.charAt(r);if(s!==i)return Dk(s)===Dk(i)?Nt(s,i):Dk(s)?1:-1}return Nt(t.length,e.length)}var see=55296,iee=57343;function Dk(t){let e=t.charCodeAt(0);return e>=see&&e<=iee}function lm(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}var DV="__name__",I_=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ye(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ye(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let s=0;s<r;s++){let i=t.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Nt(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),s=t.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?t.extractNumericId(e).compare(t.extractNumericId(n)):Bk(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yl.fromString(e.substring(4,e.length-2))}},$n=class t extends I_{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new ve(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new t(n)}static emptyPath(){return new t([])}},oee=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zi=class t extends I_{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return oee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DV}static keyField(){return new t([DV])}static fromServerFormat(e){let n=[],r="",s=0,i=()=>{if(r.length===0)throw new ve(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;s<e.length;){let a=e[s];if(a==="\\"){if(s+1===e.length)throw new ve(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ve(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ve(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Ge=class t{constructor(e){this.path=e}static fromPath(e){return new t($n.fromString(e))}static fromName(e){return new t($n.fromString(e).popFirst(5))}static empty(){return new t($n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$n.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $n.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new $n(e.slice()))}};function w6(t,e,n){if(!n)throw new ve(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aee(t,e,n,r){if(e===!0&&r===!0)throw new ve(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CV(t){if(!Ge.isDocumentKey(t))throw new ve(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function RV(t){if(Ge.isDocumentKey(t))throw new ve(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _6(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function tT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ye(12329,{type:typeof t})}function xo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=tT(t);throw new ve(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Lr(t,e){let n={typeString:t};return e&&(n.value=e),n}function qy(t,e){if(!_6(t))throw new ve(K.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ve(K.INVALID_ARGUMENT,n);return!0}var LV=-62135596800,PV=1e6,ur=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*PV);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<LV)throw new ve(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PV}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qy(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-LV;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ur._jsonSchemaVersion="firestore/timestamp/1.0",ur._jsonSchema={type:Lr("string",ur._jsonSchemaVersion),seconds:Lr("number"),nanoseconds:Lr("number")};var at=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new ur(0,0))}static max(){return new t(new ur(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ay=-1,qk=class{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}};qk.UNKNOWN_ID=-1;function lee(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=at.fromTimestamp(r===1e9?new ur(n+1,0):new ur(n,r));return new Vd(s,Ge.empty(),e)}function cee(t){return new Vd(t.readTime,t.key,Ay)}var Vd=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(at.min(),Ge.empty(),Ay)}static max(){return new t(at.max(),Ge.empty(),Ay)}};function uee(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ge.comparator(t.documentKey,e.documentKey),n!==0?n:Nt(t.largestBatchId,e.largestBatchId))}var dee="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",zk=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function Im(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==dee)throw t;xe("LocalStore","Unexpectedly lost primary lease")}var re=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(s=>s?t.resolve(s):r());return n}static forEach(e,n){let r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new t((r,s)=>{let i=e.length,o=new Array(i),a=0;for(let l=0;l<i;l++){let c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new t((r,s)=>{let i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}};function hee(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xm(t){return t.name==="IndexedDbTransactionError"}var cm=class{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}};cm.ce=-1;var _D=-1;function nT(t){return t==null}function Dy(t){return t===0&&1/t==-1/0}function fee(t){return typeof t=="number"&&Number.isInteger(t)&&!Dy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var T6="";function mee(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=OV(e)),e=pee(t.get(n),e);return OV(e)}function pee(t,e){let n=e,r=t.length;for(let s=0;s<r;s++){let i=t.charAt(s);switch(i){case"\0":n+="";break;case T6:n+="";break;default:n+=i}}return n}function OV(t){return t+T6+""}var gee="remoteDocuments",I6="owner";var x6="mutationQueues";var E6="mutations";var S6="documentMutations",yee="remoteDocumentsV14";var N6="remoteDocumentGlobal";var k6="targets";var A6="targetDocuments";var D6="targetGlobal",C6="collectionParents";var R6="clientMetadata";var L6="bundles";var P6="namedQueries";var vee="indexConfiguration";var bee="indexState";var wee="indexEntries";var O6="documentOverlays";var _ee="globals";var Tee=[x6,E6,S6,gee,k6,I6,D6,A6,R6,N6,C6,L6,P6],rye=[...Tee,O6],Iee=[x6,E6,S6,yee,k6,I6,D6,A6,R6,N6,C6,L6,P6,O6],xee=Iee,Eee=[...xee,vee,bee,wee];var sye=[...Eee,_ee];function MV(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _u(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function M6(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var dr=class t{constructor(e,n){this.comparator=e,this.root=n||Ca.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ca.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ca.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sm(this.root,e,this.comparator,!1)}getReverseIterator(){return new sm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sm(this.root,e,this.comparator,!0)}},sm=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ca=class t{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??t.RED,this.left=s??t.EMPTY,this.right=i??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new t(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this,i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ye(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Ye(27949);return e+(this.isRed()?0:1)}};Ca.EMPTY=null,Ca.RED=!0,Ca.BLACK=!1;Ca.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye(57766)}get value(){throw Ye(16141)}get color(){throw Ye(16727)}get left(){throw Ye(29726)}get right(){throw Ye(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ca(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var is=class t{constructor(e){this.comparator=e,this.data=new dr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new x_(this.data.getIterator())}getIteratorFrom(e){return new x_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},x_=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Io=class t{constructor(e){this.fields=e,e.sort(Zi.comparator)}static empty(){return new t([])}unionWith(e){let n=new is(Zi.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lm(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var E_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ps=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new E_("Invalid base64 string: "+i):i}}(e);return new t(n)}static fromUint8Array(e){let n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ps.EMPTY_BYTE_STRING=new Ps("");var See=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zl(t){if(tn(!!t,39018),typeof t=="string"){let e=0,n=See.exec(t);if(tn(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gn(t.seconds),nanos:Gn(t.nanos)}}function Gn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ec(t){return typeof t=="string"?Ps.fromBase64String(t):Ps.fromUint8Array(t)}var F6="server_timestamp",U6="__type__",V6="__previous_value__",H6="__local_write_time__";function TD(t){return(t?.mapValue?.fields||{})[U6]?.stringValue===F6}function rT(t){let e=t.mapValue.fields[V6];return TD(e)?rT(e):e}function Cy(t){let e=Zl(t.mapValue.fields[H6].timestampValue);return new ur(e.seconds,e.nanos)}var jk=class{constructor(e,n,r,s,i,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}},S_="(default)",N_=class t{constructor(e,n){this.projectId=e,this.database=n||S_}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===S_}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ID="__type__",B6="__max__",p_={mapValue:{fields:{__type__:{stringValue:B6}}}},xD="__vector__",um="value";function gu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?TD(t)?4:z6(t)?9007199254740991:q6(t)?10:11:Ye(28295,{value:t})}function Oa(t,e){if(t===e)return!0;let n=gu(t);if(n!==gu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cy(t).isEqual(Cy(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;let o=Zl(s.timestampValue),a=Zl(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ec(s.bytesValue).isEqual(ec(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Gn(s.geoPointValue.latitude)===Gn(i.geoPointValue.latitude)&&Gn(s.geoPointValue.longitude)===Gn(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Gn(s.integerValue)===Gn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){let o=Gn(s.doubleValue),a=Gn(i.doubleValue);return o===a?Dy(o)===Dy(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return lm(t.arrayValue.values||[],e.arrayValue.values||[],Oa);case 10:case 11:return function(s,i){let o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(MV(o)!==MV(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Oa(o[l],a[l])))return!1;return!0}(t,e);default:return Ye(52216,{left:t})}}function Ry(t,e){return(t.values||[]).find(n=>Oa(n,e))!==void 0}function dm(t,e){if(t===e)return 0;let n=gu(t),r=gu(e);if(n!==r)return Nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nt(t.booleanValue,e.booleanValue);case 2:return function(i,o){let a=Gn(i.integerValue||i.doubleValue),l=Gn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return FV(t.timestampValue,e.timestampValue);case 4:return FV(Cy(t),Cy(e));case 5:return Bk(t.stringValue,e.stringValue);case 6:return function(i,o){let a=ec(i),l=ec(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){let a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){let d=Nt(a[c],l[c]);if(d!==0)return d}return Nt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){let a=Nt(Gn(i.latitude),Gn(o.latitude));return a!==0?a:Nt(Gn(i.longitude),Gn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return UV(t.arrayValue,e.arrayValue);case 10:return function(i,o){let a=i.fields||{},l=o.fields||{},c=a[um]?.arrayValue,d=l[um]?.arrayValue,h=Nt(c?.values?.length||0,d?.values?.length||0);return h!==0?h:UV(c,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===p_.mapValue&&o===p_.mapValue)return 0;if(i===p_.mapValue)return 1;if(o===p_.mapValue)return-1;let a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){let f=Bk(l[h],d[h]);if(f!==0)return f;let m=dm(a[l[h]],c[d[h]]);if(m!==0)return m}return Nt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Ye(23264,{he:n})}}function FV(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Nt(t,e);let n=Zl(t),r=Zl(e),s=Nt(n.seconds,r.seconds);return s!==0?s:Nt(n.nanos,r.nanos)}function UV(t,e){let n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){let i=dm(n[s],r[s]);if(i)return i}return Nt(n.length,r.length)}function hm(t){return Gk(t)}function Gk(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Zl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ec(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ge.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(let i of n.values||[])s?s=!1:r+=",",r+=Gk(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),s="{",i=!0;for(let o of r)i?i=!1:s+=",",s+=`${o}:${Gk(n.fields[o])}`;return s+"}"}(t.mapValue):Ye(61005,{value:t})}function v_(t){switch(gu(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=rT(t);return e?16+v_(e):16;case 5:return 2*t.stringValue.length;case 6:return ec(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+v_(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return _u(r.fields,(i,o)=>{s+=i.length+v_(o)}),s}(t.mapValue);default:throw Ye(13486,{value:t})}}function VV(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $k(t){return!!t&&"integerValue"in t}function ED(t){return!!t&&"arrayValue"in t}function HV(t){return!!t&&"nullValue"in t}function BV(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function b_(t){return!!t&&"mapValue"in t}function q6(t){return(t?.mapValue?.fields||{})[ID]?.stringValue===xD}function xy(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){let e={mapValue:{fields:{}}};return _u(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xy(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xy(t.arrayValue.values[n]);return e}return{...t}}function z6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===B6}var oye={mapValue:{fields:{[ID]:{stringValue:xD},[um]:{arrayValue:{}}}}};var Ji=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!b_(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xy(n)}setAll(e){let n=Zi.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=xy(o):s.push(a.lastSegment())});let i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){let n=this.field(e.popLast());b_(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Oa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];b_(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){_u(n,(s,i)=>e[s]=i);for(let s of r)delete e[s]}clone(){return new t(xy(this.value))}};function j6(t){let e=[];return _u(t.fields,(n,r)=>{let s=new Zi([n]);if(b_(r)){let i=j6(r.mapValue).fields;if(i.length===0)e.push(s);else for(let o of i)e.push(s.child(o))}else e.push(s)}),new Io(e)}var Ko=class t{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,at.min(),at.min(),at.min(),Ji.empty(),0)}static newFoundDocument(e,n,r,s){return new t(e,1,n,at.min(),r,s,0)}static newNoDocument(e,n){return new t(e,2,n,at.min(),at.min(),Ji.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,at.min(),at.min(),Ji.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(at.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ji.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ji.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var fm=class{constructor(e,n){this.position=e,this.inclusive=n}};function qV(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){let i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Ge.comparator(Ge.fromName(o.referenceValue),n.key):r=dm(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function zV(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Oa(t.position[n],e.position[n]))return!1;return!0}var Hd=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Nee(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var k_=class{},Rr=class t extends k_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Wk(e,n,r):n==="array-contains"?new Xk(e,r):n==="in"?new Jk(e,r):n==="not-in"?new Zk(e,r):n==="array-contains-any"?new eA(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Qk(e,r):new Yk(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(dm(n,this.value)):n!==null&&gu(this.value)===gu(n)&&this.matchesComparison(dm(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Wo=class t extends k_{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new t(e,n)}matches(e){return G6(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function G6(t){return t.op==="and"}function $6(t){return kee(t)&&G6(t)}function kee(t){for(let e of t.filters)if(e instanceof Wo)return!1;return!0}function Kk(t){if(t instanceof Rr)return t.field.canonicalString()+t.op.toString()+hm(t.value);if($6(t))return t.filters.map(e=>Kk(e)).join(",");{let e=t.filters.map(n=>Kk(n)).join(",");return`${t.op}(${e})`}}function K6(t,e){return t instanceof Rr?function(r,s){return s instanceof Rr&&r.op===s.op&&r.field.isEqual(s.field)&&Oa(r.value,s.value)}(t,e):t instanceof Wo?function(r,s){return s instanceof Wo&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&K6(o,s.filters[a]),!0):!1}(t,e):void Ye(19439)}function W6(t){return t instanceof Rr?function(n){return`${n.field.canonicalString()} ${n.op} ${hm(n.value)}`}(t):t instanceof Wo?function(n){return n.op.toString()+" {"+n.getFilters().map(W6).join(" ,")+"}"}(t):"Filter"}var Wk=class extends Rr{constructor(e,n,r){super(e,n,r),this.key=Ge.fromName(r.referenceValue)}matches(e){let n=Ge.comparator(e.key,this.key);return this.matchesComparison(n)}},Qk=class extends Rr{constructor(e,n){super(e,"in",n),this.keys=Q6("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Yk=class extends Rr{constructor(e,n){super(e,"not-in",n),this.keys=Q6("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Q6(t,e){return(e.arrayValue?.values||[]).map(n=>Ge.fromName(n.referenceValue))}var Xk=class extends Rr{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return ED(n)&&Ry(n.arrayValue,this.value)}},Jk=class extends Rr{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ry(this.value.arrayValue,n)}},Zk=class extends Rr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ry(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ry(this.value.arrayValue,n)}},eA=class extends Rr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!ED(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ry(this.value.arrayValue,r))}};var tA=class{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}};function jV(t,e=null,n=[],r=[],s=null,i=null,o=null){return new tA(t,e,n,r,s,i,o)}function SD(t){let e=ot(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Kk(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),nT(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hm(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hm(r)).join(",")),e.Te=n}return e.Te}function ND(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Nee(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!K6(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zV(t.startAt,e.startAt)&&zV(t.endAt,e.endAt)}function nA(t){return Ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var yu=class{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function Aee(t,e,n,r,s,i,o,a){return new yu(t,e,n,r,s,i,o,a)}function kD(t){return new yu(t)}function GV(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Y6(t){return t.collectionGroup!==null}function Ey(t){let e=ot(t);if(e.Ie===null){e.Ie=[];let n=new Set;for(let i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new is(Zi.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Hd(i,r))}),n.has(Zi.keyField().canonicalString())||e.Ie.push(new Hd(Zi.keyField(),r))}return e.Ie}function Ra(t){let e=ot(t);return e.Ee||(e.Ee=Dee(e,Ey(t))),e.Ee}function Dee(t,e){if(t.limitType==="F")return jV(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{let i=s.dir==="desc"?"asc":"desc";return new Hd(s.field,i)});let n=t.endAt?new fm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fm(t.startAt.position,t.startAt.inclusive):null;return jV(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function rA(t,e){let n=t.filters.concat([e]);return new yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sA(t,e,n){return new yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sT(t,e){return ND(Ra(t),Ra(e))&&t.limitType===e.limitType}function X6(t){return`${SD(Ra(t))}|lt:${t.limitType}`}function tm(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>W6(s)).join(", ")}]`),nT(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>hm(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>hm(s)).join(",")),`Target(${r})`}(Ra(t))}; limitType=${t.limitType})`}function iT(t,e){return e.isFoundDocument()&&function(r,s){let i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ge.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(let i of Ey(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(let i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){let c=qV(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Ey(r),s)||r.endAt&&!function(o,a,l){let c=qV(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Ey(r),s))}(t,e)}function Cee(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function J6(t){return(e,n)=>{let r=!1;for(let s of Ey(t)){let i=Ree(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Ree(t,e,n){let r=t.field.isKeyField()?Ge.comparator(e.key,n.key):function(i,o,a){let l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?dm(l,c):Ye(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ye(19790,{direction:t.dir})}}var tc=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){_u(this.inner,(n,r)=>{for(let[s,i]of r)e(s,i)})}isEmpty(){return M6(this.inner)}size(){return this.innerSize}};var Lee=new dr(Ge.comparator);function nc(){return Lee}var Z6=new dr(Ge.comparator);function Iy(...t){let e=Z6;for(let n of t)e=e.insert(n.key,n);return e}function eH(t){let e=Z6;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ld(){return Sy()}function tH(){return Sy()}function Sy(){return new tc(t=>t.toString(),(t,e)=>t.isEqual(e))}var Pee=new dr(Ge.comparator),Oee=new is(Ge.comparator);function kt(...t){let e=Oee;for(let n of t)e=e.add(n);return e}var Mee=new is(Nt);function Fee(){return Mee}function AD(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dy(e)?"-0":e}}function nH(t){return{integerValue:""+t}}function Uee(t,e){return fee(e)?nH(e):AD(t,e)}var mm=class{constructor(){this._=void 0}};function Vee(t,e,n){return t instanceof pm?function(s,i){let o={fields:{[U6]:{stringValue:F6},[H6]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&TD(i)&&(i=rT(i)),i&&(o.fields[V6]=i),{mapValue:o}}(n,e):t instanceof Bd?sH(t,e):t instanceof qd?iH(t,e):function(s,i){let o=rH(s,i),a=$V(o)+$V(s.Ae);return $k(o)&&$k(s.Ae)?nH(a):AD(s.serializer,a)}(t,e)}function Hee(t,e,n){return t instanceof Bd?sH(t,e):t instanceof qd?iH(t,e):n}function rH(t,e){return t instanceof gm?function(r){return $k(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}var pm=class extends mm{},Bd=class extends mm{constructor(e){super(),this.elements=e}};function sH(t,e){let n=oH(e);for(let r of t.elements)n.some(s=>Oa(s,r))||n.push(r);return{arrayValue:{values:n}}}var qd=class extends mm{constructor(e){super(),this.elements=e}};function iH(t,e){let n=oH(e);for(let r of t.elements)n=n.filter(s=>!Oa(s,r));return{arrayValue:{values:n}}}var gm=class extends mm{constructor(e,n){super(),this.serializer=e,this.Ae=n}};function $V(t){return Gn(t.integerValue||t.doubleValue)}function oH(t){return ED(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Bee(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Bd&&s instanceof Bd||r instanceof qd&&s instanceof qd?lm(r.elements,s.elements,Oa):r instanceof gm&&s instanceof gm?Oa(r.Ae,s.Ae):r instanceof pm&&s instanceof pm}(t.transform,e.transform)}var iA=class{constructor(e,n){this.version=e,this.transformResults=n}},La=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function w_(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ym=class{};function aH(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ly(t.key,La.none()):new zd(t.key,t.data,La.none());{let n=t.data,r=Ji.empty(),s=new is(Zi.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ma(t.key,r,new Io(s.toArray()),La.none())}}function qee(t,e,n){t instanceof zd?function(s,i,o){let a=s.value.clone(),l=WV(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ma?function(s,i,o){if(!w_(s.precondition,i))return void i.convertToUnknownDocument(o.version);let a=WV(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(lH(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ny(t,e,n,r){return t instanceof zd?function(i,o,a,l){if(!w_(i.precondition,o))return a;let c=i.value.clone(),d=QV(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ma?function(i,o,a,l){if(!w_(i.precondition,o))return a;let c=QV(i.fieldTransforms,l,o),d=o.data;return d.setAll(lH(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return w_(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function zee(t,e){let n=null;for(let r of t.fieldTransforms){let s=e.data.field(r.field),i=rH(r.transform,s||null);i!=null&&(n===null&&(n=Ji.empty()),n.set(r.field,i))}return n||null}function KV(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&lm(r,s,(i,o)=>Bee(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var zd=class extends ym{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}},Ma=class extends ym{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}};function lH(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function WV(t,e,n){let r=new Map;tn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){let i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,Hee(o,a,n[s]))}return r}function QV(t,e,n){let r=new Map;for(let s of t){let i=s.transform,o=n.data.field(s.field);r.set(s.field,Vee(i,o,e))}return r}var Ly=class extends ym{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},oA=class extends ym{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var aA=class{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){let i=this.mutations[s];i.key.isEqual(e.key)&&qee(i,e,r[s])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ny(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ny(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=tH();return this.mutations.forEach(s=>{let i=e.get(s.key),o=i.overlayedDocument,a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;let l=aH(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(at.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),kt())}isEqual(e){return this.batchId===e.batchId&&lm(this.mutations,e.mutations,(n,r)=>KV(n,r))&&lm(this.baseMutations,e.baseMutations,(n,r)=>KV(n,r))}},lA=class t{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){tn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return Pee}(),i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new t(e,n,r,s)}};var cA=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var uA=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Dr,Ht;function jee(t){switch(t){case K.OK:return Ye(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return Ye(15467,{code:t})}}function cH(t){if(t===void 0)return Jl("GRPC error has no .code"),K.UNKNOWN;switch(t){case Dr.OK:return K.OK;case Dr.CANCELLED:return K.CANCELLED;case Dr.UNKNOWN:return K.UNKNOWN;case Dr.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Dr.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Dr.INTERNAL:return K.INTERNAL;case Dr.UNAVAILABLE:return K.UNAVAILABLE;case Dr.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Dr.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Dr.NOT_FOUND:return K.NOT_FOUND;case Dr.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Dr.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Dr.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Dr.ABORTED:return K.ABORTED;case Dr.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Dr.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Dr.DATA_LOSS:return K.DATA_LOSS;default:return Ye(39323,{code:t})}}(Ht=Dr||(Dr={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";var Gee=null;function $ee(){return new TextEncoder}var Kee=new Yl([4294967295,4294967295],0);function YV(t){let e=$ee().encode(t),n=new xk;return n.update(e),new Uint8Array(n.digest())}function XV(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Yl([n,r],0),new Yl([s,i],0)]}var dA=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pd(`Invalid padding: ${n}`);if(r<0)throw new Pd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Yl.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Yl.fromNumber(r)));return s.compare(Kee)===1&&(s=new Yl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let n=YV(e),[r,s]=XV(n);for(let i=0;i<this.hashCount;i++){let o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){let s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new t(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;let n=YV(e),[r,s]=XV(n);for(let i=0;i<this.hashCount;i++){let o=this.ye(r,s,i);this.Se(o)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Pd=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var A_=class t{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let s=new Map;return s.set(e,Py.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(at.min(),s,new dr(Nt),nc(),kt())}},Py=class t{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,kt(),kt(),kt())}};var im=class{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}},D_=class{constructor(e,n){this.targetId=e,this.Ce=n}},C_=class{constructor(e,n,r=Ps.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}},R_=class{constructor(){this.ve=0,this.Fe=JV(),this.Me=Ps.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=kt(),n=kt(),r=kt();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ye(38017,{changeType:i})}}),new Py(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=JV()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},hA=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=nc(),this.Je=g_(),this.He=g_(),this.Ye=new dr(Nt)}Ze(e){for(let n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(let n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{let r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ye(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){let n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){let i=s.target;if(nA(i))if(r===0){let o=new Ge(i.path);this.et(n,o,Ko.newNoDocument(o,at.min()))}else tn(r===1,20013,{expectedCount:r});else{let o=this._t(n);if(o!==r){let a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);let c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}Gee?.lt(function(d,h,f,m,y){let w={localCacheCount:d,existenceFilterCount:h.count,databaseId:f.database,projectId:f.projectId},v=h.unchangedNames;return v&&(w.bloomFilter={applied:y===0,hashCount:v?.hashCount??0,bitmapLength:v?.bits?.bitmap?.length??0,padding:v?.bits?.padding??0,mightContain:g=>m?.mightContain(g)??!1}),w}(o,e.Ce,this.Ge.ht(),a,l))}}}}ut(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n,o,a;try{o=ec(r).toUint8Array()}catch(l){if(l instanceof E_)return am("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new dA(o,s,i)}catch(l){return am(l instanceof Pd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){let r=this.Ge.getRemoteKeysForTarget(n),s=0;return r.forEach(i=>{let o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){let n=new Map;this.ze.forEach((i,o)=>{let a=this.ot(o);if(a){if(i.current&&nA(a.target)){let l=new Ge(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Ko.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=kt();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{let c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));let s=new A_(e,n,this.Ye,this.je,r);return this.je=nc(),this.Je=g_(),this.He=g_(),this.Ye=new dr(Nt),s}Xe(e,n){if(!this.rt(e))return;let r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;let s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){let n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new R_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new is(Nt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new is(Nt),this.Je=this.Je.insert(e,n)),n}rt(e){let n=this.ot(e)!==null;return n||xe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){let n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new R_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}};function g_(){return new dr(Ge.comparator)}function JV(){return new dr(Ge.comparator)}var Wee={asc:"ASCENDING",desc:"DESCENDING"},Qee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yee={and:"AND",or:"OR"},fA=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function mA(t,e){return t.useProto3Json||nT(e)?e:{value:e}}function L_(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uH(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Xee(t,e){return L_(t,e.toTimestamp())}function Pa(t){return tn(!!t,49232),at.fromTimestamp(function(n){let r=Zl(n);return new ur(r.seconds,r.nanos)}(t))}function DD(t,e){return pA(t,e).canonicalString()}function pA(t,e){let n=function(s){return new $n(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dH(t){let e=$n.fromString(t);return tn(gH(e),10190,{key:e.toString()}),e}function gA(t,e){return DD(t.databaseId,e.path)}function Ck(t,e){let n=dH(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ge(fH(n))}function hH(t,e){return DD(t.databaseId,e)}function Jee(t){let e=dH(t);return e.length===4?$n.emptyPath():fH(e)}function yA(t){return new $n(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fH(t){return tn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ZV(t,e,n){return{name:gA(t,e),fields:n.value.mapValue.fields}}function Zee(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ye(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(tn(d===void 0||typeof d=="string",58123),Ps.fromBase64String(d||"")):(tn(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Ps.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){let d=c.code===void 0?K.UNKNOWN:cH(c.code);return new ve(d,c.message||"")}(o);n=new C_(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let s=Ck(t,r.document.name),i=Pa(r.document.updateTime),o=r.document.createTime?Pa(r.document.createTime):at.min(),a=new Ji({mapValue:{fields:r.document.fields}}),l=Ko.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new im(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let s=Ck(t,r.document),i=r.readTime?Pa(r.readTime):at.min(),o=Ko.newNoDocument(s,i),a=r.removedTargetIds||[];n=new im([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let s=Ck(t,r.document),i=r.removedTargetIds||[];n=new im([],i,s,null)}else{if(!("filter"in e))return Ye(11601,{Rt:e});{e.filter;let r=e.filter;r.targetId;let{count:s=0,unchangedNames:i}=r,o=new uA(s,i),a=r.targetId;n=new D_(a,o)}}return n}function ete(t,e){let n;if(e instanceof zd)n={update:ZV(t,e.key,e.value)};else if(e instanceof Ly)n={delete:gA(t,e.key)};else if(e instanceof Ma)n={update:ZV(t,e.key,e.data),updateMask:cte(e.fieldMask)};else{if(!(e instanceof oA))return Ye(16599,{Vt:e.type});n={verify:gA(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){let a=o.transform;if(a instanceof pm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Bd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof qd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gm)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Ye(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Xee(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ye(27497)}(t,e.precondition)),n}function tte(t,e){return t&&t.length>0?(tn(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Pa(s.updateTime):Pa(i);return o.isEqual(at.min())&&(o=Pa(i)),new iA(o,s.transformResults||[])}(n,e))):[]}function nte(t,e){return{documents:[hH(t,e.path)]}}function rte(t,e){let n={structuredQuery:{}},r=e.path,s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hH(t,s);let i=function(c){if(c.length!==0)return pH(Wo.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);let o=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:nm(f.field),direction:ote(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=mA(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function ste(t){let e=Jee(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,s=null;if(r>0){tn(r===1,65062);let d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){let f=mH(h);return f instanceof Wo&&$6(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(y){return new Hd(rm(y.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,nT(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){let f=!!h.before,m=h.values||[];return new fm(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){let f=!h.before,m=h.values||[];return new fm(m,f)}(n.endAt)),Aee(e,s,o,i,a,"F",l,c)}function ite(t,e){let n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mH(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=rm(n.unaryFilter.field);return Rr.create(r,"==",{doubleValue:NaN});case"IS_NULL":let s=rm(n.unaryFilter.field);return Rr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let i=rm(n.unaryFilter.field);return Rr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=rm(n.unaryFilter.field);return Rr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ye(61313);default:return Ye(60726)}}(t):t.fieldFilter!==void 0?function(n){return Rr.create(rm(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ye(58110);default:return Ye(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wo.create(n.compositeFilter.filters.map(r=>mH(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ye(1026)}}(n.compositeFilter.op))}(t):Ye(30097,{filter:t})}function ote(t){return Wee[t]}function ate(t){return Qee[t]}function lte(t){return Yee[t]}function nm(t){return{fieldPath:t.canonicalString()}}function rm(t){return Zi.fromServerFormat(t.fieldPath)}function pH(t){return t instanceof Rr?function(n){if(n.op==="=="){if(BV(n.value))return{unaryFilter:{field:nm(n.field),op:"IS_NAN"}};if(HV(n.value))return{unaryFilter:{field:nm(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BV(n.value))return{unaryFilter:{field:nm(n.field),op:"IS_NOT_NAN"}};if(HV(n.value))return{unaryFilter:{field:nm(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nm(n.field),op:ate(n.op),value:n.value}}}(t):t instanceof Wo?function(n){let r=n.getFilters().map(s=>pH(s));return r.length===1?r[0]:{compositeFilter:{op:lte(n.op),filters:r}}}(t):Ye(54877,{filter:t})}function cte(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gH(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Oy=class t{constructor(e,n,r,s,i=at.min(),o=at.min(),a=Ps.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var vA=class{constructor(e){this.yt=e}};function ute(t){let e=ste({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sA(e,e.limit,"L"):e}var P_=class{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Gn(e.integerValue));else if("doubleValue"in e){let r=Gn(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Dy(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Zl(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(ec(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?z6(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):q6(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Ye(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){let r=e.fields||{};this.Ft(n,55);for(let s of Object.keys(r))this.Ot(s,n),this.Ct(r[s],n)}kt(e,n){let r=e.fields||{};this.Ft(n,53);let s=um,i=r[s].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(Gn(i)),this.Ot(s,n),this.Ct(r[s],n)}Qt(e,n){let r=e.values||[];this.Ft(n,50);for(let s of r)this.Ct(s,n)}Lt(e,n){this.Ft(n,37),Ge.fromName(e).path.forEach(r=>{this.Ft(n,60),this.Ut(r,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}};P_.Kt=new P_;var bA=class{constructor(){this.Cn=new wA}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Vd.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Vd.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}},wA=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new is($n.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){let n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new is($n.comparator)).toArray()}};var aye=new Uint8Array(0);var e6={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yH=41943040,To=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};To.DEFAULT_COLLECTION_PERCENTILE=10,To.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,To.DEFAULT=new To(yH,To.DEFAULT_COLLECTION_PERCENTILE,To.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),To.DISABLED=new To(-1,0,0);var My=class t{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new t(0)}static cr(){return new t(-1)}};var t6="LruGarbageCollector",dte=1048576;function n6([t,e],[n,r]){let s=Nt(t,n);return s===0?Nt(e,r):s}var _A=class{constructor(e){this.Ir=e,this.buffer=new is(n6),this.Er=0}dr(){return++this.Er}Ar(e){let n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();n6(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},TA=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){xe(t6,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xm(n)?xe(t6,"Ignoring IndexedDB error during garbage collection: ",n):await Im(n)}await this.Vr(3e5)})}},IA=class{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return re.resolve(cm.ce);let r=new _A(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(e6)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e6):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,c,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),em()<=Tt.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}};function hte(t,e){return new IA(t,e)}var xA=class{constructor(){this.changes=new tc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ko.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var EA=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var SA=class{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ny(r.mutation,s,Io.empty(),ur.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,kt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=kt()){let s=Ld();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Iy();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Ld();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,kt()))}populateOverlays(e,n,r){let s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=nc(),o=Sy(),a=function(){return Sy()}();return n.forEach((l,c)=>{let d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Ma)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ny(d.mutation,c,d.mutation.getFieldMask(),ur.now())):o.set(c.key,Io.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>a.set(c,new EA(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){let r=Sy(),s=new dr((o,a)=>o-a),i=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(l=>{let c=n.get(l);if(c===null)return;let d=r.get(l)||Io.empty();d=a.applyToLocalView(c,d),r.set(l,d);let h=(s.get(a.batchId)||kt()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{let o=[],a=s.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),c=l.key,d=l.value,h=tH();d.forEach(f=>{if(!i.has(f)){let m=aH(n.get(f),r.get(f));m!==null&&h.set(f,m),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return re.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Ge.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Y6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{let o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):re.resolve(Ld()),a=Ay,l=i;return o.next(c=>re.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?re.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,kt())).next(d=>({batchId:a,changes:eH(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ge(n)).next(r=>{let s=Iy();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){let i=n.collectionGroup,o=Iy();return this.indexManager.getCollectionParents(e,i).next(a=>re.forEach(a,l=>{let c=function(h,f){return new yu(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{let d=c.getKey();o.get(d)===null&&(o=o.insert(d,Ko.newInvalidDocument(d)))});let a=Iy();return o.forEach((l,c)=>{let d=i.get(l);d!==void 0&&Ny(d.mutation,c,Io.empty(),ur.now()),iT(n,c)&&(a=a.insert(l,c))}),a})}};var NA=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Pa(s.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:ute(s.bundledQuery),readTime:Pa(s.readTime)}}(n)),re.resolve()}};var kA=class{constructor(){this.overlays=new dr(Ge.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ld();return re.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),re.resolve()}removeOverlaysForBatchId(e,n,r){let s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){let s=Ld(),i=n.length+1,o=new Ge(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return re.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new dr((c,d)=>c-d),o=this.overlays.getIterator();for(;o.hasNext();){let c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Ld(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}let a=Ld(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return re.resolve(a)}St(e,n,r){let s=this.overlays.get(r.key);if(s!==null){let o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cA(n,r));let i=this.qr.get(n);i===void 0&&(i=kt(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}};var AA=class{constructor(){this.sessionToken=Ps.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}};var Fy=class{constructor(){this.Qr=new is(Cr.$r),this.Ur=new is(Cr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){let r=new Cr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Cr(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){let n=new Ge(new $n([])),r=new Cr(n,e),s=new Cr(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let n=new Ge(new $n([])),r=new Cr(n,e),s=new Cr(n,e+1),i=kt();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){let n=new Cr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Cr=class{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ge.comparator(e.key,n.key)||Nt(e.Yr,n.Yr)}static Kr(e,n){return Nt(e.Yr,n.Yr)||Ge.comparator(e.key,n.key)}};var DA=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new is(Cr.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){let i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new aA(i,n,r,s);this.mutationQueue.push(o);for(let a of s)this.Zr=this.Zr.add(new Cr(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return re.resolve(o)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,s=this.ei(r),i=s<0?0:s;return re.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?_D:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Cr(n,0),s=new Cr(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{let a=this.Xr(o.Yr);i.push(a)}),re.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new is(Nt);return n.forEach(s=>{let i=new Cr(s,0),o=new Cr(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,s=r.length+1,i=r;Ge.isDocumentKey(i)||(i=i.child(""));let o=new Cr(new Ge(i),0),a=new is(Nt);return this.Zr.forEachWhile(l=>{let c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Yr)),!0)},o),re.resolve(this.ti(a))}ti(e){let n=[];return e.forEach(r=>{let s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){tn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return re.forEach(n.mutations,s=>{let i=new Cr(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){let r=new Cr(n,0),s=this.Zr.firstAfterOrEqual(r);return re.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var CA=class{constructor(e){this.ri=e,this.docs=function(){return new dr(Ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():Ko.newInvalidDocument(n))}getEntries(e,n){let r=nc();return n.forEach(s=>{let i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ko.newInvalidDocument(s))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=nc(),o=n.path,a=new Ge(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||uee(cee(d),r)<=0||(s.has(d.key)||iT(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return re.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ye(9500)}ii(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new RA(this)}getSize(e){return re.resolve(this.size)}},RA=class extends xA{constructor(e){super(),this.Nr=e}applyChanges(e){let n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}};var LA=class{constructor(e){this.persistence=e,this.si=new tc(n=>SD(n),ND),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.oi=0,this._i=new Fy,this.targetCount=0,this.ai=My.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ai=new My(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let s=0,i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),re.waitFor(i).next(()=>s)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){let r=this.si.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);let s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),re.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){let r=this._i.Hr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}};var O_=class{constructor(e,n){this.ui={},this.overlays={},this.ci=new cm(0),this.li=!1,this.li=!0,this.hi=new AA,this.referenceDelegate=e(this),this.Pi=new LA(this),this.indexManager=new bA,this.remoteDocumentCache=function(s){return new CA(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new vA(n),this.Ii=new NA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new DA(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){xe("MemoryPersistence","Starting transaction:",e);let s=new PA(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return re.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}},PA=class extends zk{constructor(e){super(),this.currentSequenceNumber=e}},OA=class t{constructor(e){this.persistence=e,this.Ri=new Fy,this.Vi=null}static mi(e){return new t(e)}get fi(){if(this.Vi)return this.Vi;throw Ye(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,r=>{let s=Ge.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,at.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}},M_=class t{constructor(e,n){this.persistence=e,this.pi=new tc(r=>mee(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=hte(this,n)}static mi(e,n){return new t(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){let n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return re.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?re.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,at.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=v_(e.data.value)),n}br(e,n,r){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let s=this.pi.get(n);return re.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var MA=class t{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=kt(),s=kt();for(let i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new t(e,n.fromCache,r,s)}};var FA=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var UA=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return l5()?8:hee(rs())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){let i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;let o=new FA;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(em()<=Tt.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",tm(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(em()<=Tt.DEBUG&&xe("QueryEngine","Query:",tm(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(em()<=Tt.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",tm(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ra(n))):re.resolve())}ys(e,n){if(GV(n))return re.resolve(null);let r=Ra(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=sA(n,null,"F"),r=Ra(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{let o=kt(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,sA(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,s){return GV(n)||s.isEqual(at.min())?re.resolve(null):this.ps.getDocuments(e,r).next(i=>{let o=this.Ds(n,i);return this.Cs(n,o,r,s)?re.resolve(null):(em()<=Tt.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),tm(n)),this.vs(e,o,n,lee(s,Ay)).next(a=>a))})}Ds(e,n){let r=new is(J6(e));return n.forEach((s,i)=>{iT(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return em()<=Tt.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",tm(n)),this.ps.getDocumentsMatchingQuery(e,n,Vd.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}};var CD="LocalStore",fte=3e8,VA=class{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new dr(Nt),this.xs=new tc(i=>SD(i),ND),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}};function mte(t,e,n,r){return new VA(t,e,n,r)}async function vH(t,e){let n=ot(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{let o=[],a=[],l=kt();for(let c of s){o.push(c.batchId);for(let d of c.mutations)l=l.add(d.key)}for(let c of i){a.push(c.batchId);for(let d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function pte(t,e){let n=ot(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){let h=c.batch,f=h.keys(),m=re.resolve();return f.forEach(y=>{m=m.next(()=>d.getEntry(l,y)).next(w=>{let v=c.docVersions.get(y);tn(v!==null,48541),w.version.compareTo(v)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),d.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=kt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function bH(t){let e=ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function gte(t,e){let n=ot(t),r=e.snapshotVersion,s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{let o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;let a=[];e.targetChanges.forEach((d,h)=>{let f=s.get(h);if(!f)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,h)));let m=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Ps.EMPTY_BYTE_STRING,at.min()).withLastLimboFreeSnapshotVersion(at.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(h,m),function(w,v,g){return w.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=fte?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,m,d)&&a.push(n.Pi.updateTargetData(i,m))});let l=nc(),c=kt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(yte(i,o,e.documentUpdates).next(d=>{l=d.ks,c=d.qs})),!r.isEqual(at.min())){let d=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return re.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ms=s,i))}function yte(t,e,n){let r=kt(),s=kt();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=nc();return n.forEach((a,l)=>{let c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(at.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):xe(CD,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:s}})}function vte(t,e){let n=ot(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=_D),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bte(t,e){let n=ot(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,re.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Oy(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{let s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function HA(t,e,n){let r=ot(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!xm(o))throw o;xe(CD,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function r6(t,e,n){let r=ot(t),s=at.min(),i=kt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){let h=ot(l),f=h.xs.get(d);return f!==void 0?re.resolve(h.Ms.get(f)):h.Pi.getTargetData(c,d)}(r,o,Ra(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:at.min(),n?i:kt())).next(a=>(wte(r,Cee(e),a),{documents:a,Qs:i})))}function wte(t,e,n){let r=t.Os.get(e)||at.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}var F_=class{constructor(){this.activeTargetIds=Fee()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var BA=class{constructor(){this.Mo=new F_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new F_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var qA=class{Oo(e){}shutdown(){}};var s6="ConnectivityMonitor",U_=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){xe(s6,"Network connectivity changed: AVAILABLE");for(let e of this.qo)e(0)}ko(){xe(s6,"Network connectivity changed: UNAVAILABLE");for(let e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var y_=null;function zA(){return y_===null?y_=function(){return 268435456+Math.round(2147483648*Math.random())}():y_++,"0x"+y_.toString(16)}var Rk="RestConnection",_te={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},jA=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===S_?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){let o=zA(),a=this.zo(e,n.toUriEncodedString());xe(Rk,`Sending RPC '${e}' ${o}:`,a,r);let l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);let{host:c}=new URL(a),d=Ta(c);return this.Jo(e,a,l,r,d).then(h=>(xe(Rk,`Received RPC '${e}' ${o}: `,h),h),h=>{throw am(Rk,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tm}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){let r=_te[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}};var GA=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}};var Ls="WebChannelConnection",$A=class extends jA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){let o=zA();return new Promise((a,l)=>{let c=new Ek;c.setWithCredentials(!0),c.listenOnce(Sk.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ty.NO_ERROR:let h=c.getResponseJson();xe(Ls,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Ty.TIMEOUT:xe(Ls,`RPC '${e}' ${o} timed out`),l(new ve(K.DEADLINE_EXCEEDED,"Request time out"));break;case Ty.HTTP_ERROR:let f=c.getStatus();if(xe(Ls,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let w=function(g){let b=g.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(b)>=0?b:K.UNKNOWN}(y.status);l(new ve(w,y.message))}else l(new ve(K.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ve(K.UNAVAILABLE,"Connection failed."));break;default:Ye(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{xe(Ls,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(s);xe(Ls,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){let s=zA(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ak(),a=kk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;let d=i.join("");xe(Ls,`Creating RPC '${e}' stream ${s}: ${d}`,l);let h=o.createWebChannel(d,l);this.I_(h);let f=!1,m=!1,y=new GA({Yo:v=>{m?xe(Ls,`Not sending because RPC '${e}' stream ${s} is closed:`,v):(f||(xe(Ls,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),xe(Ls,`RPC '${e}' stream ${s} sending:`,v),h.send(v))},Zo:()=>h.close()}),w=(v,g,b)=>{v.listen(g,I=>{try{b(I)}catch(k){setTimeout(()=>{throw k},0)}})};return w(h,Zf.EventType.OPEN,()=>{m||(xe(Ls,`RPC '${e}' stream ${s} transport opened.`),y.o_())}),w(h,Zf.EventType.CLOSE,()=>{m||(m=!0,xe(Ls,`RPC '${e}' stream ${s} transport closed`),y.a_(),this.E_(h))}),w(h,Zf.EventType.ERROR,v=>{m||(m=!0,am(Ls,`RPC '${e}' stream ${s} transport errored. Name:`,v.name,"Message:",v.message),y.a_(new ve(K.UNAVAILABLE,"The operation could not be completed")))}),w(h,Zf.EventType.MESSAGE,v=>{if(!m){let g=v.data[0];tn(!!g,16349);let b=g,I=b?.error||b[0]?.error;if(I){xe(Ls,`RPC '${e}' stream ${s} received error:`,I);let k=I.status,R=function(E){let x=Dr[E];if(x!==void 0)return cH(x)}(k),F=I.message;R===void 0&&(R=K.INTERNAL,F="Unknown error status: "+k+" with message "+I.message),m=!0,y.a_(new ve(R,F)),h.close()}else xe(Ls,`RPC '${e}' stream ${s} received:`,g),y.u_(g)}}),w(a,Nk.STAT_EVENT,v=>{v.stat===m_.PROXY?xe(Ls,`RPC '${e}' stream ${s} detected buffering proxy`):v.stat===m_.NOPROXY&&xe(Ls,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}};function Lk(){return typeof document<"u"?document:null}function oT(t){return new fA(t,!0)}var V_=class{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&xe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var i6="PersistentStream",H_=class{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new V_(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(Jl(n.toString()),Jl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{let s=new ve(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){let r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return xe(i6,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(xe(i6,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},KA=class extends H_{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let n=Zee(this.serializer,e),r=function(i){if(!("targetChange"in i))return at.min();let o=i.targetChange;return o.targetIds&&o.targetIds.length?at.min():o.readTime?Pa(o.readTime):at.min()}(e);return this.listener.H_(n,r)}Y_(e){let n={};n.database=yA(this.serializer),n.addTarget=function(i,o){let a,l=o.target;if(a=nA(l)?{documents:nte(i,l)}:{query:rte(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=uH(i,o.resumeToken);let c=mA(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(at.min())>0){a.readTime=L_(i,o.snapshotVersion.toTimestamp());let c=mA(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);let r=ite(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){let n={};n.database=yA(this.serializer),n.removeTarget=e,this.q_(n)}},WA=class extends H_{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return tn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let n=tte(e.writeResults,e.commitTime),r=Pa(e.commitTime);return this.listener.na(r,n)}ra(){let e={};e.database=yA(this.serializer),this.q_(e)}ea(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>ete(this.serializer,r))};this.q_(n)}};var QA=class{},YA=class extends QA{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ve(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,pA(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ve(K.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,pA(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(K.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}},XA=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Jl(n),this.aa=!1):xe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var jd="RemoteStore",JA=class{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Gd(this)&&(xe(jd,"Restarting streams for network reachability change."),await async function(l){let c=ot(l);c.Ea.add(4),await zy(c),c.Ra.set("Unknown"),c.Ea.delete(4),await aT(c)}(this))})}),this.Ra=new XA(r,s)}};async function aT(t){if(Gd(t))for(let e of t.da)await e(!0)}async function zy(t){for(let e of t.da)await e(!1)}function wH(t,e){let n=ot(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),OD(n)?PD(n):Em(n).O_()&&LD(n,e))}function RD(t,e){let n=ot(t),r=Em(n);n.Ia.delete(e),r.O_()&&_H(n,e),n.Ia.size===0&&(r.O_()?r.L_():Gd(n)&&n.Ra.set("Unknown"))}function LD(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(at.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Em(t).Y_(e)}function _H(t,e){t.Va.Ue(e),Em(t).Z_(e)}function PD(t){t.Va=new hA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Em(t).start(),t.Ra.ua()}function OD(t){return Gd(t)&&!Em(t).x_()&&t.Ia.size>0}function Gd(t){return ot(t).Ea.size===0}function TH(t){t.Va=void 0}async function Tte(t){t.Ra.set("Online")}async function Ite(t){t.Ia.forEach((e,n)=>{LD(t,e)})}async function xte(t,e){TH(t),OD(t)?(t.Ra.ha(e),PD(t)):t.Ra.set("Unknown")}async function Ete(t,e,n){if(t.Ra.set("Online"),e instanceof C_&&e.state===2&&e.cause)try{await async function(s,i){let o=i.cause;for(let a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){xe(jd,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await B_(t,r)}else if(e instanceof im?t.Va.Ze(e):e instanceof D_?t.Va.st(e):t.Va.tt(e),!n.isEqual(at.min()))try{let r=await bH(t.localStore);n.compareTo(r)>=0&&await function(i,o){let a=i.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){let d=i.Ia.get(c);d&&i.Ia.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{let d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(Ps.EMPTY_BYTE_STRING,d.snapshotVersion)),_H(i,l);let h=new Oy(d.target,l,c,d.sequenceNumber);LD(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){xe(jd,"Failed to raise snapshot:",r),await B_(t,r)}}async function B_(t,e,n){if(!xm(e))throw e;t.Ea.add(1),await zy(t),t.Ra.set("Offline"),n||(n=()=>bH(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{xe(jd,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await aT(t)})}function IH(t,e){return e().catch(n=>B_(t,n,e))}async function lT(t){let e=ot(t),n=vu(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_D;for(;Ste(e);)try{let s=await vte(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,Nte(e,s)}catch(s){await B_(e,s)}xH(e)&&EH(e)}function Ste(t){return Gd(t)&&t.Ta.length<10}function Nte(t,e){t.Ta.push(e);let n=vu(t);n.O_()&&n.X_&&n.ea(e.mutations)}function xH(t){return Gd(t)&&!vu(t).x_()&&t.Ta.length>0}function EH(t){vu(t).start()}async function kte(t){vu(t).ra()}async function Ate(t){let e=vu(t);for(let n of t.Ta)e.ea(n.mutations)}async function Dte(t,e,n){let r=t.Ta.shift(),s=lA.from(r,e,n);await IH(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await lT(t)}async function Cte(t,e){e&&vu(t).X_&&await async function(r,s){if(function(o){return jee(o)&&o!==K.ABORTED}(s.code)){let i=r.Ta.shift();vu(r).B_(),await IH(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await lT(r)}}(t,e),xH(t)&&EH(t)}async function o6(t,e){let n=ot(t);n.asyncQueue.verifyOperationInProgress(),xe(jd,"RemoteStore received new credentials");let r=Gd(n);n.Ea.add(3),await zy(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await aT(n)}async function Rte(t,e){let n=ot(t);e?(n.Ea.delete(2),await aT(n)):e||(n.Ea.add(2),await zy(n),n.Ra.set("Unknown"))}function Em(t){return t.ma||(t.ma=function(n,r,s){let i=ot(n);return i.sa(),new KA(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:Tte.bind(null,t),t_:Ite.bind(null,t),r_:xte.bind(null,t),H_:Ete.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),OD(t)?PD(t):t.Ra.set("Unknown")):(await t.ma.stop(),TH(t))})),t.ma}function vu(t){return t.fa||(t.fa=function(n,r,s){let i=ot(n);return i.sa(),new WA(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:kte.bind(null,t),r_:Cte.bind(null,t),ta:Ate.bind(null,t),na:Dte.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await lT(t)):(await t.fa.stop(),t.Ta.length>0&&(xe(jd,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}var ZA=class t{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){let o=Date.now()+r,a=new t(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function MD(t,e){if(Jl("AsyncQueue",`${e}: ${t}`),xm(t))return new ve(K.UNAVAILABLE,`${e}: ${t}`);throw t}var q_=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ge.comparator(n.key,r.key):(n,r)=>Ge.comparator(n.key,r.key),this.keyedMap=Iy(),this.sortedSet=new dr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var z_=class{constructor(){this.ga=new dr(Ge.comparator)}track(e){let n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ye(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){let e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}},vm=class t{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,q_.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sT(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}};var eD=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}},tD=class{constructor(){this.queries=a6(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){let s=ot(n),i=s.queries;s.queries=a6(),i.forEach((o,a)=>{for(let l of a.Sa)l.onError(r)})})(this,new ve(K.ABORTED,"Firestore shutting down"))}};function a6(){return new tc(t=>X6(t),sT)}async function SH(t,e){let n=ot(t),r=3,s=e.query,i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new eD,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){let a=MD(o,`Initialization of query '${tm(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&FD(n)}async function NH(t,e){let n=ot(t),r=e.query,s=3,i=n.queries.get(r);if(i){let o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Lte(t,e){let n=ot(t),r=!1;for(let s of e){let i=s.query,o=n.queries.get(i);if(o){for(let a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&FD(n)}function Pte(t,e,n){let r=ot(t),s=r.queries.get(e);if(s)for(let i of s.Sa)i.onError(n);r.queries.delete(e)}function FD(t){t.Ca.forEach(e=>{e.next()})}var nD,l6;(l6=nD||(nD={})).Ma="default",l6.Cache="cache";var j_=class{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let s of e.docChanges)s.type!==3&&r.push(s);e=new vm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;let r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==nD.Cache}};var G_=class{constructor(e){this.key=e}},$_=class{constructor(e){this.key=e}},rD=class{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=J6(e),this.tu=new q_(this.eu)}get nu(){return this.Ya}ru(e,n){let r=n?n.iu:new z_,s=n?n.tu:this.tu,i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1,l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{let f=s.get(d),m=iT(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),v=!1;f&&m?f.data.isEqual(m.data)?y!==w&&(r.track({type:3,doc:m}),v=!0):this.su(f,m)||(r.track({type:2,doc:m}),v=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),v=!0):f&&!m&&(r.track({type:1,doc:f}),v=!0,(l||c)&&(a=!0)),v&&(m?(o=o.add(m),i=w?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){let i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let o=e.iu.ya();o.sort((d,h)=>function(m,y){let w=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye(20277,{Rt:v})}};return w(m)-w(y)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;let a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new vm(this.query,e.tu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new z_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=kt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});let n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new $_(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new G_(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=kt();let n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vm.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},UD="SyncEngine",sD=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},iD=class{constructor(e){this.key=e,this.hu=!1}},oD=class{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new tc(a=>X6(a),sT),this.Iu=new Map,this.Eu=new Set,this.du=new dr(Ge.comparator),this.Au=new Map,this.Ru=new Fy,this.Vu={},this.mu=new Map,this.fu=My.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function Ote(t,e,n=!0){let r=LH(t),s,i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await kH(r,e,n,!0),s}async function Mte(t,e){let n=LH(t);await kH(n,e,!0,!1)}async function kH(t,e,n,r){let s=await bte(t.localStore,Ra(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n),a;return r&&(a=await Fte(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&wH(t.remoteStore,s),a}async function Fte(t,e,n,r,s){t.pu=(h,f,m)=>async function(w,v,g,b){let I=v.view.ru(g);I.Cs&&(I=await r6(w.localStore,v.query,!1).then(({documents:S})=>v.view.ru(S,I)));let k=b&&b.targetChanges.get(v.targetId),R=b&&b.targetMismatches.get(v.targetId)!=null,F=v.view.applyChanges(I,w.isPrimaryClient,k,R);return u6(w,v.targetId,F.au),F.snapshot}(t,h,f,m);let i=await r6(t.localStore,e,!0),o=new rD(e,i.Qs),a=o.ru(i.documents),l=Py.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);u6(t,n,c.au);let d=new sD(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function Ute(t,e,n){let r=ot(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!sT(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await HA(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&RD(r.remoteStore,s.targetId),aD(r,s.targetId)}).catch(Im)):(aD(r,s.targetId),await HA(r.localStore,s.targetId,!0))}async function Vte(t,e){let n=ot(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),RD(n.remoteStore,r.targetId))}async function Hte(t,e,n){let r=Kte(t);try{let s=await function(o,a){let l=ot(o),c=ur.now(),d=a.reduce((m,y)=>m.add(y.key),kt()),h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=nc(),w=kt();return l.Ns.getEntries(m,d).next(v=>{y=v,y.forEach((g,b)=>{b.isValidDocument()||(w=w.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(v=>{h=v;let g=[];for(let b of a){let I=zee(b,h.get(b.key).overlayedDocument);I!=null&&g.push(new Ma(b.key,I,j6(I.value.mapValue),La.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,g,a)}).next(v=>{f=v;let g=v.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(m,v.batchId,g)})}).then(()=>({batchId:f.batchId,changes:eH(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new dr(Nt)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,s.batchId,n),await jy(r,s.changes),await lT(r.remoteStore)}catch(s){let i=MD(s,"Failed to persist write");n.reject(i)}}async function AH(t,e){let n=ot(t);try{let r=await gte(n.localStore,e);e.targetChanges.forEach((s,i)=>{let o=n.Au.get(i);o&&(tn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?tn(o.hu,14607):s.removedDocuments.size>0&&(tn(o.hu,42227),o.hu=!1))}),await jy(n,r,e)}catch(r){await Im(r)}}function c6(t,e,n){let r=ot(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let s=[];r.Tu.forEach((i,o)=>{let a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){let l=ot(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(let f of h.Sa)f.va(a)&&(c=!0)}),c&&FD(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Bte(t,e,n){let r=ot(t);r.sharedClientState.updateQueryState(e,"rejected",n);let s=r.Au.get(e),i=s&&s.key;if(i){let o=new dr(Ge.comparator);o=o.insert(i,Ko.newNoDocument(i,at.min()));let a=kt().add(i),l=new A_(at.min(),new Map,new dr(Nt),o,a);await AH(r,l),r.du=r.du.remove(i),r.Au.delete(e),VD(r)}else await HA(r.localStore,e,!1).then(()=>aD(r,e,n)).catch(Im)}async function qte(t,e){let n=ot(t),r=e.batch.batchId;try{let s=await pte(n.localStore,e);CH(n,r,null),DH(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jy(n,s)}catch(s){await Im(s)}}async function zte(t,e,n){let r=ot(t);try{let s=await function(o,a){let l=ot(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(tn(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);CH(r,e,n),DH(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jy(r,s)}catch(s){await Im(s)}}function DH(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function CH(t,e,n){let r=ot(t),s=r.Vu[r.currentUser.toKey()];if(s){let i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function aD(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||RH(t,r)})}function RH(t,e){t.Eu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(RD(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),VD(t))}function u6(t,e,n){for(let r of n)r instanceof G_?(t.Ru.addReference(r.key,e),jte(t,r)):r instanceof $_?(xe(UD,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||RH(t,r.key)):Ye(19791,{wu:r})}function jte(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(xe(UD,"New document in limbo: "+n),t.Eu.add(r),VD(t))}function VD(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Eu.values().next().value;t.Eu.delete(e);let n=new Ge($n.fromString(e)),r=t.fu.next();t.Au.set(r,new iD(n)),t.du=t.du.insert(n,r),wH(t.remoteStore,new Oy(Ra(kD(n.path)),r,"TargetPurposeLimboResolution",cm.ce))}}async function jy(t,e,n){let r=ot(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient){let d=c?!c.fromCache:n?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){s.push(c);let d=MA.As(l.targetId,c);i.push(d)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,c){let d=ot(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>re.forEach(c,f=>re.forEach(f.Es,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>re.forEach(f.ds,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!xm(h))throw h;xe(CD,"Failed to update sequence numbers: "+h)}for(let h of c){let f=h.targetId;if(!h.fromCache){let m=d.Ms.get(f),y=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(y);d.Ms=d.Ms.insert(f,w)}}}(r.localStore,i))}async function Gte(t,e){let n=ot(t);if(!n.currentUser.isEqual(e)){xe(UD,"User change. New user:",e.toKey());let r=await vH(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new ve(K.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jy(n,r.Ls)}}function $te(t,e){let n=ot(t),r=n.Au.get(e);if(r&&r.hu)return kt().add(r.key);{let s=kt(),i=n.Iu.get(e);if(!i)return s;for(let o of i){let a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function LH(t){let e=ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AH.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$te.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bte.bind(null,e),e.Pu.H_=Lte.bind(null,e.eventManager),e.Pu.yu=Pte.bind(null,e.eventManager),e}function Kte(t){let e=ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qte.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zte.bind(null,e),e}var bm=class{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oT(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return mte(this.persistence,new UA,e.initialUser,this.serializer)}Cu(e){return new O_(OA.mi,this.serializer)}Du(e){return new BA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}};bm.provider={build:()=>new bm};var lD=class extends bm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tn(this.persistence.referenceDelegate instanceof M_,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new TA(r,e.asyncQueue,n)}Cu(e){let n=this.cacheSizeBytes!==void 0?To.withCacheSize(this.cacheSizeBytes):To.DEFAULT;return new O_(r=>M_.mi(r,n),this.serializer)}};var Uy=class{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>c6(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gte.bind(null,this.syncEngine),await Rte(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tD}()}createDatastore(e){let n=oT(e.databaseInfo.databaseId),r=function(i){return new $A(i)}(e.databaseInfo);return function(i,o,a,l){return new YA(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new JA(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>c6(this.syncEngine,n,0),function(){return U_.v()?new U_:new qA}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){let h=new oD(s,i,o,a,l,c);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){let r=ot(n);xe(jd,"RemoteStore shutting down."),r.Ea.add(5),await zy(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}};Uy.provider={build:()=>new Uy};var K_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Jl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var bu="FirestoreClient",cD=class{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ss.UNAUTHENTICATED,this.clientId=ky.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{xe(bu,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(xe(bu,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=MD(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function Pk(t,e){t.asyncQueue.verifyOperationInProgress(),xe(bu,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await vH(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function d6(t,e){t.asyncQueue.verifyOperationInProgress();let n=await Wte(t);xe(bu,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>o6(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>o6(e.remoteStore,s)),t._onlineComponents=e}async function Wte(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){xe(bu,"Using user provided OfflineComponentProvider");try{await Pk(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(s){return s.name==="FirebaseError"?s.code===K.FAILED_PRECONDITION||s.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;am("Error using user provided cache. Falling back to memory cache: "+n),await Pk(t,new bm)}}else xe(bu,"Using default OfflineComponentProvider"),await Pk(t,new lD(void 0));return t._offlineComponents}async function PH(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(xe(bu,"Using user provided OnlineComponentProvider"),await d6(t,t._uninitializedComponentsProvider._online)):(xe(bu,"Using default OnlineComponentProvider"),await d6(t,new Uy))),t._onlineComponents}function Qte(t){return PH(t).then(e=>e.syncEngine)}async function uD(t){let e=await PH(t),n=e.eventManager;return n.onListen=Ote.bind(null,e.syncEngine),n.onUnlisten=Ute.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Mte.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Vte.bind(null,e.syncEngine),n}function Yte(t,e,n={}){let r=new Da;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){let d=new K_({next:f=>{d.Nu(),o.enqueueAndForget(()=>NH(i,h)),f.fromCache&&l.source==="server"?c.reject(new ve(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new j_(a,d,{includeMetadataChanges:!0,qa:!0});return SH(i,h)}(await uD(t),t.asyncQueue,e,n,r)),r.promise}function OH(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var h6=new Map;var MH="firestore.googleapis.com",f6=!0,W_=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MH,this.ssl=f6}else this.host=e.host,this.ssl=e.ssl??f6;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yH;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dte)throw new ve(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aee("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OH(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ve(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ve(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ve(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},wm=class{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ok;switch(r.type){case"firstParty":return new Vk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=h6.get(n);r&&(xe("ComponentProvider","Removing Datastore"),h6.delete(n),r.terminate())}(this),Promise.resolve()}};function Xte(t,e,n,r={}){t=xo(t,wm);let s=Ta(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(jf(`https://${a}`),Gf("Firestore",!0)),i.host!==MH&&i.host!==a&&am("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l={...i,host:a,ssl:s,emulatorOptions:r};if(!Ia(l,o)&&(t._setSettings(l),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=ss.MOCK_USER;else{c=Aw(r.mockUserToken,t._app?.options.projectId);let h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ve(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new ss(h)}t._authCredentials=new Mk(new __(c,d))}}var wu=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},os=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(qy(n,t._jsonSchema))return new t(e,r||null,new Ge($n.fromString(n.referencePath)))}};os._jsonSchemaVersion="firestore/documentReference/1.0",os._jsonSchema={type:Lr("string",os._jsonSchemaVersion),referencePath:Lr("string")};var hu=class t extends wu{constructor(e,n,r){super(e,n,kD(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new os(this.firestore,null,new Ge(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function FH(t,e,...n){if(t=cr(t),w6("collection","path",e),t instanceof wm){let r=$n.fromString(e,...n);return RV(r),new hu(t,null,r)}{if(!(t instanceof os||t instanceof hu))throw new ve(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child($n.fromString(e,...n));return RV(r),new hu(t.firestore,null,r)}}function hr(t,e,...n){if(t=cr(t),arguments.length===1&&(e=ky.newId()),w6("doc","path",e),t instanceof wm){let r=$n.fromString(e,...n);return CV(r),new os(t,null,new Ge(r))}{if(!(t instanceof os||t instanceof hu))throw new ve(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child($n.fromString(e,...n));return CV(r),new os(t.firestore,t instanceof hu?t.converter:null,new Ge(r))}}var m6="AsyncQueue",Q_=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new V_(this,"async_queue_retry"),this._c=()=>{let r=Lk();r&&xe(m6,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let n=Lk();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let n=Lk();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let n=new Da;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xm(e))throw e;xe(m6,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Jl("INTERNAL UNHANDLED ERROR: ",p6(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);let s=ZA.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&Ye(47125,{Pc:p6(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){let n=this.tc.indexOf(e);this.tc.splice(n,1)}};function p6(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function g6(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let s=n;for(let i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}var Fa=class extends wm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Q_,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Q_(e),this._firestoreClient=void 0,await e}}};function UH(t,e){let n=typeof t=="object"?t:Qf(),r=typeof t=="string"?t:e||S_,s=Sd(n,"firestore").getImmediate({identifier:r});if(!s._initialized){let i=kw("firestore");i&&Xte(s,...i)}return s}function HD(t){if(t._terminated)throw new ve(K.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Jte(t),t._firestoreClient}function Jte(t){let e=t._freezeSettings(),n=function(s,i,o,a){return new jk(s,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,OH(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new cD(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(s){let i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}}(t._componentsProvider))}var fu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Ps.fromBase64String(e))}catch(n){throw new ve(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Ps.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qy(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};fu._jsonSchemaVersion="firestore/bytes/1.0",fu._jsonSchema={type:Lr("string",fu._jsonSchemaVersion),bytes:Lr("string")};var _m=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Vy=class{constructor(e){this._methodName=e}};var mu=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(qy(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};mu._jsonSchemaVersion="firestore/geoPoint/1.0",mu._jsonSchema={type:Lr("string",mu._jsonSchemaVersion),latitude:Lr("number"),longitude:Lr("number")};var pu=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qy(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new ve(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};pu._jsonSchemaVersion="firestore/vectorValue/1.0",pu._jsonSchema={type:Lr("string",pu._jsonSchemaVersion),vectorValues:Lr("object")};var Zte=/^__.*__$/,dD=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new zd(e,this.data,n,this.fieldTransforms)}},Y_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ma(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function VH(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye(40011,{Ac:t})}}var hD=class t{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new t({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){let n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return J_(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(VH(this.Ac)&&Zte.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}},fD=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||oT(e)}Cc(e,n,r,s=!1){return new hD({Ac:e,methodName:n,Dc:r,path:Zi.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function cT(t){let e=t._freezeSettings(),n=oT(t._databaseId);return new fD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HH(t,e,n,r,s,i={}){let o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);BD("Data must be an object, but it was:",o,r);let a=BH(r,o),l,c;if(i.merge)l=new Io(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){let d=[];for(let h of i.mergeFields){let f=mD(e,h,n);if(!o.contains(f))throw new ve(K.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);zH(d,f)||d.push(f)}l=new Io(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new dD(new Ji(a),l,c)}var X_=class t extends Vy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function ene(t,e,n,r){let s=t.Cc(1,e,n);BD("Data must be an object, but it was:",s,r);let i=[],o=Ji.empty();_u(r,(l,c)=>{let d=qD(e,l,n);c=cr(c);let h=s.yc(d);if(c instanceof X_)i.push(d);else{let f=Gy(c,h);f!=null&&(i.push(d),o.set(d,f))}});let a=new Io(i);return new Y_(o,a,s.fieldTransforms)}function tne(t,e,n,r,s,i){let o=t.Cc(1,e,n),a=[mD(e,r,n)],l=[s];if(i.length%2!=0)throw new ve(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(mD(e,i[f])),l.push(i[f+1]);let c=[],d=Ji.empty();for(let f=a.length-1;f>=0;--f)if(!zH(c,a[f])){let m=a[f],y=l[f];y=cr(y);let w=o.yc(m);if(y instanceof X_)c.push(m);else{let v=Gy(y,w);v!=null&&(c.push(m),d.set(m,v))}}let h=new Io(c);return new Y_(d,h,o.fieldTransforms)}function nne(t,e,n,r=!1){return Gy(n,t.Cc(r?4:3,e))}function Gy(t,e){if(qH(t=cr(t)))return BD("Unsupported field value:",e,t),BH(t,e);if(t instanceof Vy)return function(r,s){if(!VH(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);let i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){let i=[],o=0;for(let a of r){let l=Gy(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=cr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Uee(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let i=ur.fromDate(r);return{timestampValue:L_(s.serializer,i)}}if(r instanceof ur){let i=new ur(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:L_(s.serializer,i)}}if(r instanceof mu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fu)return{bytesValue:uH(s.serializer,r._byteString)};if(r instanceof os){let i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:DD(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof pu)return function(o,a){return{mapValue:{fields:{[ID]:{stringValue:xD},[um]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return AD(a.serializer,c)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${tT(r)}`)}(t,e)}function BH(t,e){let n={};return M6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_u(t,(r,s)=>{let i=Gy(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function qH(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ur||t instanceof mu||t instanceof fu||t instanceof os||t instanceof Vy||t instanceof pu)}function BD(t,e,n){if(!qH(n)||!_6(n)){let r=tT(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function mD(t,e,n){if((e=cr(e))instanceof _m)return e._internalPath;if(typeof e=="string")return qD(t,e);throw J_("Field path arguments must be of type string or ",t,!1,void 0,n)}var rne=new RegExp("[~\\*/\\[\\]]");function qD(t,e,n){if(e.search(rne)>=0)throw J_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _m(...e.split("."))._internalPath}catch{throw J_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function J_(t,e,n,r,s){let i=r&&!r.isEmpty(),o=s!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ve(K.INVALID_ARGUMENT,a+t+l)}function zH(t,e){return t.some(n=>n.isEqual(e))}var Z_=class{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new os(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new pD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(zD("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},pD=class extends Z_{data(){return super.data()}};function zD(t,e){return typeof e=="string"?qD(t,e):e instanceof _m?e._internalPath:e._delegate._internalPath}function jH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Hy=class{},eT=class extends Hy{};function Os(t,e,...n){let r=[];e instanceof Hy&&r.push(e),r=r.concat(n),function(i){let o=i.filter(l=>l instanceof yD).length,a=i.filter(l=>l instanceof gD).length;if(o>1||o>0&&a>0)throw new ve(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let s of r)t=s._apply(t);return t}var gD=class t extends eT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return GH(e._query,n),new wu(e.firestore,e.converter,rA(e._query,n))}_parse(e){let n=cT(e.firestore);return function(i,o,a,l,c,d,h){let f;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ve(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){v6(h,d);let y=[];for(let w of h)y.push(y6(l,i,w));f={arrayValue:{values:y}}}else f=y6(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||v6(h,d),f=nne(a,o,h,d==="in"||d==="not-in");return Rr.create(c,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var yD=class t extends Hy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Wo.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s,a=i.getFlattenedFilters();for(let l of a)GH(o,l),o=rA(o,l)}(e._query,n),new wu(e.firestore,e.converter,rA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var vD=class t extends eT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(s,i,o){if(s.startAt!==null)throw new ve(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ve(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hd(i,o)}(e._query,this._field,this._direction);return new wu(e.firestore,e.converter,function(s,i){let o=s.explicitOrderBy.concat([i]);return new yu(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}};function eo(t,e="asc"){let n=e,r=zD("orderBy",t);return vD._create(r,n)}function y6(t,e,n){if(typeof(n=cr(n))=="string"){if(n==="")throw new ve(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Y6(e)&&n.indexOf("/")!==-1)throw new ve(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child($n.fromString(n));if(!Ge.isDocumentKey(r))throw new ve(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return VV(t,new Ge(r))}if(n instanceof os)return VV(t,n._key);throw new ve(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tT(n)}.`)}function v6(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GH(t,e){let n=function(s,i){for(let o of s)for(let a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ve(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var bD=class{convertValue(e,n="none"){switch(gu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ec(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return _u(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){let n=e.fields?.[um].arrayValue?.values?.map(r=>Gn(r.doubleValue));return new pu(n)}convertGeoPoint(e){return new mu(Gn(e.latitude),Gn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=rT(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cy(e));default:return null}}convertTimestamp(e){let n=Zl(e);return new ur(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=$n.fromString(e);tn(gH(r),9688,{name:e});let s=new N_(r.get(1),r.get(3)),i=new Ge(r.popFirst(5));return s.isEqual(n)||Jl(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}};function $H(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Od=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Md=class t extends Z_{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new om(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(zD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Md._jsonSchemaVersion="firestore/documentSnapshot/1.0",Md._jsonSchema={type:Lr("string",Md._jsonSchemaVersion),bundleSource:Lr("string","DocumentSnapshot"),bundleName:Lr("string"),bundle:Lr("string")};var om=class extends Md{data(e={}){return super.data(e)}},Fd=class t{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Od(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new om(this._firestore,this._userDataWriter,r.key,r,new Od(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{let l=new om(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Od(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{let l=new om(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Od(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter),c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:sne(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ky.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function sne(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye(61501,{type:t})}}Fd._jsonSchemaVersion="firestore/querySnapshot/1.0",Fd._jsonSchema={type:Lr("string",Fd._jsonSchemaVersion),bundleSource:Lr("string","QuerySnapshot"),bundleName:Lr("string"),bundle:Lr("string")};var By=class extends bD{constructor(e){super(),this.firestore=e}convertBytes(e){return new fu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new os(this.firestore,null,n)}};function Ua(t){t=xo(t,wu);let e=xo(t.firestore,Fa),n=HD(e),r=new By(e);return jH(t._query),Yte(n,t._query).then(s=>new Fd(e,r,t,s))}function KH(t,e,n){t=xo(t,os);let r=xo(t.firestore,Fa),s=$H(t.converter,e,n);return uT(r,[HH(cT(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,La.none())])}function Va(t,e,n,...r){t=xo(t,os);let s=xo(t.firestore,Fa),i=cT(s),o;return o=typeof(e=cr(e))=="string"||e instanceof _m?tne(i,"updateDoc",t._key,e,n,r):ene(i,"updateDoc",t._key,e),uT(s,[o.toMutation(t._key,La.exists(!0))])}function Ha(t){return uT(xo(t.firestore,Fa),[new Ly(t._key,La.none())])}function Ba(t,e){let n=xo(t.firestore,Fa),r=hr(t),s=$H(t.converter,e);return uT(n,[HH(cT(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,La.exists(!1))]).then(()=>r)}function qa(t,...e){t=cr(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||g6(e[r])||(n=e[r++]);let s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(g6(e[r])){let l=e[r];e[r]=l.next?.bind(l),e[r+1]=l.error?.bind(l),e[r+2]=l.complete?.bind(l)}let i,o,a;if(t instanceof os)o=xo(t.firestore,Fa),a=kD(t._key.path),i={next:l=>{e[r]&&e[r](ine(o,t,l))},error:e[r+1],complete:e[r+2]};else{let l=xo(t,wu);o=xo(l.firestore,Fa),a=l._query;let c=new By(o);i={next:d=>{e[r]&&e[r](new Fd(o,c,l,d))},error:e[r+1],complete:e[r+2]},jH(t._query)}return function(c,d,h,f){let m=new K_(f),y=new j_(d,m,h);return c.asyncQueue.enqueueAndForget(async()=>SH(await uD(c),y)),()=>{m.Nu(),c.asyncQueue.enqueueAndForget(async()=>NH(await uD(c),y))}}(HD(o),a,s,i)}function uT(t,e){return function(r,s){let i=new Da;return r.asyncQueue.enqueueAndForget(async()=>Hte(await Qte(r),s,i)),i.promise}(HD(t),e)}function ine(t,e,n){let r=n.docs.get(e._key),s=new By(t);return new Md(t,s,e._key,r,new Od(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Tm=s})(Sa),Ea(new gi("firestore",(r,{instanceIdentifier:s,options:i})=>{let o=r.getProvider("app").getImmediate(),a=new Fa(new Fk(r.getProvider("auth-internal")),new Hk(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ve(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new N_(c.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),yi(kV,AV,e),yi(kV,AV,"esm2020")})();var one="firebase",ane="12.0.0";yi(one,ane,"app");var ZH="firebasestorage.googleapis.com",lne="storageBucket",cne=2*60*1e3,une=10*60*1e3;var za=class t extends ri{constructor(e,n,r=0){super(jD(e),`Firebase Storage: ${n} (${jD(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jD(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},ja;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ja||(ja={}));function jD(t){return"storage/"+t}function dne(){let t="An unknown error occurred, please check the error payload for server response.";return new za(ja.UNKNOWN,t)}function hne(){return new za(ja.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fne(){return new za(ja.CANCELED,"User canceled the upload/download.")}function mne(t){return new za(ja.INVALID_URL,"Invalid URL '"+t+"'.")}function pne(t){return new za(ja.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function WH(t){return new za(ja.INVALID_ARGUMENT,t)}function eB(){return new za(ja.APP_DELETED,"The Firebase app was deleted.")}function gne(t){return new za(ja.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var rc=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw pne(e)}static makeFromUrl(e,n){let r=null,s="([A-Za-z0-9.\\-_]+)";function i(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(k){k.path_=decodeURIComponent(k.path)}let d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${s}/o${f}`,"i"),y={bucket:1,path:3},w=n===ZH?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",g=new RegExp(`^https?://${w}/${s}/${v}`,"i"),I=[{regex:a,indices:l,postModify:i},{regex:m,indices:y,postModify:c},{regex:g,indices:{bucket:1,path:2},postModify:c}];for(let k=0;k<I.length;k++){let R=I[k],F=R.regex.exec(e);if(F){let S=F[R.indices.bucket],E=F[R.indices.path];E||(E=""),r=new t(S,E),R.postModify(r);break}}if(r==null)throw mne(e);return r}},GD=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function yne(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...v){c||(c=!0,e.apply(null,v))}function h(v){s=setTimeout(()=>{s=null,t(m,l())},v)}function f(){i&&clearTimeout(i)}function m(v,...g){if(c){f();return}if(v){f(),d.call(null,v,...g);return}if(l()||o){f(),d.call(null,v,...g);return}r<64&&(r*=2);let I;a===1?(a=2,I=0):I=(r+Math.random())*1e3,h(I)}let y=!1;function w(v){y||(y=!0,f(),!c&&(s!==null?(v||(a=2),clearTimeout(s),h(0)):v||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,w(!0)},n),w}function vne(t){t(!1)}function bne(t){return t!==void 0}function QH(t,e,n,r){if(r<e)throw WH(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw WH(`Invalid value for '${t}'. Expected ${n} or less.`)}function wne(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var dT;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(dT||(dT={}));function _ne(t,e){let n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}var $D=class{constructor(e,n,r,s,i,o,a,l,c,d,h,f=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,w)=>{this.resolve_=y,this.reject_=w,this.start_()})}start_(){let e=(r,s)=>{if(s){r(!1,new Sm(!1,null,!0));return}let i=this.connectionFactory_();this.pendingConnection_=i;let o=a=>{let l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;let a=i.getErrorCode()===dT.NO_ERROR,l=i.getStatus();if(!a||_ne(l,this.additionalRetryCodes_)&&this.retry){let d=i.getErrorCode()===dT.ABORT;r(!1,new Sm(!1,null,d));return}let c=this.successCodes_.indexOf(l)!==-1;r(!0,new Sm(c,i))})},n=(r,s)=>{let i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());bne(l)?i(l):i()}catch(l){o(l)}else if(a!==null){let l=dne();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){let l=this.appDelete_?eB():fne();o(l)}else{let l=hne();o(l)}};this.canceled_?n(!1,new Sm(!1,null,!0)):this.backoffId_=yne(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vne(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Sm=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function Tne(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Ine(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xne(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Ene(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Sne(t,e,n,r,s,i,o=!0,a=!1){let l=wne(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return xne(d,e),Tne(d,n),Ine(d,i),Ene(d,r),new $D(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}function Nne(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function kne(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var yye=256*1024;var KD=class t{constructor(e,n){this._service=e,n instanceof rc?this._location=n:this._location=rc.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new rc(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kne(this._location.path)}get storage(){return this._service}get parent(){let e=Nne(this._location.path);if(e===null)return null;let n=new rc(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw gne(e)}};function YH(t,e){let n=e?.[lne];return n==null?null:rc.makeFromBucketSpec(n,t)}function Ane(t,e,n,r={}){t.host=`${e}:${n}`;let s=Ta(e);s&&(jf(`https://${t.host}/b`),Gf("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Aw(i,t.app.options.projectId))}var WD=class{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=ZH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cne,this._maxUploadRetryTime=une,this._requests=new Set,s!=null?this._bucket=rc.makeFromBucketSpec(s,this._host):this._bucket=YH(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rc.makeFromBucketSpec(this._url,e):this._bucket=YH(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){QH("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){QH("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new KD(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new GD(eB());{let o=Sne(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){let[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}},XH="@firebase/storage",JH="0.14.0";var tB="storage";function nB(t=Qf(),e){t=cr(t);let r=Sd(t,tB).getImmediate({identifier:e}),s=kw("storage");return s&&Dne(r,...s),r}function Dne(t,e,n,r={}){Ane(t,e,n,r)}function Cne(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new WD(n,r,s,e,Sa)}function Rne(){Ea(new gi(tB,Cne,"PUBLIC").setMultipleInstances(!0)),yi(XH,JH,""),yi(XH,JH,"esm2020")}Rne();var Lne={apiKey:"AIzaSyAtc3vYe6tV14w37NEJkaDfTR096fb7q1Y",authDomain:"jeevan-saathi-39bf5.firebaseapp.com",projectId:"jeevan-saathi-39bf5",storageBucket:"jeevan-saathi-39bf5.firebasestorage.app",messagingSenderId:"65030332753",appId:"1:65030332753:web:e4eb572e4a4c3ca772b370",measurementId:"G-274K2278C1"},QD=j1(Lne),hT=Ik(QD),fr=UH(QD),Eye=nB(QD);var YD=[],XD=[],JD=[];var rB=[],ZD=[{id:"inbox",name:"Inbox",icon:"InboxIcon",isDefault:!0}],sB=[],iB=[];var _n=t=>{let e=Ze();if(!e)throw console.warn("getUserCollection called without authenticated user"),new Error("User not authenticated");if(!e.uid)throw console.warn("getUserCollection called with user but no UID"),new Error("User UID not available");return FH(fr,"users",e.uid,t)},wi=t=>{if(!t)return t;let e={...t};return Object.keys(e).forEach(n=>{e[n]instanceof ur?e[n]=e[n].toDate():e[n]&&typeof e[n]=="object"&&!Array.isArray(e[n])?e[n]=wi(e[n]):Array.isArray(e[n])&&(e[n]=e[n].map(r=>typeof r=="object"?wi(r):r))}),e};var oB={add:async t=>{let e=Ze();if(!e)throw new Error("User not authenticated");let n={...t,createdAt:new Date,userId:e.uid,folderId:t.folderId||null};return(await Ba(_n("lists"),n)).id},update:async(t,e)=>{let n=Ze();if(!n)throw new Error("User not authenticated");let r=hr(fr,"users",n.uid,"lists",t);return Va(r,e)},delete:async t=>{let e=Ze();if(!e)throw new Error("User not authenticated");let n=hr(fr,"users",e.uid,"lists",t);return Ha(n)},getAll:async()=>{if(!Ze())throw new Error("User not authenticated");let e=Os(_n("lists"),eo("createdAt","desc"));return(await Ua(e)).docs.map(r=>wi({id:r.id,...r.data()}))},subscribe:t=>{if(!Ze())throw new Error("User not authenticated");let n=Os(_n("lists"),eo("createdAt","desc"));return qa(n,r=>{let s=r.docs.map(i=>wi({id:i.id,...i.data()}));t(s)})}},aB={add:async t=>{let e=Ze();if(!e)throw new Error("User not authenticated");return(await Ba(_n("tags"),{...t,createdAt:new Date,userId:e.uid})).id},update:async(t,e)=>{let n=Ze();if(!n)throw new Error("User not authenticated");let r=hr(fr,"users",n.uid,"tags",t);return Va(r,e)},delete:async t=>{let e=Ze();if(!e)throw new Error("User not authenticated");let n=hr(fr,"users",e.uid,"tags",t);return Ha(n)},getAll:async()=>{if(!Ze())throw new Error("User not authenticated");let e=Os(_n("tags"),eo("createdAt","desc"));return(await Ua(e)).docs.map(r=>wi({id:r.id,...r.data()}))},subscribe:t=>{if(!Ze())throw new Error("User not authenticated");let n=Os(_n("tags"),eo("createdAt","desc"));return qa(n,r=>{let s=r.docs.map(i=>wi({id:i.id,...i.data()}));t(s)})}},lB={add:async t=>{let e=Ze();if(!e)throw new Error("User not authenticated");return(await Ba(_n("listFolders"),{...t,userId:e.uid})).id},update:async(t,e)=>{let n=Ze();if(!n)throw new Error("User not authenticated");let r=hr(fr,"users",n.uid,"listFolders",t);return Va(r,e)},delete:async t=>{let e=Ze();if(!e)throw new Error("User not authenticated");let n=hr(fr,"users",e.uid,"listFolders",t);return Ha(n)},getAll:async()=>{if(!Ze())throw new Error("User not authenticated");return(await Ua(_n("listFolders"))).docs.map(n=>({id:n.id,...n.data()}))},subscribe:t=>{if(!Ze())throw new Error("User not authenticated");let n=Os(_n("listFolders"));return qa(n,r=>{let s=r.docs.map(i=>({id:i.id,...i.data()}));t(s)})}},cB={add:async t=>{let e=Ze();if(!e)throw new Error("User not authenticated");return(await Ba(_n("tagFolders"),{...t,userId:e.uid})).id},update:async(t,e)=>{let n=Ze();if(!n)throw new Error("User not authenticated");let r=hr(fr,"users",n.uid,"tagFolders",t);return Va(r,e)},delete:async t=>{let e=Ze();if(!e)throw new Error("User not authenticated");let n=hr(fr,"users",e.uid,"tagFolders",t);return Ha(n)},getAll:async()=>{if(!Ze())throw new Error("User not authenticated");return(await Ua(_n("tagFolders"))).docs.map(n=>({id:n.id,...n.data()}))},subscribe:t=>{if(!Ze())throw new Error("User not authenticated");let n=Os(_n("tagFolders"));return qa(n,r=>{let s=r.docs.map(i=>({id:i.id,...i.data()}));t(s)})}};var Fne={add:async t=>{let e=Ze();if(!e)throw new Error("User not authenticated");return(await Ba(_n("foci"),{...t,userId:e.uid})).id},update:async(t,e)=>{let n=Ze();if(!n)throw new Error("User not authenticated");let r=hr(fr,"users",n.uid,"foci",t);return Va(r,e)},delete:async t=>{let e=Ze();if(!e)throw new Error("User not authenticated");let n=hr(fr,"users",e.uid,"foci",t);return Ha(n)},getAll:async()=>{if(!Ze())throw new Error("User not authenticated");return(await Ua(_n("foci"))).docs.map(r=>({id:r.id,...r.data()}))},subscribe:t=>{if(!Ze())throw new Error("User not authenticated");let n=Os(_n("foci"));return qa(n,r=>{let s=r.docs.map(i=>({id:i.id,...i.data()}));t(s)})}},uB={add:async t=>{let e=Ze();if(!e)throw new Error("User not authenticated");let n={...t,startDate:new Date,userId:e.uid,targetEndDate:t.targetEndDate||null};return(await Ba(_n("goals"),n)).id},update:async(t,e)=>{let n=Ze();if(!n)throw new Error("User not authenticated");let r=hr(fr,"users",n.uid,"goals",t);return Va(r,e)},delete:async t=>{let e=Ze();if(!e)throw new Error("User not authenticated");let n=hr(fr,"users",e.uid,"goals",t);return Ha(n)},getAll:async()=>{if(!Ze())throw new Error("User not authenticated");let e=Os(_n("goals"),eo("startDate","desc"));return(await Ua(e)).docs.map(r=>wi({id:r.id,...r.data()}))},subscribe:t=>{if(!Ze())throw new Error("User not authenticated");let n=Os(_n("goals"),eo("startDate","desc"));return qa(n,r=>{let s=r.docs.map(i=>wi({id:i.id,...i.data()}));t(s)})}},Une={add:async t=>{let e=Ze();if(!e)throw new Error("User not authenticated");let n={...t,userId:e.uid,description:t.description||"",targetEndDate:t.targetEndDate||null,focusAreaId:t.focusAreaId||null};return(await Ba(_n("milestones"),n)).id},update:async(t,e)=>{let n=Ze();if(!n)throw new Error("User not authenticated");let r=hr(fr,"users",n.uid,"milestones",t);return Va(r,e)},delete:async t=>{let e=Ze();if(!e)throw new Error("User not authenticated");let n=hr(fr,"users",e.uid,"milestones",t);return Ha(n)},getAll:async()=>{if(!Ze())throw new Error("User not authenticated");let e=Os(_n("milestones"),eo("startDate","desc"));return(await Ua(e)).docs.map(r=>wi({id:r.id,...r.data()}))},subscribe:t=>{if(!Ze())throw new Error("User not authenticated");let n=Os(_n("milestones"),eo("startDate","desc"));return qa(n,r=>{let s=r.docs.map(i=>wi({id:i.id,...i.data()}));t(s)})}},Vne={add:async t=>{let e=Ze();if(!e)throw new Error("User not authenticated");return(await Ba(_n("quickWins"),{...t,createdAt:new Date,userId:e.uid})).id},update:async(t,e)=>{let n=Ze();if(!n)throw new Error("User not authenticated");let r=hr(fr,"users",n.uid,"quickWins",t);return Va(r,e)},delete:async t=>{let e=Ze();if(!e)throw new Error("User not authenticated");let n=hr(fr,"users",e.uid,"quickWins",t);return Ha(n)},getAll:async()=>{if(!Ze())throw new Error("User not authenticated");let e=Os(_n("quickWins"),eo("createdAt","desc"));return(await Ua(e)).docs.map(r=>wi({id:r.id,...r.data()}))},subscribe:t=>{if(!Ze())throw new Error("User not authenticated");let n=Os(_n("quickWins"),eo("createdAt","desc"));return qa(n,r=>{let s=r.docs.map(i=>wi({id:i.id,...i.data()}));t(s)})}},Hne={add:async t=>{let e=Ze();if(!e)throw new Error("User not authenticated");let n={...t,createdAt:new Date,userId:e.uid,target:t.target||null,targetComparison:t.targetComparison||null,targetType:t.targetType||null,checklist:t.checklist||[],milestoneId:t.milestoneId||null,goalId:t.goalId||null,focusAreaId:t.focusAreaId||null,endDate:t.endDate||null,reminders:t.reminders||[]};return(await Ba(_n("habits"),n)).id},update:async(t,e)=>{let n=Ze();if(!n)throw new Error("User not authenticated");let r=hr(fr,"users",n.uid,"habits",t),s={};for(let i in e)e[i]!==void 0&&(s[i]=e[i]);return Va(r,s)},delete:async t=>{let e=Ze();if(!e)throw new Error("User not authenticated");let n=hr(fr,"users",e.uid,"habits",t);return Ha(n)},getAll:async()=>{if(!Ze())throw new Error("User not authenticated");let e=Os(_n("habits"),eo("createdAt","desc"));return(await Ua(e)).docs.map(r=>wi({id:r.id,...r.data()}))},subscribe:t=>{if(!Ze())throw new Error("User not authenticated");let n=Os(_n("habits"),eo("createdAt","desc"));return qa(n,r=>{let s=r.docs.map(i=>wi({id:i.id,...i.data()}));t(s)})}};var dB=async()=>{let t=Ze();if(!t)throw new Error("User not authenticated");let e=await Hne.getAll(),n=await uB.getAll();if(e.length>0||n.length>0){console.log("User data already exists, skipping initialization");return}console.log("Initializing user data for new user:",t.uid);let{initialFoci:r}=await Promise.resolve().then(()=>(fT(),nC));console.log("Adding default focus areas:",r.length),await Promise.all(r.map(async f=>{await Fne.add(f)})),console.log("Adding default goals:",YD.length),await Promise.all(YD.map(async f=>{await uB.add(f)})),console.log("Adding default milestones:",XD.length),await Promise.all(XD.map(async f=>{await Une.add(f)})),console.log("Adding default quick wins:",JD.length),await Promise.all(JD.map(async f=>{await Vne.add(f)})),console.log("Adding default custom lists:",ZD.length);let s=await oB.getAll(),i=ZD.filter(f=>!s.some(m=>m.name===f.name));i.length>0?(console.log("Lists to add:",i.map(f=>f.name)),await Promise.all(i.map(async f=>{await oB.add(f)}))):console.log("No new lists to add");let o=await lB.getAll(),a=rB.filter(f=>!o.some(m=>m.name===f.name));a.length>0?(console.log("Adding list folders:",a.map(f=>f.name)),await Promise.all(a.map(async f=>{await lB.add(f)}))):console.log("No new list folders to add");let l=await aB.getAll(),c=iB.filter(f=>!l.some(m=>m.name===f.name));c.length>0?(console.log("Adding tags:",c.map(f=>f.name)),await Promise.all(c.map(async f=>{await aB.add(f)}))):console.log("No new tags to add");let d=await cB.getAll(),h=sB.filter(f=>!d.some(m=>m.name===f.name));h.length>0?(console.log("Adding tag folders:",h.map(f=>f.name)),await Promise.all(h.map(async f=>{await cB.add(f)}))):console.log("No new tag folders to add"),console.log("User data initialization completed successfully")};var mT=async(t,e,n)=>{let r=await bk(hT,t,e);try{await KH(hr(fr,"users",r.user.uid),{email:t,displayName:n||t.split("@")[0],createdAt:new Date},{merge:!0}),await dB()}catch(s){console.error("Error initializing user data:",s)}return r},pT=(t,e)=>wk(hT,t,e);var Ze=()=>hT.currentUser;var Pr=L(H(),1),Bne=({isOpen:t,onClose:e,onAuthSuccess:n})=>{let[r,s]=(0,$d.useState)(!1),[i,o]=(0,$d.useState)(""),[a,l]=(0,$d.useState)(""),[c,d]=(0,$d.useState)(""),[h,f]=(0,$d.useState)(""),[m,y]=(0,$d.useState)(!1),w=async v=>{v.preventDefault(),f(""),y(!0);try{r?await mT(i,a,c):await pT(i,a),n(),e()}catch(g){console.error("Auth error:",g),f(g.message)}finally{y(!1)}};return t?(0,Pr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999]",children:(0,Pr.jsxs)("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4 relative z-[10000]",children:[(0,Pr.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:r?"Create Account":"Sign In"}),(0,Pr.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[r&&(0,Pr.jsxs)("div",{children:[(0,Pr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),(0,Pr.jsx)("input",{type:"text",value:c,onChange:v=>d(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your name"})]}),(0,Pr.jsxs)("div",{children:[(0,Pr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Pr.jsx)("input",{type:"email",value:i,onChange:v=>o(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),(0,Pr.jsxs)("div",{children:[(0,Pr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,Pr.jsx)("input",{type:"password",value:a,onChange:v=>l(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your password",required:!0})]}),h&&(0,Pr.jsx)("div",{className:"text-red-600 text-sm",children:h}),(0,Pr.jsx)("button",{type:"submit",disabled:m,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50",children:m?"Loading...":r?"Sign Up":"Sign In"})]}),(0,Pr.jsx)("div",{className:"mt-4 text-center",children:(0,Pr.jsx)("button",{onClick:()=>s(!r),className:"text-blue-600 hover:underline",children:r?"Already have an account? Sign In":"Don't have an account? Sign Up"})}),(0,Pr.jsx)("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:"\u2715"})]})}):null},hB=Bne;var Kd=L(ge(),1);Ve();var et=L(H(),1),qne=({onAuthSuccess:t,onBackToLanding:e})=>{let[n,r]=(0,Kd.useState)(!1),[s,i]=(0,Kd.useState)(""),[o,a]=(0,Kd.useState)(""),[l,c]=(0,Kd.useState)(""),[d,h]=(0,Kd.useState)(""),[f,m]=(0,Kd.useState)(!1);return(0,et.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50 flex items-center justify-center px-4",children:(0,et.jsxs)("div",{className:"max-w-md w-full",children:[(0,et.jsxs)("div",{className:"text-center mb-8",children:[(0,et.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,et.jsx)("img",{src:"/Jeevan Saathi Logo.png",alt:"Jeevan Saathi Logo",className:"w-12 h-12 rounded-lg mr-3",onError:w=>{w.currentTarget.style.display="none",w.currentTarget.nextElementSibling?.classList.add("ml-0")}}),(0,et.jsx)("h1",{className:"text-3xl font-bold text-amber-700",children:"Jeevan Saathi"})]}),(0,et.jsx)("p",{className:"text-gray-600",children:"\u091C\u0940\u0935\u0928 \u0938\u093E\u0925\u0940 - Your Life Companion"})]}),(0,et.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,et.jsx)("h2",{className:"text-2xl font-bold text-center mb-6",children:n?"Create Your Account":"Welcome Back"}),(0,et.jsxs)("form",{onSubmit:async w=>{w.preventDefault(),console.log("Login page form submitted"),h(""),m(!0);try{n?(console.log("Attempting sign up from login page"),await mT(s,o,l)):(console.log("Attempting sign in from login page"),await pT(s,o)),t()}catch(v){console.error("Auth error from login page:",v),h(v.message)}finally{m(!1)}},className:"space-y-4",children:[n&&(0,et.jsxs)("div",{children:[(0,et.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),(0,et.jsx)("input",{type:"text",value:l,onChange:w=>c(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Enter your name",required:n})]}),(0,et.jsxs)("div",{children:[(0,et.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,et.jsx)("input",{type:"email",value:s,onChange:w=>i(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]}),(0,et.jsxs)("div",{children:[(0,et.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,et.jsx)("input",{type:"password",value:o,onChange:w=>a(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Enter your password",required:!0})]}),d&&(0,et.jsx)("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md",children:d}),(0,et.jsx)("button",{type:"submit",disabled:f,className:"w-full bg-gradient-to-r from-orange-500 to-amber-500 text-white py-3 px-4 rounded-md hover:from-orange-600 hover:to-amber-600 transition-all duration-200 font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:f?(0,et.jsxs)("div",{className:"flex items-center justify-center",children:[(0,et.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),n?"Creating Account...":"Signing In..."]}):n?"Create Account":"Sign In"})]}),(0,et.jsx)("div",{className:"mt-6 text-center",children:(0,et.jsx)("button",{onClick:()=>r(!n),className:"text-amber-600 hover:text-amber-700 font-medium",children:n?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]}),(0,et.jsx)("div",{className:"text-center mt-6",children:(0,et.jsxs)("button",{onClick:e,className:"text-gray-600 hover:text-gray-800 flex items-center justify-center mx-auto",children:[(0,et.jsx)(ti,{className:"w-4 h-4 mr-2"}),"Back to Home"]})}),(0,et.jsxs)("div",{className:"mt-8 flex justify-center space-x-6",children:[(0,et.jsxs)("div",{className:"text-center",children:[(0,et.jsx)("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,et.jsx)(Lt,{className:"w-6 h-6 text-white"})}),(0,et.jsx)("p",{className:"text-xs text-gray-600",children:"Task Management"})]}),(0,et.jsxs)("div",{className:"text-center",children:[(0,et.jsx)("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,et.jsx)(Xe,{className:"w-6 h-6 text-white"})}),(0,et.jsx)("p",{className:"text-xs text-gray-600",children:"Habit Tracking"})]}),(0,et.jsxs)("div",{className:"text-center",children:[(0,et.jsx)("div",{className:"w-12 h-12 bg-yellow-500 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,et.jsx)(yn,{className:"w-6 h-6 text-white"})}),(0,et.jsx)("p",{className:"text-xs text-gray-600",children:"Personal Journal"})]}),(0,et.jsxs)("div",{className:"text-center",children:[(0,et.jsx)("div",{className:"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,et.jsx)(Ln,{className:"w-6 h-6 text-white"})}),(0,et.jsx)("p",{className:"text-xs text-gray-600",children:"Knowledge Base"})]})]})]})})},fB=qne;ZL();Nx();kx();var dp=L(ge(),1),up=L(ge(),1),yc=L(ge(),1);var vce={data:""},bce=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||vce;var wce=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,_ce=/\/\*[^]*?\*\/|  +/g,hG=/\n+/g,Vu=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?Vu(o,i):i+"{"+Vu(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=Vu(o,e?e.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Vu.p?Vu.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},gc={},fG=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+fG(t[n]);return e}return t},Tce=(t,e,n,r,s)=>{let i=fG(t),o=gc[i]||(gc[i]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(i));if(!gc[o]){let l=i!==t?t:(c=>{let d,h,f=[{}];for(;d=wce.exec(c.replace(_ce,""));)d[4]?f.shift():d[3]?(h=d[3].replace(hG," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(hG," ").trim();return f[0]})(t);gc[o]=Vu(s?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&gc.g?gc.g:null;return n&&(gc.g=gc[o]),((l,c,d,h)=>{h?c.data=c.data.replace(h,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})(gc[o],e,r,a),o},Ice=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Vu(a,""):a===!1?"":a}return r+s+(o??"")},"");function iv(t){let e=this||{},n=t.call?t(e.p):t;return Tce(n.unshift?n.raw?Ice(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,bce(e.target),e.g,e.o,e.k)}var mG,lP,cP,Ybe=iv.bind({g:1}),Ri=iv.bind({k:1});function pG(t,e,n,r){Vu.p=e,mG=t,lP=n,cP=r}function so(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;n.p=Object.assign({theme:lP&&lP()},a),n.o=/ *go\d+/.test(l),a.className=iv.apply(n,r)+(l?" "+l:""),e&&(a.ref=o);let c=t;return t[0]&&(c=a.as||t,delete a.as),cP&&c[0]&&cP(a),mG(c,a)}return e?e(s):s}}var _h=L(ge(),1);var Hu=L(ge(),1),xce=t=>typeof t=="function",Cx=(t,e)=>xce(t)?t(e):t,Ece=(()=>{let t=0;return()=>(++t).toString()})(),gG=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Sce=20,yG=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Sce)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return yG(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Dx=[],Th={toasts:[],pausedAt:void 0},Ih=t=>{Th=yG(Th,t),Dx.forEach(e=>{e(Th)})},Nce={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},kce=(t={})=>{let[e,n]=(0,dp.useState)(Th),r=(0,dp.useRef)(Th);(0,dp.useEffect)(()=>(r.current!==Th&&n(Th),Dx.push(n),()=>{let i=Dx.indexOf(n);i>-1&&Dx.splice(i,1)}),[]);let s=e.toasts.map(i=>{var o,a,l;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((o=t[i.type])==null?void 0:o.removeDelay)||t?.removeDelay,duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||t?.duration||Nce[i.type],style:{...t.style,...(l=t[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:s}},Ace=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||Ece()}),av=t=>(e,n)=>{let r=Ace(e,t,n);return Ih({type:2,toast:r}),r.id},ds=(t,e)=>av("blank")(t,e);ds.error=av("error");ds.success=av("success");ds.loading=av("loading");ds.custom=av("custom");ds.dismiss=t=>{Ih({type:3,toastId:t})};ds.remove=t=>Ih({type:4,toastId:t});ds.promise=(t,e,n)=>{let r=ds.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?Cx(e.success,s):void 0;return i?ds.success(i,{id:r,...n,...n?.success}):ds.dismiss(r),s}).catch(s=>{let i=e.error?Cx(e.error,s):void 0;i?ds.error(i,{id:r,...n,...n?.error}):ds.dismiss(r)}),t};var Dce=(t,e)=>{Ih({type:1,toast:{id:t,height:e}})},Cce=()=>{Ih({type:5,time:Date.now()})},ov=new Map,Rce=1e3,Lce=(t,e=Rce)=>{if(ov.has(t))return;let n=setTimeout(()=>{ov.delete(t),Ih({type:4,toastId:t})},e);ov.set(t,n)},Pce=t=>{let{toasts:e,pausedAt:n}=kce(t);(0,up.useEffect)(()=>{if(n)return;let i=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&ds.dismiss(a.id);return}return setTimeout(()=>ds.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=(0,up.useCallback)(()=>{n&&Ih({type:6,time:Date.now()})},[n]),s=(0,up.useCallback)((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},d=e.filter(m=>(m.position||c)===(i.position||c)&&m.height),h=d.findIndex(m=>m.id===i.id),f=d.filter((m,y)=>y<h&&m.visible).length;return d.filter(m=>m.visible).slice(...a?[f+1]:[0,f]).reduce((m,y)=>m+(y.height||0)+l,0)},[e]);return(0,up.useEffect)(()=>{e.forEach(i=>{if(i.dismissed)Lce(i.id,i.removeDelay);else{let o=ov.get(i.id);o&&(clearTimeout(o),ov.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:Dce,startPause:Cce,endPause:r,calculateOffset:s}}},Oce=Ri`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Mce=Ri`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Fce=Ri`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Uce=so("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Oce} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Mce} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Fce} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Vce=Ri`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Hce=so("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Vce} 1s linear infinite;
`,Bce=Ri`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,qce=Ri`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,zce=so("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Bce} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${qce} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,jce=so("div")`
  position: absolute;
`,Gce=so("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,$ce=Ri`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Kce=so("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${$ce} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Wce=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?_h.createElement(Kce,null,e):e:n==="blank"?null:_h.createElement(Gce,null,_h.createElement(Hce,{...r}),n!=="loading"&&_h.createElement(jce,null,n==="error"?_h.createElement(Uce,{...r}):_h.createElement(zce,{...r})))},Qce=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Yce=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Xce="0%{opacity:0;} 100%{opacity:1;}",Jce="0%{opacity:1;} 100%{opacity:0;}",Zce=so("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,eue=so("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,tue=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=gG()?[Xce,Jce]:[Qce(n),Yce(n)];return{animation:e?`${Ri(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ri(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},nue=yc.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?tue(t.position||e||"top-center",t.visible):{opacity:0},i=yc.createElement(Wce,{toast:t}),o=yc.createElement(eue,{...t.ariaProps},Cx(t.message,t));return yc.createElement(Zce,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):yc.createElement(yc.Fragment,null,i,o))});pG(Hu.createElement);var rue=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=Hu.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return Hu.createElement("div",{ref:i,className:e,style:n},s)},sue=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:gG()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},iue=iv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ax=16,vG=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=Pce(n);return Hu.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Ax,left:Ax,right:Ax,bottom:Ax,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let d=c.position||e,h=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),f=sue(d,h);return Hu.createElement(rue,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?iue:"",style:f},c.type==="custom"?Cx(c.message,c):s?s(c):Hu.createElement(nue,{toast:c,position:d}))}))};dP();lv();var cv=L(H(),1),aue=({size:t="md",color:e="white",className:n=""})=>{let r={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-8 w-8",xl:"h-12 w-12"},s={white:"text-white",blue:"text-blue-600",gray:"text-gray-600"};return(0,cv.jsxs)("svg",{className:`animate-spin ${r[t]} ${s[e]} ${n}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,cv.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,cv.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})},hP=aue;var wG=L(ge(),1),lue=({onViewChange:t,onProfileClick:e,onSignOut:n})=>((0,wG.useEffect)(()=>{let r=s=>{if(!(s.target instanceof HTMLInputElement||s.target instanceof HTMLTextAreaElement)&&(s.ctrlKey||s.metaKey))switch(s.key){case"1":s.preventDefault(),t("dainandini");break;case"2":s.preventDefault(),t("kary");break;case"3":s.preventDefault(),t("abhyasa");break;case"4":s.preventDefault(),t("vidya");break;case"p":s.preventDefault(),e();break;case"q":s.preventDefault(),n();break}};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[t,e,n]),null),_G=lue;ry();Ve();var Pt=L(H(),1),cue=({isOpen:t,onClose:e})=>t?(0,Pt.jsx)(ou,{title:"Keyboard Shortcuts & Help",onClose:e,children:(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h3",{className:"text-lg font-semibold mb-3 text-gray-800",children:"Keyboard Shortcuts"}),(0,Pt.jsx)("div",{className:"space-y-2",children:[{key:"Ctrl/Cmd + 1",description:"Switch to Dainandini (Journal)"},{key:"Ctrl/Cmd + 2",description:"Switch to Kary (Tasks)"},{key:"Ctrl/Cmd + 3",description:"Switch to Abhyasa (Habits)"},{key:"Ctrl/Cmd + 4",description:"Switch to Vidya (Learning)"},{key:"Ctrl/Cmd + P",description:"Open Profile"},{key:"Ctrl/Cmd + Q",description:"Sign Out"}].map((r,s)=>(0,Pt.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,Pt.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded text-sm font-mono",children:r.key}),(0,Pt.jsx)("span",{className:"text-gray-600",children:r.description})]},s))})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h3",{className:"text-lg font-semibold mb-3 text-gray-800",children:"App Features"}),(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Pt.jsx)(yn,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"font-medium text-gray-800",children:"Dainandini"}),(0,Pt.jsx)("p",{className:"text-sm text-gray-600",children:"Journal your thoughts, track mood, and reflect on your day"})]})]}),(0,Pt.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Pt.jsx)(Lt,{className:"w-5 h-5 text-green-600 mt-0.5"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"font-medium text-gray-800",children:"Kary"}),(0,Pt.jsx)("p",{className:"text-sm text-gray-600",children:"Manage tasks, organize projects, and track progress"})]})]}),(0,Pt.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Pt.jsx)(Xe,{className:"w-5 h-5 text-purple-600 mt-0.5"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"font-medium text-gray-800",children:"Abhyasa"}),(0,Pt.jsx)("p",{className:"text-sm text-gray-600",children:"Build habits, set goals, and track your practice"})]})]}),(0,Pt.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Pt.jsx)(Ln,{className:"w-5 h-5 text-orange-600 mt-0.5"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"font-medium text-gray-800",children:"Vidya"}),(0,Pt.jsx)("p",{className:"text-sm text-gray-600",children:"Organize learning materials and track your studies"})]})]})]})]}),(0,Pt.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,Pt.jsx)("button",{onClick:e,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Got it!"})})]})}):null,TG=cue;var O=L(H(),1),aK=xn.default.lazy(()=>Promise.resolve().then(()=>(y$(),g$))),Ome=xn.default.lazy(()=>Promise.resolve().then(()=>(B$(),H$))),Mme=xn.default.lazy(()=>Promise.resolve().then(()=>(u7(),c7))),Fme=xn.default.lazy(()=>Promise.resolve().then(()=>(h7(),d7))),Ume=xn.default.lazy(()=>Promise.resolve().then(()=>(oK(),iK))),Vme=[{viewId:"home",icon:"HomeIcon",label:"Home"},{viewId:"kary",icon:"CheckSquareIcon",label:"Kary"},{viewId:"vidya",icon:"BookOpenIcon",label:"Vidy\u0101"},{viewId:"abhyasa",icon:"TargetIcon",label:"Abhyasa"},{viewId:"dainandini",icon:"Edit3Icon",label:"Dainandini"}],Hme=({icon:t,label:e,isActive:n,onClick:r})=>{let s=Z[t];return(0,O.jsxs)("button",{onClick:r,className:`relative flex items-center justify-center w-12 h-12 rounded-lg transition-colors duration-200 group focus:outline-none focus:ring-2 focus:ring-blue-500 ${n?"bg-blue-600 text-white":"text-gray-500 hover:bg-gray-200"}`,"aria-label":e,children:[(0,O.jsx)(s,{className:"w-6 h-6"}),(0,O.jsx)("span",{className:"absolute left-full ml-4 px-2 py-1 bg-gray-800 text-white text-xs rounded-md shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10",children:e})]})},Bme=({activeView:t,onSetView:e,onProfileClick:n,onSignOut:r,onHelpClick:s,user:i,isMobile:o,isSidebarOpen:a,onCloseSidebar:l})=>(0,O.jsxs)("aside",{className:`fixed inset-y-0 left-0 z-30 flex-shrink-0 w-20 bg-gray-50/80 border-r border-gray-200 transition-transform duration-300 ease-in-out
        ${o?a?"translate-x-0":"-translate-x-full":"translate-x-0"}
        ${o?"":"flex flex-col"}
      `,children:[(0,O.jsx)("div",{className:"py-4 mt-2 flex justify-center",children:(0,O.jsxs)("button",{onClick:n,className:"relative focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-full","aria-label":"User Profile and Settings",children:[(0,O.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:(0,O.jsx)(ty,{className:"w-6 h-6 text-blue-600"})}),(0,O.jsx)("span",{className:"absolute -top-1 -left-1 text-lg",role:"img","aria-label":"premium",children:"\u{1F451}"})]})}),(0,O.jsx)("nav",{className:"flex flex-col items-center space-y-4 px-2 py-4",children:Vme.map(({viewId:c,icon:d,label:h})=>(0,O.jsx)(Hme,{icon:d,label:h,isActive:t===c,onClick:()=>{e(c),o&&l()}},c))}),(0,O.jsxs)("div",{className:"mt-auto mb-4 space-y-2 flex flex-col items-center",children:[(0,O.jsx)("button",{onClick:s,className:"flex items-center justify-center w-12 h-12 rounded-lg transition-colors duration-200 text-gray-500 hover:bg-blue-100 hover:text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Help",children:(0,O.jsx)(p1,{className:"w-6 h-6"})}),(0,O.jsx)("button",{onClick:r,className:"flex items-center justify-center w-12 h-12 rounded-lg transition-colors duration-200 text-gray-500 hover:bg-red-100 hover:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-500","aria-label":"Sign Out",children:(0,O.jsx)(m1,{className:"w-6 h-6"})})]})]}),qme=()=>{let[t,e]=(0,xn.useState)("home"),[n,r]=(0,xn.useState)(()=>{let he="AIzaSyBAVXKA-ko41iIzXkv_59jR615RqYz8Zv0";return he||localStorage.getItem("gemini-api-key")}),[s,i]=(0,xn.useState)(!1),[o,a]=(0,xn.useState)(!1),[l,c]=(0,xn.useState)(!1),[d,h]=(0,xn.useState)(!1),{width:f}=Bu(),m=f!==void 0&&f<768,[y,w]=(0,xn.useState)(null),[v,g]=(0,xn.useState)(!1),[b,I]=(0,xn.useState)(!1),[k,R]=(0,xn.useState)(!0),F=()=>{console.log("Button clicked! Opening auth modal..."),console.log("Current isAuthModalOpen state:",v),g(!0),console.log("Set isAuthModalOpen to true")},S=()=>{g(!1)},E=()=>{console.log("Showing login page..."),I(!0)},x=()=>{console.log("Going back to landing page..."),I(!1)},T=()=>{console.log("Auth successful!"),g(!1),I(!1)},N=rv(),D=sv(),A=uP();(0,xn.useEffect)(()=>{N.error&&ds.error(N.error)},[N.error]),(0,xn.useEffect)(()=>{D.error&&ds.error(D.error)},[D.error]),(0,xn.useEffect)(()=>{A.error&&ds.error(A.error)},[A.error]),(0,xn.useEffect)(()=>{let he=jj(ie=>{w(ie),R(!1)});return()=>he()},[]),(0,xn.useEffect)(()=>{if(!y||k)return;(async()=>{await Promise.all([N.fetchKaryData(),D.fetchDainandiniData(),A.fetchAbhyasaData()])})()},[y,k]);let V=he=>{he.trim()?(localStorage.setItem("gemini-api-key",he.trim()),r(he.trim())):(localStorage.removeItem("gemini-api-key"),r(null)),i(!1)},q=(0,xn.useCallback)(async()=>{try{await zj()}catch(he){console.error("Error signing out:",he)}},[]);return k?(0,O.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,O.jsxs)("div",{className:"text-center",children:[(0,O.jsx)(hP,{size:"xl",color:"blue",className:"mb-4"}),(0,O.jsx)("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Loading Jeevan Saathi"}),(0,O.jsx)("p",{className:"text-gray-500",children:"Your personal life management companion"})]})}):y?(0,O.jsxs)("div",{className:"flex h-screen font-sans text-gray-800 bg-transparent",children:[(0,O.jsx)(_G,{onViewChange:e,onProfileClick:()=>a(!0),onSignOut:q}),(0,O.jsx)(vG,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff",borderRadius:"8px",padding:"12px 16px"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{iconTheme:{primary:"#EF4444",secondary:"#fff"}}}}),m&&(0,O.jsx)("button",{onClick:()=>h(!d),className:"fixed top-4 left-4 z-40 p-2 rounded-md bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Toggle Sidebar",children:(0,O.jsx)(_d,{className:"w-6 h-6"})}),(0,O.jsx)(Bme,{activeView:t,onSetView:e,onProfileClick:()=>a(!0),onSignOut:q,onHelpClick:()=>c(!0),user:y,isMobile:m,isSidebarOpen:d,onCloseSidebar:()=>h(!1)}),d&&m&&(0,O.jsx)("div",{className:"fixed inset-0 bg-black opacity-50 z-20",onClick:()=>h(!1)}),(0,O.jsx)("div",{className:`flex-1 flex transition-all duration-300 ease-in-out ${m?"ml-0":"ml-20"}`,children:(0,O.jsx)(xn.Suspense,{fallback:(0,O.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,O.jsxs)("div",{className:"text-center",children:[(0,O.jsx)(hP,{size:"lg",color:"blue",className:"mb-4"}),(0,O.jsx)("p",{className:"text-gray-600",children:"Loading view..."})]})}),children:(()=>{switch(t){case"home":return(0,O.jsx)(aK,{isAppSidebarOpen:!m||d});case"dainandini":return(0,O.jsx)(Ome,{isAppSidebarOpen:!m||d});case"kary":return(0,O.jsx)(Mme,{isAppSidebarOpen:!m||d});case"abhyasa":return(0,O.jsx)(Ume,{isAppSidebarOpen:!m||d});case"vidya":return(0,O.jsx)(Fme,{});default:return(0,O.jsx)(aK,{isAppSidebarOpen:!m||d})}})()})}),s&&(0,O.jsx)(Q3,{currentApiKey:n,onSave:V,onClose:()=>i(!1)}),o&&y&&(0,O.jsx)(Y3,{isOpen:o,onClose:()=>a(!1),user:y}),l&&(0,O.jsx)(TG,{isOpen:l,onClose:()=>c(!1)}),(0,O.jsx)(hB,{isOpen:v,onClose:S,onAuthSuccess:T})]}):b?(0,O.jsx)(fB,{onAuthSuccess:T,onBackToLanding:x}):(0,O.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50",children:[(0,O.jsx)("nav",{className:"bg-white/80 backdrop-blur-sm border-b border-orange-100 px-6 py-4",children:(0,O.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[(0,O.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,O.jsx)("img",{src:"/Jeevan Saathi Logo.png",alt:"Jeevan Saathi Logo",className:"w-10 h-10 rounded-lg",onError:he=>{he.currentTarget.style.display="none",he.currentTarget.nextElementSibling?.classList.add("ml-0")}}),(0,O.jsx)("div",{children:(0,O.jsx)("div",{className:"text-2xl font-bold text-amber-700",children:"Jeevan Saathi"})})]}),(0,O.jsxs)("div",{className:"hidden md:flex items-center space-x-8",children:[(0,O.jsx)("a",{href:"#home",className:"text-gray-700 hover:text-amber-600 transition-colors",children:"Home"}),(0,O.jsx)("a",{href:"#features",className:"text-gray-700 hover:text-amber-600 transition-colors",children:"Features"}),(0,O.jsx)("a",{href:"#about",className:"text-gray-700 hover:text-amber-600 transition-colors",children:"About"})]}),(0,O.jsx)("div",{className:"flex items-center space-x-4",children:(0,O.jsx)("button",{onClick:E,className:"bg-gradient-to-r from-orange-500 to-amber-500 text-white px-6 py-2 rounded-lg hover:from-orange-600 hover:to-amber-600 transition-all duration-200 shadow-lg hover:shadow-xl",children:"Get Started"})})]})}),(0,O.jsxs)("section",{id:"home",className:"py-20 px-6",children:[(0,O.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,O.jsx)("h1",{className:"text-6xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent mb-6",children:"Jeevan Saathi"}),(0,O.jsx)("h2",{className:"text-2xl text-gray-700 mb-6",children:"\u091C\u0940\u0935\u0928 \u0938\u093E\u0925\u0940 - Your Life Companion"}),(0,O.jsx)("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed max-w-3xl mx-auto",children:"A comprehensive personal management application designed to help you organize your life across tasks, journaling, goal setting, and learning. Your holistic platform for personal growth and productivity."}),(0,O.jsx)("div",{className:"flex justify-center",children:(0,O.jsx)("button",{onClick:E,className:"bg-gradient-to-r from-orange-500 to-amber-500 text-white px-8 py-4 rounded-lg hover:from-orange-600 hover:to-amber-600 transition-all duration-200 font-semibold text-lg shadow-lg hover:shadow-xl",children:"Start Your Journey"})})]}),(0,O.jsx)("div",{className:"max-w-4xl mx-auto mt-16",children:(0,O.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,O.jsxs)("div",{className:"text-center",children:[(0,O.jsx)("div",{className:"w-16 h-16 bg-green-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:(0,O.jsx)(Lt,{className:"w-8 h-8 text-white"})}),(0,O.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Task Management"})]}),(0,O.jsxs)("div",{className:"text-center",children:[(0,O.jsx)("div",{className:"w-16 h-16 bg-blue-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:(0,O.jsx)(Xe,{className:"w-8 h-8 text-white"})}),(0,O.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Habit Tracking"})]}),(0,O.jsxs)("div",{className:"text-center",children:[(0,O.jsx)("div",{className:"w-16 h-16 bg-yellow-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:(0,O.jsx)(yn,{className:"w-8 h-8 text-white"})}),(0,O.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Personal Journal"})]}),(0,O.jsxs)("div",{className:"text-center",children:[(0,O.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 via-green-500 to-yellow-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:(0,O.jsx)(Ln,{className:"w-8 h-8 text-white"})}),(0,O.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Knowledge Base"})]})]})})]}),(0,O.jsx)("section",{id:"features",className:"py-20 px-6 bg-white/50",children:(0,O.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,O.jsxs)("div",{className:"text-center mb-16",children:[(0,O.jsx)("h2",{className:"text-4xl font-bold text-amber-600 mb-4",children:"Four Pillars of Life Management"}),(0,O.jsx)("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Jeevan Saathi is divided into four comprehensive modules, each designed to support different aspects of your personal growth journey."})]}),(0,O.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,O.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100",children:[(0,O.jsxs)("div",{className:"flex items-start mb-6",children:[(0,O.jsx)("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center mr-4",children:(0,O.jsx)(Lt,{className:"w-6 h-6 text-white"})}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Kary"}),(0,O.jsx)("p",{className:"text-gray-600",children:"\u0915\u093E\u0930\u094D\u092F - Work/Tasks"})]})]}),(0,O.jsx)("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"A powerful task manager that helps you organize your to-do lists, set due dates, and track your progress. Create custom lists, add tags, and break down large tasks into smaller subtasks."}),(0,O.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,O.jsx)("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm",children:"Custom Lists"}),(0,O.jsx)("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm",children:"Due Dates"}),(0,O.jsx)("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm",children:"Progress Tracking"}),(0,O.jsx)("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm",children:"Subtasks"})]})]}),(0,O.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100",children:[(0,O.jsxs)("div",{className:"flex items-start mb-6",children:[(0,O.jsx)("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center mr-4",children:(0,O.jsx)(Xe,{className:"w-6 h-6 text-white"})}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Abhyasa"}),(0,O.jsx)("p",{className:"text-gray-600",children:"\u0905\u092D\u094D\u092F\u093E\u0938 - Practice/Habits"})]})]}),(0,O.jsx)("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"A habit tracker that helps you build and maintain good habits. Set goals, track your progress with a calendar view, and get detailed statistics on your habit completion rate."}),(0,O.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,O.jsx)("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm",children:"Goal Setting"}),(0,O.jsx)("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm",children:"Calendar View"}),(0,O.jsx)("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm",children:"Statistics"}),(0,O.jsx)("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm",children:"Streak Tracking"})]})]}),(0,O.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100",children:[(0,O.jsxs)("div",{className:"flex items-start mb-6",children:[(0,O.jsx)("div",{className:"w-12 h-12 bg-yellow-500 rounded-lg flex items-center justify-center mr-4",children:(0,O.jsx)(yn,{className:"w-6 h-6 text-white"})}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Dainandini"}),(0,O.jsx)("p",{className:"text-gray-600",children:"\u0926\u0948\u0928\u0902\u0926\u093F\u0928\u0940 - Journal"})]})]}),(0,O.jsx)("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"A personal journal for your thoughts, reflections, and daily logs. Create different types of entries (text, checklists, ratings) and organize them by focus areas."}),(0,O.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,O.jsx)("span",{className:"bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-sm",children:"Multiple Entry Types"}),(0,O.jsx)("span",{className:"bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-sm",children:"Focus Areas"}),(0,O.jsx)("span",{className:"bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-sm",children:"Daily Logs"}),(0,O.jsx)("span",{className:"bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-sm",children:"Reflections"})]})]}),(0,O.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100 relative",children:[(0,O.jsx)("div",{className:"absolute top-4 right-4",children:(0,O.jsx)("span",{className:"bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full text-xs font-medium",children:"Coming Soon"})}),(0,O.jsxs)("div",{className:"flex items-start mb-6",children:[(0,O.jsx)("div",{className:"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center mr-4",children:(0,O.jsx)(Ln,{className:"w-6 h-6 text-white"})}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Vidya"}),(0,O.jsx)("p",{className:"text-gray-600",children:"\u0935\u093F\u0926\u094D\u092F\u093E - Knowledge"})]})]}),(0,O.jsx)("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"A knowledge base for learning and growth. Build your personal learning repository with articles, notes, and insights organized for easy discovery and reference."}),(0,O.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,O.jsx)("span",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm",children:"Learning Repository"}),(0,O.jsx)("span",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm",children:"Article Management"}),(0,O.jsx)("span",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm",children:"Note Organization"}),(0,O.jsx)("span",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm",children:"Easy Discovery"})]})]})]})]})}),(0,O.jsx)("section",{className:"py-20 px-6",children:(0,O.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,O.jsxs)("div",{className:"text-center mb-16",children:[(0,O.jsx)("h2",{className:"text-4xl font-bold text-amber-600 mb-4",children:"Future Roadmap"}),(0,O.jsx)("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"AI-Powered Personal Growth"}),(0,O.jsx)("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Our vision extends beyond basic productivity tools. We're building intelligent features that learn from your patterns and help you grow in meaningful ways."})]}),(0,O.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,O.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100",children:[(0,O.jsxs)("div",{className:"flex items-center mb-6",children:[(0,O.jsx)("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center mr-4",children:(0,O.jsx)("span",{className:"text-2xl",children:"\u{1F916}"})}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Kary (Tasks)"}),(0,O.jsx)("p",{className:"text-gray-600",children:"AI-Enhanced Features"})]})]}),(0,O.jsxs)("ul",{className:"space-y-4",children:[(0,O.jsxs)("li",{className:"flex items-start",children:[(0,O.jsx)("span",{className:"text-green-500 mr-3 mt-1",children:"\u2022"}),(0,O.jsxs)("div",{children:[(0,O.jsx)("strong",{children:"Smart Task Prioritization:"})," AI analyzes your habits and completion history to suggest which tasks are most important or at risk."]})]}),(0,O.jsxs)("li",{className:"flex items-start",children:[(0,O.jsx)("span",{className:"text-green-500 mr-3 mt-1",children:"\u2022"}),(0,O.jsxs)("div",{children:[(0,O.jsx)("strong",{children:"Automatic Task Breakdown:"})," For complex tasks, AI suggests step-by-step breakdowns. Enter 'Plan a birthday party' and get organized sub-tasks."]})]})]})]}),(0,O.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100",children:[(0,O.jsxs)("div",{className:"flex items-center mb-6",children:[(0,O.jsx)("div",{className:"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center mr-4",children:(0,O.jsx)("span",{className:"text-2xl",children:"\u{1F3AF}"})}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Abhyasa (Habits)"}),(0,O.jsx)("p",{className:"text-gray-600",children:"AI-Enhanced Features"})]})]}),(0,O.jsxs)("ul",{className:"space-y-4",children:[(0,O.jsxs)("li",{className:"flex items-start",children:[(0,O.jsx)("span",{className:"text-purple-500 mr-3 mt-1",children:"\u2022"}),(0,O.jsxs)("div",{children:[(0,O.jsx)("strong",{children:"Personalized Habit Coaching:"})," AI acts as your personal coach, providing motivational messages and insights based on your progress patterns."]})]}),(0,O.jsxs)("li",{className:"flex items-start",children:[(0,O.jsx)("span",{className:"text-purple-500 mr-3 mt-1",children:"\u2022"}),(0,O.jsxs)("div",{children:[(0,O.jsx)("strong",{children:"Habit Prediction & Intervention:"})," Predict when you're likely to break a streak and proactively send supportive reminders."]})]})]})]}),(0,O.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100",children:[(0,O.jsxs)("div",{className:"flex items-center mb-6",children:[(0,O.jsx)("div",{className:"w-12 h-12 bg-yellow-500 rounded-lg flex items-center justify-center mr-4",children:(0,O.jsx)("span",{className:"text-2xl",children:"\u{1F4CA}"})}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Dainandini (Journal)"}),(0,O.jsx)("p",{className:"text-gray-600",children:"AI-Enhanced Features"})]})]}),(0,O.jsxs)("ul",{className:"space-y-4",children:[(0,O.jsxs)("li",{className:"flex items-start",children:[(0,O.jsx)("span",{className:"text-yellow-500 mr-3 mt-1",children:"\u2022"}),(0,O.jsxs)("div",{children:[(0,O.jsx)("strong",{children:"Sentiment Analysis & Mood Tracking:"})," AI analyzes your journal entries to track emotional states and show correlations with other activities."]})]}),(0,O.jsxs)("li",{className:"flex items-start",children:[(0,O.jsx)("span",{className:"text-yellow-500 mr-3 mt-1",children:"\u2022"}),(0,O.jsxs)("div",{children:[(0,O.jsx)("strong",{children:"Automatic Insights & Goal Suggestions:"})," Extract recurring themes from your reflections and suggest relevant goals and habits for personal growth."]})]})]})]}),(0,O.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100",children:[(0,O.jsxs)("div",{className:"flex items-center mb-6",children:[(0,O.jsx)("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center mr-4",children:(0,O.jsx)("span",{className:"text-2xl",children:"\u{1F4DA}"})}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Vidya (Knowledge)"}),(0,O.jsx)("p",{className:"text-gray-600",children:"AI-Enhanced Features"})]})]}),(0,O.jsxs)("ul",{className:"space-y-4",children:[(0,O.jsxs)("li",{className:"flex items-start",children:[(0,O.jsx)("span",{className:"text-blue-500 mr-3 mt-1",children:"\u2022"}),(0,O.jsxs)("div",{children:[(0,O.jsx)("strong",{children:"Personalized Learning Recommendations:"})," Based on your goals and interests, AI recommends articles, courses, and videos tailored to your learning path."]})]}),(0,O.jsxs)("li",{className:"flex items-start",children:[(0,O.jsx)("span",{className:"text-blue-500 mr-3 mt-1",children:"\u2022"}),(0,O.jsxs)("div",{children:[(0,O.jsx)("strong",{children:"Knowledge Synthesis & Q&A:"})," AI helps synthesize information, connect ideas, and answer questions based on your saved content."]})]})]})]})]})]})}),(0,O.jsx)("footer",{className:"bg-gray-50 border-t border-gray-200 py-8 px-6",children:(0,O.jsxs)("div",{className:"max-w-6xl mx-auto text-center",children:[(0,O.jsxs)("div",{className:"flex flex-wrap justify-center items-center gap-6 text-sm text-gray-500 mb-4",children:[(0,O.jsxs)("div",{className:"flex items-center",children:[(0,O.jsx)("span",{className:"text-lg mr-2",children:"\u2728"}),(0,O.jsx)("span",{children:"Free to use"})]}),(0,O.jsxs)("div",{className:"flex items-center",children:[(0,O.jsx)("span",{className:"text-lg mr-2",children:"\u{1F512}"}),(0,O.jsx)("span",{children:"Secure & Private"})]}),(0,O.jsxs)("div",{className:"flex items-center",children:[(0,O.jsx)("span",{className:"text-lg mr-2",children:"\u{1F4F1}"}),(0,O.jsx)("span",{children:"Mobile-friendly"})]}),(0,O.jsxs)("div",{className:"flex items-center",children:[(0,O.jsx)("span",{className:"text-lg mr-2",children:"\u{1F680}"}),(0,O.jsx)("span",{children:"Modern & Fast"})]}),(0,O.jsxs)("div",{className:"flex items-center",children:[(0,O.jsx)("span",{className:"text-lg mr-2",children:"\u{1F916}"}),(0,O.jsx)("span",{children:"AI-Powered"})]})]}),(0,O.jsx)("p",{className:"text-gray-400 text-sm",children:"\xA9 2024 Jeevan Saathi. Your personal life management companion."})]})})]})},lK=qme;var EO=L(H(),1),dK=document.getElementById("root");if(!dK)throw new Error("Could not find root element to mount to");var zme=uK.default.createRoot(dK);zme.render((0,EO.jsx)(cK.default.StrictMode,{children:(0,EO.jsx)(lK,{})}));
/*! Bundled license information:

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.js:
  (**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-client.production.js:
  (**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.js:
  (**
   * @license React
   * react-jsx-runtime.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/logger/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/app/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm2017/index-e3d5d3f4.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
  * @license
  * Copyright 2020 Google LLC
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
  * You may obtain a copy of the License at
  *
  *   http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2018 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

firebase/app/dist/esm/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@firebase/util/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2025 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/logger/dist/esm/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/app/dist/esm/index.esm.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/app/dist/esm/index.esm.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/app/dist/esm/index.esm.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/app/dist/esm/index.esm.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2025 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-9ccb475d.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/webchannel-wrapper/dist/bloom-blob/esm/bloom_blob_es2018.js:
  (** @license
  Copyright The Closure Library Authors.
  SPDX-License-Identifier: Apache-2.0
  *)
  (** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  *)

@firebase/webchannel-wrapper/dist/webchannel-blob/esm/webchannel_blob_es2018.js:
  (** @license
  Copyright The Closure Library Authors.
  SPDX-License-Identifier: Apache-2.0
  *)
  (** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
  * @license
  * Copyright 2020 Google LLC
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
  * You may obtain a copy of the License at
  *
  *   http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2025 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2018 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2024 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law | agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2024 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2025 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2024 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2025 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

firebase/app/dist/esm/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
*/
//# sourceMappingURL=index.mjs.map
