# Jeevan Saathi Development Rules

## 🚨 CRITICAL PATH INFORMATION 🚨
- **Main Workspace**: `C:\JeevanSaathi\` (UNIFIED MONOREPO)
- **Web App**: `C:\JeevanSaathi\web\`
- **Mobile App**: `C:\JeevanSaathi\src\` (React Native CLI project)
- **Shared Code**: `C:\JeevanSaathi\shared\` (single source of truth)

## Project Structure
```
C:\JeevanSaathi\
├── shared/           # Shared business logic, types, services (TESTED)
├── web/              # Web app (React - moved from old workspace)
├── src/              # Mobile app (React Native CLI)
├── android/          # Android build files
├── ios/              # iOS build files
└── package.json      # Root package.json
```

## Mobile App Details
- **Location**: `C:\JeevanSaathi\src\` (React Native CLI project)
- **Type**: React Native CLI (NOT Expo)
- **Firebase**: Uses `@react-native-firebase` native SDK
- **Architecture**: Legacy (newArchEnabled=false for stability)
- **Navigation**: Custom components (no gesture-handler or drawer dependencies)

## Terminal Commands for Mobile Work
- **Navigate first**: `cd C:\JeevanSaathi`
- **PowerShell**: Don't use '&&' - use separate commands
- **Build Debug**: `cd android` then `./gradlew assembleDebug`
- **Build Release**: `cd android` then `./gradlew assembleRelease`
- **Run**: `npx react-native run-android`

## Removed Dependencies (Mobile)
- ❌ react-native-gesture-handler
- ❌ @react-navigation/drawer  
- ❌ react-native-vector-icons
- ✅ Using custom SimpleDrawer and emoji icons instead

## Code Organization Strategy
- Business logic → `shared/` directory (SINGLE SOURCE OF TRUTH)
- Web UI → `web/src/`
- Mobile UI → `src/`
- Types → `shared/types/`
- Services → `shared/services/`

## Development Rules
1. **ALWAYS** work in the unified workspace at `C:\JeevanSaathi\`
2. **USE** the tested shared code from `shared/` directory
3. **TEST** both web and mobile after any shared code changes
4. **MAINTAIN** data consistency across platforms
5. **UPDATE** both apps when modifying shared business logic

## Current Mobile App Status
- ✅ Authentication working (email/password)
- ✅ Firebase Firestore integration
- ✅ Bottom tab navigation (Home, Kary, Abhyasa, Dainandini)
- ✅ Custom hamburger drawer with Firebase data
- ✅ Task details modal (half/full screen modes)
- ✅ Priority system (P1=Urgent, P2=High, P3=Medium, P4=Low)
- ✅ Dynamic list names in headers
- ✅ Selection indicators in menu
- ✅ Real Firestore tags

## Build Configuration
- Legacy Architecture (newArchEnabled=false)
- Hermes enabled
- Firebase native SDK
- Clean dependency tree (removed problematic packages)

## Migration Status
- ✅ Web app moved to `C:\JeevanSaathi\web\`
- ✅ Shared code moved to `C:\JeevanSaathi\shared\`
- ✅ Old web workspace cleaned up
- 🔄 Mobile app needs to be updated to use shared code