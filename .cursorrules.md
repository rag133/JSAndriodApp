# Jeevan Saathi Development Rules

## ğŸš¨ CRITICAL PATH INFORMATION ğŸš¨
- **Main Workspace**: `C:\JeevanSaathi\` (UNIFIED MONOREPO)
- **Web App**: `C:\JeevanSaathi\web\`
- **Mobile App**: `C:\JeevanSaathi\src\` (React Native CLI project)
- **Shared Code**: `C:\JeevanSaathi\shared\` (single source of truth)

## Project Structure
```
C:\JeevanSaathi\
â”œâ”€â”€ shared/           # Shared business logic, types, services (TESTED)
â”œâ”€â”€ web/              # Web app (React - moved from old workspace)
â”œâ”€â”€ src/              # Mobile app (React Native CLI)
â”œâ”€â”€ android/          # Android build files
â”œâ”€â”€ ios/              # iOS build files
â””â”€â”€ package.json      # Root package.json
```

## Mobile App Details
- **Location**: `C:\JeevanSaathi\src\` (React Native CLI project)
- **Type**: React Native CLI (NOT Expo)
- **Firebase**: Uses `@react-native-firebase` native SDK
- **Architecture**: Legacy (newArchEnabled=false for stability)
- **Navigation**: Custom components (no gesture-handler or drawer dependencies)

## Terminal Commands for Mobile Work
- **Navigate first**: `cd C:\JeevanSaathi`
- **PowerShell**: Don't use '&&' - use separate commands
- **Build Debug**: `cd android` then `./gradlew assembleDebug`
- **Build Release**: `cd android` then `./gradlew assembleRelease`
- **Run**: `npx react-native run-android`

## Removed Dependencies (Mobile)
- âŒ react-native-gesture-handler
- âŒ @react-navigation/drawer  
- âŒ react-native-vector-icons
- âœ… Using custom SimpleDrawer and emoji icons instead

## Code Organization Strategy
- Business logic â†’ `shared/` directory (SINGLE SOURCE OF TRUTH)
- Web UI â†’ `web/src/`
- Mobile UI â†’ `src/`
- Types â†’ `shared/types/`
- Services â†’ `shared/services/`

## Development Rules
1. **ALWAYS** work in the unified workspace at `C:\JeevanSaathi\`
2. **USE** the tested shared code from `shared/` directory
3. **TEST** both web and mobile after any shared code changes
4. **MAINTAIN** data consistency across platforms
5. **UPDATE** both apps when modifying shared business logic

## Current Mobile App Status
- âœ… Authentication working (email/password)
- âœ… Firebase Firestore integration
- âœ… Bottom tab navigation (Home, Kary, Abhyasa, Dainandini)
- âœ… Custom hamburger drawer with Firebase data
- âœ… Task details modal (half/full screen modes)
- âœ… Priority system (P1=Urgent, P2=High, P3=Medium, P4=Low)
- âœ… Dynamic list names in headers
- âœ… Selection indicators in menu
- âœ… Real Firestore tags

## Build Configuration
- Legacy Architecture (newArchEnabled=false)
- Hermes enabled
- Firebase native SDK
- Clean dependency tree (removed problematic packages)

## Migration Status
- âœ… Web app moved to `C:\JeevanSaathi\web\`
- âœ… Shared code moved to `C:\JeevanSaathi\shared\`
- âœ… Old web workspace cleaned up
- ğŸ”„ Mobile app needs to be updated to use shared code